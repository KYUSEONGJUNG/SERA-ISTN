/*! @Release Version : SBGrid3.24.04.22.0 Copyright© by 2023 Softbowl. Co. Ltd. , All Rights Reserved. */
!function webpackUniversalModuleDefinition(C,E){if("object"==typeof exports&&"object"==typeof module)module.exports=E();else if("function"==typeof define&&define.amd)define([],E);else{var I=E();for(var B in I)("object"==typeof exports?exports:C)[B]=I[B]}}(this,(()=>(()=>{var C={273:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.Observer=void 0;const z=I(4407),q=I(913),Q=I(1163);E.Observer=class Observer{constructor(C,E){this._publisher=null,this._name=null!=E?E:Q.Utils.ensureName(this.constructor.name),this.publisher=C}disconnect(){this.publisher=void 0}get publisher(){return this._publisher}set publisher(C){var E,I;this._publisher!==C&&(null===(E=this._publisher)||void 0===E||E.remove(this),this._publisher=C,null===(I=this._publisher)||void 0===I||I.add(this))}get root(){let C=this.publisher;for(Q.Convert.isNull(C)&&(C=this instanceof z.Publisher?this:void 0);Q.Convert.isValue(C)&&Q.Convert.isValue(null==C?void 0:C.publisher);)C=C.publisher;return C}get name(){return this._name}doCommand(C,E){return!0}canCommand(C,E){return!0}fireCommand(C,E){const I=this.root;return(q.Command.skipCheck(E)||I.canCommand(C,E))&&I.doCommand(C,E)}fireCommandAsync(C,E){return B(this,void 0,void 0,(function*(){const I=this.root;return(q.Command.skipCheck(E)||I.canCommand(C,E))&&I.doCommand(C,E)}))}}},4407:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Publisher=void 0;const B=I(913),z=I(1163),q=I(273);class Publisher extends q.Observer{get observers(){var C;return null!==(C=this._observers)&&void 0!==C?C:this._observers=[]}add(C){return C instanceof q.Observer&&0==this.observers.some((E=>E===C))&&(this.observers.push(C),C.publisher!=this&&(C.publisher=this)),this}remove(C){if(C instanceof q.Observer){let E=this.observers.findIndex((E=>E===C));E>=0&&(this.observers.splice(E,1),C.publisher==this&&(C.publisher=void 0))}return this}disconnect(){super.disconnect(),this.observers.forEach((C=>C.disconnect())),this.observers.splice(0)}canCommand(C,E){if(1==B.Command.skipCheck(E))return!0;let I;for(let B of this.observers)if(I=B.canCommand(C,E),!z.Convert.isNull(I)&&!I)return I;return null==I||I}doCommand(C,E){for(let I of this.observers)if(0==I.doCommand(C,E))return!1;return!0}}E.Publisher=Publisher},7359:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ResourceManager=E.DefaultResource=void 0;const B=I(1163);class DefaultResource{constructor(){this.emptyMessage="조회조건에 해당하는 데이터가 없습니다.",this.menu_column="컬럼",this.menu_fiexCol="고정(열)",this.menu_header="좌측",this.menu_body="중앙",this.menu_columnSticky="스티키",this.menu_tail="우측",this.menu_asc="오름차순",this.menu_desc="내림차순",this.menu_reset="정렬 취소",this.menu_copy="복사",this.menu_cut="자르기",this.menu_paste="붙여넣기",this.menu_undo="되돌리기",this.menu_redo="재실행",this.menu_addRow="행 추가(맨 아래)",this.menu_addTop="행 추가(맨 위)",this.menu_insertRow="행 추가(위)",this.menu_appendRow="행 추가(아래)",this.menu_deleteRow="행 삭제",this.menu_sticky="행 고정",this.menu_sticky_cancel="행 고정(취소)",this.menu_edit="편집",this.menu_cancel="취소",this.menu_excel="엑셀",this.menu_submit_button="확인",this.menu_cancel_button="취소",this.tool_copy="복사",this.tool_edit="편집",this.tool_update="수정",this.tool_cancel="취소",this.tool_save="저장",this.tool_refresh="새로고침",this.tool_reload="다시로드",this.tool_undo="되돌리기",this.tool_redo="재실행",this.tool_addRow="행 추가(맨 아래)",this.tool_addTop="행 추가(맨 위)",this.tool_insertRow="행 추가(위)",this.tool_appendRow="행 추가(아래)",this.tool_deleteRow="행 삭제",this.tool_undeleteRow="삭제 취소",this.tool_excel="엑셀 다운로드",this.tool_csv="csv 다운로드",this.tool_search="찾기",this.tool_pagerCombo_delimiter="/",this.tool_pagerSizes="",this.tool_pagerCombo_alert="페이지 범위를 벗어났습니다.",this.filter_isLessThan="다음 보다 작음",this.filter_isLessThanOrEqualTo="다음 보다 작거나 같음",this.filter_isEqualTo="다음과 같음",this.filter_isNotEqualTo="다음과 같지 않음",this.filter_isGreaterThan="다음 보다 큼",this.filter_isGreaterThanOrEqualTo="다음 보다 크거나 같음",this.filter_in="다음을 포함",this.filter_notIn="다음을 포함하지 않음",this.filter_fromTo="다음 범위에 포함",this.filter_notFromTo="다음 범위에 포함되지 않음",this.filter_startsWith="다음으로 시작",this.filter_notStartsWith="다음으로 시작되지 않음",this.filter_endsWith="다음으로 끝남",this.filter_notEndsWith="다음으로 끝나지 않음",this.filter_contains="문자열에 다음을 포함",this.filter_notContains="문자열에 다음을 포함하지 않음",this.filter_isNull="Null과 같음",this.filter_isNotNull="Null이 아님",this.filter_isEmpty="비었음",this.filter_isNotEmpty="비어있지 않음",this.filter_isNullOrEmpty="Null이거나 비었음",this.filter_isNotNullOrEmpty="Null이 아니거나 비어있지 않음",this.filter_and="and",this.filter_or="or",this.filter_none="none",this.filter_submit="submit",this.filter_clear="clear",this.group_groupZone="이곳으로 컬럼의 헤더를 드롭하여 그룹핑 하세요",this.search_title="Search",this.serach_caseSensitive="대소문자 구분",this.search_wholeWord="전체 일치",this.search_backward="이전 검색",this.search_find="검색",this.search_cancel="닫기"}}E.DefaultResource=DefaultResource;class ResourceManager{constructor(){this.language=ResourceManager.defaultLanguage,this.resources={}}static get default(){return this.getDefault(ResourceManager.defaultLanguage)}static set default(C){this.setDefault(C,ResourceManager.defaultLanguage)}get resource(){return this.getResource(this.language)}set resource(C){this.setResource(this.language,C)}getResource(C){var E;return null!==(E=this.resources[C])&&void 0!==E?E:this.resources[C]=B.Convert.cloneData(ResourceManager.getDefault(C))}setResource(C,E){var I;return this.language=C,B.Convert.isValue(E)&&(this.resources[C]=B.Convert.mergeData(E,null!==(I=this.resources[C])&&void 0!==I?I:ResourceManager.getDefault(C))),this.resources[C]}static setDefault(C,E=""){var I;this.multiResources[E]=B.Convert.mergeData(C,null!==(I=this.multiResources[E])&&void 0!==I?I:this.defaultResource)}static getDefault(C=""){var E;return null!==(E=this.multiResources[C])&&void 0!==E?E:this.defaultResource}static setResourceMulti(C){for(const E in C){const I=C[E];this.setDefault(I,E)}}}E.ResourceManager=ResourceManager,ResourceManager.defaultLanguage="",ResourceManager.defaultResource=new DefaultResource,ResourceManager.multiResources={}},913:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ScrollBarCommand=E.ScrollCommand=E.ChangeCommand=E.Command=void 0;const B=I(2663),z=I(1163),q=I(413);class Command{constructor(C){this.command=C}static canCheck(C){const E="object"==typeof C?C.command:C;return B.canCheckCommand.has(E)}static skipCheck(C){return!this.canCheck(C)}}E.Command=Command;class ChangeCommand extends Command{constructor(){super(B.Commands.Change)}static create(...C){return q.Validator.validateArg(C,0),new ChangeCommand}}E.ChangeCommand=ChangeCommand;class ScrollCommand extends Command{constructor(C,E){super(B.Commands.Scroll),this.scrollX=C,this.scrollY=E}static create(...C){q.Validator.validateArg(C,2);let E=z.Convert.asInt(C[0]),I=z.Convert.asInt(C[1]);return new ScrollCommand(E,I)}}E.ScrollCommand=ScrollCommand;class ScrollBarCommand extends Command{constructor(C,E=void 0){switch(C){case B.Commands.ScrollDown:case B.Commands.ScrollLeft:case B.Commands.ScrollRight:case B.Commands.ScrollUp:case B.Commands.PageDown:case B.Commands.PageLeft:case B.Commands.PageRight:case B.Commands.PageUp:super(C),this.scroll=E;break;default:throw`[${C}] is unknown scroll-bar command`}}static create(C,...E){const I=E.length>0?z.Convert.asInt(E[0]):void 0;return new ScrollBarCommand(C,I)}}E.ScrollBarCommand=ScrollBarCommand},2663:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.CommandFactory=E.canCheckCommand=E.Commands=void 0;const B=I(1163),z=I(913),q=I(5369),Q=I(5165);var ee;!function(C){C.Scroll="scroll",C.ScrollUp="scrollUp",C.ScrollDown="scrollDown",C.ScrollLeft="scrollLeft",C.ScrollRight="scrollRight",C.PageUp="pageUp",C.PageDown="pageDown",C.PageLeft="pageLeft",C.PageRight="pageRight",C.Change="change",C.Update="update",C.Undelete="undelete",C.Delete="delete",C.Insert="insert",C.Import="import",C.Loaded="loaded",C.Refresh="refresh",C.Rebuild="rebuild",C.Reload="reload",C.Loading="loading",C.Save="save",C.AddRow="addRow",C.AddRows="addRows",C.AddTop="addTop",C.InsertRow="insertRow",C.AppendRow="appendRow",C.DeleteRow="deleteRow",C.DeleteRows="deleteRows",C.UndeleteRow="undeleteRow",C.ToogleRow="toggleRow",C.OpenRow="openRow",C.CloseRow="closeRow",C.ToogleCheck="toggleCheck",C.Open="open",C.Close="close",C.Pager="pager",C.Cancel="cancel",C.Undo="undo",C.Redo="redo",C.Selected="selected",C.Edit="edit",C.Focused="focused",C.Copy="copy",C.Cut="cut",C.Paste="paste",C.Escape="escape",C.Select="select",C.EditFilter="editFilter",C.TabNextFocusFilter="tabNextFocusFilter",C.MoveFocus="moveFocus",C.RowChange="rowChange",C.SortAsc="asc",C.SortDesc="desc",C.SortReset="reset",C.Sticky="sticky",C.NonePart="none",C.MoveToPart="moveToPart",C.ColumnVisible="columnVisible",C.OperatorChanged="operatorChanged",C.Filter="filter",C.UpdateCellData="updateCellData",C.PopupPosChange="popupPositionChanged",C.FilterCellData="filterCellData",C.ClosePopup="closePopup",C.FocusPopupItem="focusPopupItem",C.Updated="updated",C.Search="search",C.Excel="excel"}(ee||(E.Commands=ee={})),E.canCheckCommand=new Set([ee.Focused]);const te=new Map([[ee.Scroll,z.ScrollCommand.create],[ee.Change,z.ChangeCommand.create],[ee.Update,q.UpdateCommand.create],[ee.Insert,q.InsertCommand.create],[ee.Delete,q.DeleteCommand.create],[ee.Loaded,q.LoadedCommand.create],[ee.Refresh,Q.RefreshCommand.create],[ee.Rebuild,Q.RebuildCommand.create],[ee.Open,Q.OpenCommand.create],[ee.Close,Q.CloseCommand.create],[ee.Pager,Q.PagerCommand.create],[ee.Cancel,q.CancelCommand.create],[ee.AddRow,Q.AddRowCommand.create],[ee.AddRows,Q.AddRowsCommand.create],[ee.AddTop,Q.AddTopCommand.create],[ee.DeleteRow,Q.DeleteRowCommand.create],[ee.Undo,q.UndoCommand.create],[ee.Redo,q.RedoCommand.create],[ee.Copy,q.CopyCommand.create],[ee.Cut,q.CutCommand.create],[ee.Paste,q.PasteCommand.create],[ee.Select,q.PasteCommand.create],[ee.Edit,Q.EditCommand.create]]);E.CommandFactory=class CommandFactory{static create(C,...E){if(C=B.Convert.parseEnum(ee,C),te.has(C))return te.get(C)(E);throw`'${C}' is unknown command.`}}},5369:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.UpdatedCommand=E.LoadingCommand=E.FilterCellDataCommand=E.UpdateCellDataCommand=E.CutCommand=E.PasteCommand=E.CopyCommand=E.RedoCommand=E.UndoCommand=E.CancelCommand=E.SaveCommand=E.LoadedCommand=E.UndeleteCommand=E.DeleteCommand=E.ImportCommand=E.InsertCommand=E.UpdateCommand=E.ReloadCommand=void 0;const B=I(413),z=I(2663),q=I(913);class ReloadCommand extends q.Command{constructor(C){super(z.Commands.Reload),this.reset=C}static create(...C){return B.Validator.validateArg(C,1),new ReloadCommand(C[0])}}E.ReloadCommand=ReloadCommand;class UpdateCommand extends q.Command{constructor(C,E){super(z.Commands.Update),this.data=C,this.column=E}static create(...C){return B.Validator.validateArg(C,2),new UpdateCommand(C[1])}}E.UpdateCommand=UpdateCommand;class InsertCommand extends q.Command{constructor(C){super(z.Commands.Insert),this.data=C}static create(...C){return B.Validator.validateArg(C,1),new InsertCommand(C[0])}}E.InsertCommand=InsertCommand;class ImportCommand extends q.Command{constructor(C){super(z.Commands.Import),this.data=C}static create(...C){return B.Validator.validateArg(C,1),new ImportCommand(C[0])}}E.ImportCommand=ImportCommand;class DeleteCommand extends q.Command{constructor(C){super(z.Commands.Delete),this.data=C}static create(...C){return B.Validator.validateArg(C,1),new DeleteCommand(C[0])}}E.DeleteCommand=DeleteCommand;class UndeleteCommand extends q.Command{constructor(C){super(z.Commands.Undelete),this.data=C}static create(...C){return B.Validator.validateArg(C,1),new UndeleteCommand(C[0])}}E.UndeleteCommand=UndeleteCommand;class LoadedCommand extends q.Command{constructor(C,E,I){super(z.Commands.Loaded),this.request=C,this.pageNo=E,this.data=I}static create(...C){return B.Validator.validateArg(C,3),new LoadedCommand(C[0],C[1],C[2])}}E.LoadedCommand=LoadedCommand;class SaveCommand extends q.Command{constructor(){super(z.Commands.Save)}static create(...C){return B.Validator.validateArg(C,0),new SaveCommand}}E.SaveCommand=SaveCommand;class CancelCommand extends q.Command{constructor(){super(z.Commands.Cancel)}static create(...C){return B.Validator.validateArg(C,0),new CancelCommand}}E.CancelCommand=CancelCommand;class UndoCommand extends q.Command{constructor(){super(z.Commands.Undo)}static create(...C){return B.Validator.validateArg(C,0),new UndoCommand}}E.UndoCommand=UndoCommand;class RedoCommand extends q.Command{constructor(){super(z.Commands.Redo)}static create(...C){return B.Validator.validateArg(C,0),new RedoCommand}}E.RedoCommand=RedoCommand;class CopyCommand extends q.Command{constructor(){super(z.Commands.Copy)}static create(...C){return B.Validator.validateArg(C,0),new CopyCommand}}E.CopyCommand=CopyCommand;class PasteCommand extends q.Command{constructor(){super(z.Commands.Paste)}static create(...C){return B.Validator.validateArg(C,0),new PasteCommand}}E.PasteCommand=PasteCommand;class CutCommand extends q.Command{constructor(){super(z.Commands.Cut)}static create(...C){return B.Validator.validateArg(C,0),new CutCommand}}E.CutCommand=CutCommand;class UpdateCellDataCommand extends q.Command{constructor(C,E,I){super(z.Commands.UpdateCellData),this.column=C,this.rowItem=E,this.value=I}}E.UpdateCellDataCommand=UpdateCellDataCommand;class FilterCellDataCommand extends q.Command{constructor(C,E,I,B){super(z.Commands.FilterCellData),this.column=C,this.rowItem=E,this.items=I,this.cell=B}}E.FilterCellDataCommand=FilterCellDataCommand;class LoadingCommand extends q.Command{constructor(C){super(z.Commands.Loading),this.loading=C}}E.LoadingCommand=LoadingCommand;class UpdatedCommand extends q.Command{constructor(C){super(z.Commands.Updated),this.data=C}}E.UpdatedCommand=UpdatedCommand},373:(C,E)=>{"use strict";var I;Object.defineProperty(E,"__esModule",{value:!0}),E.GridLoadedCommand=E.GridUpdatedCommand=E.GridValueCommand=E.GridRemoveCommand=E.GridAddCommand=E.GridCaptionCheckCommand=E.GridEventCommand=E.GridMenuCommand=E.GridFocusCommand=E.GridSelectCommand=E.GridEditCommand=E.GridCommand=E.GridCommands=void 0,function(C){C.Value="value",C.Data="data",C.Updated="updated",C.Edit="edit",C.Select="select",C.Focus="focus",C.Menu="menu",C.Event="event",C.Add="add",C.Remove="remove",C.CaptionCheck="captionCheck",C.Loaded="loaded"}(I||(E.GridCommands=I={}));class GridCommand{constructor(C){this.command=C}}E.GridCommand=GridCommand;E.GridEditCommand=class GridEditCommand extends GridCommand{constructor(C,E,B=!0){super(I.Edit),this.key=C,this.column=E,this.enter=B,this.field=null==E?void 0:E.field,this.leave=!B}};E.GridSelectCommand=class GridSelectCommand extends GridCommand{constructor(C,E){super(I.Select),this.key=C,this.column=E}};E.GridFocusCommand=class GridFocusCommand extends GridCommand{constructor(C,E,B,z){super(I.Focus),this.key=C,this.column=E,this.previousKey=B,this.previousColumn=z}};E.GridMenuCommand=class GridMenuCommand extends GridCommand{constructor(C,E,B){super(I.Menu),this.menu=C,this.key=E,this.column=B}};E.GridEventCommand=class GridEventCommand extends GridCommand{constructor(C,E,B){super(I.Event),this.event=C,this.key=E,this.column=B}};E.GridCaptionCheckCommand=class GridCaptionCheckCommand extends GridCommand{constructor(C,E){super(I.CaptionCheck),this.column=C,this.checked=E}};E.GridAddCommand=class GridAddCommand extends GridCommand{constructor(C,E){super(I.Add),this.key=C,this.data=E}};E.GridRemoveCommand=class GridRemoveCommand extends GridCommand{constructor(C,E){super(I.Remove),this.key=C,this.data=E}};E.GridValueCommand=class GridValueCommand extends GridCommand{constructor(C,E){super(I.Value),this.info=C,this.column=E}};E.GridUpdatedCommand=class GridUpdatedCommand extends GridCommand{constructor(C,E){super(I.Updated),this.info=C,this.values=E}};E.GridLoadedCommand=class GridLoadedCommand extends GridCommand{constructor(C,E,B){super(I.Loaded),this.request=C,this.pageNo=E,this.values=B}}},5165:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ExcelCommand=E.SearchCommand=E.ToggleCheckCommand=E.CloseRowCommand=E.OpenRowCommand=E.ToggleRowCommand=E.ColumnVisibleCommand=E.MoveToPartCommand=E.FocusPopupItemCommand=E.ClosePopupCommand=E.PopupPosChangeCommand=E.ColumnCheckCommand=E.StickyCommand=E.FilterCommand=E.OperatorChangedCommand=E.ResetCommand=E.DescCommand=E.AscCommand=E.ColumnCommand=E.MoveFocusCommand=E.EditFilterCommand=E.SelectCommand=E.EscapeCommand=E.FocusedCommand=E.EditCommand=E.SelectedCommand=E.UndeleteRowCommand=E.DeleteRowsCommand=E.DeleteRowCommand=E.AppendRowCommand=E.InsertRowCommand=E.AddTopCommand=E.AddRowsCommand=E.AddRowCommand=E.PagerCommand=E.CloseCommand=E.OpenCommand=E.RebuildCommand=E.RowChangeCommand=E.RefreshCommand=void 0;const B=I(413),z=I(913),q=I(2663);class RefreshCommand extends z.Command{constructor(C){var E;super(q.Commands.Refresh),this.rowStart=null==C?void 0:C.rowStart,this.rowEnd=null==C?void 0:C.rowEnd,this.colStart=null==C?void 0:C.colStart,this.colEnd=null==C?void 0:C.colEnd,this.cols=null==C?void 0:C.cols,this.key=RefreshCommand.no++,this.onlyLayout=null!==(E=null==C?void 0:C.onlyLayout)&&void 0!==E&&E}static create(...C){return B.Validator.validateArg(C,0),new RefreshCommand}}E.RefreshCommand=RefreshCommand,RefreshCommand.no=0;class RowChangeCommand extends z.Command{constructor(){super(q.Commands.RowChange)}static create(...C){return B.Validator.validateArg(C,0),new RowChangeCommand}}E.RowChangeCommand=RowChangeCommand;class RebuildCommand extends z.Command{constructor(){super(q.Commands.Rebuild)}static create(...C){return B.Validator.validateArg(C,0),new RebuildCommand}}E.RebuildCommand=RebuildCommand;class OpenCommand extends z.Command{constructor(C){super(q.Commands.Open),this.rowIndex=C}static create(...C){return B.Validator.validateArg(C,1),new OpenCommand(C[0])}}E.OpenCommand=OpenCommand;class CloseCommand extends z.Command{constructor(C){super(q.Commands.Close),this.rowIndex=C}static create(...C){return B.Validator.validateArg(C,1),new CloseCommand(C[0])}}E.CloseCommand=CloseCommand;class PagerCommand extends z.Command{constructor(C){super(q.Commands.Pager),this.pageNo=C}static create(...C){return B.Validator.validateArg(C,1),new PagerCommand(C[0])}}E.PagerCommand=PagerCommand;class AddRowCommand extends z.Command{constructor(C,E){super(q.Commands.AddRow),this.key=C,this.rowData=E}static create(...C){return B.Validator.validateArg(C,2),new AddRowCommand(C[0],C[1])}}E.AddRowCommand=AddRowCommand;class AddRowsCommand extends z.Command{constructor(C,E){super(q.Commands.AddRows),this.key=C,this.list=E}static create(...C){return B.Validator.validateArg(C,2),new AddRowsCommand(C[0],C[1])}}E.AddRowsCommand=AddRowsCommand;class AddTopCommand extends z.Command{constructor(C,E){super(q.Commands.AddTop),this.key=C,this.rowData=E}static create(...C){return B.Validator.validateArg(C,2),new AddTopCommand(C[0],C[1])}}E.AddTopCommand=AddTopCommand;class InsertRowCommand extends z.Command{constructor(C,E){super(q.Commands.InsertRow),this.key=C,this.rowData=E}static create(...C){return B.Validator.validateArg(C,2),new InsertRowCommand(C[0],C[1])}}E.InsertRowCommand=InsertRowCommand;class AppendRowCommand extends z.Command{constructor(C,E){super(q.Commands.AppendRow),this.key=C,this.rowData=E}static create(...C){return B.Validator.validateArg(C,2),new AppendRowCommand(C[0],C[1])}}E.AppendRowCommand=AppendRowCommand;class DeleteRowCommand extends z.Command{constructor(C){super(q.Commands.DeleteRow),this.key=C}static create(...C){return B.Validator.validateArg(C,1),new DeleteRowCommand(C[0])}}E.DeleteRowCommand=DeleteRowCommand;class DeleteRowsCommand extends z.Command{constructor(C){super(q.Commands.DeleteRows),this.keys=C}static create(...C){return B.Validator.validateArg(C,1),new DeleteRowsCommand(C[0])}}E.DeleteRowsCommand=DeleteRowsCommand;class UndeleteRowCommand extends z.Command{constructor(C){super(q.Commands.DeleteRow),this.key=C}static create(...C){return B.Validator.validateArg(C,1),new UndeleteRowCommand(C[0])}}E.UndeleteRowCommand=UndeleteRowCommand;class SelectedCommand extends z.Command{constructor(){super(q.Commands.Selected)}}E.SelectedCommand=SelectedCommand;class EditCommand extends z.Command{constructor(C,E,I){super(q.Commands.Edit),this.type=C,this.rowItem=E,this.column=I}static create(C){return B.Validator.validateArg(C,3),new EditCommand(C[0],C[1],C[2])}}E.EditCommand=EditCommand;class FocusedCommand extends z.Command{constructor(C,E,I){super(q.Commands.Focused),this.current=C,this.last=E,this.eventType=I}}E.FocusedCommand=FocusedCommand;class EscapeCommand extends z.Command{constructor(){super(q.Commands.Escape)}}E.EscapeCommand=EscapeCommand;class SelectCommand extends z.Command{constructor(C,E,I){super(q.Commands.Select),this.selectType=C,this.start=E,this.end=I}}E.SelectCommand=SelectCommand;class EditFilterCommand extends z.Command{constructor(C,E){super(q.Commands.EditFilter),this.event=C,this.focus=E}static create(C){return B.Validator.validateArg(C,2),new EditFilterCommand(C[0],C[1])}}E.EditFilterCommand=EditFilterCommand;class MoveFocusCommand extends z.Command{constructor(C){super(q.Commands.MoveFocus),this.focus=C}}E.MoveFocusCommand=MoveFocusCommand;class ColumnCommand extends z.Command{constructor(C,E){super(C),this.column=E}}E.ColumnCommand=ColumnCommand;E.AscCommand=class AscCommand extends ColumnCommand{constructor(C){super(q.Commands.SortAsc,C)}};E.DescCommand=class DescCommand extends ColumnCommand{constructor(C){super(q.Commands.SortDesc,C)}};E.ResetCommand=class ResetCommand extends ColumnCommand{constructor(C){super(q.Commands.SortReset,C)}};class OperatorChangedCommand extends z.Command{constructor(C,E,I){super(q.Commands.OperatorChanged),this.conditionName=E,this.operator=C,this.prevOperator=I}}E.OperatorChangedCommand=OperatorChangedCommand;class FilterCommand extends z.Command{constructor(C,E,I){super(q.Commands.Filter),this.field=C,this.filter=E,this.isSubmit=I}}E.FilterCommand=FilterCommand;E.StickyCommand=class StickyCommand extends ColumnCommand{constructor(C,E){super(q.Commands.Sticky,C),this.rowItem=E,this.column=C}};E.ColumnCheckCommand=class ColumnCheckCommand extends ColumnCommand{constructor(C){super(q.Commands.ColumnVisible,C),this.column=C}};E.PopupPosChangeCommand=class PopupPosChangeCommand extends ColumnCommand{constructor(C,E){super(q.Commands.PopupPosChange,C),this.column=C,this.jqCell=E}};E.ClosePopupCommand=class ClosePopupCommand extends ColumnCommand{constructor(C,E){super(q.Commands.ClosePopup,C),this.column=C,this.rowItem=E}};E.FocusPopupItemCommand=class FocusPopupItemCommand extends ColumnCommand{constructor(C,E){super(q.Commands.FocusPopupItem,C),this.column=C,this.rowItem=E}};class MoveToPartCommand extends z.Command{constructor(C,E,I=void 0,B=void 0){super(q.Commands.MoveToPart),this.column=C,this.part=E,this.parentColumn=I,this.columnIndex=B}}E.MoveToPartCommand=MoveToPartCommand;class ColumnVisibleCommand extends z.Command{constructor(C){super(q.Commands.ColumnVisible),this.visible=C}}E.ColumnVisibleCommand=ColumnVisibleCommand;class ToggleRowCommand extends z.Command{constructor(C){super(q.Commands.ToogleRow),this.key=C}}E.ToggleRowCommand=ToggleRowCommand;class OpenRowCommand extends z.Command{constructor(C){super(q.Commands.OpenRow),this.key=C}}E.OpenRowCommand=OpenRowCommand;class CloseRowCommand extends z.Command{constructor(C){super(q.Commands.CloseRow),this.key=C}}E.CloseRowCommand=CloseRowCommand;class ToggleCheckCommand extends z.Command{constructor(C){super(q.Commands.ToogleCheck),this.key=C}}E.ToggleCheckCommand=ToggleCheckCommand;class SearchCommand extends z.Command{constructor(){super(q.Commands.Search)}}E.SearchCommand=SearchCommand;class ExcelCommand extends z.Command{constructor(){super(q.Commands.Excel)}}E.ExcelCommand=ExcelCommand},6105:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.Aggregate=E.Sorting=E.Filtering=E.BaseLoader=void 0;const z=I(1163),q=I(194),Q=I(2288),ee=I(7392),te=I(3354),ie=I(9299),re=I(3354),ne=I(5260);class BaseLoader{constructor(C){this._dataSource=C,this._onMakeRequest=C.onPrepareRequest}get dataSource(){return this._dataSource}get nodes(){var C;return null!==(C=this._nodes)&&void 0!==C?C:this._nodes=[]}set nodes(C){this._nodes=C}get nodeCount(){return this._nodeCount}set nodeCount(C){this._nodeCount=C}get config(){var C;return null===(C=this._dataSource)||void 0===C?void 0:C.config}get request(){return this.dataSource.request}get onPrepareRequest(){return this._onMakeRequest}set onPrepareRequest(C){this._onMakeRequest=C}search(){return B(this,void 0,void 0,(function*(){ne.Log.debug((()=>["BaseLoader.search"])),ne.Log.debug((()=>["BaseLoader.search","end"]))}))}clearRows(){this.nodes=[],this.nodeCount=void 0}get filter(){const C=this.dataSource.deleteMap;return E=>0==C.has(E.key)}hasRows(C,E){var I,B;let z=this.prepareRequest(C,E,Q.ViewMode.Flow);return{pageNo:z.pageNo,hasPage:null!==(B=null===(I=this.dataSource.getPageMap(z))||void 0===I?void 0:I.hasPage(z.pageNo))&&void 0!==B&&B}}getRows(C,E,I){return B(this,void 0,void 0,(function*(){try{let B,q=C instanceof re.ParentNode,ee=q?C:void 0;z.Convert.isNull(this.nodeCount)&&z.Convert.isNull(C)&&(yield this.loadFromDataSource());let te=z.Convert.isNull(C)||!q?this.nodes[E]:q?this.getItem(ee,E):void 0;if(z.Convert.isNull(te)){let te=z.Convert.isNull(C)||!q?this.nodeCount:q?ee.nodeCount:0;if(I)B=[];else if(z.Convert.isNull(te)||E<te){let I=this.prepareRequest(C,E,Q.ViewMode.Flow);this.doMakeRequest(I);let z=yield this.load(I,C);B=this.loaded(z,I,C),B=B.splice(E-I.nodeIndex)}else B=[]}else B=z.Convert.isNull(C)||!q?this.getRootItems(E):q?this.getNodeItems(ee,E):[te];return 0==this.dataSource.fieldsRebuilded&&z.Convert.isValue(B)&&this.dataSource.rebuildFields(B.map((C=>C.box.originData))),B}catch(C){}}))}loadFromDataSource(){return B(this,void 0,void 0,(function*(){let C,E,I=this.prepareRequest(void 0,0,Q.ViewMode.Page);if(this.dataSource.pageOnly){const B=this.dataSource.getBoxes();I.pageNo=this.dataSource.pageNo,this.doMakeRequest(I),this.dataSource.saveRequest(I),E=yield this.clientLoad(I,B),C=this.loaded(E,I,void 0)}else{this.dataSource.saveRequest(I),this.doMakeRequest(I);const B=this.dataSource.getRequestKey(I),q=this.dataSource.boxMap.get(B);let Q=[];z.Convert.isValue(q)&&(Q=Q.concat(q.boxes)),E=yield this.clientLoad(I,Q),C=this.loaded(E,I,void 0)}return C}))}getItem(C,E){return C.nodeCount>E?C.nodes[E]:E>0&&C.hasFooter&&C.nodeCount==E?C.footer:void 0}getNodeItems(C,E){const I=[];for(let B=E,z=C.nodes.length;B<z;B++)I.push(C.nodes[B]);return C.hasFooter&&(I[C.nodeCount]=C.footer),I}get isPaging(){return this.dataSource.isPaging}getRootItems(C){const E=[],I=this.isPaging?C+Math.min(this.nodeCount-C,this.config.pageSize):this.nodeCount;for(let B=C;B<I;B++){const C=this.nodes[B];if(z.Convert.isNull(C))break;E.push(C)}return E}prepareRequest(C,E,I){var B,te,ie,re,ne,se;let oe={};z.Convert.isValue(this.onPrepareRequest)&&this.onPrepareRequest(this.config,oe);const ae="function"==typeof(null===(B=this.config.ajax)||void 0===B?void 0:B.select)||null===(ie=null===(te=this.config.ajax)||void 0===te?void 0:te.select)||void 0===ie?void 0:ie.url;oe.url=null!=ae?ae:null===(re=this.config.ajax)||void 0===re?void 0:re.baseUrl,oe.rowData=null==C?void 0:C.data,z.Convert.isValue(this.config.filters)&&(oe.filters=ee.DataSourceParser.parseFilters(this.config.filters)),z.Convert.isValue(this.config.orders)&&(oe.orders=ee.DataSourceParser.parseOrders(this.config.orders)),z.Convert.isValue(this.config.groups)&&(oe.groups=ee.DataSourceParser.parseGroups(this.config.groups)),z.Convert.isNull(C)&&z.Convert.isValue(this.config.aggregates)&&(oe.aggregates=ee.DataSourceParser.parseAggregates(this.config.aggregates));const le=this.config.pageSize,ue=this.dataSource.getPageMap(oe),de=null!==(ne=null==ue?void 0:ue.indexToPage(E))&&void 0!==ne?ne:q.DataSource.indexToPage(E,le);return oe.nodeIndex=E,this.isPaging&&(oe.pageSize=le,oe.pageNo=de,oe.startRow=de*le),z.Convert.isValue(null==ue?void 0:ue.total)&&(oe.aggregates=void 0),oe.viewMode=I,oe.nodeIndex=null===(se=this.dataSource.getPageMap(oe).pageToFromTo(oe.pageNo,Q.ViewMode.Page))||void 0===se?void 0:se.from,oe}doMakeRequest(C){var E,I,B,q,Q,te;let re=null!==(q="function"==typeof(null===(E=this.config.ajax)||void 0===E?void 0:E.select)||null===(B=null===(I=this.config.ajax)||void 0===I?void 0:I.select)||void 0===B?void 0:B.request)&&void 0!==q?q:null===(Q=this.config.ajax)||void 0===Q?void 0:Q.request;if(z.Convert.isValue(re)){const E=null!==(te=re(C,ee.AjaxOperation.Select))&&void 0!==te?te:C;z.Convert.isValue(E)&&C!==E&&ie.RequestBuilder.apply(E,C)}ne.Log.debug((()=>["call-makeRequest",C]))}load(C,E){return B(this,void 0,void 0,(function*(){try{let E=yield this.serverLoad(C);return this.dataSource.saveRequest(C),E}finally{}}))}adjustServerResponse(C,E){return 0==this.config.serverFiltering&&z.Convert.isValue(null==C?void 0:C.filters)&&(E=Filtering.filterList(E,C.filters)),0==this.config.serverSorting&&z.Convert.isValue(null==C?void 0:C.orders)&&(E=Sorting.sortList(E,C.groups,C.orders)),E}clientLoad(C,E){return B(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}serverLoad(C){return B(this,void 0,void 0,(function*(){throw new Error("serverLoad method not implemented.")}))}loaded(C,E,I){throw new Error("loaded method not implemented.")}get keyMaker(){return this.dataSource.keyMaker}serverPaging(C,E,I){var B,q,ee;if(0==this.isPaging)return C.selected;if(0==this.config.serverGrouping&&z.Convert.isValue(this.config.groups)){this.nodes=[];for(const E of C.selected)this.nodes.push(E);return this.nodeCount=this.nodes.length,this.nodes}let te=C.selected,ie=[],re=(B=E.pageNo,q=E.pageSize,null!==(ee=null==te?void 0:te.length)&&void 0!==ee?ee:0);const ne=this.dataSource.getPageMap(E).pageToFromTo(E.pageNo,Q.ViewMode.Page),se=ne.from,oe=ne.to,ae=z.Convert.isValue(I)?I.level+1:0,le=0==z.Convert.isNull(I);for(let C=0;C<re;C++){let E=te[C];E.index=se+C,E.level=ae,le?I.addNode(E,se+C):this.nodes[se+C]=E}for(let C=E.nodeIndex;C<oe;C++){const E=le?I.nodes[C]:this.nodes[C];if(z.Convert.isNull(E))break;ie.push(E)}if(this.config.pageSize>re?z.Convert.isNull(I)?this.nodeCount=this.nodes.length:I.nodeCount=I.nodes.length:z.Convert.isNull(I)?this.nodeCount=C.total:I.nodeCount=C.total,z.Convert.isValue(C.aggregated)&&C.aggregated.some((C=>z.Convert.isValue(C.value))))for(const E of C.aggregated)if(z.Convert.isValue(E.value)){const C=this.config.aggregates.find((C=>z.Arrays.arrayEquals(C.require,E.field)&&C.func==E.func&&C.payload==E.payload));if(z.Convert.isNull(C))continue;C.value=E.value}return ie}stopLoader(){var C,E,I,B,z,q,Q,ee;return 0==BaseLoader.compareGroups(null!==(E=null===(C=this.request)||void 0===C?void 0:C.groups)&&void 0!==E?E:[],null!==(B=null===(I=this.config)||void 0===I?void 0:I.groups)&&void 0!==B?B:[])||0==BaseLoader.compareFilters(null!==(q=null===(z=this.request)||void 0===z?void 0:z.filters)&&void 0!==q?q:[],null!==(ee=null===(Q=this.config)||void 0===Q?void 0:Q.filters)&&void 0!==ee?ee:[])}static compareFilters(C,E){return!(!z.Convert.isNull(C)||!z.Convert.isNull(E))||z.Convert.arrayEqual(C instanceof Array?C:[C],E instanceof Array?E:[E],((C,E)=>{var I,B;let q=z.Arrays.arrayEquals(null==C?void 0:C.field,null==E?void 0:E.field)&&(null==C?void 0:C.operator)==(null==E?void 0:E.operator)&&z.Arrays.arrayEquals(null==C?void 0:C.values,null==E?void 0:E.values);return q&&(q=(null===(I=null==C?void 0:C.filters)||void 0===I?void 0:I.length)==(null===(B=null==E?void 0:E.filters)||void 0===B?void 0:B.length)&&(q=this.compareFilters(null==C?void 0:C.filters,null==E?void 0:E.filters))),q}))}static compareOrders(C,E){return z.Convert.arrayEqual(C,E,((C,E)=>C.field==E.field&&C.dir==E.dir))}static compareGroups(C,E){return z.Convert.arrayEqual(C,E,((C,E)=>C.field==E.field&&C.dir==E.dir))}insertNode(C,E,I,B,z=!1){throw new Error("Method [addNode] not implemented.")}removeNode(C,E,I,B,z=!1){throw new Error("Method [removeNode] not implemented.")}save(C){return B(this,void 0,void 0,(function*(){throw new Error("Method [save] not implemented.")}))}calcAggregates(){}static calculateRows(C,E){if("function"==typeof C.rows)return C.rows(E);E=[...E];const getValue=E=>E[C.require[0]];switch(C.rows.func){case ee.RankFunctions.Rank:{let I,B;Sorting.sort(E,C.rows.dir,getValue);for(let z=0,q=E.length;z<q;z++){const q=getValue(E[z]);I===q||(B=z+1),E[z][C.field]=B,I=q}break}}}static moveToList(C,E,I,B,q){var Q,ee;null!=q||(q=[]);const te=E.index<I.index?-1:1,ie=E.index,re=I.index+(te>0?0:-1)+(B?0:1);if(ie==re)return;const se=Math.min(ie,re),oe=Math.max(ie,re),ae=[];for(let I=se;I<=oe;I++){const B=C[I];z.Convert.isNull(B)||B===E||ae.push(B)}for(const E of ae){const I=E.box,B=I.originIndex;E.index+=te;const z=null===(Q=C[E.index])||void 0===Q?void 0:Q.box.originIndex;q.push({key:I.key,oldIndex:B,newIndex:z}),C[E.index]=E}return q.push({key:E.key,oldIndex:E.box.originIndex,newIndex:null===(ee=C[re])||void 0===ee?void 0:ee.box.originIndex}),E.index=re,C[re]=E,ne.Log.debug((()=>["BaseLoader.moveToList",q])),q}}E.BaseLoader=BaseLoader,BaseLoader.symbolKeyMaker=()=>{var C;return z.Convert.isNull(null===(C=window.crypto)||void 0===C?void 0:C.randomUUID)?Symbol():crypto.randomUUID()};class Filtering{static filterList(C,E,I=ee.FilterOperators.And){var B;if(0==(null!==(B=null==E?void 0:E.length)&&void 0!==B?B:0))return C;let z=[];for(let B of C){0!=this.filterItem(B,E,I)&&z.push(B)}return z}static filterItem(C,E,I){let B;B=I==ee.FilterOperators.And;const q=C instanceof te.Box?C.data:C;for(let Q of E){if(Q.operator==ee.FilterOperators.And||Q.operator==ee.FilterOperators.Or)z.Convert.isValue(Q.filters)&&(B=this.filterItem(C,Q.filters,Q.operator));else if("function"==typeof Q.operator)B=Q.operator(q);else{const C=Q.field instanceof Array?Q.field:"*"==Q.field?Object.keys(q):[Q.field];for(const E of C){let C="function"==typeof Q.getValue?Q.getValue(q,E):q[E];if(B=Filtering.checkFilter(C,Q),B)break}}if(I==ee.FilterOperators.And){if(0==B)break}else if(1==B)break}return B}static checkFilter(C,E){switch(z.Convert.isValue(E.dataType)&&(C=z.Convert.convertType(C,E.dataType)),"string"==typeof C&&E.ignoreCase&&(C=C.toUpperCase()),E.operator){case ee.FilterOperators.IsEmpty:return z.Convert.isEmpty(C);case ee.FilterOperators.IsNotEmpty:return 0==z.Convert.isEmpty(C);case ee.FilterOperators.IsNull:return z.Convert.isNull(C);case ee.FilterOperators.IsNotNull:return 0==z.Convert.isNull(C);case ee.FilterOperators.IsNullOrEmpty:return z.Convert.isEmpty(C);case ee.FilterOperators.IsNotNullOrEmpty:return 0==z.Convert.isEmpty(C)}let I=this.getValue(E.values,0);switch(z.Convert.isValue(E.dataType)&&(I=z.Convert.convertType(I,E.dataType)),"string"==typeof I&&E.ignoreCase&&(I=I.toUpperCase()),E.operator){case ee.FilterOperators.Contains:return Filtering.stringFunc(C,I,((C,E)=>C.includes(E)));case ee.FilterOperators.NotContains:return!Filtering.stringFunc(C,I,((C,E)=>C.includes(E)));case ee.FilterOperators.StartsWith:return Filtering.stringFunc(C,I,((C,E)=>C.startsWith(E)));case ee.FilterOperators.NotStartsWith:return!Filtering.stringFunc(C,I,((C,E)=>C.startsWith(E)));case ee.FilterOperators.EndsWith:return Filtering.stringFunc(C,I,((C,E)=>C.endsWith(E)));case ee.FilterOperators.NotEndsWith:return!Filtering.stringFunc(C,I,((C,E)=>C.endsWith(E)));case ee.FilterOperators.IsEqualTo:case ee.FilterOperators.EqualTo:return C==I;case ee.FilterOperators.NotEqualTo:case ee.FilterOperators.IsNotEqualTo:return C!=I;case ee.FilterOperators.GreaterThan:case ee.FilterOperators.IsGreaterThan:return C>I;case ee.FilterOperators.GreaterThanOrEqualTo:case ee.FilterOperators.IsGreaterThanOrEqualTo:return C>=I;case ee.FilterOperators.LessThan:case ee.FilterOperators.IsLessThan:return C<I;case ee.FilterOperators.LessThanOrEqualTo:case ee.FilterOperators.IsLessThanOrEqualTo:return C<=I}let B=this.getValue(E.values,1);switch(z.Convert.isValue(E.dataType)&&(B=z.Convert.convertType(B,E.dataType)),"string"==typeof B&&E.ignoreCase&&(B=B.toUpperCase()),E.operator){case ee.FilterOperators.FromTo:return(!!z.Convert.isEmpty(I)||I<=C)&&(!!z.Convert.isEmpty(B)||C<=B);case ee.FilterOperators.NotFromTo:return!((z.Convert.isEmpty(I)||I<=C)&&(z.Convert.isEmpty(B)||C<=B))}let q=E.values instanceof Array?E.values:[I];switch(z.Convert.isValue(E.dataType)&&(q=q.map((C=>(z.Convert.convertType(C,E.dataType),"string"==typeof C&&E.ignoreCase&&(C=C.toUpperCase()),C)))),E.operator){case ee.FilterOperators.In:return q.some((E=>z.Convert.asText(E)==z.Convert.asText(C)));case ee.FilterOperators.NotIn:return q.every((E=>z.Convert.asText(E)!=z.Convert.asText(C)));default:throw new Error(`[${E.operator}] is unknown operator!`)}return!1}static getValue(C,E){return"string"==typeof C?C:C instanceof Array&&C.length>E?C[E]:""}static stringFunc(C,E,I){return C="string"==typeof C?C:null==C?void 0:C.toString(),E="string"==typeof E?E:null==E?void 0:E.toString(),!!z.Convert.isNull(E)||!z.Convert.isNull(C)&&I(C,E)}}E.Filtering=Filtering;class Sorting{static getValue(C,E){if(C=C instanceof te.Box?C.data:C,"function"==typeof E.getValue)return E.getValue(C,E.field);const I=C[E.field];if(typeof I==E.dataType)return I;switch(E.dataType){case z.DataType.Boolean:return z.Convert.asBool(I);case z.DataType.Number:return z.Convert.asNumber(I);case z.DataType.BigInt:return z.Convert.asBigInt(I);case z.DataType.String:return z.Convert.asText(I);case z.DataType.Date:return z.Convert.asDate(I)}return I}static sortList(C,E,I,B){var q,Q;let te=[],ie=[];if((null!==(q=null==E?void 0:E.length)&&void 0!==q?q:0)>0&&(ie=ie.concat(E)),(null!==(Q=null==I?void 0:I.length)&&void 0!==Q?Q:0)>0)for(const C of I)ie.some((E=>E.field==C.field))||ie.push(C);return z.Convert.isNull(B)&&(B=this.getValue),0==ie.length?C:(te=C.sort(((C,E)=>{for(let I of ie){if(I.dir==ee.SortDir.None)continue;if(z.Convert.isValue(I.sort)){const B=I.sort(C,E,I.dir);if(0===B)continue;return B}let q=B(C,I),Q=B(E,I);if(z.Convert.isNull(q)&&(q=""),z.Convert.isNull(Q)&&(Q=""),q!==Q)return q<Q?I.dir==ee.SortDir.Asc?-1:1:I.dir==ee.SortDir.Asc?1:-1}return 0})),te)}static calcOrder(C,E,I,B,z){let q=[].concat(C);return q.indexOf(E)<0&&q.push(E),this.sortList(C,I,B,z),q.indexOf(E)}static sort(C,E,I){C.sort(((C,B)=>{let q=I(C),Q=I(B);return z.Convert.isNull(q)&&(q=""),z.Convert.isNull(Q)&&(Q=""),q==Q?0:q<Q?E==ee.SortDir.Asc?-1:1:E==ee.SortDir.Asc?1:-1}))}}E.Sorting=Sorting;class Aggregate{static aggregates(C,E,I){let B=[];if(I)for(const C of null!=E?E:[]){const E={require:C.require,func:C.func,nullAs:C.nullAs,payload:C.payload,field:Aggregate.getResultName(C),dataType:C.dataType,payloadType:C.payloadType,eval:C.eval,value:C.value};B.push(E)}else B=E;if(z.Convert.isEmpty(C))return B;let q=[];for(const E of null!=B?B:[])z.Convert.isNull(E.value)&&z.Convert.isValue(E.func)&&(E.value=this.aggregate(C,E)),z.Convert.isValue(E.eval)&&q.push(E);if(z.Convert.isValue(q))for(const C of q)C.value=this.aggregateEval(C,B);return B}static aggregate(C,E){var I;if(0==(null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0))return;let B=0;return"function"==typeof E.func?(B=E.func(C),B):Aggregate.calcRows(E,C)}static calcFields(C,E){const I=C.eval;if("function"==typeof I)return I(E);const B={require:C.require,func:I,nullAs:C.nullAs,dataType:C.dataType,params:C.params};return Aggregate.calcRows(B,[E])}static aggregateEval(C,E){const I=C.eval,B={};for(const C of E)B[C.field]=C.value;if("function"==typeof I)return I(B);const z={require:C.require,func:I,nullAs:C.nullAs,dataType:C.dataType};return Aggregate.calcRows(z,[B])}static calcRows(C,E){let I=0;const B=C.payload;switch(C.func){case ee.AggregateFunctions.Sum:I=Aggregate.makeItems(E,C,(C=>C.reduce(((C,E)=>C+E),0)));break;case ee.AggregateFunctions.Average:case ee.AggregateFunctions.Avg:I=Aggregate.makeItems(E,C,(C=>C.reduce(((C,E)=>z.Convert.asFloat(C)+z.Convert.asFloat(E)))/C.length));break;case ee.AggregateFunctions.Total:I=E.length;break;case ee.AggregateFunctions.Count:I=z.Convert.isValue(C.params)?Aggregate.makeItems(E,C,(E=>E.filter((E=>C.params.some((C=>E==C)))).length)):Aggregate.makeItems(E,C,(C=>C.length));break;case ee.AggregateFunctions.Min:I=Aggregate.makeItems(E,C,(E=>z.Convert.isEmpty(B)?E.reduce(((C,E)=>C<E?C:E),E[0]):z.Convert.convertType(E.reduce(((C,E)=>C[this._field]<E[this._field]?C:E),E[0])[B],C.payloadType)));break;case ee.AggregateFunctions.Max:I=Aggregate.makeItems(E,C,(E=>z.Convert.isEmpty(B)?E.reduce(((C,E)=>C>E?C:E),E[0]):z.Convert.convertType(E.reduce(((C,E)=>C[this._field]<E[this._field]?E:C),E[0])[B],C.payloadType)));break;case ee.AggregateFunctions.First:I=Aggregate.makeItems(E,C,(E=>{var I;return z.Convert.isEmpty(B)?E[0]:z.Convert.convertType(null===(I=E[0])||void 0===I?void 0:I[B],C.payloadType)}));break;case ee.AggregateFunctions.Last:I=Aggregate.makeItems(E,C,(E=>{var I;return z.Convert.isEmpty(B)?E[E.length-1]:z.Convert.convertType(null===(I=E[E.length-1])||void 0===I?void 0:I[B],C.payloadType)}));break;case ee.AggregateFunctions.Range:I=Aggregate.makeItems(E,C,(E=>this.calcRange(C,E[0])));break;case ee.AggregateFunctions.Switch:I=Aggregate.makeItems(E,C,(E=>this.calcSwitch(C,E[0])))}return I}static calcSwitch(C,E){return C.params instanceof Map&&C.params.get(E),E}static calcRange(C,E){var I;if(C.params instanceof Map==0)return E;const B=C.params,q=Aggregate.ensureRange(B);for(const C of q.range)if(C<=E)return null!==(I=B.get(C))&&void 0!==I?I:B.get(z.Convert.asText(C));return q.default}static ensureRange(C){var E,I;if(this.rangeMap.has(C))return this.rangeMap.get(C);const B=null!==(I=null!==(E=C.get("default"))&&void 0!==E?E:C.get(""))&&void 0!==I?I:C.get(void 0),q=C.keys(),Q=[];for(const C of q){const E=z.Convert.asNumber(C);Q.indexOf(E)>=0||Q.push(E)}Q.sort(((C,E)=>E-C));const ee={range:Q,default:B};return this.rangeMap.set(C,ee),ee}static makeItems(C,E,I){let B=[];const q=z.Convert.asStringArray(E.require,[]);if(z.Convert.isEmpty(q))return B;E.nullAs;const Q=E.payload,ee=z.Convert.isEmpty(Q)?(C,E)=>B.push(C):(C,E)=>{const I={};I[this._field]=C,I[Q]=E[Q],B.push(I)};for(let I of C)if(!z.Convert.isNull(I))for(const C of q)this.pushItemFieldValue(E,I,C,ee);return z.Convert.isEmpty(B)?void 0:I(B)}static pushItemFieldValue(C,E,I,B){if(z.Convert.isNull(B))return;const q=C.nullAs,Q=C.dataType,te="*"==I?Object.keys(E):[I];for(let C of te){let I=z.Convert.convertType(E[C],Q);if(z.Convert.isEmpty(I)){if(q===ee.NullAs.Ignore)continue;I=q}B(I,E)}return!0}static fieldsJoin(C,E){return z.Convert.asStringArray(C,void 0).join(null!=E?E:"_")}static getResultName(C,E,I){var B;return z.Convert.isEmpty(C.require)&&z.Convert.isEmpty(E)&&z.Convert.isEmpty(C.field)?"":z.Convert.isEmpty(C.field)||I?this.fieldsJoin(null!==(B=C.require)&&void 0!==B?B:E,"_")+("string"==typeof C.func?"_"+C.func:"")+(z.Convert.isValue(C.field)?"_"+C.field:"")+(z.Convert.isValue(C.payload)?"_"+C.payload:""):C.field}static aggregateEquals(C,E){return(C.require==E.require||z.Arrays.arrayEquals(C.require,E.require))&&C.field==E.field&&C.func==E.func&&C.payload==E.payload}}E.Aggregate=Aggregate,Aggregate._field="_field",Aggregate.rangeMap=new Map},194:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.InsertTo=E.DataStatus=E.DataSource=void 0;const z=I(1163),q=I(4407),Q=I(7392),ee=I(6105),te=I(512),ie=I(5260),re=I(2351),ne=I(3354),se=I(9299),oe=I(7359),ae=I(2288);class DataSource extends q.Publisher{constructor(C){super(),this._originIndex=0,this._fieldsRebuilded=!1,this.keyMaker=C=>{var E,I,B,q,Q;const te=null===(E=this.config.schema)||void 0===E?void 0:E.id;let ie;switch(typeof te){case"function":ie=te(C);break;case"string":ie=null!==(I=null==C?void 0:C.hasOwnProperty(te))&&void 0!==I&&I&&null!==(B=C[te])&&void 0!==B?B:"";break;default:if(te instanceof Array){const E=[];for(const I of te)null!==(q=null==C?void 0:C.hasOwnProperty(I))&&void 0!==q&&q&&E.push(null!==(Q=C[I])&&void 0!==Q?Q:"");ie=1==E.length?E[0]:E.join(DataSource.keySeperator);break}}return z.Convert.isEmpty(ie)&&(ie=ee.BaseLoader.symbolKeyMaker()),ie},this._updateIndex=0,this.setConfig(C),this._updateIndex=0}setConfig(C){this._config=Q.DataSourceParser.parseConfig(C)}get resourceManager(){var C;return null!==(C=this._resourceManager)&&void 0!==C?C:this._resourceManager=new oe.ResourceManager}get resource(){return this.resourceManager.resource}get config(){return this._config}static get defaultConfig(){var C;return null!==(C=DataSource._defaultConfig)&&void 0!==C?C:{}}static set defaultConfig(C){DataSource._defaultConfig=Q.DataSourceParser.parseConfig(C)}get stateless(){var C;return null!==(C=this.config.stateless)&&void 0!==C&&C}get filters(){return this.config.filters instanceof Array?this.config.filters:[this.config.filters]}get fieldSet(){var C;return null!==(C=this._fieldSet)&&void 0!==C?C:this._fieldSet=this.ensureFieldSet()}get pageNo(){var C,E;return null!==(E=null===(C=this.request)||void 0===C?void 0:C.pageNo)&&void 0!==E?E:0}get requestKey(){var C;return null!==(C=this._requestKey)&&void 0!==C?C:this._requestKey=this.getRequestKey()}get boxMap(){var C;return null!==(C=this._boxMap)&&void 0!==C?C:this._boxMap=new Map}get loadedTotal(){var C,E;const I=this.getRequestKey(),B=this.boxMap.get(I);if(z.Convert.isNull(B))return 0;let q=0;for(const I of B.keys())q+=null!==(E=null===(C=B.getPage(I))||void 0===C?void 0:C.length)&&void 0!==E?E:0;return q}get removeDeleted(){var C,E;return null!==(E=null!==(C=this.config.removeDeleted)&&void 0!==C?C:DataSource.defaultConfig.removeDeleted)&&void 0!==E&&E}set removeDeleted(C){this.config.removeDeleted!==C&&(this.config.removeDeleted=C,this.clearRows())}setBoxes(C,E,I){var B,q;const Q=this.getRequestKey(C),ee=null!==(B=this.boxMap.get(Q))&&void 0!==B?B:new ae.PageMap(this);let te=[];0==z.Convert.isNull(E)&&(te=E.map(((C,E)=>ne.DataBox.create(C,this.keyMaker,E,this)))),ee.setPage(null!==(q=null==C?void 0:C.pageNo)&&void 0!==q?q:0,te),z.Convert.isValue(I)&&(ee.total=I),this.boxMap.set(Q,ee),this.calcFields(te)}getPageMap(C){var E;null!=C||(C=this.request);const I=this.getRequestKey(C);null!==(E=null==C?void 0:C.pageSize)&&void 0!==E||this.pageSize;if(0==this.boxMap.size){const C=this.ensurePageMap();return this.boxMap.set(I,C),C}return 0==this.boxMap.has(I)&&this.boxMap.set(I,new ae.PageMap(this)),this.boxMap.get(I)}getPageNo(C){const E=this.getPageMap(this.request);return null==E?void 0:E.getPageNo(C)}getBoxes(C,E){const I=this.getPageMap(C);return z.Convert.isEmpty(E)||0==this.isPaging?null==I?void 0:I.getBoxes(C):null==I?void 0:I.view(C,ae.ViewMode.Page,E)}getPageSize(C,E){var I;const B=this.getPageMap(C);return null!==(I=null==B?void 0:B.pageSizes[null!=E?E:0])&&void 0!==I?I:null==B?void 0:B.pageSize}hasPage(C){var E;C=this.adjustPageNo(C);const I=this.getPageMap();return null!==(E=null==I?void 0:I.hasPage(C))&&void 0!==E&&E}sortOriginIndex(){var C;const E=this.boxMap.get(this.requestKey);for(const I of null!==(C=null==E?void 0:E.keys())&&void 0!==C?C:[]){const C=E.getPage(I);null==C||C.sort(((C,E)=>(null==C?void 0:C.originIndex)-(null==E?void 0:E.originIndex)))}}get keyMap(){var C;return null!==(C=this._keyMap)&&void 0!==C?C:this._keyMap=new Map}get insertMap(){var C;return null!==(C=this._insertMap)&&void 0!==C?C:this._insertMap=new Map}get deleteMap(){var C;return null!==(C=this._deleteMap)&&void 0!==C?C:this._deleteMap=new Map}get updateMap(){var C;return null!==(C=this._updateMap)&&void 0!==C?C:this._updateMap=new Map}get inserted(){return this.getSaveData(!0,!1,!1).inserted}get deleted(){return this.getSaveData(!1,!1,!0).deleted}get updated(){return this.getSaveData(!1,!0,!1).updated}isUpdated(C){return this.updateMap.has(C)}isDeleted(C){return this.deleteMap.has(C)}isInserted(C){return this.insertMap.has(C)}get changed(){return this.updateMap.size>0||this.insertMap.size>0||this.deleteMap.size>0}get request(){var C;return null!==(C=this._request)&&void 0!==C?C:{}}map(C,E){if(z.Convert.isNull(E))return this.keyMap.get(C);this.keyMap.set(C,E)}getStatus(C){const E=C.key;return this.insertMap.has(E)?this.deleteMap.has(E)?le.None:le.Insert:this.deleteMap.has(E)?le.Delete:this.updateMap.has(E)?le.Update:le.Normal}setStatus(C,E){switch(E){case le.Normal:this.updateBox(C,!0);break;case le.Delete:this.deleteBox(C,!1);break;case le.Insert:this.insertBox(C,!1);break;case le.Update:this.updateBox(C,!1)}}get pageSize(){var C;return null!==(C=this.config.pageSize)&&void 0!==C?C:DataSource.defaultConfig.pageSize}set pageSize(C){this.pageSize!=C&&(this.config.pageSize=C,this.clearRows())}get isPaging(){return this.config.serverPaging||this.config.clientPaging}get pageOnly(){var C;return null!==(C=this._pageOnly)&&void 0!==C?C:this._pageOnly=this.isPaging}set pageOnly(C){this._pageOnly=C}get total(){var C;return null===(C=this.pageMap)||void 0===C?void 0:C.total}set total(C){z.Convert.isValue(this.pageMap)&&(this.pageMap.total=C)}get adjustedTotal(){var C;return null===(C=this.pageMap)||void 0===C?void 0:C.adjustedTotal}get pageMap(){return this.boxMap.get(this.requestKey)}get loader(){var C;return null!==(C=this._loader)&&void 0!==C?C:this._loader=this.ensureLoader()}set loader(C){this._loader=C}get rows(){return this.loader.nodes}get hasCalcRows(){var C;return null!==(C=this._hasCalcRows)&&void 0!==C?C:this._hasCalcRows=this.config.calculations.some((C=>z.Convert.isValue(C.rows)))}get hasCalcFields(){var C;return null!==(C=this._hasCalcFields)&&void 0!==C?C:this._hasCalcFields=this.config.calculations.some((C=>z.Convert.isValue(C.eval)))}get onPrepareRequest(){return this._onPrepareRequest}set onPrepareRequest(C){this._onPrepareRequest=C}get originIndex(){var C;return null!==(C=this._originIndex)&&void 0!==C?C:this._originIndex=0}addOriginIndex(){return this._originIndex++,this._originIndex}adjustOriginIndex(C){return this._originIndex=Math.max(this._originIndex,C)}removeOriginIndex(C){return this._originIndex==C&&this._originIndex--,this._originIndex}adjustFieldSet(C){var E;return B(this,void 0,void 0,(function*(){if(z.Convert.isEmpty(C))return;if(z.Convert.isValue(null===(E=this.config.schema)||void 0===E?void 0:E.fields))return;C instanceof ne.Box&&(C=C.data);const I=this.fieldSet;for(const E of Object.keys(C))E==DataSource._keyName||I.has(E)||I.add(E)}))}convertData(C){var E,I,B,q,Q,ee,te,ie,re;return(!0===(null===(I=null===(E=this.config)||void 0===E?void 0:E.schema)||void 0===I?void 0:I.convertFields)||z.Convert.isNull(null===(q=null===(B=this.config)||void 0===B?void 0:B.schema)||void 0===q?void 0:q.convert))&&(C=this.convertFields(C)),C=null!==(re=z.Convert.isValue(null===(ee=null===(Q=this.config)||void 0===Q?void 0:Q.schema)||void 0===ee?void 0:ee.convert)&&null!==(ie=null===(te=this.config)||void 0===te?void 0:te.schema.convert(C))&&void 0!==ie?ie:C)&&void 0!==re?re:{}}convertFields(C){var E,I,B,q;z.Convert.isNull(C)&&(C={});const Q=null===(E=this.config.schema)||void 0===E?void 0:E.fields;if(z.Convert.isEmpty(Q))return C;const ee=null!==(q=null===(B=null===(I=this.config)||void 0===I?void 0:I.schema)||void 0===B?void 0:B.convertFields)&&void 0!==q&&q;for(const E of Object.keys(Q)){const I=Q[E];let B=C[E];B=this.convertField(B,I,ee),C[E]=B}return null!=C?C:{}}convertField(C,E,I=void 0){var B,q,Q,ee,te,ie;if(null!=I||(I=null!==(Q=null===(q=null===(B=this.config)||void 0===B?void 0:B.schema)||void 0===q?void 0:q.convertFields)&&void 0!==Q&&Q),"string"==typeof E&&(E=null===(ie=null===(te=null===(ee=this.config)||void 0===ee?void 0:ee.schema)||void 0===te?void 0:te.fields)||void 0===ie?void 0:ie[E]),z.Convert.isNull(E))return C;if((!0===I||z.Convert.isNull(E.convert))&&(null!=C||(C=E.default),z.Convert.isValue(E.dataType))){const I="default"==E.failAs?E.default:"origin"==E.failAs?C:E.failAs;C=z.Convert.convertType(C,E.dataType,I)}return z.Convert.isValue(E.convert)&&(C=E.convert(C)),C}changeBox(C,E,I=!1){!0!==this.config.stateless&&(I?C.delete(E.key):C.set(E.key,E))}insertBox(C,E=!1){const I=C instanceof ne.Box?C:C.box;this.changeBox(this.insertMap,I,E),E&&(this.keyMap.has(I.key)&&this.keyMap.delete(I.key),this.updateMap.delete(I.key)),I.setStatus(ne.Status.Insert),E?this.updateMap.has(C.key)?I.setStatus(ne.Status.Update):I.setStatus(ne.Status.None):I.setStatus(ne.Status.Insert)}deleteBox(C,E=!1){const I=C instanceof ne.Box?C:C.box;if(E&&this.insertMap.has(I.key))return this.insertMap.delete(I.key),this.updateMap.delete(I.key),void this.keyMap.delete(I.key);this.changeBox(this.deleteMap,I,E),E?this.updateMap.has(C.key)?I.setStatus(ne.Status.Update):I.setStatus(ne.Status.None):I.setStatus(ne.Status.Delete)}updateBox(C,E=!1){const I=C instanceof ne.Box?C:C.box;this.changeBox(this.updateMap,I,E);const B=I.getStatus();B!=ne.Status.Delete&&B!=ne.Status.Insert&&(E?I.setStatus(ne.Status.None):I.setStatus(ne.Status.Update))}getEmptyData(){var C;const E={};if(z.Convert.isEmpty(null===(C=this.config.schema)||void 0===C?void 0:C.fields))return E;const I=this.config.schema.fields;for(const C in I){const B=I[C];E[C]=B.default}return E}newBox(C){var E,I,q,Q;return B(this,void 0,void 0,(function*(){if(C instanceof ne.DataBox)return null!==(E=C.originIndex)&&void 0!==E||(C.originIndex=this.addOriginIndex()),C;let B=this.keyMaker;C=z.Convert.mergeData(C,this.getEmptyData()),z.Convert.isValue(null===(I=this.config.schema)||void 0===I?void 0:I.add)&&(C=this.config.schema.add(C))instanceof Promise&&(C=yield C);const te=B(C);if(this.keyMap.has(te)&&z.Convert.isValue(null===(q=this.config.schema)||void 0===q?void 0:q.id)){B=ee.BaseLoader.symbolKeyMaker;const E=null===(Q=this.config.schema)||void 0===Q?void 0:Q.id;if("function"==typeof E);else if(E instanceof Array)for(const I of E)C[I]=void 0}return ne.DataBox.create(C,B,this.addOriginIndex(),this)}))}createBox(C,E){var I;const B=C instanceof ne.DataBox?C:ne.DataBox.create(C,this.keyMaker,E,this);return E<this.config.fieldsSamples&&1==(null===(I=this.config.schema)||void 0===I?void 0:I.autoFields)&&this.adjustFieldSet(C),B}get fieldsRebuilded(){return this._fieldsRebuilded}rebuildFields(C){var E,I,B,q,Q,ee,te,ie,re,ne,se;if(!z.Convert.isValue(null===(E=this.config.schema)||void 0===E?void 0:E.fields)||0!=(null===(I=this.config.schema)||void 0===I?void 0:I.autoFields)&&!this.fieldsRebuilded){if(null!==(B=(se=this.config).schema)&&void 0!==B||(se.schema={fields:{}}),z.Convert.isValue(C)){const E=null!==(q=this.config.schema.fields)&&void 0!==q?q:this.config.schema.fields={},I=this.config.schema.failAs,B={},se=[],oe=this.config.fieldsSamples;let ae=0;for(const I in C){if(ae>=oe)break;const q=C[I];if(!z.Convert.isNull(q)&&"object"==typeof q){for(const C of Object.keys(q)){if(C==DataSource._keyName)continue;const I=q[C],re=null!==(Q=B[C])&&void 0!==Q?Q:{},ne=null!==(ee=E[C])&&void 0!==ee?ee:{};re.dataType=null!==(te=null==ne?void 0:ne.dataType)&&void 0!==te?te:z.Convert.isValue(I)?typeof I:"any",re.nullable=null!==(ie=null==ne?void 0:ne.nullable)&&void 0!==ie?ie:z.Convert.isNull(I),B[C]=re}se.push(q),++ae}}for(const C in B)for(const E in se){const I=se[E];z.Convert.isNull(I[C])&&(B[C].nullable=!0)}for(const C in B){const q=E[C];if(z.Convert.isNull(q))E[C]=B[C];else{const E=B[C];null!==(re=q.dataType)&&void 0!==re||(q.dataType=E.dataType),null!==(ne=q.nullable)&&void 0!==ne||(q.nullable=E.nullable),0==q.hasOwnProperty("failAs")&&(q.failAs=I)}}const le=this.fieldSet;for(const C of Object.keys(E))le.add(C)}this._fieldsRebuilded=!0}}moveToList(C,E,I,B,q=void 0){var Q,ee;if(null!=q||(q=[]),z.Convert.isNull(I))return q.push({key:E.key,oldIndex:E.originIndex,newIndex:E.originIndex}),C.push(E),q;const te=E.originIndex<(null!==(Q=null==I?void 0:I.originIndex)&&void 0!==Q?Q:0)?-1:1,re=C.findIndex((C=>C==E)),ne=C.findIndex((C=>C==I))+(te>0?0:-1)+(B?0:1);if(re==ne)return;const se=Math.min(re,ne),oe=Math.max(re,ne),ae=[];for(let I=se;I<=oe;I++){const B=C[I];z.Convert.isNull(B)||B===E||ae.push({index:I,box:B})}let le;for(const E of ae){const I=E.box.originIndex;le=null!=le?le:I,E.index+=te;const B=null===(ee=C[E.index])||void 0===ee?void 0:ee.originIndex;E.box.originIndex=B,q.push({key:E.box.key,oldIndex:I,newIndex:B}),C[E.index]=E.box}return q.push({key:E.key,oldIndex:E.originIndex,newIndex:le}),E.originIndex=le,C[ne]=E,C.sort(((C,E)=>C.originIndex-E.originIndex)),ie.Log.debug((()=>["DataSource.moveToList",q.length])),q}moveToList_old(C,E,I,B,q=void 0){var Q;null!=q||(q=[]);const ee=E.originIndex<I.originIndex?-1:1,te=C.findIndex((C=>C==E)),re=C.findIndex((C=>C==I))+(ee>0?0:-1)+(B?0:1);if(te==re)return;const ne=Math.min(te,re),se=Math.max(te,re),oe=[];for(let I=ne;I<=se;I++){const B=C[I];z.Convert.isNull(B)||B===E||oe.push({index:I,box:B})}let ae;for(const E of oe){const I=E.box.originIndex;ae=null!=ae?ae:I,E.index+=ee;const B=null===(Q=C[E.index])||void 0===Q?void 0:Q.originIndex;E.box.originIndex=B,q.push({key:E.box.key,oldIndex:I,newIndex:B}),C[E.index]=E.box}return q.push({key:E.key,oldIndex:E.originIndex,newIndex:ae}),E.originIndex=ae,C[re]=E,C.sort(((C,E)=>C.originIndex-E.originIndex)),ie.Log.debug((()=>["DataSource.moveToList",q.length])),q}addBox(C,E,I,B){var q,Q,ee,te,ie,re,ne,se,oe;const ae=this.deleteMap.has(E.key);ae?this.deleteBox(E,!0):this.insertBox(E),C=[...null!=C?C:[]];let le=0;if(ae){if(0==this.config.removeDeleted)return!1;le=E.originIndex,E.originIndex=(null!==(Q=null===(q=C[C.length-1])||void 0===q?void 0:q.originIndex)&&void 0!==Q?Q:0)+1,C.push(E);const I=C.findIndex((C=>C.originIndex==le));this.moveToList(C,E,C[I],!0)}if(z.Convert.isNull(I))switch(B){case ue.Before:B=ue.First;break;case ue.After:B=ue.Last}const de=this.getPageMap(this.request),ce=z.Convert.isNull(I)?B==ue.First?0:de.lastPageNo:de.getPageNo(I),he=null!==(ee=de.getPage(ce))&&void 0!==ee?ee:[];let fe=!0;switch(B){case ue.Before:le=I.originIndex;break;case ue.After:le=I.originIndex,fe=!1;break;case ue.First:le=null!==(ie=null===(te=he[0])||void 0===te?void 0:te.originIndex)&&void 0!==ie?ie:0;break;case ue.Last:le=null!==(ne=null===(re=he[he.length-1])||void 0===re?void 0:re.originIndex)&&void 0!==ne?ne:0,fe=!1}if(E.originIndex=(null!==(oe=null===(se=he[he.length-1])||void 0===se?void 0:se.originIndex)&&void 0!==oe?oe:0)+1,he.push(E),he.length>1){const C=he.findIndex((C=>C.originIndex==le));this.moveToList(he,E,he[C],fe)}return de.setPage(ce,he),!0}removeBox(C,E,I){const B=E.key,z=this.insertMap.has(E.key);if(z?this.insertBox(E,!0):this.deleteBox(E),z||this.removeDeleted){null!=C||(C=[]),(C=[...C]).sort(((C,E)=>C.originIndex-E.originIndex));let I=C.findIndex((C=>C.key==B));I>=0&&(I+1==C.length?C.length=I:C.splice(I,1),this.adjustBoxIndex(C,I,E.originIndex)),this.removeOriginIndex(E.originIndex);const z=this.getPageMap(this.request),q=z.getPageNo(E),Q=z.getPage(q);I=Q.findIndex((C=>C.key==B)),I>=0&&(Q.splice(I,1),z.setPage(q,Q))}return z||this.removeDeleted}adjustBoxIndex(C,E,I){for(let B=C.length;E<B;E++){const B=C[E];z.Convert.isNull(B)||([B.originIndex,I]=[I,B.originIndex])}}insertNode(C,E,I,q,Q,ee=!1){return B(this,void 0,void 0,(function*(){if(ee)return this.removeNode(C,E,I,q,Q);if(null!=C||(C=null==E?void 0:E.parent),z.Convert.isEmpty(E))switch(Q){case ue.Before:Q=ue.First;break;case ue.After:Q=ue.Last}z.Convert.isNull(q)&&(q=Q==ue.Last?-1:this.pageNo);const B=yield this.newBox(I),te=C instanceof ne.ParentNode?C.nodes.map((C=>C.box)):this.getBoxes(this.request);z.Convert.isNull(te)&&(yield this.load(q));return this.addBox(te,B,null==E?void 0:E.box,Q)&&this.loader.insertNode(C,E,B,Q)}))}removeNode(C,E,I,z,q,Q=!1){return B(this,void 0,void 0,(function*(){if(Q)return this.insertNode(C,E,I,z,q);const B=C instanceof ne.ParentNode?C.nodes.map((C=>C.box)):this.getBoxes(this.request);return this.removeBox(B,E.box,q)?this.loader.removeNode(C,E,I,q):E}))}moveToNode(C,E,I){const B=this.loader.moveToNode(C,E,I);if(z.Convert.isEmpty(B))return;for(const C of B){if(0==this.keyMap.has(C.key))continue;this.keyMap.get(C.key).originIndex=C.newIndex}const q=this.getPageMap(this.request),Q=q.getPageNo(C.box),ee=q.getPageNo(E.box);if(!(Q<0||ee<0))if(Q==ee){const C=q.getPage(Q);C.sort(((C,E)=>C.originIndex-E.originIndex)),q.setPage(Q,C)}else{const C=Math.min(Q,ee),E=Math.max(Q,ee),I=[];for(let B=C;B<=E;B++){if(0==q.hasPage(B))continue;const C=q.getPage(B);I.push(...C)}I.sort(((C,E)=>C.originIndex-E.originIndex));let B=0;for(let Q=C;Q<=E;Q++){if(0==q.hasPage(Q))continue;const C=q.pageSizes[Q];z.Convert.isEmpty(Q)||(q.setPage(Q,I.slice(B,B+C)),B+=C)}}}getSaveData(C=!0,E=!0,I=!0){const B=[],z=[],q=[];if(C)for(const C of this.insertMap.keys())this.deleteMap.has(C)||B.push(this.insertMap.get(C).data);if(I)for(const C of this.deleteMap.keys())this.insertMap.has(C)||z.push(this.deleteMap.get(C).data);if(E)for(const C of this.updateMap.keys())this.insertMap.has(C)||this.deleteMap.has(C)||q.push(this.updateMap.get(C).data);return{inserted:B,deleted:z,updated:q}}getModifiedKeys(C=!0,E=!0,I=!0){const B=new Set;if(C)for(const C of this.insertMap.keys())this.deleteMap.has(C)||B.add(C);if(I)for(const C of this.deleteMap.keys())this.insertMap.has(C)||B.add(C);if(E)for(const C of this.updateMap.keys())this.insertMap.has(C)||this.deleteMap.has(C)||B.add(C);return B}clearSaveData(C=void 0){this.insertMap.clear(),this.deleteMap.clear(),this.updateMap.clear()}ensureFieldSet(){var C;const E=new Set;if(z.Convert.isEmpty(null===(C=this.config.schema)||void 0===C?void 0:C.fields))return E;for(const C of Object.keys(this.config.schema.fields))C!=DataSource._keyName&&E.add(C);return E}ensurePageMap(C=void 0){const E=new ae.PageMap(this);return E.setList(C),E}importData(C){this.clearRows();const E=this.ensurePageMap(C);this.total=C.length,this.boxMap.set("",E)}appendData(C){const E=this.getBoxes();this.clearRows(),C=E.concat(C);const I=this.ensurePageMap(C);this.boxMap.set("",I),this.total=I.boxes.length}loadView(C=0,E=ae.ViewMode.Page){var I;return B(this,void 0,void 0,(function*(){if(C=this.adjustPageNo(C),E==ae.ViewMode.Page)return yield this.load(C,E);const B=this.getPageMap(),z=null!==(I=null==B?void 0:B.flowToPage(C))&&void 0!==I?I:[0];for(const C of z)yield this.load(C);const q=[],Q=B.pageToFromTo(C,ae.ViewMode.Page);if(Q.from<this.loader.nodeCount&&Q.to<=this.loader.nodeCount)for(let C=Q.from;C<Q.to;C++)q.push(this.loader.nodes[C]);return q}))}adjustPageNo(C){if(0==this.isPaging)return 0;if(C<0){const E=this.total;if(z.Convert.isEmpty(E)||0==E)return 0;C=this.getPageMap().lastPageNo}return C}load(C=0,E=ae.ViewMode.Page){var I,z,q;return B(this,void 0,void 0,(function*(){C=this.adjustPageNo(C);const B=this.getPageMap(void 0),Q=null!==(z=null===(I=null==B?void 0:B.pageToFromTo(C,E))||void 0===I?void 0:I.from)&&void 0!==z?z:this.config.pageSize*C;let ee=this.loader.prepareRequest(void 0,Q,E);null!==(q=ee.pageNo)&&void 0!==q||(ee.pageNo=C),this.loader.doMakeRequest(ee);let te=yield this.loader.load(ee,void 0);this.pageOnly&&this.loader.clearRows();return this.loader.loaded(te,ee,void 0)}))}search(){return B(this,void 0,void 0,(function*(){ie.Log.debug((()=>["DataSource.search"])),this.changeLoader()&&(ie.Log.debug((()=>["DataSource.search","changeLoader"])),this.ensureLoader()),yield this.loader.search(),ie.Log.debug((()=>["DataSource.search","end"]))}))}clearRows(){ie.Log.debug((()=>"DataSource.clearRows")),this.loader.clearRows(),this.keyMap.clear(),this.boxMap.clear(),this.clearSaveData(),this._originIndex=0,this._request=void 0,this._requestKey=void 0,this.total=void 0}reload(){ie.Log.debug((()=>"dataSource.reload")),this.save(),this._loader=te.LoaderFactory.ensureLoader(this,this.config)}get updateIndex(){return this._updateIndex}beginUpdate(){this._updateIndex++}endUpdate(){this._updateIndex--,this._updateIndex<0&&(this._updateIndex=0),this.loader.calcAggregates()}adjustServerRequest(C){return C}loadFunc(C,E){var I,q;return B(this,void 0,void 0,(function*(){if("function"==typeof E){let B=E(C);if(void 0===B)return{};if(B instanceof Promise&&(B=yield B),z.Convert.isNull(B))return{};const Q=B instanceof Array?{selected:B,total:B.length}:this.parseResponse(B);return null!==(I=Q.total)&&void 0!==I||(Q.total=null===(q=Q.selected)||void 0===q?void 0:q.length),Q}return{selected:[].concat(this.config.data)}}))}parseResponse(C){var E,I,B;const z=C;return z.selected=C[this.config.ajax.selected],null!==(E=z.total)&&void 0!==E||(z.total=null!==(B=null===(I=z.selected)||void 0===I?void 0:I.length)&&void 0!==B?B:0),z}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new z.Lock}selectRequest(C,E=void 0){var I;return B(this,void 0,void 0,(function*(){try{yield this.lock.acquire();let B={};if(z.Convert.isNull(E)&&(E=null===(I=this.config.ajax)||void 0===I?void 0:I.select),this.saveRequest(C),this.hasPage(C.pageNo)){const E=this.getBoxes(C,C.pageNo);if(0==z.Convert.isNull(E))return B.selected=E,B.total=this.total,B}return"function"==typeof E?yield this.selectFromFunction(C,E,B):this.config.data instanceof Array?this.selectFromList(this.config.data,C):z.Convert.isValue(C.url)?yield this.selectFromUrl(C,E,B):(B.selected=[],B.total=0,B)}finally{yield this.lock.release()}}))}selectFromList(C,E){var I;let B={};const z=this.ensurePageMap(C);return this.boxMap.set(this.getRequestKey(E),z),0==this.isPaging&&(z.total=null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0),C=z.boxes,B.selected=this.getBoxes(E,E.pageNo),B.total=C.length,B}selectFromFunction(C,E,I){var z,q,Q;return B(this,void 0,void 0,(function*(){if(0==this.hasPage(C.pageNo)||0==this.compareRequest(C)){let B=yield this.loadFunc(this.adjustServerRequest(C),E);if(I=this.doResponse(B),0==this.isPaging||I.selected.length==I.total)return this.selectFromList(I.selected,C);this.setBoxes(C,I.selected,I.total),I.selected=this.getBoxes(C,C.pageNo)}else I.selected=[];return null!==(z=I.total)&&void 0!==z||(I.total=null!==(Q=null===(q=I.selected)||void 0===q?void 0:q.length)&&void 0!==Q?Q:0),I}))}selectFromUrl(C,E,I){var q,ee,te,ie,re,ne,se;return B(this,void 0,void 0,(function*(){let B;switch(null!==(q=null==E?void 0:E.loadType)&&void 0!==q?q:Q.MethodType.Post){case Q.MethodType.Get:B=yield z.Utils.getData(C.url);break;case Q.MethodType.Post:B=yield z.Utils.postData(C.url,this.adjustServerRequest(C))}if(B=this.doResponse(B),z.Convert.isNull(B))return I;const oe=null===(ee=this.config.ajax)||void 0===ee?void 0:ee.selected,ae=null===(te=this.config.ajax)||void 0===te?void 0:te.total,le=null===(ie=this.config.ajax)||void 0===ie?void 0:ie.aggregated;return I.selected=B instanceof Array?B:null!==(re=B.selected)&&void 0!==re?re:B[oe],I.total=B instanceof Array?B.length:null!==(ne=B.total)&&void 0!==ne?ne:B[ae],I.aggregated=null!==(se=B.aggregated)&&void 0!==se?se:B[le],I.selected.length==I.total?this.selectFromList(I.selected,C):(this.setBoxes(C,I.selected,I.total),I.selected=this.getBoxes(void 0,C.pageNo),I)}))}applyAggregated(C){if(z.Convert.isEmpty(this.config.aggregates))return;const E=new Map;for(var I of(C.forEach((C=>E.set(C.field,C))),this.config.aggregates))E.has(I.field)&&(I.value=E.get(I.field).value)}doResponse(C){var E,I,B,q,ee,te,re,ne;let oe=null!==(q="function"==typeof(null===(E=this.config.ajax)||void 0===E?void 0:E.select)||null===(B=null===(I=this.config.ajax)||void 0===I?void 0:I.select)||void 0===B?void 0:B.response)&&void 0!==q?q:null===(ee=this.config.ajax)||void 0===ee?void 0:ee.response;if(z.Convert.isValue(oe)){const E=null!==(te=oe(C,Q.AjaxOperation.Select))&&void 0!==te?te:C;ie.Log.debug((()=>({f:"load.response",response:C,responseResult:E}))),z.Convert.isValue(E)&&C!==E&&(se.RequestBuilder.apply(E,C),C=E)}else{const E=C;C={selected:null!==(re=E[this.config.ajax.selected])&&void 0!==re?re:E.selected,total:null!==(ne=E[this.config.ajax.total])&&void 0!==ne?ne:E.total},z.Convert.isValue(E[this.config.ajax.aggregated])&&(C.aggregated=E[this.config.ajax.aggregated])}return C}updateRequest(C,E=void 0){var I;return B(this,void 0,void 0,(function*(){return z.Convert.isNull(E)&&(E=null===(I=this.config.ajax)||void 0===I?void 0:I.update),"function"==typeof E?yield E(C):ie.Log.warn("변경된 데이터가 있으나 저장용 함수(dataConfig.ajax.update)가 지정되지 않았습니다. 변경된 데이터 정보는 삭제됩니다."),{}}))}saveRequest(C){this._request={url:C.url,aggregates:z.Convert.default(C.aggregates,void 0,Q.DataSourceParser.parseAggregates),filters:z.Convert.default(C.filters,void 0,(C=>Q.DataSourceParser.parseFilters(C))),groups:z.Convert.default(C.groups,void 0,Q.DataSourceParser.parseGroups),orders:z.Convert.default(C.orders,void 0,Q.DataSourceParser.parseOrders),parentKey:C.parentKey,parentField:C.parentField,pageNo:C.pageNo,pageSize:C.pageSize,startRow:C.startRow,nodeIndex:C.nodeIndex,rowData:C.rowData},this._requestKey=this.getRequestKey(this._request)}getFilterString(C){var E;const I=[];null===(E=C.filters)||void 0===E||E.forEach((C=>I.push(this.getFilterString(C))));return`{filter: ${C.operator} [${z.Convert.asStringArray(C.field).join(",")}] [${z.Convert.asStringArray(C.values).join(",")}] filters: [${I}]}`}getRequestKey(C=void 0,E=!1){var I;if(z.Convert.isNull(C)&&(C=this._request),this.config.lazyLoading&&z.Convert.isValue(null==C?void 0:C.parentKey))return`parent=${null!==(I=C.parentKey)&&void 0!==I?I:""}`;const B=[];return E&&B.push(`{range: ${this.config.pageRange}}`),(E||this.config.serverFiltering)&&z.Convert.isValue(null==C?void 0:C.filters)&&C.filters.forEach((C=>B.push(this.getFilterString(C)))),(E||this.config.serverGrouping)&&z.Convert.isValue(null==C?void 0:C.groups)&&B.push(...C.groups.map((C=>{var E;return`{group: ${C.field}=${null!==(E=C.value)&&void 0!==E?E:""}}`}))),(E||this.config.serverSorting)&&z.Convert.isValue(null==C?void 0:C.orders)&&B.push(...C.orders.map((C=>`{order: ${C.field}=${C.dir}}`))),B.join(",")}compareRequest(C){var E,I,B,q,Q,ee,te,ie,re;let ne=!0;return ne&&(ne=(null===(E=this.request)||void 0===E?void 0:E.pageNo)==C.pageNo),ne&&(ne=(null===(I=this.request)||void 0===I?void 0:I.pageSize)==C.pageSize),ne&&(ne=(null===(B=this.request)||void 0===B?void 0:B.parentField)==C.parentField),ne&&(ne=(null===(q=this.request)||void 0===q?void 0:q.parentKey)==C.parentKey),ne&&(ne=(null===(Q=this.request)||void 0===Q?void 0:Q.parentField)==C.parentField),ne&&(ne=0==this.config.serverFiltering||z.Convert.arrayEqual(null===(ee=this.request)||void 0===ee?void 0:ee.filters,C.filters,((C,E)=>C.operator==E.operator&&compareFields(C.field,E.field)))),ne&&(ne=0==this.config.serverGrouping||z.Convert.arrayEqual(null===(te=this.request)||void 0===te?void 0:te.groups,C.groups,((C,E)=>C.dir==E.dir&&compareFields(C.field,E.field)))),ne&&(ne=0==this.config.serverAggregates||z.Convert.arrayEqual(null===(ie=this.request)||void 0===ie?void 0:ie.aggregates,C.aggregates,((C,E)=>C.func==E.func&&compareFields(C.require,E.require)))),ne&&(ne=0==this.config.serverSorting||z.Convert.arrayEqual(null===(re=this.request)||void 0===re?void 0:re.orders,C.orders,((C,E)=>C.dir==E.dir&&compareFields(C.field,E.field)))),ne;function compareFields(C,E){return z.Convert.asStringArray(C)==z.Convert.asStringArray(E)}}save(C=void 0){var E;return B(this,void 0,void 0,(function*(){const I={inserted:(C=null!=C?C:this.getSaveData()).inserted,updated:C.updated,deleted:C.deleted};ie.Log.info((()=>["dataSource.save",I])),(z.Convert.isValue(I.inserted)||z.Convert.isValue(I.deleted)||z.Convert.isValue(I.updated))&&(yield this.updateRequest(I,null===(E=this.config.ajax)||void 0===E?void 0:E.update)),this.clearRows()}))}doCommand(C,E){return!!super.doCommand(C,E)&&(E.command,!0)}doPreapareRequest(C,E){z.Convert.isValue(this._onPrepareRequest)&&this._onPrepareRequest(C,E)}ensureLoader(){const C=te.LoaderFactory.ensureLoader(this,this.config);return C.onPrepareRequest=(C,E)=>this.doPreapareRequest(C,E),ie.Log.debug((()=>["ensureLoader",C.onPrepareRequest])),this.loader=C,C}changeLoader(){return te.LoaderFactory.changeLoader(this.loader,this.config)}getGroupByField(C,E=!0){var I,q,te;return B(this,void 0,void 0,(function*(){const B=[{field:C,dir:Q.SortDir.Asc}],ie=this.config.filters.filter((I=>1==I.fixed||E&&z.Convert.isValue(I.field)&&I.field!=C)),ne={filters:ie},se=this.getBoxes(ne);if(z.Convert.isNull(se)){if(this.config.serverGrouping){const E={url:null!==(q="function"==typeof(null===(I=this.config.ajax)||void 0===I?void 0:I.select)?void 0:this.config.ajax.select.url)&&void 0!==q?q:null===(te=this.config.ajax)||void 0===te?void 0:te.baseUrl,groups:B,filters:ie};return(yield this.selectRequest(E)).selected.map((E=>E[C]))}{const E=ee.Filtering.filterList(this.loader.getAllItems(),ie);return re.GroupLoader.clientMakeGroup(E,this.loader.keyMaker,B,[],[],this).selected.map((E=>E[C]))}}{const E=ee.Filtering.filterList(se,ie);return re.GroupLoader.clientMakeGroup(E,this.loader.keyMaker,B,[],[],this).selected.map((E=>E.data[C]))}}))}calcFields(C){if(this.hasCalcFields)for(const E of C)for(const C of this.config.calculations){if(z.Convert.isNull(C.eval))continue;const I=ee.Aggregate.calcFields(C,E.data);E.data[C.field]!=I&&E.setData(I,C.field)}const E=this.hasCalcRows?C.map((C=>C.cloneData())):z.Convert.isValue(this.config.aggregates)?C.map((C=>C.data)):[];if(this.hasCalcRows)for(const C of this.config.calculations)z.Convert.isNull(C.rows)||ee.BaseLoader.calculateRows(C,E)}static indexToPage(C,E){return 0==C?0:Math.ceil((C+1)/E)-1}}var le,ue;E.DataSource=DataSource,DataSource._keyName="_key_",DataSource._defaultConfig={pageSize:20,batch:!1},DataSource.keySeperator="[!_!]",function(C){C.None="none",C.Normal="",C.Update="update",C.Insert="insert",C.Delete="delete"}(le||(E.DataStatus=le={})),function(C){C[C.Before=0]="Before",C[C.After=1]="After",C[C.First=2]="First",C[C.Last=3]="Last",C[C.Child=4]="Child"}(ue||(E.InsertTo=ue={}))},7392:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.PageRange=E.NullAs=E.FilterOperators=E.AggregateFunctions=E.RankFunctions=E.CalculationRange=E.SortDir=E.AjaxOperation=E.LoadDataType=E.MethodType=E.DataSourceParser=void 0;const B=I(5260),z=I(1163),q=I(194),Q=I(3354);class DataSourceParser{static parseConfig(C){var E,I,B,Q,ee,te,ie,re,ne,se;const oe=null!==(I=null!==(E=DataSourceParser.combineBool(C.serverPaging,C.clientPaging))&&void 0!==E?E:this.combineBool(q.DataSource.defaultConfig.serverPaging,q.DataSource.defaultConfig.clientPaging))&&void 0!==I&&I,ae=z.Convert.default(C.ajax,{},DataSourceParser.parseAjax),le=DataSourceParser.adjustData(C.data,ae);z.Convert.isValue(le);let de={batch:z.Convert.default(C.batch,null===(B=q.DataSource.defaultConfig.batch)||void 0===B||B),pageSize:z.Convert.default(C.pageSize,q.DataSource.defaultConfig.pageSize),schema:DataSourceParser.parseSchema(C.schema),clientPaging:oe,serverPaging:oe,serverSorting:z.Convert.default(C.serverSorting,null!==(Q=q.DataSource.defaultConfig.serverSorting)&&void 0!==Q&&Q),serverFiltering:z.Convert.default(C.serverFiltering,null!==(ee=q.DataSource.defaultConfig.serverFiltering)&&void 0!==ee&&ee),serverGrouping:z.Convert.default(C.serverGrouping,null!==(te=q.DataSource.defaultConfig.serverGrouping)&&void 0!==te&&te),serverAggregates:z.Convert.default(C.serverAggregates,null!==(ie=q.DataSource.defaultConfig.serverAggregates)&&void 0!==ie&&ie),calculations:z.Convert.default(C.calculations,[],DataSourceParser.parseCalculations),filters:z.Convert.default(C.filters,[],(C=>DataSourceParser.parseRootFilters(C))),orders:z.Convert.default(C.orders,[],DataSourceParser.parseOrders),aggregates:z.Convert.default(C.aggregates,[],DataSourceParser.parseAggregates),groups:z.Convert.default(C.groups,[],DataSourceParser.parseGroups),tree:z.Convert.default(C.tree,void 0,DataSourceParser.parseTree),lazyLoading:z.Convert.default(C.lazyLoading,!1),pageRange:z.Convert.default(C.pageRange,null!==(re=q.DataSource.defaultConfig.pageRange)&&void 0!==re?re:ue.Auto,(C=>z.Convert.parseEnum(ue,C))),ajax:ae,fieldsSamples:z.Convert.default(C.fieldsSamples,null!==(ne=q.DataSource.defaultConfig.fieldsSamples)&&void 0!==ne?ne:10),stateless:z.Convert.default(C.stateless,!1),removeDeleted:z.Convert.default(C.removeDeleted,null!==(se=q.DataSource.defaultConfig.removeDeleted)&&void 0!==se&&se),data:le};return z.Convert.isValue(de.tree)&&DataSourceParser.adjustListMap(de.tree,de.ajax),de}static combineBool(...C){return!!C.some((C=>!0===C))||!C.some((C=>!1===C))&&void 0}static adjustListMap(C,E){z.Convert.isNull(C.order)&&(C.order=null==E?void 0:E.order)}static parseAjax(C){return{baseUrl:C.baseUrl,request:C.request,response:C.response,total:z.Convert.default(C.total,Q.AjaxProperty.totalName),selected:z.Convert.default(C.selected,Q.AjaxProperty.selectedName),inserted:z.Convert.default(C.inserted,Q.AjaxProperty.insertedName),updated:z.Convert.default(C.updated,Q.AjaxProperty.updatedName),deleted:z.Convert.default(C.deleted,Q.AjaxProperty.deletedName),aggregated:z.Convert.default(C.aggregated,Q.AjaxProperty.aggregateName),select:DataSourceParser.parseAjaxOption(C.select),update:DataSourceParser.parseAjaxOption(C.update)}}static parseCalculations(C,E){const I=[];for(const B of C)I.push(DataSourceParser.parseCalculation(B,E));return DataSourceParser.sortCalcReference(I)}static parseCalculation(C,E){var I,B;return{field:null!==(I=C.field)&&void 0!==I?I:E,require:"string"==typeof C.require?[C.require]:null!==(B=C.require)&&void 0!==B?B:[],eval:DataSourceParser.parseCalculationFunc(C.eval),rows:DataSourceParser.parseRows(C.rows),nullAs:C.nullAs,dataType:DataSourceParser.parseDataType(C.dataType),range:z.Convert.default(C.range,ne.TopLevel,(()=>z.Convert.parseEnum(ne,C.range))),params:this.parseParams(C.params)}}static parseRows(C){var E;if(z.Convert.isNull(C))return;if("function"==typeof C)return C;return{func:null!==(E=C.func)&&void 0!==E?E:se.Rank,dir:z.Convert.isEmpty(C.dir)?re.Asc:z.Convert.parseEnum(re,C.dir)}}static sortCalcReference(C){const E=new Map,I=new Map,q=[];for(const B in C){const Q=C[B];z.Convert.isValue(null==Q?void 0:Q.field)?(I.set(Q.field,Q),E.set(Q.field,0)):q.push(Q)}for(const E in C){findReference(C[E])}function findReference(C){var q;if(!z.Convert.isEmpty(null==C?void 0:C.eval))try{const B=C.require;if(z.Convert.isValue(B))for(const C of B){if(z.Convert.isWhite(C))continue;const B=(null!==(q=E.get(C))&&void 0!==q?q:0)+1;if(B>50)throw`The calculation field(${C}) is being referenced too much. A circular reference is expected.`;E.set(C,B);const Q=I.get(C);z.Convert.isEmpty(Q)||findReference(Q)}}catch(C){throw B.Log.error((()=>({error:C,map:E}))),C}}const Q=[];for(const C of E.keys()){const B=I.get(C);z.Convert.isNull(B)||Q.push({calc:B,order:E.get(C)})}return[].concat(q).concat(Q.sort(((C,E)=>E.order-C.order)).map((C=>C.calc)))}static parseCalculationFunc(C){return"function"==typeof C?C:z.Convert.parseEnum(oe,C)}static parseTree(C){return{master:C.master,parent:C.parent,level:C.level,order:C.order,leaf:C.leaf,open:C.open,checkParent:z.Convert.default(C.checkParent,!1),checkChild:z.Convert.default(C.checkChild,!1),aggregates:DataSourceParser.parseAggregates(null==C?void 0:C.aggregates),aggregateFull:z.Convert.default(C.aggregateFull,!1)}}static parseOrders(C){const E=[];for(const I of null!=C?C:[])E.push(DataSourceParser.parseOrder(I));return E}static parseOrder(C){return{field:C.field,dir:z.Convert.default(C.dir,re.Asc,(()=>z.Convert.parseEnum(re,C.dir))),sort:C.sort,getValue:C.getValue}}static parseGroups(C){const E=[];for(const I of null!=C?C:[])E.push(DataSourceParser.parseGroup(I));return E}static parseGroup(C){var E,I,B;return{field:C.field,dir:z.Convert.default(C.dir,re.Asc,(()=>z.Convert.parseEnum(re,C.dir))),groupCount:null!==(E=C.groupCount)&&void 0!==E?E:"___groupCount___",groupField:C.groupField,showFooter:C.showFooter,itemCount:null!==(I=C.itemCount)&&void 0!==I?I:"___itemCount___",aggregated:null!==(B=C.aggregated)&&void 0!==B?B:"__aggregated__",aggregates:DataSourceParser.parseAggregates(C.aggregates),isOpen:z.Convert.default(C.isOpen,!1)}}static parseRootFilters(C){const E=DataSourceParser.parseFilters(C),I=[],B=new Map;E.forEach((C=>{const E=z.Convert.asStringArray(C.field).join("_");B.has(E)?B.get(E).push(C):B.set(E,[C])}));for(const C of B.keys()){const E=B.get(C);if(1==E.length)I.push(E[0]);else{const z={operator:ae.And,field:E[0].field,filters:B.get(C)};I.push(z)}}return I}static parseFilters(C,E,I){const B=[];for(const z of C instanceof Array?C:[C])B.push(DataSourceParser.parseFilter(z,E,I));return B}static parseFilter(C,E,I){var B;const q=z.Convert.asStringArray(C.field,E),Q={field:q,dataType:C.dataType,fixed:z.Convert.default(C.fixed,!1),operator:z.Convert.default(C.operator,void 0,(C=>"function"==typeof C?C:z.Convert.parseEnum(ae,C))),values:z.Convert.default(C.values,void 0,DataSourceParser.parseFilterValues),filters:z.Convert.default(C.filters,void 0,(C=>DataSourceParser.parseFilters(C,q))),ignoreCase:null!==(B=C.ignoreCase)&&void 0!==B&&B,getValue:z.Convert.default(C.getValue,void 0)};return z.Convert.isValue(I)?I(Q):Q}static parseFilterValues(C){return"string"==typeof C?[C]:[].concat(C)}static parseAggregates(C){const E=[];for(const I of null!=C?C:[])E.push(DataSourceParser.parseAggregate(I));return DataSourceParser.sortCalcReference(E)}static parseAggregate(C){return{func:DataSourceParser.parseAggregateFunc(C.func),require:z.Convert.asStringArray(C.require),nullAs:C.nullAs,payload:C.payload,field:C.field,dataType:DataSourceParser.parseDataType(C.dataType),payloadType:DataSourceParser.parseDataType(C.payloadType),eval:DataSourceParser.parseCalculationFunc(C.eval),params:this.parseParams(C.params),value:C.value}}static parseParams(C){if(z.Convert.isNull(C))return;if("string"==typeof C)return[C];if(C instanceof Array)return C;if(C instanceof Map)return C;const E=new Map;for(const I in C)E.set(I,C[I]);return E}static parseDataType(C){if(!z.Convert.isNull(C))return"function"==typeof C?C:z.Convert.parseEnum(z.DataType,C)}static parseAggregateFunc(C){return"function"==typeof C?C:z.Convert.parseEnum(oe,C)}static adjustData(C,E){if(!z.Convert.isNull(C)){if(C instanceof Array)return[].concat(C);if(z.Convert.isEmpty(E.selected))throw"invalid data (schema.list is empty)";if(0==C.hasOwnProperty(E.selected))throw`invalid data (data has no property schema.list: [${E.selected}])`;return[].concat(C[E.selected])}}static parseAjaxOption(C){if("function"==typeof C)return C;return{url:null==C?void 0:C.url,dataType:z.Convert.default(null==C?void 0:C.dataType,te.Json,(C=>z.Convert.parseEnum(te,C))),loadType:z.Convert.default(null==C?void 0:C.loadType,ee.Post,(C=>z.Convert.parseEnum(ee,C))),request:null==C?void 0:C.request,response:null==C?void 0:C.response}}static parseSchema(C){var E,I,B,Q,ee;null!=C||(C={});let te={id:z.Convert.default(C.id,void 0,DataSourceParser.parseModelId),order:z.Convert.default(C.order,void 0),add:z.Convert.default(C.add,void 0),convert:z.Convert.default(C.convert,void 0),total:z.Convert.default(C.total,void 0),autoFields:z.Convert.default(C.autoFields,null===(I=null===(E=q.DataSource.defaultConfig.schema)||void 0===E?void 0:E.autoFields)||void 0===I||I),convertFields:z.Convert.default(C.convertFields,null===(Q=null===(B=q.DataSource.defaultConfig.schema)||void 0===B?void 0:B.convertFields)||void 0===Q||Q),failAs:z.Convert.default(C.failAs,C.hasOwnProperty("failAs")?C.failAs:null===(ee=q.DataSource.defaultConfig.schema)||void 0===ee?void 0:ee.failAs),fields:{}};if((null==C?void 0:C.fields)instanceof Object)for(let E in C.fields){if(z.Convert.isEmpty(E))continue;let I=C.fields[E],B={dataType:z.Convert.default(I.dataType,void 0,(C=>z.Convert.parseEnum(z.DataType,C))),failAs:z.Convert.default(I.failAs,I.hasOwnProperty("failAs")?I.failAs:te.failAs),convert:z.Convert.default(I.convert,void 0),default:z.Convert.default(I.default,void 0),nullable:z.Convert.default(I.nullable,!0)};te.fields[E]=B}return te}static parseData(C,E,I){throw new Error("Method not implemented.")}static parseModelId(C){return"string"==typeof C?[C]:C}static parseValidation(C){return C}}var ee,te,ie,re,ne,se,oe,ae,le,ue;E.DataSourceParser=DataSourceParser,function(C){C.Post="post",C.Get="get"}(ee||(E.MethodType=ee={})),function(C){C.Json="json"}(te||(E.LoadDataType=te={})),function(C){C.Select="select",C.Update="update"}(ie||(E.AjaxOperation=ie={})),function(C){C.Asc="asc",C.Desc="desc",C.None="none"}(re||(E.SortDir=re={})),function(C){C.LastLevel="last",C.TopLevel="top",C.BottomUp="step"}(ne||(E.CalculationRange=ne={})),function(C){C.Rank="rank"}(se||(E.RankFunctions=se={})),function(C){C.Sum="sum",C.Average="average",C.Avg="avg",C.Total="total",C.Count="count",C.Min="min",C.Max="max",C.First="first",C.Last="last",C.Range="range",C.Switch="switch"}(oe||(E.AggregateFunctions=oe={})),function(C){C.IsLessThan="IsLessThan",C.LessThan="<",C.IsLessThanOrEqualTo="IsLessThanOrEqualTo",C.LessThanOrEqualTo="<=",C.IsEqualTo="IsEqualTo",C.EqualTo="==",C.IsNotEqualTo="IsNotEqualTo",C.NotEqualTo="!=",C.IsGreaterThanOrEqualTo="IsGreaterThanOrEqualTo",C.GreaterThanOrEqualTo=">=",C.IsGreaterThan="IsGreaterThan",C.GreaterThan=">",C.StartsWith="StartsWith",C.NotStartsWith="NotStartsWith",C.EndsWith="EndsWith",C.NotEndsWith="NotEndsWith",C.Contains="Contains",C.NotContains="NotContains",C.In="In",C.NotIn="NotIn",C.IsNull="IsNull",C.IsNotNull="IsNotNull",C.IsEmpty="IsEmpty",C.IsNotEmpty="IsNotEmpty",C.IsNullOrEmpty="IsNullOrEmpty",C.IsNotNullOrEmpty="IsNotNullOrEmpty",C.FromTo="FromTo",C.NotFromTo="NotFromTo",C.And="And",C.Or="Or"}(ae||(E.FilterOperators=ae={})),function(C){C.Ignore="ignore"}(le||(E.NullAs=le={})),function(C){C.Auto="auto",C.Page="page",C.Whole="whole"}(ue||(E.PageRange=ue={}))},2351:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.GroupLoader=void 0;const z=I(1163),q=I(7392),Q=I(3354),ee=I(5260),te=I(6105),ie=I(6105),re=I(194);class GroupLoader extends ie.BaseLoader{get clientMap(){return this._clientMap}prepareRequest(C,E,I){let B=super.prepareRequest(C,E,I);if(z.Convert.isNull(C));else for(;0==z.Convert.isNull(C);){for(let E of B.groups)if(E.field==C.igroup.field){E.value=C.groupKey;break}C=C.parent}return B}clientLoad(C,E){var I,q,Q,re,ne;return B(this,void 0,void 0,(function*(){ee.Log.time("clientLoad"),null!=E||(E=(yield this.dataSource.selectRequest(C)).selected),(0==ie.BaseLoader.compareFilters(null===(I=this.request)||void 0===I?void 0:I.filters,C.filters)||0==ie.BaseLoader.compareOrders(null===(q=this.request)||void 0===q?void 0:q.orders,C.orders)||0==ie.BaseLoader.compareGroups(null===(Q=this.request)||void 0===Q?void 0:Q.groups,C.groups)||z.Convert.isNull(this._clientMap))&&(ee.Log.debug((()=>"make map")),E=[].concat(E),E=te.Filtering.filterList(E,C.filters),E=te.Sorting.sortList(E,C.groups,C.orders),this.config.lazyLoading&&this.ensureMap(E),ee.Log.debug((()=>"make map end")));let B={};return(null!==(ne=null===(re=C.groups)||void 0===re?void 0:re.length)&&void 0!==ne?ne:0)>0&&(B=this.config.lazyLoading?GroupLoader.clientFindData(this.clientMap,this.keyMaker,C,this.config.serverPaging,this.dataSource):GroupLoader.clientMakeGroup(E,this.keyMaker,C.groups,this.config.aggregates,this.config.calculations,this.dataSource)),ee.Log.timeLog("clientLoad",E.length),ee.Log.timeEnd("clientLoad"),ee.Log.debug((()=>({f:"clientLoad",pageNo:C.pageNo,length:B.selected.length}))),B}))}serverLoad(C){var E,I;return B(this,void 0,void 0,(function*(){if((null!==(I=null===(E=this.clientMap)||void 0===E?void 0:E.size)&&void 0!==I?I:0)>0)if(this.config.serverGrouping)this.config.lazyLoading,this.config.serverPaging;else{if(this.config.lazyLoading)return yield this.clientLoad(C);this.config.serverPaging}return yield this._serverLoad(C)}))}_serverLoad(C){return B(this,void 0,void 0,(function*(){const E=C.groups;0==this.config.serverGrouping&&(C.groups=void 0,z.Convert.isNull(C.orders)?C.orders=[].concat(E):C.orders=[].concat(E).concat(C.orders)),C.pageNo=0,C.pageSize=void 0;const I=yield this.dataSource.selectRequest(C),B=I.selected,q=I.total;let te={};if(this.config.serverPaging&&(te.total=q),z.Convert.isValue(C.aggregates)&&this.config.serverAggregates&&(te.aggregated=I.aggregated),1==this.config.serverGrouping){C.groups.some((C=>z.Convert.isEmpty(C.value)))?(te.selected=GroupLoader.serverMakeGroup(B,this.keyMaker,this.config.calculations,C.groups,this.dataSource),te.total=q):te.selected=B.map(((C,E)=>new Q.ListNode(this.dataSource.createBox(C,E),this.keyMaker,E)))}else 1==this.config.serverPaging?(this._clientMap=void 0,C.groups=E,te=yield this.clientLoad(C)):(this.dataSource.setBoxes(C,B),C.groups=E,te=yield this.clientLoad(C));return z.Convert.isValue(q)&&(this.dataSource.total=q),ee.Log.debug((()=>["_serverLoad",C,te])),te}))}loaded(C,E,I){let B=[];if(this.config.serverPaging)B=this.serverPaging(C,E,I);else if(B=C.selected,z.Convert.isNull(I)?this.nodeCount=C.selected.length:I.nodeCount=C.selected.length,z.Convert.isValue(I))for(let C of B)I.addNode(C);else for(let C of B)C.index=this.nodes.length,this.nodes.push(C);return B}static clientFindData(C,E,I,B,te){const ie=[];let re;const ne=I.groups;ee.Log.debug((()=>["clientFindData",I]));for(const C of ne){if(re=C,z.Convert.isNull(C.value))break;ie.push(C.value)}let se={selected:[]};const oe=ie.join(GroupLoader.seperator);let ae=C.get(oe);const le=(""==oe?0:ie.length)!=ne.length;if(z.Convert.isValue(ae)){let C=0;se.total=ae.length,B&&z.Convert.isValue(I.pageSize)&&(C=I.pageNo*I.pageSize,ae=[].concat(ae).splice(C,I.pageSize));for(const I in ae){const B=ae[I],ee=B instanceof Q.Box?B.data:B;if(le){let I=q.DataSourceParser.parseGroup(re);const B=ee[I.field],ie=ee[I.itemCount],ne=ee[this.aggregatesField];let oe={};for(let C in ee)oe[C]=ee[C];delete oe[I.itemCount],delete oe[GroupLoader.aggregatesField];const ae=new Q.GroupNode(void 0,B,oe,E,I,te);ae.itemCount=ie,ae.index=C++,ae.igroup.aggregates=ne,ae.footer=z.Convert.isValue(ne)?new Q.FooterNode(ae,E,ne):void 0,se.selected.push(ae)}else{const q=new Q.ListNode(B,E,z.Convert.asNumber(I));q.index=C++,se.selected.push(q)}}}return se}static clientMakeGroup(C,E,I,B,q,te){let ie=new Map;ee.Log.time("clientMakeGroup");const re=C.keys();for(const B of re){let q=C[B];if(z.Convert.isEmpty(q))continue;let ee,re=ie;const ne={};for(let C of I){let I=q.data[C.field];if(ne[C.field]=I,z.Convert.isValue(C.value)&&I!=C.value){ee=void 0;break}if(0==re.has(I)){let B={};for(let C in ne)B[C]=ne[C];let q=new Q.GroupNode(ee,I,B,E,C,te);z.Convert.isNull(ee)?re.set(I,q):ee.addNode(q),ee=q,re=q.map}else ee=re.get(I),re=ee.map}null==ee||ee.addNode(new Q.GroupItem(q,E,B))}let ne=[],se=0;for(let C of ie.values())C.index=se++,ne.push(C);ee.Log.timeLog("clientMakeGroup");const oe=GroupLoader.makeGroupTotal(ne,void 0,q,E);return this.makeTotal(oe,B,C),ee.Log.timeEnd("clientMakeGroup"),{selected:ne,total:ne.length,aggregated:B}}calcAggregates(){if(this.dataSource.updateIndex>0)return;let C=GroupLoader.makeGroupTotal(this.nodes,this.filter,this.config.calculations,this.keyMaker);z.Convert.isValue(C)&&GroupLoader.makeTotal(C,this.config.aggregates,this.dataSource.getBoxes().map((C=>C.data)))}static makeTotal(C,E,I){if(z.Convert.isValue(E)){const I=C.map((C=>C.data));z.Convert.isValue(E)&&te.Aggregate.aggregates(I,E,!1)}}static groupKeyMaker(C,E,I){const B=[];for(const z of C)if(B.push(`${z.field}_${I}`),z.field==E)break;return"_group_"+B.join("/")}static serverMakeGroup(C,E,I,B,ee){let te=new Map;for(let I of C){let C,ie=te;const re={},ne=I instanceof Q.DataBox?I.data:I;for(let I of B){I=q.DataSourceParser.parseGroup(I);let B=ne[I.field];if(z.Convert.isNull(B))break;if(re[I.field]=B,z.Convert.isValue(I.value)){if(B!=I.value)break}else if(0==ie.has(B)){let q={};for(let C in re)q[C]=re[C];let te=new Q.GroupNode(C,B,q,E,I,ee);const se=ne[I.aggregated],oe=ne[I.itemCount],ae=ne[I.groupCount];if(z.Convert.isValue(se)&&se instanceof Array){const C=se;for(const E of te.igroup.aggregates){const I=C.find((C=>C.field==E.field));z.Convert.isValue(I)&&(E.value=I.value)}}z.Convert.isValue(oe)&&(te.itemCount=oe),z.Convert.isValue(ae)&&(te.nodeCount=ae,0==te.nodeCount&&(te.nodeCount=void 0)),z.Convert.isNull(C)?ie.set(B,te):C.addNode(te),C=te,ie=te.map}else C=ie.get(B),ie=C.map}}const ie=[];let re=0;for(const C of te.values())C.index=re++,ie.push(C);return GroupLoader.makeGroupTotal(ie,void 0,I,E),ie}ensureMap(C){const E=new Map;this._clientMap=new Map;for(const I of C){if(z.Convert.isNull(I))continue;const C=I.data,B=[],q=[],Q={};for(const I of this.config.groups){I.field;const z=C[I.field];B.push(z);const ee=q.join(GroupLoader.seperator),te=E.has(ee)?E.get(ee):new Map;Q[I.field]=z;let ie={};for(let C in Q)ie[C]=Q[C];0==te.has(z)&&te.set(z,ie),E.set(ee,te),q.push(z)}const ee=B.join(GroupLoader.seperator);this._clientMap.has(ee)?this._clientMap.get(ee).push(I):this._clientMap.set(ee,[I])}for(const C of this._clientMap.keys()){const I=C.split(GroupLoader.seperator);for(;I.length>0;){I.join(GroupLoader.seperator);const B=I.pop(),q=I.join(GroupLoader.seperator);if(E.has(q)){const Q=E.get(q);if(Q.has(B)){const E=Q.get(B),q=""==C?this.config.groups[0]:this.config.groups[I.length];z.Convert.isNull(E[q.itemCount])&&(E[q.itemCount]=0);const ee=this._clientMap.get(C);E[q.itemCount]+=ee.length,z.Convert.isValue(null==q?void 0:q.aggregates)&&(null==q?void 0:q.aggregates.length)>0&&(z.Convert.isNull(E[GroupLoader.itemsField])&&(E[GroupLoader.itemsField]=[]),E[GroupLoader.itemsField]=E[GroupLoader.itemsField].concat(ee))}}}}for(const C of E.keys()){const I=[],B=this.config.groups[""==C?0:C.split(GroupLoader.seperator).length];for(const q of E.get(C)){const C=q[1];I.push(C),z.Convert.isValue(null==B?void 0:B.aggregates)&&(null==B?void 0:B.aggregates.length)>0&&(C[GroupLoader.aggregatesField]=te.Aggregate.aggregates(C[GroupLoader.itemsField],B.aggregates,!0),delete C[GroupLoader.itemsField])}this._clientMap.set(C,I)}return z.Convert.isValue(this.config.aggregates)&&(this.config.aggregates=te.Aggregate.aggregates(C,this.config.aggregates,!0)),this._clientMap}static makeGroupTotal(C,E,I,B){var ee;let ie=[],re=!1,ne=!1;const se=I.some((C=>z.Convert.isValue(C.eval))),oe=I.some((C=>z.Convert.isValue(C.rows)));for(const oe of C)if(!z.Convert.isNull(oe))if(oe instanceof Q.GroupNode){const C=this.makeGroupTotal(oe.nodes,E,I,B);oe.nodes.length>0&&(oe.nodeCount=oe.nodes.length),C.length>0&&(oe.itemCount=C.length),oe.igroup=q.DataSourceParser.parseGroup(oe.igroup),z.Convert.isValue(oe.igroup.aggregates)&&(C.length>0&&oe.igroup.aggregates.every((C=>z.Convert.isEmpty(C.value)))&&(oe.igroup.aggregates=te.Aggregate.aggregates(C.map((C=>C.data)),oe.igroup.aggregates,!0)),z.Convert.isNull(oe.footer)?oe.footer=new Q.FooterNode(oe,B,oe.igroup.aggregates):oe.footer.aggregates=oe.igroup.aggregates),ie=ie.concat(C),ne=0==oe.level}else se&&this.calcFields(oe,I),1==(null===(ee=null==E?void 0:E(oe))||void 0===ee||ee)&&ie.push(oe),re=!0;return oe&&GroupLoader.calcRows(ie,I,re,ne),ie}static calcFields(C,E){for(const I of E)if(z.Convert.isValue(I.eval)){const E=te.Aggregate.calcFields(I,C.data);C.setData(E,I.field)}}static calcRows(C,E,I,B){if(E.some((C=>z.Convert.isValue(C.rows)))){const Q=C.map((C=>C.cloneData()));for(const C of E)z.Convert.isValue(C.rows)&&(C.range==q.CalculationRange.BottomUp||C.range==q.CalculationRange.LastLevel&&I||C.range==q.CalculationRange.TopLevel&&B)&&ie.BaseLoader.calculateRows(C,Q)}}search(){return B(this,void 0,void 0,(function*(){ee.Log.debug((()=>["GroupLoader.search"])),z.Convert.isValue(this.clientMap&&this.clientMap.size>0)&&GroupLoader.reorderClientMap(this.clientMap,this.config.groups,this.config.orders),GroupLoader.reorderNodes(this.nodes,this.nodeCount,this.config.groups,this.config.orders),ee.Log.debug((()=>["Loader.search","end"]))}))}static reorderNodes(C,E,I,B){var z;if(C.length===E){const E=C[0];if(E instanceof Q.GroupNode){const Q=null===(z=I.find((C=>C.field==E.igroup.field)))||void 0===z?void 0:z.dir;E.igroup.dir=Q,C.sort(((C,E)=>C.groupKey<E.groupKey?Q==q.SortDir.Asc?-1:1:Q==q.SortDir.Asc?1:-1));for(const E of C)this.reorderNodes(E.nodes,E.nodeCount,I,B)}else{const E={field:"originIndex",dir:q.SortDir.Asc};te.Sorting.sortList(C,I,B.concat(E),((C,I)=>I.field!=E.field?C.value(I.field):C.box.originIndex))}for(let E=0;E<C.length;E++)C[E].index=E}else C.splice(0)}static reorderClientMap(C,E,I){for(const B of C.keys()){const z=C.get(B);te.Sorting.sortList(z,E,I)}}insertNode(C,E,I,B,q=!1){var ee;if(q)return this.removeNode(C,E,I,B);if(0==this.dataSource.insertMap.has(I.key))return E;const te=B==re.InsertTo.Last||B==re.InsertTo.Child?C.nodes.length:B==re.InsertTo.First?0:null!==(ee=(null==E?void 0:E.index)+(B==re.InsertTo.After?1:0))&&void 0!==ee?ee:0,ne=new Q.GroupItem(I,ie.BaseLoader.symbolKeyMaker,te);return z.Convert.isValue(C)?C.addNode(ne,te):z.Convert.isValue(E.parent)&&E.parent.addNode(ne,te),this.calcAggregates(),ne}removeNode(C,E,I,B,q=!1){var Q;if(q)return this.insertNode(C,E,I,B);if(this.dataSource.deleteMap.has(I.key))return E;const ee=E,te=null!==(Q=E.parent)&&void 0!==Q?Q:C;return z.Convert.isValue(te)&&te.removeNode(ee),ee.parent=te,this.calcAggregates(),ee}makeAllItemsData(C){let E=[];for(const I of C)I instanceof Q.GroupNode?E=E.concat(this.makeAllItemsData(I.nodes)):I instanceof Q.GroupItem&&E.push(I.data);return E}getAllItems(){return this.makeAllItemsData(this.nodes)}moveToNode(C,E,I){var B;const q=null!==(B=this.dataSource.orderMap)&&void 0!==B?B:[];if(z.Convert.isNull(C.parent)&&z.Convert.isNull(E.parent))return ie.BaseLoader.moveToList(this.nodes,C,E,I,q);E instanceof Q.GroupNode?(I&&E.index>0&&(E=z.Convert.isNull(E.parent)?this.nodes[E.index-1]:E.parent.nodes[E.index-1]),E instanceof Q.GroupNode&&(C.parent.removeNode(C),E.addNode(C,void 0,q),E.isOpen=!0)):z.Convert.isValue(C.parent)&&z.Convert.isValue(E.parent)&&(C.moveTo(E,I,q),E.parent.isOpen=!0);GroupLoader.makeGroupTotal(this.nodes,this.filter,this.config.calculations,this.keyMaker);return q}}E.GroupLoader=GroupLoader,GroupLoader.seperator="[_!!_]",GroupLoader.aggregatesField="___aggregates___",GroupLoader.itemsField="___items___"},5060:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ListLoader=void 0;const z=I(1163),q=I(6105),Q=I(6105),ee=I(3354),te=I(5260),ie=I(194),re=I(7392);class ListLoader extends Q.BaseLoader{constructor(C){super(C),this._clientRows=[]}get clientRows(){var C;return null!==(C=this._clientRows)&&void 0!==C?C:this._clientRows=[]}search(){return B(this,void 0,void 0,(function*(){te.Log.debug((()=>["ListLoader.search"])),z.Convert.isEmpty(this.nodes)?this.dataSource.sortOriginIndex():(ListLoader.reorderNodes(this.nodes,this.nodeCount,this.config.orders,this.dataSource.pageOnly&&0==this.config.serverSorting),z.Convert.isEmpty(this.config.orders)&&this.dataSource.sortOriginIndex()),te.Log.debug((()=>["ListLoader.search",[].concat(this.nodes)]))}))}static reorderNodes(C,E,I,B){if(0==B&&(C.length<E||C.findIndex((C=>z.Convert.isNull(C)))>=0))return void C.splice(0);const Q={field:"__originIndex__",dir:re.SortDir.Asc};I=[].concat(I).concat(Q),q.Sorting.sortList(C,[],I,((C,E)=>E.field!=Q.field?C.value(E.field):C.box.originIndex));for(let E=0;E<C.length;E++){const I=C[E];z.Convert.isNull(I)||(I.index=E)}}prepareRequest(C,E,I){return super.prepareRequest(C,E,I)}loaded(C,E,I){var B,q;let Q=[];if(z.Convert.isNull(C))return Q;if(z.Convert.isValue(C.aggregated)&&this.dataSource.applyAggregated(C.aggregated),0==this.isPaging){let E=C.selected;this.nodes.splice(0);let I=0;if(z.Convert.isValue(E))for(const C of E)C.index=I,this.nodes.push(C),Q.push(C),I++;z.Convert.isEmpty(C.aggregated)&&this.makeTotal(this.nodes,this.filter,this.config.aggregates),this.nodeCount=E.length}else this.nodeCount=C.total+(null!==(q=null===(B=this.dataSource.getPageMap(E))||void 0===B?void 0:B.added)&&void 0!==q?q:0),Q=this.serverPaging(C,E,void 0);return Q}clientLoad(C){return B(this,void 0,void 0,(function*(){return yield this.serverLoad(C)}))}clientSelect(C,E){let I=[];const B=C.keys();for(const E of B){const B=C[E];I.push(new ee.ListNode(B,this.keyMaker,E))}return I}serverLoad(C){var E,I;return B(this,void 0,void 0,(function*(){const B=yield this.dataSource.selectRequest(C);let Q=B.selected;const ee=B.total,ie={};return this.isPaging?(ie.total=ee,this.dataSource.total=ie.total):(ie.total=ee,null!==(E=(I=this.dataSource).total)&&void 0!==E||(I.total=Q.length)),0==this.config.serverFiltering&&z.Convert.isValue(C.filters)&&(Q=q.Filtering.filterList(Q,C.filters)),0==this.config.serverSorting&&(z.Convert.isValue(C.groups)||z.Convert.isValue(C.orders))&&(Q=q.Sorting.sortList(Q,C.groups,C.orders)),z.Convert.isValue(C.aggregates)&&this.config.serverAggregates&&(ie.aggregated=B.aggregated),ie.selected=this.serverSelect(Q,C),te.Log.debug((()=>["serverLoad",C,ie])),ie}))}serverSelect(C,E){var I;const B=[];C=this.adjustServerResponse(E,C);let q=null!==(I=E.nodeIndex)&&void 0!==I?I:0;if(z.Convert.isValue(C))for(const E of C)B.push(new ee.ListNode(E,this.keyMaker,q)),q++;return B}makeTotal(C,E,I){if(!this.config.serverAggregates&&(z.Convert.isValue(this.config.aggregates)||z.Convert.isValue(this.config.calculations))){if(C=z.Convert.isNull(E)?C:C.filter(E),this.dataSource.hasCalcFields)for(const E of C)for(const C of this.config.calculations){if(z.Convert.isNull(C.eval))continue;const I=q.Aggregate.calcFields(C,E.data);E.data[C.field]!=I&&E.setData(I,C.field)}const I=this.dataSource.hasCalcRows?C.map((C=>C.cloneData())):z.Convert.isValue(this.config.aggregates)?this.nodes.map((C=>C.data)):[];if(this.dataSource.hasCalcRows)for(const C of this.config.calculations)z.Convert.isNull(C.rows)||Q.BaseLoader.calculateRows(C,I);z.Convert.isValue(this.config.aggregates)&&q.Aggregate.aggregates(I,this.config.aggregates,!1)}}calcAggregates(){this.dataSource.updateIndex>0||this.makeTotal(this.nodes,this.filter,this.config.aggregates)}adjustIndex(C){for(let E=C,I=this.nodes.length;E<I;E++){const C=this.nodes[E];z.Convert.isNull(C)||(C.index=E)}}insertNode(C,E,I,B,q=!1){if(q)return this.removeNode(C,E,I,B);if(0==this.dataSource.removeDeleted&&0==this.dataSource.insertMap.has(I.key))return E;let te;const re=B==ie.InsertTo.Last?this.nodes.length:B==ie.InsertTo.First||z.Convert.isNull(E)?0:E.index+(B==ie.InsertTo.After?1:0);return te=new ee.ListNode(I,Q.BaseLoader.symbolKeyMaker,re),te.index=re,this.nodes.splice(re,0,te),this.nodeCount++,this.adjustIndex(re),this.calcAggregates(),te}removeNode(C,E,I,B,z=!1){if(z)return this.insertNode(C,E,I,B);if(0==this.dataSource.removeDeleted&&this.dataSource.deleteMap.has(I.key))return E;const q=E.index;return this.nodes.splice(q,1),this.nodeCount--,this.adjustIndex(q),this.calcAggregates(),this.nodes[q]}getAllItems(){return this.nodes.map((C=>C.data))}moveToNode(C,E,I){return Q.BaseLoader.moveToList(this.nodes,C,E,I,this.dataSource.orderMap)}}E.ListLoader=ListLoader},512:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.LoaderFactory=void 0;const B=I(1163),z=I(5060),q=I(6140),Q=I(2351),ee=I(5260);E.LoaderFactory=class LoaderFactory{static ensureLoader(C,E){var I,te,ie;return ee.Log.debug((()=>({f:"ensureLoader",dataSource:C,config:E}))),B.Convert.isValue(E.groups)?new Q.GroupLoader(C):B.Convert.isValue(null===(I=E.tree)||void 0===I?void 0:I.level)||B.Convert.isValue(null===(te=E.tree)||void 0===te?void 0:te.master)&&B.Convert.isValue(null===(ie=E.tree)||void 0===ie?void 0:ie.parent)?new q.TreeLoader(C):new z.ListLoader(C)}static changeLoader(C,E){const I=C.stopLoader();return ee.Log.debug((()=>["changeLoader",I])),I}}},3354:(C,E,I)=>{"use strict";var B;Object.defineProperty(E,"__esModule",{value:!0}),E.AjaxProperty=E.FixedFields=E.PivotNode=E.GroupNode=E.TreeNode=E.TreeCheck=E.ParentNode=E.FooterNode=E.GroupItem=E.ListNode=E.ItemNode=E.DataBox=E.Box=E.Status=void 0;const z=I(5260),q=I(1163),Q=I(6105),ee=I(194);var te,ie;!function(C){C.None="",C.Update="U",C.Insert="I",C.Delete="D"}(te||(E.Status=te={}));class Box{constructor(C,E,I){this._data=C,this._originData=C,this._originIndex=I,q.Convert.isNull(C)&&z.Log.warn((()=>"data is null")),this._key=E(this._data,I),this._data._key_=this._key}static create(C,E,I){return new Box(C,E,I)}get key(){return this._key}get data(){return this._data}set data(C){this._data!==C&&(this._data=C)}get originData(){return this._originData}get originIndex(){return this._originIndex}set originIndex(C){this._originIndex=C}get modified(){return this.data!==this.originData}getValue(C){var E;return null===(E=this.data)||void 0===E?void 0:E[C]}cloneData(){if(this.modified)return this.data;const C={};for(const E in this.data)C[E]=this.data[E];return this.data=C,C}getStatus(){return this.data[FixedFields.status]}setStatus(C){q.Convert.isEmpty(C)?delete this.data[FixedFields.status]:this.data[FixedFields.status]=C}setData(C,E){if(q.Convert.isEmpty(E)){if(C===this.data)return!1;this.data=C}else{if(C===this.getValue(E))return!1;0==this.modified&&this.cloneData(),this.data[E]=C}return!q.Convert.isSame(this.originData,this.data)}}E.Box=Box;class DataBox extends Box{get dataSource(){return this._dataSource}set dataSource(C){this._dataSource=C}constructor(C,E,I,B){super(E,I,B),this._dataSource=C,C.keyMap.set(this.key,this),C.adjustOriginIndex(B)}static create(C,E,I,B=void 0){return C instanceof DataBox?C:(C=B.convertData(C),new DataBox(B,C,E,I))}get originIndex(){return super.originIndex}set originIndex(C){super.originIndex!=C&&(super.originIndex=C,this.dataSource.adjustOriginIndex(C))}setStatus(C){super.setStatus(C)}setData(C,E){var I,B;q.Convert.isValue(E)&&1==(null===(B=null===(I=this.dataSource.config.schema)||void 0===I?void 0:I.fields)||void 0===B?void 0:B.hasOwnProperty(E))&&(C=this.dataSource.convertField(C,E));const z=super.setData(C,E);let Q=this.isSameSchema();return this.dataSource.updateBox(this,Q),z}isSameSchema(){let C=!0;for(const E of this.dataSource.fieldSet.keys())if(C=q.Convert.isSameValue(this.originData[E],this.data[E]),0==C)break;return C}get status(){return this.dataSource.getStatus(this)}}E.DataBox=DataBox;class ItemNode{constructor(C,E,I){this._box=C instanceof Box?C:new Box(C,E,I),this._gIndex=ItemNode._maxIndex++}get box(){return this._box}get key(){return this.box.key}get data(){return this.box.data}set data(C){this.box.data=C,this._calc=void 0}get status(){return this.box instanceof DataBox?this.box.status:ee.DataStatus.None}get modified(){return this.box.modified}get calcFields(){return!0}get calc(){var C;return null!==(C=this._calc)&&void 0!==C?C:this._calc={}}set calc(C){this._calc!==C&&(this._calc=C)}get originData(){return this.box.originData}get originIndex(){return this.box.originIndex}get parent(){return this._parent}set parent(C){this.parent!==C&&(this._parent=C,this._treeIndex=void 0)}get level(){var C;return this.parent instanceof ParentNode?(null!==(C=this.parent.level)&&void 0!==C?C:-1)+1:0}set level(C){}get index(){return this._index}set index(C){if(this._index===C)return;const E=this._index;this._index=C,this._treeIndex=void 0,this.setOrder(E,C)}get treeIndex(){var C;return null!==(C=this._treeIndex)&&void 0!==C?C:this._treeIndex=(this.parent instanceof ParentNode?this.parent.treeIndex+".":"")+q.Convert.lpad(this.index+"",ItemNode.TreeIndexLength,"0")}getOrderFunc(){var C,E;return this.box instanceof DataBox?null===(E=null===(C=this.box.dataSource)||void 0===C?void 0:C.config.schema)||void 0===E?void 0:E.order:void 0}setOrder(C,E){const I=this.getOrderFunc();if(q.Convert.isValue(I))if("function"==typeof I){if(E!=I(this.data)){const C=q.Convert.cloneData(this.data);I(C,E),this.setData(C,void 0)}}else this.setData(E,I)}setData(C,E){return this.box.setData(C,E)}cloneData(){return this.box.cloneData()}value(C){return this.box.getValue(C)}}E.ItemNode=ItemNode,ItemNode._maxIndex=0,ItemNode.TreeIndexLength=5;E.ListNode=class ListNode extends ItemNode{};class GroupItem extends ItemNode{static getGroupKeys(C,E=void 0){if(!q.Convert.isNull(C))return E=null!=E?E:new Map,C instanceof GroupNode&&E.set(C.igroup.field,C.groupKey),this.getGroupKeys(C.parent,E),E}moveTo(C,E,I){var B;if(q.Convert.isNull(C))return;if(q.Convert.isValue(this.parent)&&this.parent==C.parent)return void Q.BaseLoader.moveToList(this.parent.nodes,this,C,E,I);const ee=C.index+(E?0:1);null===(B=this.parent)||void 0===B||B.removeNode(this),C instanceof GroupNode?(z.Log.debug((()=>["target is GroupNode",C.key])),C.addNode(this,void 0,I)):C.parent.addNode(this,ee,I),z.Log.debug((()=>["moveTo",C.parent.data,this.data]))}}E.GroupItem=GroupItem;class FooterNode extends ItemNode{get calcFields(){return!1}constructor(C,E,I){super(C,(E=>FooterNode.footerKeyMaker(C,E.data)),0),this.parent=C,this._aggregates=I}static footerKeyMaker(C,E){const I=[];for(const C in E)I.push(`${C}:${E[C]}`);return"__footer__ "+C.key}get aggregates(){return this._aggregates}set aggregates(C){this._aggregates=C}get index(){return this.data instanceof ParentNode?this.data.nodeCount:0}value(C){return this.data instanceof ParentNode?this.data.value(C):void 0}get level(){return this.data instanceof ParentNode?this.data.level+1:0}set level(C){}}E.FooterNode=FooterNode;class ParentNode extends ItemNode{constructor(C,E,I,B,z){super(E,I,B),this.parent=C}get parent(){return this._parent}set parent(C){this._parent!==C&&(this._parent=C)}get nodes(){var C;return null!==(C=this._nodes)&&void 0!==C?C:this._nodes=[]}get nodeCount(){return this._nodeCount}set nodeCount(C){this._nodeCount=C}get isLeaf(){return this._isLeaf}set isLeaf(C){this._isLeaf=C}get isOpen(){return this._isOpen}set isOpen(C){this._isOpen=C}get level(){var C;return null!==(C=this._level)&&void 0!==C?C:0}set level(C){this._level!=C&&(this._level=C)}get hasFooter(){return q.Convert.isValue(this._footer)}get footer(){return this._footer}set footer(C){var E;q.Convert.isValue(this.footer)&&(null===(E=this.footer)||void 0===E?void 0:E.parent)==(null==C?void 0:C.parent)?this._footer.aggregates=C.aggregates:this._footer=C}get openCount(){let C=this.isOpen?this.nodeCount+(this.hasFooter?1:0):0;for(const E of this.nodes)E instanceof ParentNode&&(C+=E.openCount);return C}moveTo(C,E,I){var B,z;if(q.Convert.isNull(C))return;let ee=C;for(;q.Convert.isValue(ee=ee.parent);)if(ee==this)return;if(q.Convert.isValue(this.parent)&&this.parent==C.parent)return void Q.BaseLoader.moveToList(this.parent.nodes,this,C,E,I);const te=C.index+(E?0:1);null===(B=this.parent)||void 0===B||B.removeNode(this),null===(z=C.parent)||void 0===z||z.addNode(this,te)}addNode(C,E,I=void 0){let B=q.Convert.isNull(I)?-1:this.nodes.findIndex((E=>E.key==C.key));if(B>=0&&(this.nodes.splice(B,1),ParentNode.adjustIndex(this.nodes,B)),q.Convert.isNull(E)?(this.nodes.push(C),C.index=this.nodes.length-1):(this.nodes.splice(E,0,C),C.index=E,ParentNode.adjustIndex(this.nodes,E)),0==q.Convert.isNull(I)){const C=this.nodes.map((C=>C.box.originIndex)).sort(((C,E)=>C-E));this.nodes.forEach(((E,B)=>{const z=E.box.originIndex,q=C[B];z!=q&&I.push({key:E.key,oldIndex:z,newIndex:q})}))}this.nodeCount=this.nodes.length,B<0&&(C.level=this.level+1,C.parent=this)}removeNode(C){let E=this.nodes.findIndex((E=>E.key==C.key));E>=0&&(this.nodes.splice(E,1),this.nodeCount=this.nodes.length,ParentNode.adjustIndex(this.nodes,E),C.parent=void 0,z.Log.debug((()=>({f:"removeNode",nodes:this.nodes}))))}static adjustIndex(C,E=0){for(let I of C.keys()){if(I<E)continue;let B=C[I];q.Convert.isNull(B)||(B.index=I)}}bfsSearch_old(C){if(!q.Convert.isNull(C)){var E=new q.Queue;for(E.push(this);E.any();){var I=E.pop();if(C(I))return I;if(I instanceof ParentNode)for(let C of I.nodes)E.push(C)}}}bfsSearch(C){let E=[this];return q.Arrays.bfsSearch(E,(E=>!0===C(E)||(E instanceof ParentNode?E.nodes:[])))}dfsSearch(C){let E=[this];return q.Arrays.dfsSearch(E,(E=>!0===C(E)||(E instanceof ParentNode?E.nodes:[])))}*bfsIterator(){var C=new q.Queue;for(C.push(this);C.any();){var E=C.pop();if(yield E,E instanceof ParentNode)for(let I of E.nodes)C.push(I)}}bfsAction(C){let E=[this];q.Arrays.bfsAction(E,(E=>!1===C(E)?[]:E instanceof ParentNode?E.nodes:[]))}dfsAction(C){let E=[this];q.Arrays.dfsAction(E,(E=>!1===C(E)?[]:E instanceof ParentNode?E.nodes:[]))}dfsSearch_old(C){if(!q.Convert.isNull(C)){var E=new q.Stack;for(E.push(this);E.any();){var I=E.pop();if(C(I))return I;if(I instanceof ParentNode)for(let C of I.nodes.reverse())E.push(C)}}}}E.ParentNode=ParentNode,function(C){C[C.None=0]="None",C[C.Check=1]="Check",C[C.Half=2]="Half"}(ie||(E.TreeCheck=ie={}));E.TreeNode=class TreeNode extends ParentNode{constructor(C,E,I,B,z,Q){if(super(C,E,I,B,Q),this._treeMap=z,q.Convert.isNull(z))throw"treeMap is null"}get treeMap(){return this._treeMap}get checked(){var C;return null!==(C=this._checked)&&void 0!==C?C:this._checked=ie.None}set checked(C){this._checked!==C&&(this._checked=C)}toggleCheck(){let C;switch(this.checked){case ie.Check:C=ie.None;break;case ie.Half:case ie.None:C=ie.Check}if(this._checked=C,this.treeMap.checkParent&&q.Convert.isValue(this.parent)){let C=this;for(;q.Convert.isValue(C=C.parent);){const E=C.nodes,I=E.filter((C=>C.checked==ie.Check)).length;0==I?C._checked=ie.None:I==E.length?C._checked=ie.Check:C._checked=ie.Half}}this.treeMap.checkChild&&q.Convert.isValue(this.nodes)&&q.Arrays.bfsAction([this],(C=>(C.nodes.forEach((E=>E._checked=C._checked)),C.nodes)))}get nodes(){return super.nodes}get parent(){return super.parent}get master(){var C;if(q.Convert.isValue(null===(C=this.treeMap)||void 0===C?void 0:C.master)){const C=this.treeMap.master;return"function"==typeof C?C(this.data):this.data[C]}}set parent(C){var E,I;if(super.parent!=C&&(super.parent=C,q.Convert.isValue(null===(E=this.treeMap)||void 0===E?void 0:E.parent))){const E=this.treeMap.parent;"function"==typeof E?E(this.data)==(null==C?void 0:C.master)||E(this.cloneData(),null!==(I=null==C?void 0:C.master)&&void 0!==I?I:""):this.setData(null==C?void 0:C.master,E)}}get level(){return super.level}set level(C){var E;if(super.level!=C&&(super.level=C,q.Convert.isValue(null===(E=this.treeMap)||void 0===E?void 0:E.level))){const E=this.treeMap.level;"function"==typeof E?E(this.data)===C||E(this.cloneData(),C):this.setData(C,E)}}getOrderFunc(){var C,E,I,B;return null!==(E=null===(C=this.treeMap)||void 0===C?void 0:C.order)&&void 0!==E?E:this.box instanceof DataBox?null===(B=null===(I=this.box.dataSource)||void 0===I?void 0:I.config.schema)||void 0===B?void 0:B.order:void 0}addNode(C,E){super.addNode(C,E),C.adjustLevel(C.level)}adjustLevel(C){this.level=C;for(const E of this.nodes)E.adjustLevel(C+1)}};class GroupNode extends ParentNode{get itemCount(){return this._itemCount}set itemCount(C){this._itemCount=C}get groupKey(){return this._groupKey}set groupKey(C){this._groupKey=C}get map(){var C;return null!==(C=this._map)&&void 0!==C?C:this._map=new Map}get igroup(){return this._igroup}set igroup(C){this._igroup=C}get hasFooter(){return this.igroup.showFooter&&super.hasFooter}get calcFields(){return!1}static groupKeyMake2r(C,E,I){const B=[`${E}:${I[E]}`];for(;q.Convert.isValue(C);)B.splice(0,0,`${C.igroup.field}:${C.groupKey}`),C=C.parent;return"group {"+B.join(",")+"}"}static groupKeyMaker(C,E,I){const B=[];for(const E in C)B.push(`${E}:${C[E]}`);return"__group__ {"+B.join(",")+"}"}constructor(C,E,I,B,z,q){var Q;super(C,I,(E=>GroupNode.groupKeyMaker(I,z,C)),0,q),this.igroup=z,this.level=(null!==(Q=null==C?void 0:C.level)&&void 0!==Q?Q:-1)+1,this._groupKey=E,this.isOpen=z.isOpen}addNode(C,E,I=void 0){super.addNode(C,E,I),C instanceof GroupNode&&(C.level=this.level+1,this.map.set(C.groupKey,C));const B=GroupItem.getGroupKeys(C);for(const E of B.keys())C.setData(B.get(E),E)}get groupKeys(){const C=new Map;return GroupItem.getGroupKeys(this,C),C}}E.GroupNode=GroupNode;E.PivotNode=class PivotNode extends ParentNode{get calcFields(){return!1}};class FixedFields{}E.FixedFields=FixedFields,B=FixedFields,FixedFields.rowno="_rowno_",FixedFields.status="_status_",FixedFields.sticky="_sticky_",FixedFields.check="_checked_",FixedFields.radio="_radio_",FixedFields.detail="_detail_",FixedFields.reorder="_reorder_",FixedFields.fields=new Set([B.rowno,B.status,B.sticky,B.check,B.radio,B.detail,B.reorder]);class AjaxProperty{}E.AjaxProperty=AjaxProperty,AjaxProperty.totalName="total",AjaxProperty.aggregateName="aggregated",AjaxProperty.selectedName="selected",AjaxProperty.insertedName="inserted",AjaxProperty.updatedName="updated",AjaxProperty.deletedName="deleted"},2288:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.PageMap=E.ViewMode=void 0;const B=I(1163),z=I(7392),q=I(6105);var Q;!function(C){C.Page="page",C.Flow="flow"}(Q||(E.ViewMode=Q={}));E.PageMap=class PageMap{constructor(C){this._loadedSize=0,this._updateIndex=0,this._dataSource=C}get dataSource(){return this._dataSource}get subMap(){var C;return null!==(C=this._subMap)&&void 0!==C?C:this._subMap=new Map}get config(){var C;return null===(C=this.dataSource)||void 0===C?void 0:C.config}get pageSizes(){var C;return null!==(C=this._pageSizes)&&void 0!==C?C:this._pageSizes=[]}get fromTo(){var C;return null!==(C=this._fromTo)&&void 0!==C?C:this._fromTo=[]}get boxes(){var C;return null!==(C=this._boxes)&&void 0!==C?C:this._boxes=[]}get pageSize(){return this.dataSource.pageSize}get loadSize(){return this._loadedSize}get total(){return this._total}set total(C){this._total=C}get adjustedTotal(){var C;return null!==(C=this._adjustedTotal)&&void 0!==C?C:this._adjustedTotal=this.calcAdjustedTotal()}get added(){return this.adjustedTotal-this.total}get isPaging(){return this.dataSource.isPaging}view(C,E,I){let q;if(B.Convert.isEmpty(this.total))return q;if(q=this.getRequest(C,I),0==B.Convert.isNull(q))return q;if(this.config.pageRange==z.PageRange.Whole){q=this.boxes,q=this.processSelect(C,q);const E=this.getRequestSubKey(C);if(this.setRequest(E,void 0,q),B.Convert.isValue(I)){const C=I*this.pageSize,z=C+this.pageSize;q=q.slice(C,z),q=q.some((C=>null!=C))?q:[],B.Convert.isValue(E)&&this.setRequest(E,I,q)}}else{if(E===Q.Page)q=this.getPage(I);else if(B.Convert.isValue(I)){const C=I*this.pageSize,E=C+this.pageSize;q=this.boxes.slice(C,E),q=q.some((C=>null!=C))?q:[]}else q=this.boxes;if(0==B.Convert.isNull(q)&&(q=this.processSelect(C,q),0==B.Convert.isNull(q))){const E=this.getRequestSubKey(C);this.setRequest(E,I,q)}}return q}getRequestSubKey(C){return this.dataSource.getRequestKey(C,!0)}processSelect(C,E){let I=E;return 0==this.config.serverFiltering&&B.Convert.isValue(null==C?void 0:C.filters)&&(I=q.Filtering.filterList(I,C.filters)),0==this.config.serverSorting&&(B.Convert.isValue(null==C?void 0:C.groups)||B.Convert.isValue(null==C?void 0:C.orders))&&(I=q.Sorting.sortList(I,C.groups,C.orders)),I}getBoxes(C){let E;return null!=C||(C=this.dataSource.request),E=this.view(C,null==C?void 0:C.viewMode,void 0),E}setList(C){const E=[];let I=0;if(this.beginUpdate(),C instanceof Array){this.config.pageRange=this.config.pageRange==z.PageRange.Auto?z.PageRange.Whole:this.config.pageRange;const q=this.isPaging?this.pageSize:C.length;if(this.total=C.length,B.Convert.isEmpty(C))this.setPage(I,[]);else{for(let B=0,z=C.length;B<z;B++){const z=this.dataSource.createBox(C[B],B);E.push(z),E.length==q&&(this.setPage(I,[].concat(E)),I++,E.splice(0))}0==B.Convert.isEmpty(E)&&this.setPage(I,[].concat(E))}}this.endUpdate()}getPage(C){var E;null!=C||(C=0),C<0&&(C=this.lastPageNo+1+C);const I=this.pageSizes[C];if(B.Convert.isEmpty(I))return;const z=this.getStartRow(C);if(B.Convert.isEmpty(z))return;const q=z+(null!==(E=this.pageSizes[C])&&void 0!==E?E:this.pageSize);return B.Convert.isEmpty(q)?void 0:this.boxes.slice(z,q)}setPage(C,E){var I,B;null!=C||(C=0),C<0&&(C=this.lastPageNo+1+C),this.beginUpdate();(E=[].concat(E)).length;const z=this.getStartRow(C),q=null!==(I=this.pageSizes[C])&&void 0!==I?I:0,Q=null!==(B=this.pageSizes[C])&&void 0!==B?B:this.pageSize,ee=E.length;this._loadedSize+=ee-q,this.setPageSize(C,ee),z+q>this.boxes.length&&(this.boxes.length=z+q);const te=this.boxes.splice(z);this._boxes=this.boxes.concat(E).concat(te.slice(Q)),E.length,this.endUpdate()}setPageSize(C,E){this.beginUpdate(),this.pageSizes[C]=E,this._fromTo=this.ensureFromTo(),this.endUpdate()}setRequest(C,E,I){const z="string"==typeof C?C:this.dataSource.getRequestKey(C,!0);let q=this.subMap.get(z);B.Convert.isNull(q)&&(q=new Map,this.subMap.set(z,q)),q.set(E,I)}getRequest(C,E){const I="string"==typeof C?C:this.dataSource.getRequestKey(C,!0);let z=this.subMap.get(I);if(!B.Convert.isNull(z))return z.get(E)}ensureFromTo(C=void 0){var E,I;let B=0;const z=this.ensurePageSizes(null!==(E=this._total)&&void 0!==E?E:this.pageSize),q=(this.adjustedTotal,[]);for(let E=0,Q=null!=C?C:z.length-1;E<=Q;E++){let C=null!==(I=z[E])&&void 0!==I?I:this.pageSize;if(B+=C,q[E]={from:B-C,to:B},B>=this.adjustedTotal)break}return q}getPageSize(C){var E;return null!==(E=this.pageSizes[C])&&void 0!==E?E:this.pageSize}getPageNo(C){var E;if("number"==typeof C){const I=C;let B=this.ensureFromTo().findIndex((C=>C.from<=I&&I<C.to));if(B>=0)return B;B=0;let z=0;for(;;){if(z+=null!==(E=this.pageSizes[B])&&void 0!==E?E:this.pageSize,I<z)return B;B++}return B}{const E=this.boxes.findIndex((E=>(null==E?void 0:E.key)==C.key));if(E>=0){return this.ensureFromTo().findIndex((C=>C.from<=E&&E<C.to))}}}flowToPage(C){if(0==this.isPaging)return[0];const E=this.ensureFromTo(C);if(0==E.length)return[C];if(0==this.pageSize)return[C];const I=C*this.pageSize,B=I+this.pageSize,z=E.findIndex((C=>C.from<=I&&I<C.to)),q=E.findIndex((C=>C.from<B&&B<=C.to));if(z<0)return[C];if(q<0)return[C];if(z==q)return z<0?[]:[z];const Q=[];for(let C=z;C<=q;C++)Q.push(C);return Q}indexToPage(C){var E;if(C<=0)return 0;let I=0,B=0,z=0;const q=this.ensureFromTo();for(;;){if(({from:B,to:z}=null!==(E=q[I])&&void 0!==E?E:{from:z,to:z+this.pageSize}),B<=C&&C<z)return I;I++}}pageToFromTo(C,E){return E==Q.Page?this.ensureFromTo(C)[C]:{from:C*this.pageSize,to:Math.min((C+1)*this.pageSize,this._total)}}get lastPageNo(){if(0==this.isPaging)return 0;if(0==this.total)return 0;const C=this.ensureFromTo(),E=this.adjustedTotal-1;return C.findIndex((C=>C.from<=E&&E<C.to))}hasPage(C){return B.Convert.isValue(this.pageSizes[C])}keys(){return this.pageSizes.keys()}values(){const C=[];for(const E in this.keys())C.push(this.getPage(B.Convert.asNumber(E)));return C}getStartRow(C){var E;if(0==C)return 0;let I=null===(E=this.fromTo[C])||void 0===E?void 0:E.from;if(B.Convert.isValue(I))return I;I=0;for(let E=0;E<C;E++)I+=this.getPageSize(E);return I}beginUpdate(){this._updateIndex++}endUpdate(){this._updateIndex--,this._updateIndex<=0&&(this._updateIndex=0,this.subMap.clear(),this._adjustedTotal=void 0,this.adjustIndex())}adjustIndex(){if(this._updateIndex>0)return;const C=this.boxes;for(const E in C){const I=C[E];if(B.Convert.isNull(I))continue;const z=B.Convert.asNumber(E);I.originIndex=z}}calcAdjustedTotal(){var C;let E=0;const I=this.ensurePageSizes(this._total,this.pageSize);for(const B in I){E+=null!==(C=I[B])&&void 0!==C?C:this.pageSize}return E}ensurePageSizes(C,E=void 0){if(B.Convert.isEmpty(C)||0==C)return[0];null!=E||(E=this.pageSize);const I=[].concat(this.pageSizes),z=Math.ceil(C/E);let q=C;for(let C=0;C<z&&!(q<=0);C++)q-=E,B.Convert.isValue(I[C])||(I[C]=q<0?E+q:E);return I}}},9299:(C,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.RequestBuilder=void 0;E.RequestBuilder=class RequestBuilder{static apply(C,E){E.url=C.url,E.orders=C.orders,E.groups=C.groups,E.filters=C.filters,E.aggregates=C.aggregates,E.pageNo=C.pageNo,E.pageSize=C.pageSize,E.parentKey=C.parentKey,E.parentField=C.parentField}}},6140:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.TreeLoader=void 0;const z=I(1163),q=I(3354),Q=I(5260),ee=I(6105),te=I(194);class TreeLoader extends ee.BaseLoader{get clientMap(){var C;return null!==(C=this._clientMap)&&void 0!==C?C:this._clientMap=new Map}search(){return B(this,void 0,void 0,(function*(){Q.Log.debug((()=>["TreeLoader.search"])),z.Convert.isValue(this.clientMap&&this.clientMap.size>0)&&TreeLoader.reorderClientMap(this.clientMap,this.config.groups,this.config.orders),TreeLoader.reorderNodes(this.nodes,this.nodeCount,this.config.orders),Q.Log.debug((()=>["TreeLoader.search","end"]))}))}static reorderNodes(C,E,I){if(C.length===E){ee.Sorting.sortList(C,[],I,((C,E)=>C.value(E.field)));for(let E=0;E<C.length;E++)C[E].index=E;for(const E of C)this.reorderNodes(E.nodes,E.nodeCount,I)}else C.splice(0)}static reorderClientMap(C,E,I){for(const E of C.keys()){const B=C.get(E);ee.Sorting.sortList(B,[],I)}}ensureMap(C,E){var I;const B=null===(I=this.config.tree)||void 0===I?void 0:I.parent,q=E?this.clientMap:new Map;if(z.Convert.isNull(B))return q;for(let E of C){let C=TreeLoader.getTreeData(E.data,B);q.has(C)?q.get(C).push(E):q.set(C,[E])}return this._clientMap=q,this._clientMap}prepareRequest(C,E,I){let B=super.prepareRequest(C,E,I);return B.parentKey=TreeLoader.getTreeData(null==C?void 0:C.data,this.config.tree.master),B}clientLoad(C){var E,I,q,te,ie,re;return B(this,void 0,void 0,(function*(){let B={},ne=this.clientMap.has(C.parentKey)?this.clientMap.get(C.parentKey):(yield this.dataSource.selectRequest(C)).selected.map(((C,E)=>this.dataSource.createBox(C,E)));if(0==ee.BaseLoader.compareFilters(null===(E=this.request)||void 0===E?void 0:E.filters,C.filters)||0==ee.BaseLoader.compareOrders(null===(I=this.request)||void 0===I?void 0:I.orders,C.orders)||z.Convert.isEmpty(this.clientMap))ne=ee.Filtering.filterList(ne,C.filters),ne=ee.Sorting.sortList(ne,[],C.orders),this.ensureMap(ne,!1);else if(this.config.lazyLoading&&0==this.clientMap.has(C.parentKey)&&(this.clientMap.set(C.parentKey,ne),z.Convert.isValue(this.config.tree.leaf))){const C=this.config.tree.leaf,E=this.config.tree.master;if(z.Convert.isValue(ne))for(const I of ne){const B=null==I?void 0:I.data;"function"==typeof C?C(B)&&this.clientMap.set(TreeLoader.getTreeData(B,E),[]):null!==(q=null==B?void 0:B.hasOwnProperty(C))&&void 0!==q&&q&&B[C]&&this.clientMap.set(TreeLoader.getTreeData(B,E),[])}}return z.Convert.isValue(null===(te=this.config.tree)||void 0===te?void 0:te.parent)&&z.Convert.isValue(null===(ie=this.config.tree)||void 0===ie?void 0:ie.master)?B=this.config.lazyLoading?TreeLoader.clientFindData(this.clientMap,this.config.tree,this.keyMaker,C,this.config.serverPaging,this.dataSource):TreeLoader.clientFindTree(this.clientMap,this.config.tree,this.keyMaker,C.parentKey,void 0,this.dataSource):z.Convert.isValue(null===(re=this.config.tree)||void 0===re?void 0:re.level)&&(B=TreeLoader.clientLevelTree(ne,this.config.tree,this.keyMaker,C.parentKey,this.dataSource)),0==this.config.serverPaging&&this.makeTotal(B.selected,this.filter),Q.Log.debug((()=>({f:"clientLoad",pageNo:C.pageNo,lenth:B.selected.length}))),B}))}serverLoad(C){var E,I,q;return B(this,void 0,void 0,(function*(){let B=yield this.dataSource.selectRequest(C),te={},ie=B.selected;return 0==this.config.serverFiltering&&z.Convert.isValue(C.filters)&&(ie=ee.Filtering.filterList(ie,C.filters)),0==this.config.serverSorting&&(z.Convert.isValue(C.groups)||z.Convert.isValue(C.orders))&&(ie=ee.Sorting.sortList(ie,C.groups,C.orders)),this.ensureMap(ie,!0),z.Convert.isValue(null===(E=this.config.tree)||void 0===E?void 0:E.parent)&&z.Convert.isValue(null===(I=this.config.tree)||void 0===I?void 0:I.master)?te=this.config.lazyLoading?TreeLoader.clientFindData(this.clientMap,this.config.tree,this.keyMaker,C,this.config.serverPaging,this.dataSource):TreeLoader.clientFindTree(this.clientMap,this.config.tree,this.keyMaker,C.parentKey,void 0,this.dataSource):z.Convert.isValue(null===(q=this.config.tree)||void 0===q?void 0:q.level)&&(te=TreeLoader.clientLevelTree(ie,this.config.tree,this.keyMaker,C.parentKey,this.dataSource)),0==this.config.serverPaging&&this.makeTotal(te.selected,this.filter),Q.Log.debug((()=>({f:"clientLoad",pageNo:C.pageNo,lenth:te.selected.length}))),te}))}loaded(C,E,I){let B=[],q=C.selected;if(this.config.serverPaging)B=this.serverPaging(C,E,I);else if(z.Convert.isNull(I)?this.nodeCount=C.selected.length:I.nodeCount=C.selected.length,z.Convert.isValue(I)){if(0==I.nodes.length)for(let C of q)I.addNode(C);B=I.nodes}else{for(let C of q)C.index=this.nodes.length,C.level=0,this.nodes.push(C);B=this.nodes}return this.config.lazyLoading&&z.Convert.isValue(I)&&this.makeTotalNode(I),B}static clientFindData(C,E,I,B,Q,ee){var te,ie,re,ne;if(z.Convert.isEmpty(null==E?void 0:E.master)||z.Convert.isEmpty(null==E?void 0:E.parent))throw"Can not build tree.";const se={selected:[]};let oe=C.get(null!==(te=B.parentKey)&&void 0!==te?te:"");se.total=null!==(ie=null==oe?void 0:oe.length)&&void 0!==ie?ie:0;let ae=0;Q&&z.Convert.isValue(B.pageSize)&&(ae=B.pageNo*B.pageSize,oe=[].concat(oe).splice(ae,B.pageSize));for(const B in oe){const Q=oe[B],te=new q.TreeNode(void 0,Q,I,z.Convert.asNumber(B),E,ee);te.index=ae++;const ie=this.getTreeData(te.data,E.master);C.has(ie)&&(te.nodeCount=null!==(ne=null===(re=C.get(ie))||void 0===re?void 0:re.length)&&void 0!==ne?ne:0,te.isLeaf=0==te.nodeCount),se.selected.push(te)}return se}static calcOpen(C,E){var I;const B=null==E?void 0:E.open,q=C.data;switch(typeof B){case"number":return B>C.level;case"string":return null!==(I=null==q?void 0:q.hasOwnProperty(B))&&void 0!==I&&I&&z.Convert.asBool(q[B]);case"function":return B(q,C);default:return!1}}static clientFindTree(C,E,I,B,Q,ee){var te;const ie={selected:[]};if(null!=B||(B=""),0==C.has(B))return ie;let re=[],ne=C.get(B);const se=E.master,oe=ne.length;if(z.Convert.isValue(Q)){for(const C in ne){const B=ne[C],te=new q.TreeNode(Q,B,I,z.Convert.asNumber(C),E,ee);Q.addNode(te),te.isOpen=this.calcOpen(te,E)}Q.nodeCount=Q.nodes.length,re=Q.nodes}else{let C=0;for(const B in ne){const te=ne[B],ie=new q.TreeNode(Q,te,I,z.Convert.asNumber(B),E,ee);ie.level=0,ie.isOpen=this.calcOpen(ie,E),ie.index=C,re.push(ie),C++}}if(z.Convert.isValue(re))for(const B of re)TreeLoader.clientFindTree(C,E,I,this.getTreeData(B.data,se),B,ee),B.isLeaf=0==(null!==(te=B.nodeCount)&&void 0!==te?te:B.nodeCount=0);return ie.selected=re,ie.total=oe,ie}static clientLevelTree(C,E,I,B,Q){const ee=[];let te,ie,re,ne;for(const B in C){const se=C[B],oe=z.Convert.asNumber(B),ae=this.getTreeData(se.data,E.level),le=z.Convert.asInt(ae);if(le==re||z.Convert.isNull(te))re=le,te=new q.TreeNode(void 0,se,I,oe,E,Q),ee.push(te),te.level=le-re;else if(ne==le){const C=new q.TreeNode(te.parent,se,I,oe,E,Q);z.Convert.isValue(te.parent)?te.parent.addNode(C):ee.push(C),te=C}else if(ne<le){const C=new q.TreeNode(te,se,I,oe,E,Q);te.addNode(C),te=C}else if(ne>le){for(let C=le;C<=ne&&(te=te.parent,!z.Convert.isNull(te));C++);const C=new q.TreeNode(te,se,I,oe,E,Q);te.addNode(C),te=C}ne=le,ie=te}z.Arrays.bfsAction(ee,(C=>(C.nodeCount=C.nodes.length,C.isLeaf=0==C.nodeCount,C.isLeaf?[]:C.nodes)));return{total:ee.length,selected:ee}}static getTreeData(C,E){var I;if(!z.Convert.isNull(C))return null!==(I="function"==typeof E?E(C):C[E])&&void 0!==I?I:""}static setTreeData(C,E,I){if(!z.Convert.isNull(C))return"function"==typeof E?E(C,I):C[E]=I}makeTotal(C,E){let I=[];C=z.Convert.isValue(E)?C.filter(E):C;for(const E of C)I.push(E.data),z.Convert.isValue(this.config.tree.aggregates)&&(I=I.concat(this.makeTotalNode(E)));z.Convert.isValue(this.config.aggregates)&&(this.config.aggregates=ee.Aggregate.aggregates(I,this.config.aggregates,!0))}calcAggregates(){this.dataSource.updateIndex>0||this.makeTotal(this.nodes,this.filter)}makeTotalNode(C){var E,I;let B=[];if(z.Convert.isNull(C)||z.Convert.isEmpty(C.nodes))return B;for(const E of C.nodes)B.push(E.data),0!=E.nodeCount&&(B=B.concat(this.makeTotalNode(E)));return z.Convert.isValue(null===(E=this.config.tree)||void 0===E?void 0:E.aggregates)&&this.config.tree.aggregates.length>0&&(z.Convert.isNull(C.footer)?C.footer=new q.FooterNode(C,ee.BaseLoader.symbolKeyMaker,ee.Aggregate.aggregates(B,this.config.tree.aggregates,!0)):C.footer.aggregates=ee.Aggregate.aggregates(B,this.config.tree.aggregates,!0)),(null===(I=this.config.tree)||void 0===I?void 0:I.aggregateFull)?B:[]}insertNode(C,E,I,B,Q=!1){if(Q)return this.removeNode(C,E,I,B);if(0==this.dataSource.insertMap.has(I.key))return E;z.Convert.isNull(C)&&(C=null==E?void 0:E.parent);const ie=new q.TreeNode(null!=C?C:null==E?void 0:E.parent,I,ee.BaseLoader.symbolKeyMaker,null==E?void 0:E.index,this.config.tree,this.dataSource),re=B==te.InsertTo.Last||z.Convert.isNull(E)?C.nodes.length:B==te.InsertTo.First||z.Convert.isNull(E)?0:E.index+(B==te.InsertTo.After?1:0);return C.addNode(ie,re),ie}removeNode(C,E,I,B,Q=!1){if(Q)return this.insertNode(C,E,I,B);if(this.dataSource.deleteMap.has(I.key))return E;const ee=E,te=E.index;return z.Convert.isNull(E.parent)?(this.nodes.splice(te,1),this.nodeCount-=1,q.ParentNode.adjustIndex(this.nodes,te)):(E.parent.removeNode(ee),ee.parent=E.parent),ee}makeAllItemsData(C){let E=[];for(const I of C)E.push(I.data),E=E.concat(this.makeAllItemsData(I.nodes));return E}getAllItems(){return this.makeAllItemsData(this.nodes)}moveToNode(C,E,I){const B=this.dataSource.orderMap;if(z.Convert.isNull(C.parent)&&z.Convert.isNull(E.parent))ee.BaseLoader.moveToList(this.nodes,C,E,I,B);else if(z.Convert.isValue(C.parent)&&z.Convert.isValue(E.parent))null==C||C.moveTo(E,I,B);else{let B=C.index,Q=E.index;z.Convert.isNull(C.parent)?(this.nodes.splice(B,1),q.ParentNode.adjustIndex(this.nodes,B),this.nodeCount-=1,E.parent.addNode(C,Q)):z.Convert.isNull(E.parent)&&(C.parent.removeNode(C),Q+=I?0:1,this.nodes.splice(Q,0,C),C.level=0,q.ParentNode.adjustIndex(this.nodes,Q),this.nodeCount+=1)}return this.calcAggregates(),this.dataSource.setBoxes(void 0,this.nodes.map((C=>C.box))),B}}E.TreeLoader=TreeLoader},413:(C,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Validator=void 0;E.Validator=class Validator{static validateArg(C,E){var I;if((null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0)!=E)throw`parameter must have ${E} items`}}},3746:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.DataView=void 0;const B=I(2663),z=I(4407),q=I(194);class DataView extends z.Publisher{get dataSource(){return this.publisher instanceof q.DataSource?this.publisher:void 0}doCommand(C,E){return!!super.doCommand(C,E)&&(E.command,B.Commands.Loaded,!0)}}E.DataView=DataView},247:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.CsvExport=void 0,I(4199);const z=I(1163),q=I(6936),Q=I(5260);var ee=I(4199);class CsvExport extends q.ExcelExport{get config(){return this.csvConfig}constructor(C,E){var I;super(C),this.csvDatas={fields:[],data:[]},this.csvConfig=this.parseConfig(null!=E?E:null===(I=this.grid.config)||void 0===I?void 0:I.csvExport)}writeFile(){return B(this,void 0,void 0,(function*(){Q.Log.time("CsvExport.write");const C=ee.unparse(this.csvDatas,this.csvConfig),E=new Blob(["\ufeff"+C],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(E),B=document.createElement("a");B.href=I,B.download=this.config.fileName,B.click(),URL.revokeObjectURL(I),Q.Log.timeEnd("CsvExport.write")}))}exportCaption(C,E,I){return B(this,void 0,void 0,(function*(){return C.rows.forEach((C=>{C.cells.forEach((C=>{this.csvDatas.fields.push(C.column.caption)}))})),E}))}exportHeader(C,E,I){return B(this,void 0,void 0,(function*(){}))}exportFooter(C,E,I){return B(this,void 0,void 0,(function*(){}))}exportRow(C,E,I,z,q,Q){return B(this,void 0,void 0,(function*(){return C.rows.forEach((C=>{let E=[];C.cells.forEach((C=>{const I=this.getValue(C,q);E.push(I)})),this.csvDatas.data.push(E)})),E}))}exportTreeFooter(C,E,I,z,q){return B(this,void 0,void 0,(function*(){}))}exportGroupFooter(C,E,I,z,q){return B(this,void 0,void 0,(function*(){}))}exportGroupHeader(C,E,I,z,q){return B(this,void 0,void 0,(function*(){}))}parseConfig(C){const E=super.parseExcelExportConfig(C);return E.fileName=z.Convert.default(null==C?void 0:C.fileName,"grid.csv"),E.delimiter=z.Convert.default(null==C?void 0:C.delimiter,","),E}}E.CsvExport=CsvExport},7152:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.CsvImport=void 0,I(4199);const z=I(4507),q=I(5260),Q=I(6312);var ee=I(4199);class CsvImport extends z.ExcelImport{constructor(C,E){super(C,E)}readFile(C,E){return B(this,void 0,void 0,(function*(){ee.parse(C,{delimiter:this.config.delimiter,error:function(C,I,B,z){E()},complete:C=>{var I,B,z,ee,te,ie;const re=C.data,ne=(null!==(z=null===(B=null===(I=this.config)||void 0===I?void 0:I.row)||void 0===B?void 0:B.from)&&void 0!==z?z:1)-1,se=null!==(ie=null===(te=null===(ee=this.config)||void 0===ee?void 0:ee.row)||void 0===te?void 0:te.to)&&void 0!==ie?ie:C.data.length-1,oe=this.columns,ae=oe.length,le=re.slice(ne,se).map((C=>{var E,I,B,z,q,Q;const ee=(null!==(B=null===(I=null===(E=this.config)||void 0===E?void 0:E.col)||void 0===I?void 0:I.from)&&void 0!==B?B:1)-1,te=null!==(Q=null===(q=null===(z=this.config)||void 0===z?void 0:z.col)||void 0===q?void 0:q.to)&&void 0!==Q?Q:void 0;C=C.slice(ee,te);const ie={};for(let E=0;E<ae&&!(E>=C.length);E++){ie[oe[E].field]=C[E]}return{key:void 0,value:ie}}));q.Log.debug(["Import Excel",le]),Q.SBGrid3.fireCommand(this.grid,{command:"import",data:le}),E()}})}))}}E.CsvImport=CsvImport},6936:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ExcelExport=void 0,I(2108);const z=I(7392),q=I(3354),Q=I(6258),ee=I(6938),te=I(9797),ie=I(5774),re=I(103),ne=I(8964),se=I(1163),oe=I(4367),ae=I(860),le=I(5260),ue=I(7078);var de=I(2108);class ExcelExport extends oe.GridExport{get workSheet(){var C;return null!==(C=this._workSheet)&&void 0!==C?C:this._workSheet=this.getWorksheet(this._workBook,"sheet1")}getWorksheet(C,E){const I=C.getWorksheet(E);return I.properties.outlineProperties={summaryBelow:!1,summaryRight:!1},I}get config(){return this._config}get view(){var C;return null!==(C=this._view)&&void 0!==C?C:super.view}constructor(C,E){var I,B;super(C),this.defaultRowStyleFunc=C=>{let E,I,B;return(C.has(ue.SbCss.header)||C.has(ue.SbCss.footer))&&(E=null!=E?E:{},E.bgColor="fffcfcfc",I=null!=I?I:{},I.color="ffe5e5e5",I.style="thin"),C.has(ue.SbCss.area)&&C.has(ue.SbCss.thead)&&(E=null!=E?E:{},E.bgColor="fff8f8f8",I=null!=I?I:{},I.color="ffe5e5e5",I.style="thin",B=null!=B?B:{},B.bold=!0),C.has(ue.SbCss.alternate)&&(E=null!=E?E:{},E.bgColor="fffcfcfc"),C.has("sbgrid-level-0")&&(E=null!=E?E:{},E.bgColor="ffF0F8FF"),C.has("sbgrid-level-1")&&(E=null!=E?E:{},E.bgColor="FFF5F5DC"),C.has(ue.SbCss.sticky)&&(E=null!=E?E:{},E.bgColor="FFF9FBFF"),{fill:E,border:I,font:B}},this.defaultCellStyleFunc=C=>{let E,I;return C.has("sbgrid-level-0")&&(E=null!=E?E:{},E.bgColor="ffF0F8FF"),C.has("sbgrid-level-1")&&(E=null!=E?E:{},E.bgColor="FFF5F5DC"),C.has(ue.SbCss.left)?I=this.getAlign(ue.SbCss.left):C.has(ue.SbCss.right)?I=this.getAlign(ue.SbCss.right):C.has(ue.SbCss.center)&&(I=this.getAlign(ue.SbCss.center)),{fill:E,border:{color:"ffe5e5e5",style:"thin"},font:void 0,alignment:null!=I?I:{vertical:"middle",horizontal:"center"}}},this._config=this.parseExcelExportConfig(null!=E?E:null===(I=this.grid.config)||void 0===I?void 0:I.excelExport),this.fileName=null===(B=this.config)||void 0===B?void 0:B.fileName,this._workBook=new de.Workbook,this._workBook.addWorksheet("sheet1")}prepareColumns(){super.prepareColumns(),this.columns=this.grid.fixedColumns.filter((C=>this._config.includeRowNo&&C.type===ie.ColumnTypes.RowNo||C.config.exportVisible)).concat(super.columns)}get rowRange(){var C;return null!==(C=this._rowRange)&&void 0!==C?C:super.rowRange}prepareRows(){return B(this,void 0,void 0,(function*(){if(se.Convert.isValue(this.config.rowRange)){const C=this.config.rowRange;if("function"==typeof C){let E=C();E instanceof Promise&&(E=yield E);const I=z.DataSourceParser.parseConfig(this.grid.dataConfig),B=Q.GridParser.parseConfig(this.grid.config);I.data=E,I.ajax={},B.dataSource=I,this._view=new te.GridView(B),this._rowRange=Q.RowRange.Whole}else this._rowRange=C}}))}exportCancelled(C){le.Log.warn((()=>["export canceled",C]));const E=this.config.cancelFunc;se.Convert.isValue(E)&&"function"==typeof E&&E()}getRow(C,E){const I=Object.create(null,{getRow:{get:()=>super.getRow}});return B(this,void 0,void 0,(function*(){return yield I.getRow.call(this,C,E)}))}parseExcelExportConfig(C){const E={fileName:se.Convert.default(null==C?void 0:C.fileName,"grid.xlsx"),cellStyle:se.Convert.default(null==C?void 0:C.cellStyle,void 0,(()=>this.parseCellStyle(null==C?void 0:C.cellStyle))),rowStyle:se.Convert.default(null==C?void 0:C.rowStyle,void 0,(()=>this.parseCellStyle(null==C?void 0:C.rowStyle))),cancelFunc:se.Convert.default(null==C?void 0:C.cancelFunc,void 0),defaultStyle:!0,includeFormula:se.Convert.default(null==C?void 0:C.includeFormula,!1),includeHeader:se.Convert.default(null==C?void 0:C.includeHeader,!1),includeFooter:se.Convert.default(null==C?void 0:C.includeFooter,!1),rowRange:se.Convert.default(null==C?void 0:C.rowRange,Q.RowRange.Loaded,this.parseRowRange),includeRowNo:se.Convert.default(null==C?void 0:C.includeRowNo,!1)};return E.keepMerge=se.Convert.default(null==C?void 0:C.keepMerge,!E.includeFormula),E}parseRowRange(C){return"function"==typeof C?C:se.Convert.parseEnum(Q.RowRange,C)}parseCellStyle(C,E){return"function"==typeof C?C:!1===C?void 0:!0===C||{font:se.Convert.default(null==C?void 0:C.font,null==E?void 0:E.font,(()=>this.parseFont(null==C?void 0:C.font,null==E?void 0:E.font))),border:se.Convert.default(null==C?void 0:C.border,null==E?void 0:E.border,(()=>this.parseBorder(null==C?void 0:C.border,null==E?void 0:E.border))),fill:se.Convert.default(null==C?void 0:C.fill,null==E?void 0:E.fill,(C=>this.parseFill(C,null==E?void 0:E.fill))),alignment:se.Convert.default(null==C?void 0:C.alignment,null==E?void 0:E.alignment,(C=>this.parseAlign(C,null==E?void 0:E.alignment)))}}convertStyle(C){return{font:this.convertFont(null==C?void 0:C.font),fill:this.convertFill(null==C?void 0:C.fill),border:this.convertBorder(null==C?void 0:C.border),alignment:this.convertAlignment(null==C?void 0:C.alignment)}}convertAlignment(C){if(!se.Convert.isEmpty(C))return{vertical:se.Convert.default(null==C?void 0:C.vertical,void 0),horizontal:se.Convert.default(null==C?void 0:C.horizontal,void 0)}}convertFont(C){if(!se.Convert.isEmpty(C))return{name:se.Convert.default(null==C?void 0:C.name,void 0),size:se.Convert.default(null==C?void 0:C.size,void 0),color:se.Convert.isNull(C.color)?void 0:{argb:C.color},bold:se.Convert.default(C.bold,void 0)}}convertFill(C){if(!se.Convert.isEmpty(C))return{type:"pattern",pattern:"solid",fgColor:se.Convert.isNull(C.bgColor)?void 0:{argb:C.bgColor}}}convertBorder(C){if(!se.Convert.isEmpty(C))return{top:{color:{argb:C.color},style:C.style},bottom:{color:{argb:C.color},style:C.style},right:{color:{argb:C.color},style:C.style},left:{color:{argb:C.color},style:C.style}}}exportCaption(C,E,I){return B(this,void 0,void 0,(function*(){this.makeColumn(C);const B=this.getRowStyle((()=>[ue.SbCss.area,ue.SbCss.thead].join(" ")),void 0,!0===this.config.rowStyle?()=>this.makeElement(!1,ae.PanelType.Caption):void 0);for(const z of C.rows){for(const C of z.cells){if(se.Convert.isNull(C))continue;const z=C.column,q=C.col+1,Q=z instanceof ne.GroupColumn?"":C.column.caption;this.writeValue(q,E,Q),C.rowSpan>1&&this.workSheet.mergeCells(E,q,E+C.rowSpan-1,q),C.colSpan>1&&this.workSheet.mergeCells(E,q,E,q+C.colSpan-1);const ee=this.getStyle(I,C,void 0,B,{isCol:!0,panelType:ae.PanelType.Caption});this.applyStyle(ee,E,q)}this.config.includeFormula&&(this.workSheet.getRow(E).getCell("category").value="cagegory"),E++}return E}))}applyStyle(C,E,I){if(se.Convert.isNull(I)){const I=this.workSheet.getRow(E);se.Convert.isValue(null==C?void 0:C.font)&&(I.font=null==C?void 0:C.font),se.Convert.isValue(null==C?void 0:C.fill)&&(I.fill=null==C?void 0:C.fill),se.Convert.isValue(null==C?void 0:C.border)&&(I.border=null==C?void 0:C.border)}else{const B=this.workSheet.getRow(E).getCell(I);se.Convert.isValue(null==C?void 0:C.font)&&(B.font=null==C?void 0:C.font),se.Convert.isValue(null==C?void 0:C.fill)&&(B.fill=null==C?void 0:C.fill),se.Convert.isValue(null==C?void 0:C.border)&&(B.border=null==C?void 0:C.border),se.Convert.isValue(null==C?void 0:C.alignment)&&(B.alignment=null==C?void 0:C.alignment)}}applyMergeStyle(C,E,I,B,z){const q=E+B,Q=I+z;for(let B=E;B<q;B++)for(let E=I;E<Q;E++)this.applyStyle(C,B,E)}getStyle(C,E,I,B,z){const q=this.config.cellStyle,Q=C(E.column,E,I);let ee;if(!0===q)ee=this.autoStyle((()=>this.getElementStyle(Q,E.column,(()=>this.makeElement(z.isCol,z.panelType)))),B);else if(se.Convert.isNull(q)||"function"==typeof q){const C=new Set(Q.split(" "));ee=this.manualStyle((()=>"function"==typeof q?q(C):void 0),(()=>this.defaultCellStyleFunc(C)),B)}else se.Convert.isValue(q)&&(ee=q);return this.convertStyle(ee)}manualStyle(C,E,I){let B=E();const z=this.parseCellStyle(B,I);return se.Convert.isNull(typeof this.config.cellStyle)?z:this.parseCellStyle(C(),z)}autoStyle(C,E){const I=C();return this.parseCellStyle(I,E)}getRowStyle(C,E,I){var B;const z=this.config.rowStyle,q=se.Convert.isValue(C)?C(E):void 0,Q=new Set(null==q?void 0:q.split(" ")),ee="function"==typeof z?z(Q):!0===z?this.getElementStyle(q,E,I):void 0,te=(null===(B=this.config)||void 0===B?void 0:B.defaultStyle)?this.defaultRowStyleFunc(Q):void 0;return this.parseCellStyle(ee,te)}getElementStyle(C,E,I){const B=this.grid.container.find(`.${ue.SbCss.panel}.${ue.SbCss.hidden}`);if((null==B?void 0:B.length)<1)return;const z=I();if(se.Convert.isValue(z)){const E=null==C?void 0:C.split(" ");z.addClass(E);const I=window.getComputedStyle(z[0]);return{font:{name:I.fontFamily.replace(/\"/g,""),color:this.convertArgb(I.color),size:parseInt(I.fontSize),bold:this.isBold(I.fontWeight)},fill:"00000000"===this.convertArgb(I.backgroundColor)?void 0:{bgColor:this.convertArgb(I.backgroundColor)},border:"none"===I.outlineStyle?void 0:{color:this.convertArgb(I.outlineColor),style:this.getBorderStyle(I.outlineStyle)},alignment:this.convertCellAlign(I.textAlign)}}}makeElement(C,E){const I=this.grid.container.find(`.${ue.SbCss.panel}.${ue.SbCss.hidden}`),B=se.JqUtils.adjustElement(I,`.${ue.SbCss.scroll_body}`,`<div class='${ue.SbCss.scroll_body}'></div>`);let z;switch(E){case ae.PanelType.Caption:{const E=se.JqUtils.adjustElement(B,`>.${ue.SbCss.panel}.${ue.SbCss.caption}`,`<div class='${ue.SbCss.panel} ${ue.SbCss.caption}'></div>`),I=se.JqUtils.adjustElement(E,`>div.${ue.SbCss.area}.${ue.SbCss.thead}`,`<div class = '${ue.SbCss.area} ${ue.SbCss.thead}'></div>`);if(!C)return I;const q=se.JqUtils.adjustElement(I,`>.${ue.SbCss.part}.${ue.SbCss.tbody}`,`<div class='${ue.SbCss.part} ${ue.SbCss.tbody}'></div>`);z=se.JqUtils.adjustElement(q,`>.${ue.SbCss.row}`,`<div class='${ue.SbCss.row}'></div>`);break}case ae.PanelType.Header:{const E=se.JqUtils.adjustElement(B,`>div.${ue.SbCss.panel}.${ue.SbCss.header}`,`<div class='${ue.SbCss.panel} ${ue.SbCss.header}'></div>`);if(!C)return E;const I=se.JqUtils.adjustElement(E,`>.${ue.SbCss.area}.${ue.SbCss.thead}`,`<div class='${ue.SbCss.area} ${ue.SbCss.thead}'></div>`);z=se.JqUtils.adjustElement(I,`>.${ue.SbCss.row}`,`<div class='${ue.SbCss.row}'></div>`);break}case ae.PanelType.Body:{const C=se.JqUtils.adjustElement(B,`>.${ue.SbCss.panel}.${ue.SbCss.body}`,`<div class='${ue.SbCss.panel} ${ue.SbCss.body}'></div>`);z=se.JqUtils.adjustElement(C,`>div.${ue.SbCss.row}`,`<div class='${ue.SbCss.row}'></div>`);const E=[...z[0].classList].filter((C=>!1===[ue.SbCss.row].includes(C.trim())));z.removeClass(E);break}case ae.PanelType.Footer:{const E=se.JqUtils.adjustElement(B,`>.${ue.SbCss.panel}.${ue.SbCss.footer}`,`<div class='${ue.SbCss.panel} ${ue.SbCss.footer}'></div>`);if(!C)return E;const I=se.JqUtils.adjustElement(E,`>.${ue.SbCss.area}.${ue.SbCss.tfoot}`,`<div class='${ue.SbCss.area} ${ue.SbCss.tfoot}'></div>`);z=se.JqUtils.adjustElement(I,`>.${ue.SbCss.row}`,`<div class='${ue.SbCss.row}'></div>`);break}}if(C){const C=se.JqUtils.adjustElement(z,`>span.${ue.SbCss.col}`,`<span class='${ue.SbCss.col}'></span>`),E=[...C[0].classList].filter((C=>!1===[ue.SbCss.col].includes(C.trim())));return C.removeClass(E),C}return z}convertCellAlign(C){switch(C){case"start":case"left":return{vertical:"middle",horizontal:"left"};case"end":case"right":return{vertical:"middle",horizontal:"right"};case"center":return{vertical:"middle",horizontal:"center"};case"justify":return{vertical:"justify",horizontal:"justify"}}}convertArgb(C){let E=C.substring(C.indexOf("(")+1,C.indexOf(")")).split(",");return E=E.length>3?E.slice(3,E.length).concat(E.slice(0,3)):["255"].concat(E),E.map((C=>parseInt(C).toString(16).length>1?parseInt(C).toString(16):"0"+parseInt(C).toString(16))).join("")}isBold(C){return parseInt(C)>400}getBorderStyle(C){return"thin"}makeColumn(C){var E;let I=(null===(E=ee.GridMatrix.toMatrix(C))||void 0===E?void 0:E.matrix)[0].map(((C,E)=>(null==C?void 0:C.column.type)===ie.ColumnTypes.Frozen?{key:E+"",width:0}:{key:E+"",width:C.width/8}));this.config.includeFormula&&(I=I.concat({key:"category",width:0})),this.workSheet.columns=I}exportHeader(C,E,I){var z;return B(this,void 0,void 0,(function*(){if(se.Convert.isNull(this.workSheet.columns)&&this.makeColumn(C),se.Convert.isEmpty(C))return E;if(!1===this.config.includeHeader)return E;const B=E,q=this.getRowStyle((()=>[ue.SbCss.panel,ue.SbCss.header].join(" ")),void 0,(()=>this.makeElement(!1,ae.PanelType.Header)));for(const B of C.rows){for(const C in B.cells){const Q=B.cells[C],ee=(Q.column,this.makeTotalData(Q.column)),te=this.makeHeaders(Q.column),ie=null===(z=te[Q.row])||void 0===z?void 0:z.render(ee);this.writeValue(Q.col+1,E,ie);const re=Q.col+1;this.merge(E,re,Q.rowSpan,Q.colSpan);const ne=this.getStyle(I,Q,void 0,q,{isCol:!0,panelType:ae.PanelType.Header});this.applyStyle(ne,E,re)}this.config.includeFormula&&(this.workSheet.getRow(E).getCell("category").value=""),E++}if(!0===this.config.includeFormula){const I=this.getHeaderRange(E-1);this.exportAggregatesFormula(C,I,B,void 0,!0)}return E}))}getAlign(C){switch(C){case ue.SbCss.right:return this.convertCellAlign("right");case ue.SbCss.left:return this.convertCellAlign("left");case ue.SbCss.center:return this.convertCellAlign("center")}}makeHeaders(C){return C.totalHeaders}makeFooters(C){return C.totalFooters}exportFooter(C,E,I){var z;return B(this,void 0,void 0,(function*(){if(!1===this.config.includeFooter)return E;if(se.Convert.isEmpty(C))return E;const B=E,q=this.getRowStyle((()=>[ue.SbCss.panel,ue.SbCss.footer].join(" ")),void 0,(()=>this.makeElement(!1,ae.PanelType.Footer)));for(const B of C.rows){for(const C in B.cells){const Q=B.cells[C],ee=this.makeTotalData(Q.column),te=this.makeFooters(Q.column),ie=null===(z=te[Q.row])||void 0===z?void 0:z.render(ee),re=Q.col+1;this.writeValue(re,E,ie),this.merge(E,re,Q.rowSpan,Q.colSpan);let ne=this.getStyle(I,Q,void 0,q,{isCol:!0,panelType:ae.PanelType.Footer});this.applyStyle(ne,E,re)}this.config.includeFormula&&(this.workSheet.getRow(E).getCell("category").value=""),E++}if(!0===this.config.includeFormula){const E=this.getFooterRange(B);this.exportAggregatesFormula(C,E,B,void 0,!1)}return E}))}exportRow(C,E,I,z,q,Q){return B(this,void 0,void 0,(function*(){const B=this.getRowStyle(z,q,(()=>this.makeElement(!1,ae.PanelType.Body))),ee=new Map,te=E;for(const z of C.rows){let C=z.cells;const te=this.grid.mergeColumn||this.grid.mergeRow?this.grid.viewport.makeMerge(C,q,Q):C;for(const C of te){if(se.Convert.isNull(C))continue;const z=C.col+1;if(C.merged&&this.config.keepMerge)continue;if(C.column instanceof ne.GroupColumn==0){const I=this.getValue(C,q);this.writeValue(z,E,I,null==C?void 0:C.column),!0===this.config.keepMerge&&C.merge&&this.isLastMergeCell(te,C)&&this.merge(E,z,C.mergeRow,C.mergeCol),this.merge(E,z,C.rowSpan,C.colSpan),0==ee.has(C.column.field)&&ee.set(C.column.field,{col:z,row:E})}const Q=this.getStyle(I,C,q,B,{isCol:!0,panelType:ae.PanelType.Body});this.applyStyle(Q,E,z)}const ie=this.workSheet.getRow(E);this.config.includeFormula&&(ie.getCell("category").value=1),q.level>0&&(ie.outlineLevel=q.level),E+=1}return!0===this.config.includeFormula&&this.exportRow_calc(C,ee,te,q),E}))}isLastMergeCell(C,E){const I=C.find((C=>E.column===C.column&&(E.mergeRow<C.mergeRow||E.mergeCol<C.mergeCol)));return!se.Convert.isValue(I)||I===E}getValue(C,E){const I=C.column;return I.config.exportLabel?I.getCellLabel(E):null==I?void 0:I.getRawValue(E)}getHeaderRange(C,E){let I=this.calcRows(E);if(0==I)return;return{from:C+1,to:C+I}}getFooterRange(C,E){return{from:C-this.calcRows(null==E?void 0:E.parent,E),to:C-1}}calcRows(C,E){var I,B,z,Q;let ee=0;if(se.Convert.isNull(C)){let C,E=0,z=this.rowLayout;for(;se.Convert.isValue(C=this.grid.rows[E]);)ee+=null!==(B=null===(I=this.getLayout(z,C))||void 0===I?void 0:I.layout.rows.length)&&void 0!==B?B:1,E++}else if(C.node instanceof q.ParentNode){const I=C.level;let B,te=C.rowIndex+1,ie=this.rowLayout;for(;se.Convert.isValue(B=this.grid.rows[te])&&!(B.level<=I)&&B!=E&&!(B.node instanceof q.FooterNode&&B.parent==C);)ee+=null!==(Q=null===(z=this.getLayout(ie,B))||void 0===z?void 0:z.layout.rows.length)&&void 0!==Q?Q:1,te++}return ee}exportRow_calc(C,E,I,B){var z;for(const q of C.rows){let C=q.cells;for(const q of C){if(se.Convert.isNull(q))continue;if(q.merged)continue;if(q.column instanceof ne.GroupColumn)continue;const C=q.col+1,Q=null===(z=q.column)||void 0===z?void 0:z.config.calc;if(se.Convert.isNull(Q)||"function"==typeof(null==Q?void 0:Q.rows))continue;let ee;const getFieldsFunc=()=>("string"==typeof Q.require?[Q.require]:Q.require).map((C=>E.get(C)));if(se.Convert.isValue(null==Q?void 0:Q.eval)){if("string"!=typeof Q.eval)continue;const C=getFieldsFunc();if(se.Convert.isEmpty(C))continue;ee=this.makeFormula(Q.eval,C,Q)}else if(se.Convert.isValue(null==Q?void 0:Q.rows)&&"function"!=typeof(null==Q?void 0:Q.rows)){const C=getFieldsFunc();ee=this.calcRowsFormula(Q,C,I)}const te=this.calcTemplate(q.column.cellTemplate,ee,Q.field);this.writeFormula(C,I,te,q.column.getValue(B))}I+=1}return I}calcRowsFormula(C,E,I){const B=C.rows;if("function"!=typeof B&&B.func==z.RankFunctions.Rank)return this.rank(C.rows,se.Convert.parseEnum(z.CalculationRange,C.range),E,I)}rank(C,E,I,B){var q,Q,ee;let te;E==z.CalculationRange.TopLevel?te=null!==(q=this.totalRange)&&void 0!==q?q:this.totalRange={from:B,to:B+this.calcRows()}:E==z.CalculationRange.LastLevel&&(te=null!==(ee=null!==(Q=this.headerRange)&&void 0!==Q?Q:this.totalRange)&&void 0!==ee?ee:this.totalRange={from:B,to:B+this.calcRows()});const ie=C.dir==z.SortDir.Desc?">":"<";if(se.Convert.isValue(te))return`_xlfn.COUNTIFS(${this.getRange({col:I[0].col,startRow:te.from,endRow:te.to})}\n            ,"${ie}"&${this.getSeperateRange(I)},${this.categoryRange(te.from,te.to)})+1`}exportAggregatesFormula(C,E,I,B,z){for(const q in C.rows){const Q=C.rows[q];for(const q in Q.cells){const ee=Q.cells[q];ee.col;if(ee.column instanceof ne.GroupColumn)continue;const te=this.getTemplate(B,ee.column,z);if(se.Convert.isEmpty(te))continue;const ie=this.getAggregates(B,ee.column,z);if(se.Convert.isEmpty(ie))continue;te[ee.row];const re=this.makeFormulaObj(C,ie,E);if(se.Convert.isEmpty(re))continue;const oe=this.makeString(re,te[ee.row],ee.column);if(se.Convert.isValue(oe)){const C=ee.column;let E;if(se.Convert.isNull(B)&&z)E=C.getHeaderValue(ee.row);else if(se.Convert.isNull(B)&&!z)E=C.getFooterValue(ee.row);else if(se.Convert.isValue(B)){const I=C.getGroupValue(B);E=se.Convert.isNull(I)?"":I[ee.row]}this.writeFormula(ee.col+1,ee.row+I,oe,E)}}}}getTemplate(C,E,I){return se.Convert.isNull(C)&&I?this.makeHeaders(E):se.Convert.isNull(C)&&!I?this.makeFooters(E):se.Convert.isValue(C)&&I?this.makeGroupHeaders(C,E):se.Convert.isValue(C)&&!I?this.makeGroupFooters(C,E):void 0}getAggregates(C,E,I){var B,z;if(se.Convert.isNull(C))return null===(B=E.config.total)||void 0===B?void 0:B.aggregates;{const I=(C.node instanceof q.FooterNode?C.node.parent:C.node).igroup.field;let B=null===(z=E.getGroup(I))||void 0===z?void 0:z.groups;if(B.length>1&&(B=B.filter((C=>C.group===I))),se.Convert.isEmpty(B))return;return B[0].aggregates}}getGroups(C,E,I){var B;const z=(C.node instanceof q.FooterNode?C.node.parent:C.node).igroup.field,Q=null===(B=E.groups)||void 0===B?void 0:B.filter((C=>I?se.Convert.isValue(C.header):se.Convert.isValue(C.footer)));if(se.Convert.isEmpty(Q))return null;let ee=Q.filter((C=>C.group==z));return ee.length<=0&&(ee=Q.filter((C=>"*"==C.group))),se.Convert.isEmpty(ee)?void 0:Q}makeFormulaObj(C,E,I){const B={};return E.forEach((E=>{var q,Q,ee,te;const ie="function"==typeof E.require?[E.require]:E.require,re=se.Convert.parseEnum(z.AggregateFunctions,null===(q=E.func)||void 0===q?void 0:q.toString());let ne;if(ie.length>1)ne=this.makeMultiRangeAggregateFormula(E,I,C,B);else{const B=null===(Q=this.findCoordinate(ie[0],C))||void 0===Q?void 0:Q.col;ne=this.makeAggregateFormula(B,re,I,E.params)}if(se.Convert.isValue(ne)){if(se.Convert.isValue(E.payload)){const B=null===(ee=this.findCoordinate(ie[0],C))||void 0===ee?void 0:ee.col;ne=this.payload(null===(te=this.findCoordinate(E.payload,C))||void 0===te?void 0:te.col,ne,B,I)}this.findCell(ie[0],C);B[E.field]=ne,se.Convert.isValue(re)&&!Object.keys(B).includes(re)&&(B[re]=ne)}})),B}payload(C,E,I,B){if(se.Convert.isNull(C))return E;return`_xlfn.INDEX(${this.getRange({col:C+1,startRow:B.from,endRow:B.to})},${`MATCH(${E},${this.getRange({col:I+1,startRow:B.from,endRow:B.to})},0)`})`}makeString(C,E,I){var B;if(se.Convert.isNull(E))return;if("none"==E.field)return;let z=E.originalTemplate;se.Convert.isValue(null==E?void 0:E.template)&&(z=this.template(C,E.originalTemplate));let q=new _ColumnRender({prefix:E.prefix,suffix:E.suffix,field:E.field,format:E.format,cssClass:E.cssClass,template:z,dataType:null!==(B=E.dataType)&&void 0!==B?B:I.dataType}).render(C);return q.includes("&quot;")&&(q=q.replace(/&quot;/g,'"')),q.includes("&gt;")&&(q=q.replace(/&gt;/g,">")),q}template(C,E){let I="",B=!1,z="",q=0;for(let C=0;C<E.length;C++){const Q=E[C];if(z+=Q,"{"==Q){if(!B){B=!0;continue}if(B){const B=E.substring(q,C-1);se.Convert.isValue(B)&&(I+=this.joinQuotation(B)),q=C-1;continue}}else if("}"==Q){if(!B){B=!0;continue}I+=E.substring(q,C+1),q=C+1}B&&I.length>0&&q<E.length&&(I+="&"),B=!1}return q<E.length&&(I+=this.joinQuotation(E.substring(q,E.length))),I}joinQuotation(C){return`"${C}"`}joinAndString(C,E){return`${C}&${E}`}calcTemplate(C,E,I){return E}exportTreeFooter(C,E,I,z,q){var Q,ee;return B(this,void 0,void 0,(function*(){const B=E,te=this.getRowStyle(z,q,(()=>this.makeElement(!1,ae.PanelType.Body)));for(const B of C.rows){for(const C of B.cells){const B=this.makeTreeFooters(C.column),z=this.makeTreeData(q,C.column),ie=null!==(ee=null===(Q=B[C.row])||void 0===Q?void 0:Q.render(z))&&void 0!==ee?ee:"",re=C.col+1;this.writeValue(re,E,ie),this.merge(E,re,C.rowSpan,C.colSpan);const ne=this.getStyle(I,C,q,te,{isCol:!0,panelType:ae.PanelType.Body});this.applyStyle(ne,E,re)}this.config.includeFormula&&(this.workSheet.getRow(E).getCell("category").value=""),E+=1}const ie=this.getFooterRange(B,q);return this.writeValue(1,E-1,ie),E}))}exportGroupFooter(C,E,I,z,q){var Q,ee,te;return B(this,void 0,void 0,(function*(){const B=E,ie=this.getRowStyle(z,q,(()=>this.makeElement(!1,ae.PanelType.Body)));for(const B of C.rows){for(const C in B.cells){const z=B.cells[C],re=this.makeGroupFooters(q,z.column),ne=this.makeGroupData(q,z.column),oe=z.col+1,le=se.Convert.isValue(re)&&se.Convert.isValue(ne)?null!==(ee=null===(Q=re[z.row])||void 0===Q?void 0:Q.render(ne))&&void 0!==ee?ee:"":null===(te=null==z?void 0:z.column)||void 0===te?void 0:te.getValue(q);this.writeValue(z.col+1,E,le),this.merge(E,oe,z.rowSpan,z.colSpan);let ue=this.getStyle(I,z,q,ie,{isCol:!0,panelType:ae.PanelType.Body});this.applyMergeStyle(ue,E,oe,z.rowSpan,z.colSpan)}this.workSheet.getRow(E).outlineLevel=q.level,E+=1}if(!0===this.config.includeFormula){const E=this.getFooterRange(B,q);this.exportAggregatesFormula(C,E,B,q,!1)}return E}))}exportGroupHeader(C,E,I,z,Q){var ee,te,ie,re;return B(this,void 0,void 0,(function*(){const B=this.getRowStyle(z,Q,(()=>this.makeElement(!1,ae.PanelType.Body)));if(Q.node instanceof q.GroupNode){const z=Q.node.igroup,oe=E;for(const oe of C.rows){for(const C of oe.cells)if(!se.Convert.isNull(C))if(C.column instanceof ne.GroupColumn){const q=C.col+1;if(z.field==C.column.field){const I=se.Convert.isValue(C.column.config.groupTitle)?C.column.getGroupTitle(Q):null===(ee=Q.node)||void 0===ee?void 0:ee.groupKey;this.writeValue(q,E,I),this.merge(E,q,C.rowSpan,C.colSpan)}const te=this.getStyle(I,C,Q,B,{isCol:!0,panelType:ae.PanelType.Body});this.applyMergeStyle(te,E,q,C.rowSpan,C.colSpan)}else{if(Q.items[0]instanceof q.GroupNode)continue;const z=this.makeGroupHeaders(Q,C.column),ee=this.makeGroupData(Q,C.column),ne=C.col+1,oe=se.Convert.isValue(z)&&se.Convert.isValue(ee)?null!==(ie=null===(te=z[C.row])||void 0===te?void 0:te.render(ee))&&void 0!==ie?ie:"":null===(re=null==C?void 0:C.column)||void 0===re?void 0:re.getValue(Q);this.writeValue(ne,E,oe),this.merge(E,ne,C.rowSpan,C.colSpan);let le=this.getStyle(I,C,Q,B,{isCol:!0,panelType:ae.PanelType.Body});this.applyMergeStyle(le,E,ne,C.rowSpan,C.colSpan)}this.workSheet.getRow(E).outlineLevel=Q.level,E+=1}!0===this.config.includeFormula&&(this.headerRange=this.getHeaderRange(E-1,Q),this.exportAggregatesFormula(C,this.headerRange,oe,Q,!0))}return E}))}merge(C,E,I,B){try{I>1&&B>1?this.workSheet.mergeCells(C,E,C+I-1,E+B-1):I>1?this.workSheet.mergeCells(C,E,C+I-1,E):B>1&&this.workSheet.mergeCells(C,E,C,E+B-1)}catch(C){throw C}}writeValue(C,E,I,B){const z=this.workSheet.getRow(E).getCell(C);I=this.convertValue(this.getDataType(B),I),this.format(B,z),z.value=I}format(C,E){var I;const B=null===(I=null==C?void 0:C.config)||void 0===I?void 0:I.format;se.Convert.isValue(B)&&"string"==typeof B&&(E.numFmt=B)}getDataType(C){var E,I,B;if(!se.Convert.isNull(C))return null!==(E=C.dataType)&&void 0!==E?E:null===(B=null===(I=this.grid.dataConfig.schema)||void 0===I?void 0:I.fields[C.field])||void 0===B?void 0:B.dataType}convertValue(C,E){return se.Convert.isValue(C)?se.Convert.convertType(E,C):E}writeFormula(C,E,I,B){const z=this.workSheet.getRow(E).getCell(C);z.value;z.value={formula:I,date1904:!0,result:B}}getAddress(C,E){var I,B;return null===(B=null===(I=this.workSheet.getRow(E))||void 0===I?void 0:I.getCell(C))||void 0===B?void 0:B.address}getSeperateRange(C){const E=[];for(const I of C)se.Convert.isNull(I)||E.push(this.getAddress(I.col,I.row));return E.join(",")}getRange(C){return this.getAddress(C.col,C.startRow)+":"+this.getAddress(C.col,C.endRow)}categoryRange(C,E){const I=this.workSheet.getColumn("category").number;return`${this.getAddress(I,C)}:${this.getAddress(I,E)},1`}categoryCellAddress(C){const E=this.workSheet.getColumn("category").number;return`${this.getAddress(E,C)}`}makeFormula(C,E,I){switch(C){case z.AggregateFunctions.Max:return`MAX(${this.getSeperateRange(E)})`;case z.AggregateFunctions.Min:return`MIN(${this.getSeperateRange(E)})`;case z.AggregateFunctions.Sum:return`SUM(${this.getSeperateRange(E)})`;case z.AggregateFunctions.Avg:case z.AggregateFunctions.Average:return`AVERAGE(${this.getSeperateRange(E)})`;case z.AggregateFunctions.Count:return`ROWS(${this.getSeperateRange(E)})`;case z.AggregateFunctions.Range:return`_xlfn.IFS(${this.ifsLogic(E,I,">=")})`;case z.AggregateFunctions.Switch:return`_xlfn.IFS(${this.ifsLogic(E,I,"=")})`}return""}ifsLogic(C,E,I){let B=E.params;if(B instanceof Map){const E=B,z=[...E.keys()].filter((C=>"default"!==C)).map((C=>parseFloat(C))).sort(((C,E)=>E-C)).map((B=>`${this.getSeperateRange(C)}${I}${B},"${E.get(B.toString())}"`));return z.push("TRUE"),z.push(`"${E.get("default")}"`),z}}makeAggregateFormula(C,E,I,B){let q,Q={col:C+1,startRow:I.from,endRow:I.to};switch(E){case z.AggregateFunctions.Max:q=`_xlfn.MAXIFS(${this.getRange(Q)},${this.categoryRange(Q.startRow,Q.endRow)})`;break;case z.AggregateFunctions.Min:q=`_xlfn.MINIFS(${this.getRange(Q)},${this.categoryRange(Q.startRow,Q.endRow)})`;break;case z.AggregateFunctions.Count:q=`_xlfn.COUNTIFS(${this.getRange(Q)},"${B[0]}",${this.categoryRange(Q.startRow,Q.endRow)})`;break;case z.AggregateFunctions.Avg:case z.AggregateFunctions.Average:q=`_xlfn.AVERAGEIFS(${this.getRange(Q)},${this.categoryRange(Q.startRow,Q.endRow)})`;break;case z.AggregateFunctions.Total:q=`_xlfn.COUNTIFS(${this.categoryRange(Q.startRow,Q.endRow)})`;break;case z.AggregateFunctions.Sum:q=`_xlfn.SUMIFS(${this.getRange(Q)},${this.categoryRange(Q.startRow,Q.endRow)})`;break;case z.AggregateFunctions.First:q=`${this.getSeperateRange([{col:Q.col,row:Q.startRow}])}`;break;case z.AggregateFunctions.Last:q=`${this.getSeperateRange([{col:Q.col,row:Q.endRow}])}`}return q}makeMultiRangeAggregateFormula(C,E,I,B){var q;const Q=C.require,formulas=(z,q)=>q.map((q=>{var Q;const ee=null===(Q=this.findCoordinate(q,I))||void 0===Q?void 0:Q.col;return se.Convert.isNull(ee)?Object.keys(B).includes(q)?B[q]:void 0:this.makeAggregateFormula(ee,z,E,C.params)}));switch(null!==(q=C.func)&&void 0!==q?q:C.eval){case z.AggregateFunctions.Sum:return`SUM(${formulas(z.AggregateFunctions.Sum,Q)})`;case z.AggregateFunctions.Max:return`MAX(${formulas(z.AggregateFunctions.Max,Q)})`;case z.AggregateFunctions.Min:return`MIN(${formulas(z.AggregateFunctions.Min,Q)})`;case z.AggregateFunctions.Average:case z.AggregateFunctions.Avg:return`SUM(${formulas(z.AggregateFunctions.Sum,Q)})/SUM(${formulas(z.AggregateFunctions.Total,Q)})`;case z.AggregateFunctions.Total:return`SUM(${formulas(z.AggregateFunctions.Total,Q)})`}}findCoordinate(C,E){let I;for(const B in E.rows)if(I=E.rows[B].cells.find((E=>{var I;return!((null==E?void 0:E.column)instanceof ne.GroupColumn)&&(null===(I=null==E?void 0:E.column)||void 0===I?void 0:I.field)===C})),se.Convert.isValue(I))break;return{col:null==I?void 0:I.col,row:null==I?void 0:I.row}}findCell(C,E){let I;for(const B in E.rows)if(I=E.rows[B].cells.find((E=>{var I;return!((null==E?void 0:E.column)instanceof ne.GroupColumn)&&(null===(I=null==E?void 0:E.column)||void 0===I?void 0:I.field)===C})),se.Convert.isValue(I))break;return I}static createWorkbook(){}canceled(){const C=this.config.cancelFunc;se.Convert.isValue(C)&&C()}writeFile(){return B(this,void 0,void 0,(function*(){le.Log.time("ExcelExport.write"),this._workBook.xlsx.writeBuffer({}).then((C=>{const E=new Blob([C],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),I=window.URL.createObjectURL(E),B=document.createElement("a");B.href=I,B.download=this.fileName,B.click(),window.URL.revokeObjectURL(I),this.grid.container.find(`.${ue.SbCss.hidden}.${ue.SbCss.panel}`).empty(),le.Log.timeEnd("ExcelExport.write")}))}))}parseFont(C,E){var I,B,z,q;return{name:se.Convert.default(null==C?void 0:C.name,null!==(I=null==E?void 0:E.name)&&void 0!==I?I:void 0),color:se.Convert.default(null==C?void 0:C.color,null!==(B=null==E?void 0:E.color)&&void 0!==B?B:void 0),bold:se.Convert.default(null==C?void 0:C.bold,null!==(z=null==E?void 0:E.bold)&&void 0!==z?z:void 0),size:se.Convert.default(null==C?void 0:C.size,null!==(q=null==E?void 0:E.size)&&void 0!==q?q:void 0)}}parseBorder(C,E){var I,B;return{color:se.Convert.default(C.color,null!==(I=null==E?void 0:E.color)&&void 0!==I?I:void 0),style:se.Convert.default(C.style,null!==(B=null==E?void 0:E.style)&&void 0!==B?B:"thin")}}parseFill(C,E){var I;return{bgColor:se.Convert.default(C.bgColor,null!==(I=null==E?void 0:E.bgColor)&&void 0!==I?I:void 0)}}parseAlign(C,E){var I,B;return{vertical:se.Convert.default(C.vertical,null!==(I=null==E?void 0:E.vertical)&&void 0!==I?I:void 0),horizontal:se.Convert.default(C.horizontal,null!==(B=null==E?void 0:E.horizontal)&&void 0!==B?B:void 0)}}}E.ExcelExport=ExcelExport;class _ColumnRender extends re.ColumnRender{renderText(C){let E=C[this.field];return E=this.formatFormula(E,this.dataType,this.format),`${this.prefix?this.joinQuotation(this.prefix)+"&":""}${null!=E?E:""}${this.suffix?"&"+this.joinQuotation(this.suffix):""}`}renderTemplate(C){if(se.Convert.isValue(this.format))for(const E in C){let I=C[E];I=this.formatFormula(I,this.dataType,this.format),C[E]=I}return this.template(C)}joinQuotation(C){return`"${C}"`}textFormatFormula(C,E){return se.Convert.isNull(E)?C:C=`IF(${C}>0,TEXT(${C},${E=`"${E}"`}),"")`}formatFormula(C,E,I){return se.Convert.isValue(I)&&"string"==typeof I||E==se.DataType.Date?(I=E==se.DataType.Date&&se.Convert.isEmpty(I)?"yyyy-mm-dd":I,this.textFormatFormula(C,I.toString())):C}}},4507:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ExcelImport=void 0,I(2108);var z=I(2108);const q=I(6312),Q=I(5260),ee=I(2948),te=I(1163);class ExcelImport extends ee.GridImport{constructor(C,E){super(C),te.Convert.isValue(E)&&(this.config=E)}get config(){var C,E;return null!==(C=this._config)&&void 0!==C?C:this._config=this.parseExcelImportConfig(null===(E=this.grid.config)||void 0===E?void 0:E.excelImport)}set config(C){this._config=this.parseExcelImportConfig(C)}readFile(C,E){var I,ee,ie,re,ne,se;return B(this,void 0,void 0,(function*(){try{const E=new z.Workbook,B=yield C.arrayBuffer();yield E.xlsx.load(B);const oe=E.worksheets[0],ae=[],le=null!==(ie=null===(ee=null===(I=this.config)||void 0===I?void 0:I.row)||void 0===ee?void 0:ee.from)&&void 0!==ie?ie:0,ue=(null!==(se=null===(ne=null===(re=this.config)||void 0===re?void 0:re.row)||void 0===ne?void 0:ne.to)&&void 0!==se?se:oe.rowCount)+1;for(let C=le;C<ue;C++){const E=this.makeEditData(oe.getRow(C));te.Convert.isValue(null==E?void 0:E.value)&&ae.push(E)}Q.Log.debug(["Import Excel",ae]),q.SBGrid3.fireCommand(this.grid,{command:"import",data:ae})}catch(C){}finally{E()}}))}makeEditData(C){var E,I,B,z,q,Q;const ee=this.columns,ie={},re=C.cellCount,ne=null!==(B=null===(I=null===(E=this.config)||void 0===E?void 0:E.col)||void 0===I?void 0:I.from)&&void 0!==B?B:1,se=null!==(Q=null===(q=null===(z=this.config)||void 0===z?void 0:z.col)||void 0===q?void 0:q.to)&&void 0!==Q?Q:re;C.splice(1,ne-1),C.splice(se-1,re-se);const oe=ee.length;for(let E=0;E<oe&&!(E>=C.cellCount);E++){const I=ee[E],B=C.getCell(E+1);if(te.Convert.isNull(B))continue;let z=te.Convert.isValue(B.formula)?B.result:B.value;if(te.Convert.isValue(z)&&"object"==typeof z){const C=z;te.Convert.isValue(C.formula)&&(z=C.result)}ie[I.field]=z}return{key:void 0,value:ie}}parseExcelImportConfig(C){var E,I,B,z;return{row:{from:te.Convert.default(null===(E=null==C?void 0:C.row)||void 0===E?void 0:E.from,1),to:te.Convert.default(null===(I=null==C?void 0:C.row)||void 0===I?void 0:I.to,void 0)},col:{from:te.Convert.default(null===(B=null==C?void 0:C.col)||void 0===B?void 0:B.from,1),to:te.Convert.default(null===(z=null==C?void 0:C.col)||void 0===z?void 0:z.to,void 0)},delimiter:te.Convert.default(null==C?void 0:C.delimiter,",")}}}E.ExcelImport=ExcelImport},4367:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.GridExport=void 0;const z=I(3354),q=I(6258),Q=I(6938),ee=I(2562),te=I(5774),ie=I(103),re=I(5260),ne=I(1163);class GridExport extends Q.GridLayouts{constructor(C){super(C)}get grid(){return this._grid}get view(){return this.grid.view}get rowRange(){return q.RowRange.Loaded}get cancelled(){var C,E;return null!==(E=null===(C=this._token)||void 0===C?void 0:C.cancelled)&&void 0!==E&&E}exportCancelled(C){}export(C){return B(this,void 0,void 0,(function*(){try{this.grid.showLoading(!0),this.grid.exporting=!0,this.prepareColumns(),this._token=C;let E=1;yield this.prepareRows(),E=yield this.exportCaption(this.captionLayout,E,((C,E)=>this.grid.scrollPanel.captionPanel.makeColClass(C,E).colClass)),this.grid.hasHeader&&(E=yield this.exportHeader(this.headerLayout,E,((C,E)=>this.grid.scrollPanel.headerPanel.makeColClass(C,E).colClass))),E=yield this.exportBody(this.rowLayout,E,((C,E,I)=>this.grid.scrollPanel.bodyPanel.tbody.makeColClass(I,C,E).colClass),(C=>this.grid.scrollPanel.bodyPanel.tbody.makeRowClass(C).rowClass)),this.grid.hasFooter&&(E=yield this.exportFooter(this.footerLayout,E,((C,E)=>this.grid.scrollPanel.footerPanel.makeColClass(C,E).colClass))),yield this.writeFile()}catch(C){if(!this.cancelled)throw C;this.exportCancelled(C)}finally{this.grid.showLoading(!1),this.grid.exporting=!1}}))}prepareColumns(){const C=[].concat(this._grid.headColumns.filter((C=>C.type!=te.ColumnTypes.Frozen))).concat(this._grid.scrollColumns).concat(this._grid.tailColumns.filter((C=>C.type!=te.ColumnTypes.Frozen)));super.columns=C.filter((C=>C.visible))}prepareRows(){return B(this,void 0,void 0,(function*(){}))}writeFile(){return B(this,void 0,void 0,(function*(){throw new Error("Method not implemented.")}))}exportCaption(C,E,I){return B(this,void 0,void 0,(function*(){throw new Error("[exportCaption] Method not implemented.")}))}exportHeader(C,E,I){return B(this,void 0,void 0,(function*(){throw new Error("[exportHeader] Method not implemented.")}))}exportFooter(C,E,I){return B(this,void 0,void 0,(function*(){throw new Error("[exportFooter] Method not implemented.")}))}getRow(C,E){return B(this,void 0,void 0,(function*(){return yield this.view.getRow(C,E)}))}exportBody(C,E,I,z){return B(this,void 0,void 0,(function*(){try{re.Log.time("exportBody");let q=yield this.getRows();q=q.filter((C=>C.rowItem.visible)),re.Log.timeLog("exportBody","getRow after",q.length),(this.grid.config.mergeRow||this.grid.config.mergeColumn)&&ee.Viewport.makeMergeRow(q,this.defaultLayout.rows[0].cells.map((C=>C.column))),re.Log.timeLog("exportBody","merge after"),yield ne.Arrays.intervalAction(q,((q,Q,ee)=>B(this,void 0,void 0,(function*(){const B=q.rowItem,ee=q.merge,te=this.getLayout(C,B);let ie;if(ie=te.isGroupHeader?this.exportGroupHeader(te.layout,E,I,z,B):te.isGroupFooter?this.exportGroupFooter(te.layout,E,I,z,B):te.isTreeFooter?this.exportTreeFooter(te.layout,E,I,z,B):this.exportRow(te.layout,E,I,z,B,ee),this.cancelled)throw"export canceled";return E=yield ie,(Q+1)%1e3==0}))))}finally{re.Log.timeEnd("exportBody")}return E}))}getRows(){var C;return B(this,void 0,void 0,(function*(){let E,I=0;const B=[];switch(this.rowRange){case q.RowRange.Whole:{let E=0;const I=null===(C=this.grid.dataSource.pageMap)||void 0===C?void 0:C.lastPageNo;for(;E<=I;E++)yield this.view.loadPage(E,!1);break}case q.RowRange.Loaded:{const C=this.rowRange==q.RowRange.Loaded;for(;E=this.getRow(I++,C);){if(this.cancelled)throw"export canceled";const C=yield E;if(ne.Convert.isNull(C))break;C.node instanceof z.GroupNode&&!C.isOpen&&(yield this.grid.view.openRow(C.rowIndex)),B.push({rowItem:C})}break}case q.RowRange.Page:{I=this.grid.virtualRow?this.grid.pageNo*this.grid.pageSize:0;const C=I+this.grid.pageSize;for(;(E=this.getRow(I++,!0))&&!(I>C);){if(this.cancelled)throw"export canceled";const C=yield E;if(ne.Convert.isNull(C))break;C.node instanceof z.GroupNode&&!C.isOpen&&(yield this.grid.view.openRow(C.rowIndex)),B.push({rowItem:C})}break}}return B}))}exportRow(C,E,I,z,q,Q){return B(this,void 0,void 0,(function*(){throw new Error("[exportRow] Method not implemented.")}))}exportTreeFooter(C,E,I,z,q){return B(this,void 0,void 0,(function*(){throw new Error("[exportTreeFooter] Method not implemented.")}))}exportGroupFooter(C,E,I,z,q){return B(this,void 0,void 0,(function*(){throw new Error("[exportGroupFooter] Method not implemented.")}))}exportGroupHeader(C,E,I,z,q){return B(this,void 0,void 0,(function*(){throw new Error("[exportGroupHeader] Method not implemented.")}))}writeValue(C,E,I){throw new Error("[writeValue] Method not implemented.")}canceled(){}makeTreeFooters(C){var E;return ie.ColumnRender.parseColumnTemplate(null===(E=C.config.tree)||void 0===E?void 0:E.footer)}makeTotalData(C){var E;return ie.GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(E=C.config.total)||void 0===E?void 0:E.aggregates)}makeTreeData(C,E){var I;if(C.node instanceof z.FooterNode&&C.node.parent instanceof z.TreeNode&&ne.Convert.isValue(null===(I=this.grid.dataConfig.tree)||void 0===I?void 0:I.aggregates)&&ne.Convert.isValue(C.node.aggregates)){return ie.GridColumn.makeTreeData(C.node.aggregates,E.config.tree,C.parent)}}makeGroupFooters(C,E){var I;const B=C.node instanceof z.FooterNode?C.node.parent:C.node;if(B instanceof z.GroupNode){const C=B.igroup;return null===(I=E.getGroup(C.field))||void 0===I?void 0:I.footers}}makeGroupHeaders(C,E){var I;const B=C.node instanceof z.FooterNode?C.node.parent:C.node;if(B instanceof z.GroupNode){const C=B.igroup;return null===(I=E.getGroup(C.field))||void 0===I?void 0:I.headers}}makeGroupData(C,E){var I;const B=C.node instanceof z.FooterNode?C.node.parent:C.node;if(B instanceof z.GroupNode){const z=B.igroup,{groups:q}=E.getGroup(z.field);if(ne.Convert.isValue(q)){return ie.GridColumn.makeGroupData(z.aggregates,q,null!==(I=C.parent)&&void 0!==I?I:C)}}}}E.GridExport=GridExport},2948:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.GridImport=void 0;const z=I(5774),q=I(1163);E.GridImport=class GridImport{constructor(C){this._grid=C}get grid(){return this._grid}get columns(){if(q.Convert.isEmpty(this._columns)){const C=[].concat(this._grid.headColumns.filter((C=>C.type!=z.ColumnTypes.Frozen))).concat(this._grid.scrollColumns).concat(this._grid.tailColumns.filter((C=>C.type!=z.ColumnTypes.Frozen)));this._columns=C.filter((C=>C.visible))}return this._columns}excelImport(C){return B(this,void 0,void 0,(function*(){this._grid.exporting=!0,this._grid.showLoading(!0),yield this.readFile(C,(()=>{this._grid.exporting=!1,this._grid.showLoading(!1)}))}))}}},2875:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ButtonColumn=void 0;const z=I(1163),q=I(103),Q=I(6258),ee=I(6312),te=I(7078),ie=I(2135);class ButtonColumn extends q.GridColumn{editable(){var C;return(null===(C=this.grid.editConfig)||void 0===C?void 0:C.mode)===Q.EditMode.inline}get mergeColumn(){return!1}get mergeRow(){return!1}get commands(){if(z.Convert.isNull(this._commands)){const C=this.config.command;if(this._commands=[],z.Convert.isValue(C))for(const E of C){const C=ie.RowCommandFactory.createTool(this.grid,E);z.Convert.isValue(C)&&this._commands.push(C)}}return this._commands}get editCommands(){if(z.Convert.isNull(this._editCommands)){const C=this.commands.find((C=>C.command===ie.RowCommands.Edit)),E=[ie.RowCommands.Update,ie.RowCommands.Cancel];if(z.Convert.isNull(C))return this._editCommands=this.commands,this._editCommands;this._editCommands=[];for(const C of E){const E=ie.RowCommandFactory.createTool(this.grid,C);z.Convert.isValue(E)&&this._editCommands.push(E)}for(const C of this.commands)C.command===ie.RowCommands.Custom&&this._editCommands.push(C)}return this._editCommands}constructor(C,E){super(C,E)}static create(C,E){return new ButtonColumn(C,E)}get config(){return super.config}parseConfig(C,E,I){return super.parseConfig(C,E,I)}renderCell(C,E,I){var q;return B(this,void 0,void 0,(function*(){this.removeElement(C);const B=this.makeCell(C,E,I);for(const C of B.children())ee.SBGrid3.$(C).hasClass(te.SbCss.edit)&&C.parentNode.removeChild(C);for(const C of this.commands){const Q=C instanceof ie.RowButton?te.SbCss.command:te.SbCss.custom,ee=`>span#${C.name}.${Q}.${te.SbCss.button}`,re=z.JqUtils.adjustElement(B,`> span#${C.name}`,`<span id='${C.name}' class='${Q} ${te.SbCss.button}'/>`);re.data("selector",ee),C.render(re,E,null!==(q=null==I?void 0:I.column)&&void 0!==q?q:this)}}))}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){if(0==this.editable())return;const B=this.makeCell(C,E,I);for(const C of B.children())ee.SBGrid3.$(C).hasClass(te.SbCss.edit)||C.parentNode.removeChild(C);for(const C of this.editCommands){const I=C instanceof ie.RowButton?te.SbCss.command:te.SbCss.custom,q=z.JqUtils.adjustElement(B,`> span#${C.name}`,`<span id='${C.name}' class='${I} ${te.SbCss.button} ${te.SbCss.edit}'/>`);C.render(q,E,this)}}))}removeElement(C){C.children().empty()}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=` ${te.SbCss.text}`,{cellSelector:I,cellClass:B}}}E.ButtonColumn=ButtonColumn},5615:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.CheckColumn=E.CheckEditMode=E.CheckViewMode=void 0;const z=I(1163),q=I(103),Q=I(9797),ee=I(6312),te=I(7078),ie=I(5369),re=I(7443),ne=I(860),se=I(5165);var oe,ae;!function(C){C.Check="check",C.Label="label",C.CheckLabel="checkLabel"}(oe||(E.CheckViewMode=oe={})),function(C){C.Cell="cell",C.Checkbox="checkbox"}(ae||(E.CheckEditMode=ae={}));class CheckColumn extends q.GridColumn{constructor(C,E){super(C,E)}static create(C,E){return new CheckColumn(C,E)}get config(){return super.config}get mergeColumn(){return!1}get mergeRow(){return!1}get directApplyEdit(){return this.config.directApplyEdit}parseConfig(C,E,I){var B,q,Q,ee,te,ie,re;let ne=super.parseConfig(C,E,I);if(ne.checkValue=z.Convert.default(C.checkValue,null!==(B=null==E?void 0:E.checkValue)&&void 0!==B?B:void 0),ne.checkLabel=z.Convert.default(C.checkLabel,null!==(q=null==E?void 0:E.checkLabel)&&void 0!==q?q:void 0),ne.unCheckValue=z.Convert.default(C.unCheckValue,null!==(Q=null==E?void 0:E.unCheckValue)&&void 0!==Q&&Q),ne.unCheckLabel=z.Convert.default(C.unCheckLabel,null!==(ee=null==E?void 0:E.unCheckLabel)&&void 0!==ee?ee:void 0),ne.viewMode=z.Convert.default(C.viewMode,null!==(te=null==E?void 0:E.viewMode)&&void 0!==te?te:oe.Label),ne.checkMode=z.Convert.default(C.checkMode,null!==(ie=null==E?void 0:E.checkMode)&&void 0!==ie?ie:ae.Cell),ne.showOriginValue=z.Convert.default(C.showOriginValue,null!==(re=null==E?void 0:E.showOriginValue)&&void 0!==re&&re),ne.directApplyEdit&&(ne.directApplyValue=!0),z.Convert.isEmpty(ne.checkValue))throw"checkValue is empty";return ne}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){yield this._renderCell(C,E,I)}))}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){0!=this.editable(E)&&(yield this._renderCell(C,E,void 0,!0))}))}editMode(C,E,I){return B(this,void 0,void 0,(function*(){const B=z.JqUtils.adjustElement(E,`span.${te.SbCss.checkbox}`,`<span class=${te.SbCss.checkbox}></span>`),Q=this.config.checkMode===ae.Checkbox?B:E;this.isFocused(I,ne.PanelType.Body)&&B.get(0).focus({preventScroll:!0});const ee=this.getEventKey(I);this.grid.setEvent(q.GridColumn.eventName,"click",ee,(B=>{if(1!==B.which)return!1;E.hasClass(te.SbCss.check)&&this.toggle(C,E,I)}),Q),this.grid.setEvent(q.GridColumn.eventName,"keydown",ee,(B=>E.hasClass(te.SbCss.check)&&this.onKeyDown(B,C,E,I)),B)}))}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=C.isCheck?` ${te.SbCss.checked}`:"",B+=` ${te.SbCss.text}`,{cellSelector:I,cellClass:B}}getCellTemplate(C){const E=this.getTooltipData(C);return this.cellTemplate(E)}_renderCell(C,E,I,q=!1){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I),Q=z.JqUtils.adjustElement(B,`div.${te.SbCss.checkboxGroup}`,`<div class=${te.SbCss.checkboxGroup}>`);if(q=this.config.directApplyEdit?!this.isGroupItem(E):q,B.contents().filter(((C,E)=>3===E.nodeType)).remove(),!q&&(this.grid.setEvent("click","click",`${this.cellSelector}_${E.rowIndex}`,void 0,B),z.Convert.isValue(this.cellTemplate))){const C=this.getCellTemplate(E);return B.html()!=C&&z.JqUtils.adjustHtml(B,C),B}const ie=q&&this.config.viewMode===oe.Label?oe.CheckLabel:this.config.viewMode;switch(this.removeElement(B),ie){case oe.Label:this.renderLabel(Q,E),ee.SBGrid3.$(`span.${te.SbCss.checkbox}`,Q).remove();break;case oe.Check:this.renderCheckbox(Q,E),ee.SBGrid3.$(`span.${te.SbCss.text}`,Q).remove();break;case oe.CheckLabel:this.renderCheckbox(Q,E),this.renderLabel(Q,E)}return q&&(this.editMode(C,B,E),z.JqUtils.addClass(B,te.SbCss.edit)),B}))}renderLabel(C,E){const I=this.getItemData(E),B=z.JqUtils.adjustElement(C,`label.${te.SbCss.text}`,`<label class=${te.SbCss.text}></label>`),q=B.text(),Q=this.config.showOriginValue?z.Convert.asText(I):this.getCheckLabel(I);Q!==q&&z.JqUtils.adjustHtml(B,Q)}renderCheckbox(C,E){const I=this.getItemData(E),B=z.JqUtils.adjustElement(C,`span.${te.SbCss.checkbox}`,`<span class="${te.SbCss.checkbox}"></span>`,(C=>C.hasClass(te.SbCss.text))).attr("tabindex",0);this.getCheckState(I)?z.JqUtils.addClass(B,te.SbCss.checked):z.JqUtils.removeClass(B,te.SbCss.checked)}getEditValue(C){var E;const I=C.find(` .${te.SbCss.cell}.${te.SbCss.edit}`);if(I.length<1)return null;const B=null!==(E=I.find(` .${te.SbCss.checkbox}`).hasClass(te.SbCss.checked))&&void 0!==E&&E;return this.getCheckValue(B)}getCheckValue(C){const{checkValue:E,unCheckValue:I}=this.config;return C?E:I}getCheckLabel(C){const{checkLabel:E,unCheckLabel:I}=this.config;return this.getCheckState(C)?null!=E?E:z.Convert.asText(C):null!=I?I:z.Convert.asText(C)}getCheckState(C){const E=this.config.checkValue;return"function"==typeof E?E(C):C===E}getItemData(C){return this.config.directApplyEdit?this.getLabelData(C,void 0):this.isEdit(C)?this.getTemp(C):this.getLabelData(C,void 0)}toggle(C,E,I){return B(this,void 0,void 0,(function*(){const B=z.JqUtils.adjustElement(E,`span.${te.SbCss.checkbox}`,`<span class=${te.SbCss.checkbox}></span>`);B.is(`.${te.SbCss.checkbox}`)&&B.toggleClass(`${te.SbCss.checked}`),this.setTemp(I,C),!this.config.directApplyValue&&this.fireCommandAsync(this,new se.RefreshCommand({rowStart:I.rowIndex,rowEnd:I.rowIndex}))}))}onKeyDown(C,E,I,z){return B(this,void 0,void 0,(function*(){switch(C.preventDefault(),C.key){case re.KeyboardShortCut.Space:return yield this.toggle(E,I,z),!1;case re.KeyboardShortCut.Escape:case re.KeyboardShortCut.Enter:case re.KeyboardShortCut.Tab:return!0}return!0}))}removeElement(C){if(!(C.children().length<1))for(const E of C.children()){const C=E.classList.contains(te.SbCss.checkboxGroup),I=E.classList.contains(te.SbCss.text);C||I||E.remove()}}toggleCaptionCheck(){super.toggleCaptionCheck();const C=[];for(const E of this.grid.rows){if(z.Convert.isNull(E))continue;const I=E.data[this.field],B=this.getCheckValue(this.captionChecked);I!==B&&C.push({value:B,key:E.key,field:this.field})}this.fireCommandAsync(this,new ie.UpdateCommand(C))}isEditColumn(C,E){if(this===C&&z.Convert.isValue(E)){const C=this.grid.getContainer(E,this);if(!this.config.directApplyEdit&&!this.isEdit(E))return!1;const I=ee.SBGrid3.$(`span.${te.SbCss.checkbox}`,C);if(I.length<1)return;null==I||I.trigger("focus")}return!0}getTooltipData(C,E=void 0){const I=z.Convert.cloneData(C.data),B=this.getValue(C),q=this.getCheckLabel(B);return I._label_=q,I._value_=B,I}getCellLabel(C){const E=C instanceof Q.RowItem?this.getItemData(C):C;return this.config.showOriginValue?z.Convert.asText(E):this.getCheckLabel(E)}}E.CheckColumn=CheckColumn},1009:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ColumnFactory=void 0;const B=I(1163),z=I(5615),q=I(5774),Q=I(289),ee=I(6923),te=I(2154),ie=I(103),re=I(8964),ne=I(3849),se=I(150),oe=I(3960),ae=I(1095),le=I(2875),ue=I(4732),de=I(8788),ce=I(1046);E.ColumnFactory=class ColumnFactory{static create(C,E){let I="function"==typeof E.type?q.ColumnTypes.Dynamic:B.Convert.parseEnum(q.ColumnTypes,E.type);switch(I){case q.ColumnTypes.RowNo:return new de.RowNoColumn(C,E);case q.ColumnTypes.Sticky:return new de.StickyColumn(C,E);case q.ColumnTypes.Detail:return new de.DetailClickColumn(C,E);case q.ColumnTypes.RowCheck:return new de.RowCheckColumn(C,E);case q.ColumnTypes.RowRadio:return new de.RowRadioColumn(C,E);case q.ColumnTypes.RowReorder:return new de.RowReorderColumn(C,E);case q.ColumnTypes.Frozen:return new de.FrozenColumn(C,E);case q.ColumnTypes.Status:return new de.StatusColumn(C,E);case q.ColumnTypes.Group:return new re.GroupColumn(C,E);case q.ColumnTypes.Tree:return new ae.TreeColumn(C,E);case q.ColumnTypes.Dropdown:return new te.DropDownColumn(C,E);case q.ColumnTypes.Check:return new z.CheckColumn(C,E);case q.ColumnTypes.Date:return new ee.DateColumn(C,E);case q.ColumnTypes.Number:return new se.NumberColumn(C,E);case q.ColumnTypes.Radio:return new ue.RadioColumn(C,E);case q.ColumnTypes.MultiText:return new ne.MultiTextColumn(C,E);case q.ColumnTypes.Button:return new le.ButtonColumn(C,E);case q.ColumnTypes.Combo:return new Q.ComboColumn(C,E);case q.ColumnTypes.Text:return new oe.TextColumn(C,E);case q.ColumnTypes.Dynamic:return new ce.DynamicColumn(C,E);case q.ColumnTypes.Multi:case q.ColumnTypes.Html:case q.ColumnTypes.Image:default:return new ie.GridColumn(C,E)}throw`'${I}' is unknown column type.`}}},1977:()=>{},2987:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ResizeOptionParser=E.AutoFitMode=E.ResizeMode=E.ColumnResize=void 0;const B=I(5260),z=I(1163),q=I(5774),Q=I(7721),ee=I(6312),te=I(7078),ie=I(860),re=I(8964);var ne,se;E.ColumnResize=class ColumnResize{get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._grid.config.resizable}set option(C){this._option=C}constructor(C){this.dragging=!1,this.lastMouseX=0,this.isRight=!1,this._grid=C}renderIndecator(C){const E=z.JqUtils.adjustElement(C,`>div.${te.SbCss.resize_indicator}`,`<div class='${te.SbCss.resize_indicator}'></div>`);this._grid.setEvent("ColumnResize","mouseover","IndicatorShow",(()=>{E.css("opacity","1")}),E),this._grid.setEvent("ColumnResize","mouseout","IndicatorHide",(()=>{E.css("opacity","0")}),E),E.draggable({axis:"x",start:(C,E)=>{this.dragging=!0,this.lastMouseX=C.pageX},stop:(C,E)=>{let I=C.pageX;const B=C.ctrlKey;this.option.mode===ne.GuideLine&&this.resizeWithPosition(this.lastMouseX,I,B),this.dragging=!1},drag:(C,E)=>{if(this.dragging){let E=C.pageX;const I=C.ctrlKey;if(this.option.mode===ne.Column)try{this.resizeWithPosition(this.lastMouseX,E,I),this.lastMouseX=E}catch(C){B.Log.warn((()=>C))}}}});const I=this.option.autoFit;z.Convert.isValue(I)&&this._grid.setEvent("ColumnResize","dblclick","AutoFit",(C=>{var I;if(z.Convert.isNull(this.resizableCol))return;const B=this._grid.getColumn(this.resizableCol);if(z.Convert.isValue(B)){(null===(I=this.getCell(B))||void 0===I?void 0:I.width)!==this.autoFit(B)&&E.css("opacity","0")}}),E);const q=C.find(`.${te.SbCss.thead}`);this._grid.setEvent("ColumnResize","mousemove","IndicatorMove",(E=>{this.mouseMove(E,C)}),q),E.draggable("option","helper",((E,I)=>{const B=z.JqUtils.adjustElement(C,`>div.${te.SbCss.resize_helper}`,`<div class='${te.SbCss.resize_helper}'></div>`),q=this._grid.container.find(`.${te.SbCss.scroll_body}`);return this.option.mode===ne.GuideLine&&B.height(q.height()),B}))}mouseMove(C,E){if(!1===this.dragging){const I=this.getJqCol(ee.SBGrid3.$(C.target));if(z.Convert.isNull(I))return;let B=C.pageX-I.offset().left;if(this.resizableCol=this.findResizableCol(I,B),z.Convert.isNull(this.resizableCol))return;let q=E.find(`>.${te.SbCss.resize_indicator}`);this.moveIndicator(q,I,B)}}getJqCol(C){if(C.is(`.${te.SbCss.indicator}`))return;let E=C.closest(`.${te.SbCss.col}`);return E.length<=0?void 0:E}findResizableCol(C,E){let I=this._grid.getColumn(C);if(z.Convert.isNull(I))return;if(I.part===Q.PartType.Fixed)return;let B=this.getDirection(C,E),q=this.findCell(I,B);if(z.Convert.isNull(q))return;if(q.column instanceof re.GroupColumn)return;return this._grid.getContainer(void 0,q.column,ie.PanelType.Caption)}tailDirection(C){const E=this.findCell(C,-1);return 0===this.getBetweenLength(C,E.column)?-1:1}moveIndicator(C,E,I){var B;if(z.Convert.isNull(this.resizableCol))return;const q=this._grid.container.find(`.${te.SbCss.panel}.${te.SbCss.caption}`).offset(),Q=this.resizableCol.offset();C.height(this.resizableCol.height());let ee=null!==(B=null==Q?void 0:Q.top)&&void 0!==B?B:0,ie=E.offset(),re=E.outerWidth(),ne=re/2,se=ie.left;se+=I<=ne?-2:re,C.css({transform:`translate(${se-q.left}px, ${ee-q.top}px)`})}getDirection(C,E){var I;this.isRight=!1;const B=this._grid.getColumn(C);if(z.Convert.isNull(B))return;let ee,te=C.width()/2;switch(B.part){case Q.PartType.Head:ee=(null===(I=B.config)||void 0===I?void 0:I.type)===q.ColumnTypes.Frozen?-1:te<E?0:-1;break;case Q.PartType.Tail:const C=this.getBetweenBodyAndTail();this.isRight=C>5,ee=this.isRight?te<E?1:0:te<E?0:-1;break;case Q.PartType.Sticky:case Q.PartType.Body:ee=E>te?0:-1;break;case Q.PartType.Fixed:return}return ee}isLastColumn(C,E){return!!z.Convert.isValue(z.Arrays.dfsSearch([E],(E=>{var I;return E===C||(z.Convert.isValue(null==E?void 0:E.columns)?[null===(I=null==E?void 0:E.columns)||void 0===I?void 0:I.at(-1)]:void 0)})))}isTailFirst(C){const E=this._grid.captionLayout,I=z.Utils.findCellFromColumn(E,C);return this._grid.captionMatrix.getCell(I.row,I.col-1).column.config.type===q.ColumnTypes.Frozen}getBetweenLength(C,E){const I=this.getSelector(z.Utils.findCellFromColumn(this._grid.captionLayout,C)),B=this._grid.container.find(`.${te.SbCss.caption}.${te.SbCss.panel}`),q=B.find(I),Q=q.position(),ee=z.Utils.findCellFromColumn(this._grid.captionLayout,E);if(z.Convert.isNull(ee))return;const ie=this.getSelector(ee),re=B.find(ie),ne=re.position();return Q.left<ne.left?ne.left-(Q.left+q.width()):Q.left-(ne.left+re.width())}getBetweenBodyAndTail(){if(z.Convert.isEmpty(this._grid.tailColumns))return 0;const C=this._grid.scrollColumns.filter((C=>C.visible)),E=C[C.length-1],I=this._grid.getContainer(void 0,E,ie.PanelType.Caption),B=null==I?void 0:I.offset();if(z.Convert.isNull(B))return 0;const q=this._grid.tailColumns[0],Q=this._grid.getContainer(void 0,q,ie.PanelType.Caption),ee=null==Q?void 0:Q.offset();return z.Convert.isNull(ee)?0:B.left+I.outerWidth()<=ee.left?ee.left-(B.left+I.outerWidth()):B.left+I.outerWidth()-ee.left}findCell(C,E){var I,B;let ee=z.Utils.findCellFromColumn(this._grid.captionLayout,C);if(0===E)return ee;const te=this._grid.captionMatrix;let ie;try{ie=te.getCell(null==ee?void 0:ee.row,(null==ee?void 0:ee.col)+E),0===(null==ie?void 0:ie.width)&&(ie=this.findCell(ie.column,E))}catch(C){}finally{if((null===(I=null==ie?void 0:ie.column)||void 0===I?void 0:I.config.type)===q.ColumnTypes.Frozen&&(ie=this.findCell(ie.column,E)),(null==ie?void 0:ie.part)===Q.PartType.Fixed)return;return z.Convert.isNull(ie)&&this.isLastColumn(C,this._grid.tailColumns[(null===(B=this._grid.tailColumns)||void 0===B?void 0:B.length)-1])&&(ie=ee),ie}}getSelector(C){return` .${te.SbCss.col}.${te.SbCss.col}-${C.row+1}-${C.col}`}resizeWithPosition(C,E,I){if(z.Convert.isNull(this.resizableCol))return;const B=this._grid.getColumn(this.resizableCol);if(z.Convert.isNull(B))return;let q=B.part==Q.PartType.Tail&&this.isRight?C-E:E-C;if(0==q)return;const ee=this.getCell(B);if(z.Convert.isNull(ee))return;let te=ee.width+q;this.resize(B,te,I)}getCell(C){var E;const I=this._grid.captionLayout;for(let B=0;B<I.rows.length;B++){const q=I.rows[B],Q=null===(E=null==q?void 0:q.cells)||void 0===E?void 0:E.find((E=>(null==E?void 0:E.column)==C));if(z.Convert.isValue(Q))return Q}}adjustBodyLastColumnWidth(C,E){var I;const B=this.getBetweenBodyAndTail(),z=(null===(I=this.getCell(C))||void 0===I?void 0:I.width)+B;return z<E?z:E}resize(C,E,I){const{minWidth:z,maxWidth:q}=this.option;E>q&&(E=q),E<z&&(E=z);const ee=this.getBetweenBodyAndTail(),te=C.part===Q.PartType.Body&&this.isLastColumn(C,this._grid.scrollColumns[this._grid.scrollColumns.length-1])&&ee>1?this.adjustBodyLastColumnWidth(C,E):E;B.Log.debug(["------------\x3e",C.config.caption,te,I]),this._grid.setColumnSize(C,te,I)}autoFit(C,E){const I=C.grid;let B=z.Convert.isValue(C.columns)?C.columns.reduce(((C,E)=>C+this.autoFit(E)),0):0;const q=this.makeSelector(C,E);if(z.Convert.isNull(q))return;const Q=I.container.find(q),ie=ee.SBGrid3.$(`div.${te.SbCss.panel}.${te.SbCss.hidden}`,I.container);let re=0;return Q.each(((C,E)=>{let I=E.cloneNode(!0);this.copyStyle(E,I),ie.append(I);const B=ie.find(I).outerWidth()+2;re=Math.max(B,re)})),re++,B<re?this.resize(C,re,!1):re=B,re}copyStyle(C,E){const I=window.getComputedStyle(C),B=ee.SBGrid3.$(E);["padding","margin"].forEach((C=>{["top","bottom","left","right"].forEach((E=>{const z=`${C}-${E}`;B.css(z,I.getPropertyValue(z))}))}));const z=I.getPropertyValue("font-size");B.css("font-size",z);for(var q=C.children,Q=E.children,te=0;te<q.length;te++)this.copyStyle(q[te],Q[te])}makeSelector(C,E){if((E=null!=E?E:this.option.autoFit).includes(se.Caption)&&E.includes(se.Data)){const E=this.makeSelector(C,[se.Data]),I=this.makeSelector(C,[se.Caption]);return z.Convert.isNull(E)||z.Convert.isNull(I)?void 0:`${E}, ${I}`}if(E.includes(se.Caption)){const E=z.Utils.findCellFromColumn(this._grid.captionLayout,C);return z.Convert.isNull(E)?void 0:`.${te.SbCss.panel}.${te.SbCss.scroll} .${te.SbCss.panel}.${te.SbCss.caption} .${te.SbCss.col}.${te.SbCss.col}-${E.row+1}-${E.col}`}if(E.includes(se.Data)){const E=z.Utils.findCellFromColumn(this._grid.rowLayout,C);return z.Convert.isNull(E)?void 0:`.${te.SbCss.panel}.${te.SbCss.scroll} .${te.SbCss.panel}.${te.SbCss.body} .${te.SbCss.col}.${te.SbCss.col}-${E.row+1}-${E.col}`}}},function(C){C.GuideLine="guideLine",C.Column="column"}(ne||(E.ResizeMode=ne={})),function(C){C.Caption="caption",C.Data="data"}(se||(E.AutoFitMode=se={}));class ResizeOptionParser{static parseResizeOption(C){let E;if(!0===C)E=ee.SBGrid3.default.defaultResizable;else{if(!1===C)return;E="string"==typeof C?ResizeOptionParser.parseResizeOption({mode:z.Convert.parseEnum(ne,C)}):{mode:z.Convert.parseEnum(ne,C.mode),maxWidth:z.Convert.default(C.maxWidth,void 0),minWidth:z.Convert.default(C.minWidth,10),autoFit:z.Convert.default(C.autoFit,[se.Caption,se.Data],(C=>ResizeOptionParser.parseAutoFit(C)))}}return E}static parseAutoFit(C){if(!0===C)return[se.Caption,se.Data];if(!1!==C){if("string"==typeof C)return this.parseAutoFit([C]);if(C instanceof Array)return C.map((C=>z.Convert.parseEnum(se,C)));throw`not supported autofit option ${C}`}}}E.ResizeOptionParser=ResizeOptionParser},5774:(C,E)=>{"use strict";var I;Object.defineProperty(E,"__esModule",{value:!0}),E.ColumnTypes=void 0,function(C){C.Text="text",C.Number="number",C.Date="date",C.Check="check",C.Radio="radio",C.Dropdown="dropdown",C.MultiText="multitext",C.Html="html",C.Image="image",C.Multi="multi",C.Group="groupIndicator",C.Tree="tree",C.Calc="calc",C.Hidden="hidden",C.Button="button",C.Combo="combo",C.RowNo="rowno",C.Sticky="sticky",C.Frozen="frozen",C.Detail="detail",C.RowCheck="rowcheck",C.RowRadio="rowradio",C.RowReorder="rowreorder",C.Status="status",C.Dynamic="dynamic"}(I||(E.ColumnTypes=I={}))},289:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ComboColumn=E.PopupColumn=E.ItemsColumn=E.defaultFilterRegExp=E.AutoCompleteType=E.ComboViewMode=E.PopupPositionType=void 0;const z=I(1163),q=I(103),Q=I(9797),ee=I(2663),te=I(6312),ie=I(7078),re=I(5165),ne=I(5369),se=I(860),oe=I(7443),ae=I(6252);var le,ue,de;!function(C){C.Top="top",C.Bottom="bottom",C.Auto="auto"}(le||(E.PopupPositionType=le={})),function(C){C.Value="value",C.Label="label",C.Both="both"}(ue||(E.ComboViewMode=ue={})),function(C){C.Contains="contains",C.StartsWith="startsWith",C.EndsWith="endsWith"}(de||(E.AutoCompleteType=de={})),E.defaultFilterRegExp=new Map([[de.Contains,C=>new RegExp(z.FuzzyMatcher.createFuzzyMatcher(null==C?void 0:C.trim()).source,"i")],[de.StartsWith,C=>new RegExp("^"+z.FuzzyMatcher.createFuzzyMatcher(null==C?void 0:C.trim()).source,"i")],[de.EndsWith,C=>new RegExp(z.FuzzyMatcher.createFuzzyMatcher(null==C?void 0:C.trim()).source+"$","i")]]);class ItemsColumn extends q.GridColumn{get selectItems(){return z.Convert.isNull(this._selectItems)&&(this._selectItems=new Map),this._selectItems}get useFilter(){return this.config.master?this._useFilter=this.config.useFilter:this._useFilter=!1,this._useFilter}get cache(){return this.config.useCache&&z.Convert.isEmpty(this._cache)&&(this._cache=new Map),this._cache}get checkedItems(){return z.Convert.isEmpty(this._checkedItems)&&(this._checkedItems=new Map),this._checkedItems}setCache(C,E){this.cache.set(C,E)}getCache(C){return this.cache.get(C)}hasCache(C){return this.cache.has(C)}isAutoCompleteType(C){return C===de.Contains||C===de.StartsWith||C===de.EndsWith}get autoComplete(){const{autoComplete:C}=this.config;return z.Convert.isNull(this._autoComplete)&&(this.isAutoCompleteType(C)?this._autoComplete=new FilterRenderer(this.grid,this,C):"boolean"==typeof C&&(this._autoComplete=!0===C?new FilterRenderer(this.grid,this,de.Contains):void 0)),this._autoComplete}get items(){return z.Convert.isEmpty(this._items)&&(this._items=new Map),this._items}get itemTemplate(){var C;return null!==(C=this._itemTemplate)&&void 0!==C?C:z.Convert.isEmpty(this.config.itemTemplate)?void 0:this._itemTemplate=z.Utils.createTemplate(this.config.itemTemplate)}get noDataTemplate(){var C;return null!==(C=this._noDataTemplate)&&void 0!==C?C:z.Convert.isEmpty(this.config.noDataTemplate)?void 0:this._noDataTemplate=z.Utils.createTemplate(this.config.noDataTemplate)}get parseCheckedItem(){return z.Convert.isEmpty(this._parseCheckedItem)&&(this._parseCheckedItem=this.config.useMultiSelect?this.config.parseCheckedItem:void 0),this._parseCheckedItem}get afterCheckedItem(){return z.Convert.isEmpty(this._afterCheckedItem)&&(this._afterCheckedItem=this.config.useMultiSelect?this.config.afterCheckedItem:void 0),this._afterCheckedItem}get config(){return super.config}constructor(C,E){super(C,E)}parseConfig(C,E,I){var B,q,Q,ee,te,ie,re=super.parseConfig(C,E,I);return re.items=z.Convert.default(C.items,null!==(B=null==E?void 0:E.items)&&void 0!==B?B:void 0),re.defaultItem=z.Convert.default(C.defaultItem,null!==(q=null==E?void 0:E.defaultItem)&&void 0!==q?q:void 0,(C=>re.useMultiSelect?void 0:C)),re.itemTemplate=z.Convert.default(C.itemTemplate,null!==(Q=null==E?void 0:E.itemTemplate)&&void 0!==Q?Q:void 0),re.noDataTemplate=z.Convert.default(C.noDataTemplate,null!==(ee=null==E?void 0:E.noDataTemplate)&&void 0!==ee?ee:void 0),re.autoComplete=z.Convert.default(C.autoComplete,null!==(te=null==E?void 0:E.autoComplete)&&void 0!==te?te:void 0),re.itemContent=z.Convert.default(C.itemContent,null!==(ie=null==E?void 0:E.itemContent)&&void 0!==ie?ie:void 0),re.popupMaxHeight=z.Convert.default(C.popupMaxHeight,null==E?void 0:E.popupMaxHeight),re}render(C,E){var I;return B(this,void 0,void 0,(function*(){C.get(0).style.width="";const B=this.items.get(E.rowIndex),{useMultiSelect:q,popupMaxHeight:Q}=this.config,ee=z.JqUtils.adjustElement(C,`>div.${ie.SbCss.wrapPopup}`,`<div class='${ie.SbCss.wrapPopup}'></div>`);q&&(null===(I=this.autoComplete)||void 0===I||I.render(C,E)),z.Convert.isValue(Q)&&ee.css("max-height",`${Q}px`),this.renderItems(ee,E,B),this.scrollPosition(ee,E)}))}renderItems(C,E,I){return B(this,void 0,void 0,(function*(){const B=z.JqUtils.adjustElement(C,`>ul.${ie.SbCss.comboPopupItems}`,`<ul class='${ie.SbCss.comboPopupItems}'></ul>`);B.empty(),z.Convert.isSameValue(C.css("display"),"none")&&C.css("display",""),z.Convert.isValue(I)?yield this.renderItem(B,E,I):this.renderEmptyMessage(B);for(const E of B.children())te.SBGrid3.$(E).hasClass(ie.SbCss.comboItemSelected)&&(C.get(0).scrollTop=E.offsetTop)}))}getItemData(C){var E,I,B;const{comboValue:q,comboLabel:Q,useMultiSelect:ee,defaultItem:te}=this.config;let ie,re=C.isEdit?this.getTemp(C):this.getValue(C);if(ee)ie=this.getMultiSelectLabels(C,re);else{const Q=null===(E=this.items.get(C.rowIndex))||void 0===E?void 0:E.find((C=>C[q]===re));z.Convert.isValue(te)&&z.Convert.isEmpty(re)||z.Convert.isEmpty(Q)?(re=null!==(I=null==te?void 0:te.value)&&void 0!==I?I:"",ie=null!==(B=null==te?void 0:te.label)&&void 0!==B?B:""):ie=this.getSingleSelectLabel(C,re)}return{[q]:re,[Q]:ie}}getParseCheckedItem(C){return z.Convert.isValue(this.parseCheckedItem)?this.parseCheckedItem(C):C instanceof Array?C:[C]}getMultiSelectLabels(C,E){var I,B;const{comboValue:z,comboLabel:q}=this.config,Q=this.getParseCheckedItem(E);return this.checkedItems.set(C.rowIndex,null!=Q?Q:[]),null!==(B=null===(I=this.items.get(C.rowIndex))||void 0===I?void 0:I.filter((C=>Q.find((E=>E===C[z])))).map((C=>C[q])).join(","))&&void 0!==B?B:""}getSingleSelectLabel(C,E){var I,B,z;const{comboValue:q,comboLabel:Q}=this.config;return null!==(z=null===(B=null===(I=this.items.get(C.rowIndex))||void 0===I?void 0:I.find((C=>C[q]===E)))||void 0===B?void 0:B[Q])&&void 0!==z?z:""}selectItem(C,E){var I,B;const z=te.SBGrid3.$(`div#${this._name}_popup.${ie.SbCss.comboPopup}`);if("INPUT"===C.tagName){const E="checkbox"===C.type?`li.${ie.SbCss.comboPopupItem}`:`span.${ie.SbCss.combobox}`;C=te.SBGrid3.$(C).closest(E).get(0)}const q=C.classList.contains(`${ie.SbCss.combobox}`)?te.SBGrid3.$(`li.${ie.SbCss.comboItemSelected}`,z.children()):"LI"===C.tagName?te.SBGrid3.$(C):te.SBGrid3.$(C).closest(`li.${ie.SbCss.comboPopupItem}`),Q=q.data("value");if(this.config.useMultiSelect){if(q.length>1)return;this.toggle(q,E,Q);const C=this.checkedItems.get(E.rowIndex),z=null!==(B=null===(I=this.afterCheckedItem)||void 0===I?void 0:I.call(this,C))&&void 0!==B?B:C;this.fireCommandAsync(this,new ne.UpdateCellDataCommand(this,E,z)),setTimeout((()=>this.doFocus(E)),10)}else q.length>0&&this.fireCommandAsync(this,new ne.UpdateCellDataCommand(this,E,Q)),this.fireCommandAsync(this,new re.ClosePopupCommand(this,E))}doFocus(C){const E=this.grid.getContainer(C,this,se.PanelType.Body);(te.SBGrid3.$(`span.${ie.SbCss.combobox}`,E).length>0?te.SBGrid3.$(`span.${ie.SbCss.combobox}`,E):te.SBGrid3.$(this.grid.container)).get(0).focus({preventScroll:!0})}checkItem(C,E,I){return z.JqUtils.addClass(C,ie.SbCss.comboItemSelected),[...this.checkedItems.get(I.rowIndex),E]}unCheckItem(C,E,I){return z.JqUtils.removeClass(C,ie.SbCss.comboItemSelected),this.checkedItems.get(I.rowIndex).filter((C=>C!==E))}toggle(C,E,I){const B=this.checkedItems.get(E.rowIndex),q=C.find("input[type='checkbox']"),Q=B.includes(I);q.prop("checked",!Q);const ee=Q?this.unCheckItem(C,I,E):this.checkItem(C,I,E);this.checkedItems.set(E.rowIndex,ee.filter((C=>z.Convert.isValue(C))))}scrollPosition(C,E){var I,B,z,q,Q,ee,re,ne;const se=null!==(q=null!==(z=null===(B=null===(I=this.checkedItems)||void 0===I?void 0:I.get(E.rowIndex))||void 0===B?void 0:B.at(-1))&&void 0!==z?z:this.getTemp(E))&&void 0!==q?q:this.getValue(E),oe=te.SBGrid3.$(`li.${ie.SbCss.comboPopupItem}`,C).filter((()=>this.selectItems.get(E.rowIndex)===se)),ae=C.siblings(`span.${ie.SbCss.comboInner}`);C.get(0).scrollTop=null!==(ne=(null!==(ee=null===(Q=oe.get(0))||void 0===Q?void 0:Q.offsetTop)&&void 0!==ee?ee:0)-(null===(re=ae.get(0))||void 0===re?void 0:re.clientHeight))&&void 0!==ne?ne:0}renderItem(C,E,I){var q,Q;return B(this,void 0,void 0,(function*(){const{comboValue:B}=this.config,ee=null!==(Q=null===(q=this.checkedItems)||void 0===q?void 0:q.get(E.rowIndex))&&void 0!==Q?Q:this.getTemp(E)instanceof Array?this.getTemp(E):[this.getTemp(E)];for(let E=0;E<I.length;E++){const q=I[E];if(z.Convert.isNull(q))continue;const Q=z.JqUtils.adjustElement(C,`>li#${ie.SbCss.comboPopupItem}-${E}`,`<li id='${ie.SbCss.comboPopupItem}-${E}' class='${ie.SbCss.comboPopupItem}'></li>`).attr("data-index",E),te=z.JqUtils.adjustElement(Q,`>span.${ie.SbCss.text}`,`<span class='${ie.SbCss.text}'></span>`),re=q[B];Q.data("value",re),z.Convert.isValue(this.itemTemplate)?z.JqUtils.adjustHtml(te,this.itemTemplate(q)):this.renderItemLabel(te,q),(null==ee?void 0:ee.find((C=>C===re)))?z.JqUtils.addClass(Q,ie.SbCss.comboItemSelected):z.JqUtils.removeClass(Q,ie.SbCss.comboItemSelected),this.renderCheckbox(Q,q,ee)}this.grid.setEvent("comboItemClick","click",`${this._name}`,(C=>this.selectItem(C.target,E)),C)}))}renderCheckbox(C,E,I){if(this.config.useMultiSelect){const B=E[this.config.comboValue],q=z.JqUtils.adjustElement(C,`input.${ie.SbCss.checkbox}>`,`<input type='checkbox' id='${this._name}_item_${B}' class='${ie.SbCss.checkbox}' value='${B}'>`,(()=>!0)).attr("tabindex",0);return(null==I?void 0:I.find((C=>C===B)))&&q.attr("checked","checked"),q}}renderItemLabel(C,E){const{comboLabel:I,comboValue:B,itemContent:q}=this.config;z.Convert.isValue(q)?C.append(q(E[I],E[B])):C.append(E[I])}renderEmptyMessage(C){const E=z.JqUtils.adjustElement(C,`>li#${ie.SbCss.comboItemEmpty}`,`<li class='${ie.SbCss.comboItemEmpty}'></li>`);if(z.Convert.isValue(this.noDataTemplate))z.JqUtils.adjustHtml(E,this.noDataTemplate(void 0));else{const C=te.SBGrid3.$(`div#${this._name}_popup`,this.grid.container);z.JqUtils.addClass(C,ie.SbCss.hidden)}}doFilterItems(C){const{column:E,items:I,rowItem:B}=C;if(E===this){const C=te.SBGrid3.$(`#${E._name}_popup`,E.grid.container),q=z.JqUtils.adjustElement(C,`>div.${ie.SbCss.wrapPopup}`,`<div class='${ie.SbCss.wrapPopup}'></div>`);this.renderItems(q,B,I)}}getItems(C){var E,I;return B(this,void 0,void 0,(function*(){const{master:B,items:z}=this.config;let q;B&&(q=this.isEdit(C)?null===(E=C.temp)||void 0===E?void 0:E[B]:null===(I=C.data)||void 0===I?void 0:I[B]),z instanceof Array?this.getStaticItems(C,z,q):z instanceof Function&&(yield this.getDynamicItems(C,z,q))}))}getStaticItems(C,E,I){var B,q;const Q=[],{comboValue:ee,comboLabel:te,defaultItem:ie}=this.config;if(z.Convert.isValue(ie)){const C=null!==(B=null==ie?void 0:ie.value)&&void 0!==B?B:"",E=null!==(q=null==ie?void 0:ie.label)&&void 0!==q?q:"";Q.push({[ee]:C,[te]:E})}for(const C of E)this.getFilter(C,this.useFilter,I)&&Q.push(C);this.items.set(C.rowIndex,Q)}getFilter(C,E,I){return!E||(null==C?void 0:C[this.config.masterField])===I}getDynamicItems(C,E,I=""){return B(this,void 0,void 0,(function*(){let B;this.config.useCache?(!this.hasCache(I)&&this.setCache(I,yield this.loadItems(E,I)),B=this.getCache(I)):B=yield this.loadItems(E,I),this.getStaticItems(C,B,I)}))}loadItems(C,E){return B(this,void 0,void 0,(function*(){let I=C(this,E);return I instanceof Promise?yield I:I}))}moveFocusItem(C,E){return!(E.length<1)&&(E.hasClass(ie.SbCss.comboItemSelected)||(z.JqUtils.addClass(E,ie.SbCss.comboItemSelected),z.JqUtils.removeClass(C,ie.SbCss.comboItemSelected)),!0)}fireBelowFocusItem(C){var E,I;const B=te.SBGrid3.$(`div#${this._name}_popup.${ie.SbCss.comboPopup}`),z=te.SBGrid3.$(`ul.${ie.SbCss.comboPopupItems}`,B),q=te.SBGrid3.$(`li.${ie.SbCss.comboItemSelected}`,z);if(!this.config.useMultiSelect)if(q.length<1)z.children().first().addClass(ie.SbCss.comboItemSelected);else{const z=q.next();this.moveFocusItem(q,z)&&(B.find(`div.${ie.SbCss.wrapPopup}`).get(0).scrollTop=z.get(0).offsetTop,(null===(E=z.get(0))||void 0===E?void 0:E.offsetTop)+z.get(0).clientHeight>(null===(I=B.get(0))||void 0===I?void 0:I.clientHeight)&&this.selectItems.set(C.rowIndex,z.data("value")))}}fireAboveFocusItem(C){const E=te.SBGrid3.$(`div#${this._name}_popup.${ie.SbCss.comboPopup}`),I=te.SBGrid3.$(`ul.${ie.SbCss.comboPopupItems}`,E),B=te.SBGrid3.$(`li.${ie.SbCss.comboItemSelected}`,I);if(!this.config.useMultiSelect)if(B.length<1)I.children().first().addClass(ie.SbCss.comboItemSelected);else{const I=B.prev();this.moveFocusItem(B,I)&&(E.find(`div.${ie.SbCss.wrapPopup}`).get(0).scrollTop=I.get(0).offsetTop,this.selectItems.set(C.rowIndex,I.data("value")))}}doCommand(C,E){return E.command!==ee.Commands.FilterCellData?super.doCommand(C,E):(this.doFilterItems(E),!0)}getCacheValus(C){for(const E of this.cache){const I=E[1].find((E=>E[this.config.comboValue]===C));if(z.Convert.isValue(I))return I}}}E.ItemsColumn=ItemsColumn;class PopupColumn extends ItemsColumn{constructor(C,E){super(C,E)}parseConfig(C,E,I){var B;let q=super.parseConfig(C,E,I);return q.popupPosition=z.Convert.default(C.popupPosition,null!==(B=null==E?void 0:E.popupPosition)&&void 0!==B?B:le.Auto),q.popupMaxWidth=z.Convert.default(C.popupMaxWidth,null==E?void 0:E.popupMaxWidth),q}render(C,E){return B(this,void 0,void 0,(function*(){this.renderPopup(C,E)}))}renderPopup(C,E){const I=Object.create(null,{render:{get:()=>super.render}});return B(this,void 0,void 0,(function*(){this.grid.scrollPanel.removeMenu();const B=z.JqUtils.adjustElement(this.grid.container,`>div#${this._name}_popup`,`<div id='${this._name}_popup' class='${ie.SbCss.comboPopup}'></div>`);return I.render.call(this,B,E),this.setPosition(C,B,`span.${ie.SbCss.combobox}`),this.setWidth(C,B,`span.${ie.SbCss.combobox}`),this.grid.setEvent("ComboPopupMouseout","mouseleave",this.name,(()=>this.hidePopup()),this.grid.container),B}))}setPosition(C,E,I){const B=this.grid.container.offset(),z=C.get(0).getBoundingClientRect().bottom,{width:q,left:Q}=te.SBGrid3.$(I,C).get(0).getBoundingClientRect();let ee,ie=Q-B.left-2;switch(this.config.popupPosition){case le.Top:ee=this.positionTop(E,C);break;case le.Bottom:ee=this.positionBottom(E,C);break;case le.Auto:ee=z+E.height()-B.top<this.grid.height?this.positionBottom(E,C):this.positionTop(E,C);break;default:ee=0}E.css({left:ie,top:ee})}setWidth(C,E,I){const B=te.SBGrid3.$(I,C).get(0).getBoundingClientRect().width;E.css("width",B)}positionTop(C,E){return new ae.PopupPosition(this.grid.container).positionTop(C,E),C.data("position",le.Top),z.Convert.asFloat(C.css("top"))}positionBottom(C,E){return new ae.PopupPosition(this.grid.container).positionBottom(C,E),C.data("position",le.Bottom),z.Convert.asFloat(C.css("top"))-2}doCommand(C,E){switch(E.command){case ee.Commands.Focused:case ee.Commands.Escape:case ee.Commands.ClosePopup:return this.doEscape(E),super.doCommand(C,E);case ee.Commands.PopupPosChange:return this.doPopupPosChange(E);case ee.Commands.FilterCellData:this.doShowFilterUI(E);default:return super.doCommand(C,E)}}isPopup(){const C=te.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);return C.length>0&&!C.hasClass(ie.SbCss.hidden)}togglePopup(){this.isPopup()?this.hidePopup():this.showPopup()}hidePopup(){const C=te.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);C.length>0&&(te.SBGrid3.$(`input.${ie.SbCss.comboValueText}`,C).val(""),z.JqUtils.addClass(C,ie.SbCss.hidden))}showPopup(){const C=te.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);C.length>0&&z.JqUtils.removeClass(C,ie.SbCss.hidden)}doShowFilterUI(C){const{column:E,rowItem:I,cell:B}=C;if(E===this){te.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);this.renderPopup(B,I),!this.isPopup()&&this.showPopup()}}doPopupPosChange(C){const{jqCell:E,column:I}=C;if(this===I){const C=te.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);this.setPosition(E,C,`span.${ie.SbCss.combobox}`)}return!0}doEscape(C){const{column:E,rowItem:I}=C;return this.hidePopup(),this===E&&this.doFocus(I),!0}}E.PopupColumn=PopupColumn;class ComboColumn extends PopupColumn{constructor(C,E){super(C,E)}get directApplyEdit(){return this.config.directApplyEdit}static create(C,E){return new ComboColumn(C,E)}parseConfig(C,E,I){var B,q,Q,ee;let te=super.parseConfig(C,E,I);return te.viewMode=z.Convert.default(C.viewMode,null!==(B=null==E?void 0:E.viewMode)&&void 0!==B?B:ue.Label),te.useMultiSelect=z.Convert.default(C.useMultiSelect,null!==(q=null==E?void 0:E.useMultiSelect)&&void 0!==q&&q),te.afterCheckedItem=z.Convert.default(C.afterCheckedItem,null==E?void 0:E.afterCheckedItem),te.parseCheckedItem=z.Convert.default(C.parseCheckedItem,null==E?void 0:E.parseCheckedItem),te.master=z.Convert.default(C.master,null==E?void 0:E.master),te.masterField=z.Convert.default(C.masterField,null==E?void 0:E.masterField),te.useFilter=z.Convert.default(C.useFilter,null==E?void 0:E.useFilter),te.useCache=z.Convert.default(C.useCache,null==E?void 0:E.useCache),te.comboLabel=z.Convert.default(C.comboLabel,null!==(Q=null==E?void 0:E.comboLabel)&&void 0!==Q?Q:"label"),te.comboValue=z.Convert.default(C.comboValue,null!==(ee=null==E?void 0:E.comboValue)&&void 0!==ee?ee:"value"),te.directApplyEdit&&(te.directApplyValue=!0),te}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){this.isEdit(E)||(yield this._renderCell(C,E,I))}))}renderEdit(C,E){return B(this,void 0,void 0,(function*(){if(0==this.editable(E))return;const I=yield this._renderCell(C,E,void 0,!0);z.JqUtils.addClass(I,ie.SbCss.edit),this.render(I,E),I.contents().filter(((C,E)=>3===E.nodeType)).remove()}))}_renderCell(C,E,I=void 0,q=!1){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);return q=this.config.directApplyEdit?!this.isGroupItem(E):q,(null==I?void 0:I.merged)?(z.Convert.isValue(I)&&z.JqUtils.adjustHtml(B,""),B):(null==I?void 0:I.merge)?void z.JqUtils.adjustHtml(B,this.getValue(E,I)):(q&&(B.contents().filter(((C,E)=>3===E.nodeType)).remove(),this.removeElement(B)),this.getItems(E).then((()=>{q||this.isEdit(E)?this.render(B,E):this.renderContent(B,E)})),B)}))}renderContent(C,E){var I,B;if(0==(null!==(B=null===(I=C[0])||void 0===I?void 0:I.isConnected)&&void 0!==B&&B))return;z.Convert.isValue(this.cellTemplate)?this.renderTemplate(C,E):this.renderViewLabel(C,E);const q=this.getItemData(E)[this.config.comboValue];this.selectItems.set(E.rowIndex,q)}render(C,E){var I,q,Q;return B(this,void 0,void 0,(function*(){const{comboValue:B,useMultiSelect:ee}=this.config,re=z.JqUtils.adjustElement(C,`span.${ie.SbCss.combobox}`,`<span class=${ie.SbCss.combobox}></span>`).attr("tabindex",0),ne=ee?this.renderEditLabel(re,E):null!==(q=null===(I=this.autoComplete)||void 0===I?void 0:I.render(re,E))&&void 0!==q?q:this.renderEditLabel(re,E),oe=te.SBGrid3.$(`>div#${this._name}_popup`,this.grid.container);((null!==(Q=null==oe?void 0:oe.length)&&void 0!==Q?Q:0)<1||!this.isPopup())&&this.isFocused(E,se.PanelType.Body)&&ne.get(0).focus({preventScroll:!0}),this.selectItems.set(E.rowIndex,this.getItemData(E)[B]);const ae=this.renderButton(re),le=this.autoComplete&&!this.config.useMultiSelect?ae:re;this.grid.setEvent("comboOpenPopup","click",`${this._name}_${E.rowIndex}`,(()=>this.renderCombo(C,E)),le),this.grid.setEvent("comboKeyDown","keydown",`${this._name}_${E.rowIndex}`,(I=>this.onKeyDown(I,C,E)),re)}))}renderEditLabel(C,E){const I=z.JqUtils.adjustElement(C,`>span.${ie.SbCss.comboInner}`,`<span class='${ie.SbCss.comboInner}'></span>`),B=z.JqUtils.adjustElement(I,`>span.${ie.SbCss.comboValueText}`,`<span class='${ie.SbCss.comboValueText}'></span>`),q=this.getItemData(E)[this.config.comboLabel];return z.JqUtils.adjustHtml(B,q),C}renderViewLabel(C,E){var I;const B=this.getItemData(E);let q=B[this.config.comboValue],Q=B[this.config.comboLabel];if(z.Convert.isEmpty(q))z.JqUtils.adjustHtml(C,null!==(I=super.renderPlaceHolder(q,E,C))&&void 0!==I?I:"");else switch(this.config.viewMode){case ue.Label:return C.html()!=Q&&z.JqUtils.adjustHtml(C,Q);case ue.Value:return C.html()!=q&&z.JqUtils.adjustHtml(C,q);case ue.Both:return C.html()!=`${Q}[${q}]`&&z.JqUtils.adjustHtml(C,`${Q}[${q}]`)}}renderButton(C){const E=z.JqUtils.adjustElement(C,`>span.${ie.SbCss.comboButton}`,`<span class='${ie.SbCss.comboButton}'></span>`);return z.JqUtils.adjustElement(E,`>span.${ie.SbCss.comboButton}.${ie.SbCss.icon}`,`<span class='${ie.SbCss.comboButton} ${ie.SbCss.icon} ${ie.SbCss.angleBottom}'></span>`),E}renderCombo(C,E){return 1===te.SBGrid3.$(`span.${ie.SbCss.loading}`,C).length||(this.togglePopup(),super.render(C,E)),!1}onKeyDown(C,E,I){switch(C.key){case oe.KeyboardShortCut.Escape:if(!this.isPopup())break;return this.fireCommandAsync(this,new re.ClosePopupCommand(this,I)),!1;case oe.KeyboardShortCut.Tab:case oe.KeyboardShortCut.Enter:if(!this.isPopup())break;return this.selectItem(C.target,I),!1;case oe.KeyboardShortCut.End:case oe.KeyboardShortCut.Home:case oe.KeyboardShortCut.ArrowLeft:case oe.KeyboardShortCut.ArrowRight:case oe.KeyboardShortCut.PageUp:case oe.KeyboardShortCut.PageDown:return!1;case oe.KeyboardShortCut.ArrowDown:if(C.preventDefault(),this.isPopup())return this.fireBelowFocusItem(I),!1;case oe.KeyboardShortCut.ArrowUp:if(C.preventDefault(),this.isPopup())return this.fireAboveFocusItem(I),!1;case oe.KeyboardShortCut.Space:default:if(C.shiftKey)return;return!(!C.ctrlKey||86!==C.keyCode&&67!==C.keyCode)||(C.ctrlKey||this.renderCombo(E,I),!1)}return!0}getCellTemplate(C){const E=this.getTooltipData(C);return this.cellTemplate(E)}renderTemplate(C,E){const I=this.getCellTemplate(E);C.html()!=I&&z.JqUtils.adjustHtml(C,I)}doUpdate(C){return B(this,void 0,void 0,(function*(){const{value:E,rowItem:I,column:B}=C,q=this.grid.getContainer(I,this,se.PanelType.Body),Q=te.SBGrid3.$(`.${ie.SbCss.cell}`,q);if(this===B&&(this.selectItems.set(I.rowIndex,E),this.setTemp(I,q),this.fireCommandAsync(this,new re.RefreshCommand({rowStart:null==I?void 0:I.rowIndex,rowEnd:null==I?void 0:I.rowIndex}))),this.config.master===B.field){if(B.config.useMultiSelect)return;const C=B.isEdit(I)?B.getTemp(I):B.getValue(I),E=!z.Convert.isValue(this.items.get(I.rowIndex).find((E=>this.getFilter(E,!0,C))));this.renderLoading(Q,!0),this.getItems(I).then((()=>{var C;const z=null===(C=this.items.get(I.rowIndex)[0])||void 0===C?void 0:C[this.config.comboValue],q=E?z:B.isEdit(I)?B.getTemp(I):B.getValue(I);this.renderLoading(Q,!1),this.fireCommandAsync(this,new ne.UpdateCellDataCommand(this,I,q))}))}}))}renderLoading(C,E){const I=te.SBGrid3.$(`.${ie.SbCss.comboButton}.${ie.SbCss.icon}`,C),B=te.SBGrid3.$(`>.${ie.SbCss.combobox}`,C);z.JqUtils.changeClass(I,`${ie.SbCss.comboButton} ${ie.SbCss.icon} ${E?ie.SbCss.loading:ie.SbCss.angleBottom}`),B.css("pointer-events",E?"none":"")}removeElement(C){C.children().length<1||C.children().remove()}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=` ${ie.SbCss.text}`,{cellSelector:I,cellClass:B}}isEditColumn(C,E){if(C==this&&z.Convert.isValue(E)){if(!this.config.directApplyEdit&&!this.isEdit(E))return!1;const C=this.grid.getContainer(E,this),I=te.SBGrid3.$(`input#${this._name}_input`,C),B=I.length>0?I:te.SBGrid3.$(`span.${ie.SbCss.combobox}`,C);null==B||B.get(0).focus({preventScroll:!0})}return!0}doCommand(C,E){return E.command!==ee.Commands.UpdateCellData?super.doCommand(C,E):(this.doUpdate(E),!0)}getEditValue(C){var E,I;return C.find(`>.${ie.SbCss.cell}`).length<1?null:this.selectItems.get(null!==(I=null===(E=this.grid.getRowItem(C))||void 0===E?void 0:E.rowIndex)&&void 0!==I?I:-1)}setTempValue(C,E){var I,B;if(this.config.useMultiSelect){const z=this.getParseCheckedItem(E),q=this.checkedItems.get(C.rowIndex).every((C=>!!z.find((E=>E===C)))),Q=null!==(B=null===(I=this.afterCheckedItem)||void 0===I?void 0:I.call(this,z))&&void 0!==B?B:z;return q?super.setTempValue(C,Q):super.setTempValue(C,this.getValue(C))}return super.setTempValue(C,E)}getTooltipData(C,E=void 0){const{useMultiSelect:I}=this.config,B=z.Convert.cloneData(C.data),q=this.getValue(C),Q=I?this.getMultiSelectLabels(C,q):this.getSingleSelectLabel(C,q);return B._label_=Q,B._value_=q,B}getCellHtml(C,E=void 0){if(z.Convert.isValue(this.cellTemplate))return this.getCellTemplate(C);{const E=this.getItemData(C);let I=E[this.config.comboValue],B=E[this.config.comboLabel];switch(this.config.viewMode){case ue.Label:return B;case ue.Value:return I;case ue.Both:return`${B}[${I}]`}}}getCellLabel(C){if(C instanceof Q.RowItem){return this.getItemData(C)[this.config.comboLabel]}{let{items:E}=this.config;const I=E instanceof Function?this.getCacheValus(C):null==E?void 0:E.find((E=>E[this.config.comboValue]==C));return z.Convert.isEmpty(I)?void 0:I[this.config.comboLabel]}}setWidth(C,E,I){const B=this.config.popupMaxWidth;if(z.Convert.isNull(B))return void super.setWidth(C,E,I);const q=E.outerWidth(),Q=te.SBGrid3.$(I,C).get(0).getBoundingClientRect().width,ee=z.Convert.isValue(B)?q>B?B:Q>q?Q:q:Q;E.css("width",ee)}}E.ComboColumn=ComboColumn;class FilterRenderer{get column(){return this._column}get grid(){return this._grid}get filter(){return z.Convert.isNull(this._filter)&&(this._filter=E.defaultFilterRegExp.get(this._type)),this._filter}constructor(C,E,I){this._grid=C,this._column=E,this._type=I}get type(){return this._type}filterComboItems(C,E,I,B){const q=B(I);this.column.items.get(E.rowIndex);if(z.Convert.isValue(q)){this.column.fireCommand(this.column,new ne.FilterCellDataCommand(this.column,E,q,C));const I=q[0][this.column.config.comboValue],B=te.SBGrid3.$(`div#${this.column._name}_popup`,this.grid.container).find(`li.${ie.SbCss.comboPopupItem}`);z.JqUtils.removeClass(B,ie.SbCss.comboItemSelected),B.each(((E,B)=>{te.SBGrid3.$(B).data("value")===I&&(B.classList.add(ie.SbCss.comboItemSelected),C.data("value",I))}))}}filterTextItems(C,E,I,B){const z=B(I);this.column.fireCommandAsync(this.column,new ne.FilterCellDataCommand(this.column,E,z,C)),this.column.fireCommandAsync(this.column,new re.PopupPosChangeCommand(this.column,C))}render(C,E){const{comboValue:I,comboLabel:B,useMultiSelect:q}=this.column.config,Q=this.column.getItemData(E),ee=z.JqUtils.adjustElement(C,`>span.${ie.SbCss.comboInner}`,`<span class='${ie.SbCss.comboInner}'></span>`),re=z.JqUtils.adjustElement(ee,`>input.${ie.SbCss.comboValueText}#${this.column._name}_input`,`<input class='${ie.SbCss.comboValueText}' id='${this.column._name}_input'></input>`),ne=te.SBGrid3.$(`> span.${ie.SbCss.cell}`,this._grid.getContainer(E,this.column,se.PanelType.Body));q?re.val(""):re.val(Q[B]).data("value",Q[I]);const handleInput=C=>{const{comboValue:I,comboLabel:B}=this.column.config,z=C.target.value;this.filterComboItems(ne,E,z,(C=>{const z=this.filter(C);return this.column.items.get(E.rowIndex).filter((C=>z.test(C[B])||z.test(C[I])))}))};return this._grid.setEvent("filterComboKeydown","keydown",`${this.column._name}_${E.rowIndex}`,(C=>(C=>{switch(C.key){case oe.KeyboardShortCut.Tab:case oe.KeyboardShortCut.Enter:case oe.KeyboardShortCut.ArrowLeft:case oe.KeyboardShortCut.ArrowRight:case oe.KeyboardShortCut.ArrowDown:case oe.KeyboardShortCut.ArrowUp:case oe.KeyboardShortCut.Esc:case oe.KeyboardShortCut.Escape:return!0;default:return!1}})(C)),re),this._grid.setEvent("filterComboKeyup","input",`${this.column._name}_${E.rowIndex}`,(C=>(handleInput(C),!1)),re),re}}},6923:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.DateColumn=E.CalendarType=void 0;const z=I(9996),q=I(1163),Q=I(103),ee=I(6312),te=I(7078),ie=I(7443),re=I(860);var ne;!function(C){C.Year="year",C.Month="month",C.Date="date",C.YearMonth="yearMonth",C.DateTime="datetimeLocal"}(ne||(E.CalendarType=ne={}));class DateColumn extends Q.GridColumn{get format(){return this._format}set format(C){this._format=C}constructor(C,E){super(C,E)}static create(C,E){return new DateColumn(C,E)}get config(){return super.config}parseConfig(C,E,I){var B,z,Q,ee,te,ie=super.parseConfig(C,E,I);return ie.min=q.Convert.default(C.min,null!==(B=null==E?void 0:E.min)&&void 0!==B?B:void 0),ie.max=q.Convert.default(C.max,null!==(z=null==E?void 0:E.max)&&void 0!==z?z:void 0),ie.step=q.Convert.default(C.step,null!==(Q=null==E?void 0:E.step)&&void 0!==Q?Q:void 0),ie.calendarType=q.Convert.default(C.calendarType,null!==(ee=null==E?void 0:E.calendarType)&&void 0!==ee?ee:ne.Date),ie.valueFormat=q.Convert.default(C.valueFormat,null!==(te=null==E?void 0:E.valueFormat)&&void 0!==te?te:ie.calendarType===ne.Date?"yyyy-MM-dd":"yyyy-MM"),ie}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,void 0);q.JqUtils.addClass(B,te.SbCss.edit);let{max:z,min:se,step:oe,calendarType:ae}=this.config,le=ee.SBGrid3.$(`input#${this._name}_date`,I);le.length;switch(ae){case ne.Date:le=q.JqUtils.adjustElement(B,"input[type=date]",`<input type='date' class='${te.SbCss.toClass("date")}' id='${this._name}_date'/>`),z=null!=z?z:"9999-12-31",this.format="yyyy-MM-dd";break;case ne.YearMonth:le=q.JqUtils.adjustElement(B,"input[type=month]",`<input type='month' class='${te.SbCss.toClass("date")}' id='${this._name}_date'/>`),z=null!=z?z:"9999-12",this.format="yyyy-MM";break;case ne.DateTime:le=q.JqUtils.adjustElement(B,"input[type=datetime-local]",`<input type='datetime-local' class='${te.SbCss.toClass("date")}' id='${this._name}_date'/>`),z=null!=z?z:"9999-12",this.format="yyyy-MM-dd'T'HH:mm";break;case ne.Year:case ne.Month:throw new Error(`calendarType ${ae} not implemented.`);default:throw new Error(`calendarType ${ae} is not supported.`)}const ue=this.getEventKey(E);this.grid.setEvent(Q.GridColumn.eventName,"change",ue,(()=>this.setTemp(E,C)),le),this.grid.setEvent(Q.GridColumn.eventName,"keydown",ue,(C=>(C=>{switch(C.key){case ie.KeyboardShortCut.Home:case ie.KeyboardShortCut.End:case ie.KeyboardShortCut.PageUp:case ie.KeyboardShortCut.PageDown:case ie.KeyboardShortCut.ArrowLeft:case ie.KeyboardShortCut.ArrowRight:case ie.KeyboardShortCut.ArrowUp:case ie.KeyboardShortCut.ArrowDown:return!1}return!0})(C)),le);const de=this.getTemp(E);0==q.Convert.isSameValue(le.val(),de)&&le.val(de),le.attr({step:oe,min:se,max:z}),this.isFocused(E,re.PanelType.Body)&&le.get(0).focus({preventScroll:!0}),B.contents().filter(((C,E)=>3===E.nodeType)).remove(),q.JqUtils.disposeElement(this.grid.trashCan,B,[le[0]])}))}getEditValue(C){const E=C.find(`>.${te.SbCss.cell}.${te.SbCss.edit}>input`).val();return"function"==typeof this.config.valueFormat?this.config.valueFormat(E):this.config.calendarType===ne.Date?this.getDateValue(E):this.config.calendarType===ne.DateTime?this.getDateTimeValue(E):this.getYearMonthValue(E)}getDateValue(C){switch(this.config.valueFormat){case"date":return new Date(C);case"yyyy/MM/dd":const[E,I,B]=C.split("-");return`${E}/${I}/${B}`;default:return C}}getYearMonthValue(C){switch(this.config.valueFormat){case"date":return new Date(C);case"yyyy/MM":const[E,I]=C.split("-");return`${E}/${I}`;default:return C}}getDateTimeValue(C){switch(this.config.valueFormat){case"date":return new Date(C);case"yyyy-MM-dd HH:mm":return C.replace("T"," ");case"yyyy/MM/dd HH:mm":const[E,I]=C.split("T");return`${E.replace(/-/g,"/")} ${I}`;default:return C}}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=` ${te.SbCss.text}`,{cellSelector:I,cellClass:B}}getTemp(C){return q.Convert.isValue(super.getTemp(C))?z.DateUtil.dateFormat(super.getTemp(C),this.format,!1):void 0}setTempValue(C,E){const I=q.Convert.asDate(E);q.Convert.isValue(I)&&(I instanceof Date==0||isNaN(null==I?void 0:I.getTime()))||super.setTempValue(C,E)}isEditColumn(C,E){if(this===C&&q.Convert.isValue(E)){const C=this.grid.getContainer(E,this);if(!this.isEdit(E))return!1;const I=ee.SBGrid3.$("input",C);if(I.length<1)return;null==I||I.trigger("focus")}return!0}}E.DateColumn=DateColumn},2154:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.DropDownColumn=void 0;const z=I(1163),q=I(103),Q=I(6312),ee=I(7078);class DropDownColumn extends q.GridColumn{constructor(C,E){super(C,E)}static create(C,E){return new DropDownColumn(C,E)}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){if(!1===this.config.editable)return;yield this.renderCell(C,E,I);const B=Q.SBGrid3.$(`>.${ee.SbCss.cell}`,C);if(B.hasClass(ee.SbCss.edit))return;B.addClass(ee.SbCss.edit),B.text("");const q=z.JqUtils.adjustElement(B,">select","<select></select>");(yield this.grid.getGroupByField(this.field)).forEach((C=>z.JqUtils.adjustElement(q,`>option[value='${C}']`,`<option value='${C}'>${C}</option>`)));let te=this.getValue(E);q.find(`>option[value='${te}']`).prop("selected",!0)}))}getEditValue(C){return C.find(`>.${ee.SbCss.cell}.${ee.SbCss.edit}>select>option:selected`).val()}}E.DropDownColumn=DropDownColumn},4012:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.DropDownList=void 0;const z=I(3354),q=I(1163),Q=I(6312),ee=I(7078);class DropDownList{constructor(C,E,I){this._config=C,this._masterElement=I,this._container=E,this.init()}init(){var C;this.addEventListenr();let E=[];null===(C=this._masterElement)||void 0===C||C.trigger("querySelectedItem",(()=>E)),this.updateFilter(E)}render(){return B(this,void 0,void 0,(function*(){this._container.empty(),yield this._config.dataSource.loadView();let C=yield this._config.dataSource.rows;this._config.groupView?yield this.groupView(C):yield this.flatView(C),this._container.trigger("change")}))}groupView(C){return B(this,void 0,void 0,(function*(){for(let E in C){let I=C[E];I instanceof z.GroupNode?yield this.findChild(I):this.renderLeaf(I,E)}}))}flatView(C){return B(this,void 0,void 0,(function*(){for(let E in C)this.renderLeaf(C[E],E)}))}findChild(C){return B(this,void 0,void 0,(function*(){this.renderGroup(C);let E=yield this._config.dataSource.loader.getRows(C,0,!1);for(let C in E){let I=E[C];I instanceof z.GroupNode?yield this.findChild(I):this.renderLeaf(I,C)}}))}renderGroup(C){let E=C.groupKey,I=DropDownList.GROUP_ID++,B=q.JqUtils.adjustElement(this._container,`>option.${ee.SbCss.group}.${ee.SbCss.group}-${I}`,`<option class='${ee.SbCss.group} ${ee.SbCss.group}-${I} ${ee.SbCss.level}-${C.level}'></option>`);B.text(E),B.prop("disabled")}renderLeaf(C,E){let I=C.data,B=I[this._config.valueField],z=I[this._config.textField];q.JqUtils.adjustElement(this._container,`>option.${ee.SbCss.option}-${E}[value='${B}']`,`<option class='${ee.SbCss.option}-${E}' value='${B}'></option>`).text(z)}updateFilter(C){let E=(null==C?void 0:C.length)>0?C[0]:void 0;this._config.dataSource.filters.forEach((C=>{const I=C.field instanceof Array?C.field[0]:C.field;null==E||E.hasOwnProperty(I);(null==E?void 0:E.hasOwnProperty(C.field))&&(C.values=E[I])})),this._config.dataSource.reload()}addEventListenr(){var C,E;this._container.off("querySelectedItem"),this._container.on("querySelectedItem",((C,E)=>{this.querySelectedItem(Q.SBGrid3.$(C.target),E())})),null===(C=this._masterElement)||void 0===C||C.off("change"),null===(E=this._masterElement)||void 0===E||E.on("change",(C=>{this.masterChaged(this._container)}))}querySelectedItem(C,E){let I=Q.SBGrid3.$(">option:selected",C).index(),B=this._config.dataSource.rows[I];E.push(null==B?void 0:B.data)}masterChaged(C){var E;let I=[];null===(E=this._masterElement)||void 0===E||E.trigger("querySelectedItem",(()=>I)),this.updateFilter(I),this.render()}}E.DropDownList=DropDownList,DropDownList.GROUP_ID=0},1046:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.DynamicColumn=void 0;const B=I(1163),z=I(103),q=I(5774),Q=I(1009);class DynamicColumn extends z.GridColumn{get mergeColumn(){return!1}get mergeRow(){return!1}constructor(C,E){super(C,E),this._columnMap=new Map}static create(C,E){return new DynamicColumn(C,E)}get config(){return super.config}get type(){return"function"==typeof this.config.type?q.ColumnTypes.Dynamic:super.type}getColumn(C){if("function"==typeof this.config.type){const E=this.config.type(C.data,C);if(this._columnMap.has(E))return this._columnMap.get(E);const I=B.Convert.cloneData(this.config);I.type=E;const z=Q.ColumnFactory.create(this.grid,I);return this._columnMap.set(E,z),z}return this}renderCell(C,E,I){const B=this.getColumn(E);return null==B?void 0:B.renderCell(C,E,I)}renderEdit(C,E,I){const B=this.getColumn(E);return null==B?void 0:B.renderEdit(C,E,I)}getCellLabel(C){const E=this.getColumn(C);return null==E?void 0:E.getCellLabel(C)}}E.DynamicColumn=DynamicColumn},6252:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ISourceType=E.FilterMode=E.PopupPosition=E.Position=E.FilterRenderer=void 0;const z=I(4407),q=I(2663),Q=I(7392),ee=I(7078),te=I(1163),ie=I(7721),re=I(6312),ne=I(860),se=I(5165),oe=I(5774);class FilterRenderer extends z.Publisher{get filterMenu(){var C;return null!==(C=this._filterMenu)&&void 0!==C?C:this._filterMenu=new FilterMenu(this.grid,this.column,this)}set filterMenu(C){this._filterMenu=C}get filterRow(){var C;return null!==(C=this._filterRow)&&void 0!==C?C:this._filterRow=new FilterRow(this.grid,this.column,this)}set filterRow(C){this._filterRow=C}get filter(){return te.Convert.isNull(this._filter)&&this.initFilter(),this._filter}set filter(C){this._filter=C}get originalFilter(){return this._originalFilter}set originalFilter(C){this._originalFilter=C}constructor(C,E){super(),this.grid=C,this.column=E}doCommand(C,E){return E.command===q.Commands.Refresh&&this.column.fireCommandAsync(this.column,E),!1}doClear(){const C=this.searchFilterIndex();if(C>-1){this.grid.dataConfig.filters.splice(C,1)}this.grid.search()}doFilter(){return B(this,void 0,void 0,(function*(){const C=Q.DataSourceParser.parseFilter(this.filter),E=this.grid.view.dataConfig.filters,I=this.searchFilterIndex();I>-1?E[I]=C:E.push(C),this.grid.search()}))}initFilter(){const C=this.searchFilter();this.filter=this.cloneFilter(C),te.Convert.isEmpty(C)&&this.hasValues(this.filter)&&this.doFilter()}cloneFilter(C){return C=te.Convert.isNull(C)?this.column.config.filter:C,C=this._cloneFilter(ie.GridColumnParser.parseFilter(C))}hasValues(C){const E=te.Arrays.bfsSearch(C.filters,(C=>!!te.Convert.isValue(C.values)||C.filters));return te.Convert.isValue(E)}searchFilter(){const C=this.grid.view.dataConfig.filters,E=this.searchFilterIndex();return E>-1?C[E]:void 0}searchFilterIndex(){return this.grid.view.dataConfig.filters.findIndex((C=>C.field[0]===this.column.field&&!C.fixed))}_cloneFilter(C){return C.field=[this.column.field],C.dataType=te.Convert.default(C.dataType,this.getDataType()),C.operators=te.Convert.default(C.operators,FilterRenderer.getOperators(C.dataType)),te.Convert.isValue(C.filters)&&(C.filters=C.filters.map((C=>(this._cloneFilter(C),this.adjustOperator(C),this.adjustSourceType(C),C)))),C}adjustSourceType(C){const E=[oe.ColumnTypes.Check,oe.ColumnTypes.Combo,oe.ColumnTypes.Radio];te.Convert.isNull(C.sourceType)&&(C.sourceType=E.includes(this.column.type)?de.Label:de.Value),this.adjustGetValueFunc(C)}adjustGetValueFunc(C){C.sourceType===de.Label&&(C.getValue=(C,E)=>this.column.getCellLabel(C[E]))}getDataType(){var C,E;if(te.Convert.isValue(this.column.dataType))return this.column.dataType;const I=null===(E=null===(C=this.grid.dataConfig.schema)||void 0===C?void 0:C.fields[this.column.field])||void 0===E?void 0:E.dataType;return te.Convert.isValue(I)?te.Convert.parseEnum(te.DataType,I):te.DataType.String}adjustOperator(C){return"function"==typeof C.operator||C.dataType===te.DataType.Boolean&&0==C.operators.includes(C.operator)&&(C.operator=C.operators[0]),C}renderCaptionFilter(C,E,I,B){const z=te.Convert.isValue(E)?te.JqUtils.adjustElement(C,`>button.${ee.SbCss.filter}`,`<button class='${ee.SbCss.filter}' type='button'></button>`,{data:"index",index:E},I):te.JqUtils.adjustElement(C,`>button.${ee.SbCss.filter}`,`<button class='${ee.SbCss.filter}' type='button'></button>`),q=te.JqUtils.adjustElement(z,`>.${ee.SbCss.filter}.${ee.SbCss.icon}`,`<span class = '${ee.SbCss.filter} ${ee.SbCss.icon}'></span>`);this.searchFilterIndex()>-1?te.JqUtils.addClass(q,ee.SbCss.filled):te.JqUtils.removeClass(q,ee.SbCss.filled),this.addEventToFilterButton(z,C),this.renderMenu(z),te.Convert.isValue(B)&&B(z)}renderFilterColumn(C,E){const I=te.JqUtils.adjustElement(C,`>span.${this.column.cellSelector}`,`<span class='${ee.SbCss.filter} ${ee.SbCss.column} ${this.column.cellSelector}'></span>`);if(E){const C=!!document.activeElement.closest(`.${ee.SbCss.summary}`);let E=!!document.activeElement.closest(`button.${ee.SbCss.filter}`);const B=C||!C&&!E;B?this.filterRow.render(I,!0):this.filterRow.render(I,!1);(B?!document.activeElement.closest(`.${ee.SbCss.summary}`):E)?this.renderCaptionFilter(I,void 0,void 0,(C=>C.get(0).focus())):this.renderCaptionFilter(I)}else{this.filterRow.render(I,!1);this.renderCaptionFilter(I)}}renderMenu(C){if(!this.isFocused()){if(this.filterMenu.isOpen)return void setTimeout((()=>this.filterMenu.doCancel()),0);this.filterMenu.isOpen=!1}this.filterMenu.isOpen?this.filterMenu.render(C):this.filterMenu.hideMenu()}isFocused(){const C=this.grid.focusManager.focus,E=this.grid.config.filterable;return E===ue.Menu?(null==C?void 0:C.column)==this.column&&(null==C?void 0:C.panelType)===ne.PanelType.Caption:E===ue.Row&&((null==C?void 0:C.column)==this.column&&(null==C?void 0:C.panelType)===ne.PanelType.Filter)}addEventToFilterButton(C,E){this.grid.setEvent("filter","click",this.column.cellSelector+"_menuopen",(E=>{const I=this.filterMenu.isOpen;return this.filterMenu.isOpen=!I,(te.Convert.isNull(this.grid.config.selectable)||this.grid.config.selectable&&"mouse"!==E.pointerType)&&this.renderMenu(C),!1}),C),this.grid.setEvent("filter","keydown",this.column.cellSelector+"_escape",(C=>{if("Escape"===C.key)return this.focusEscape(),!1}),C)}focusEscape(){this.grid.container.get(0).focus()}static getOperators(C){var E;return null!==(E=FilterRenderer.type_operators[C])&&void 0!==E?E:FilterRenderer.type_operators[te.DataType.String]}}E.FilterRenderer=FilterRenderer,FilterRenderer.publicFilters=[Q.FilterOperators.IsLessThan,Q.FilterOperators.IsLessThanOrEqualTo,Q.FilterOperators.IsEqualTo,Q.FilterOperators.IsNotEqualTo,Q.FilterOperators.IsGreaterThan,Q.FilterOperators.IsGreaterThanOrEqualTo,Q.FilterOperators.In,Q.FilterOperators.NotIn,Q.FilterOperators.FromTo,Q.FilterOperators.NotFromTo,Q.FilterOperators.IsNull,Q.FilterOperators.IsNotNull,Q.FilterOperators.IsEmpty,Q.FilterOperators.IsNotEmpty,Q.FilterOperators.IsNullOrEmpty,Q.FilterOperators.IsNotNullOrEmpty],FilterRenderer.type_operators={string:[Q.FilterOperators.StartsWith,Q.FilterOperators.NotStartsWith,Q.FilterOperators.EndsWith,Q.FilterOperators.NotEndsWith,Q.FilterOperators.Contains,Q.FilterOperators.NotContains,...FilterRenderer.publicFilters],number:[...FilterRenderer.publicFilters],date:[...FilterRenderer.publicFilters],boolean:[Q.FilterOperators.In,Q.FilterOperators.NotIn,Q.FilterOperators.IsNull,Q.FilterOperators.IsNotNull,Q.FilterOperators.IsEmpty,Q.FilterOperators.IsNotEmpty,Q.FilterOperators.IsNullOrEmpty,Q.FilterOperators.IsNotNullOrEmpty]};class BaseFilter extends z.Publisher{get filter(){return this.parent.filter}set filter(C){this.parent.filter=C}get grid(){return this._grid}set grid(C){this._grid=C}get column(){return this._column}set column(C){this._column=C}get parent(){return this._parent}set parent(C){this._parent=C}get name(){var C;return null!==(C=this._name)&&void 0!==C?C:this._name=te.Utils.ensureName(this.constructor.name)}set name(C){this._name=C}get originalFilter(){return this.parent.originalFilter}set originalFilter(C){this.parent.originalFilter=C}constructor(C,E){super(E),this.grid=C}}class FilterMenu extends BaseFilter{constructor(C,E,I){super(C,I),this.grid=C,this.column=E,this.parent=I}get isOpen(){return this._isOpen}set isOpen(C){this._isOpen=C}render(C){te.Convert.isNull(this.originalFilter)&&(this.originalFilter=this.parent.cloneFilter(this.filter));const E=te.JqUtils.adjustElement(this.grid.container,`#${this.name}.${ee.SbCss.filter}.${ee.SbCss.menu}`,`<div id='${this.name}' class='${ee.SbCss.filter} ${ee.SbCss.menu}'></div>`);E.removeClass(ee.SbCss.hidden),this.renderJoinCondition(E),this.renderButtons(E);return new PopupPosition(this.grid.container).move(E,C,le.Right),this.addEventToMenu(E),E}addEventToMenu(C){this.grid.setEvent("filter","keydown",this.name,(C=>{if("Enter"===C.key&&re.SBGrid3.$(C.target).is(`button.${ee.SbCss.submit}`)&&(this.isOpen=!1,this.doFilter()),"Enter"===C.key&&re.SBGrid3.$(C.target).is(`button.${ee.SbCss.cancel}`)&&(this.isOpen=!1,this.doClear()),"Escape"===C.key&&(this.isOpen=!1,this.doCancel()),"Tab"===C.key&&!C.shiftKey){const E=C.target.closest(`.${ee.SbCss.cancel}`);te.Convert.isValue(E)&&C.preventDefault()}return!1}),C)}renderButtons(C){const E=this.grid.resourceManager.resource,I=te.JqUtils.adjustElement(C,`>div.${ee.SbCss.confirm}`,`<div class = ${ee.SbCss.confirm}></div>`),B=te.JqUtils.adjustElement(I,`>.${ee.SbCss.submit}`,`<button class ='${ee.SbCss.submit}' type='button'></button>`);B.html(`${E.filter_submit}`);const z=te.JqUtils.adjustElement(I,`>.${ee.SbCss.cancel}`,`<button class ='${ee.SbCss.cancel}' type='button'></button>`);z.html(`${E.filter_clear}`),this.addEventToSubmit(B,C),this.addEventToClear(z,C)}addEventToSubmit(C,E){this.grid.setEvent("filter","click",this.name+"_submit",(()=>{this.doFilter()}),C)}addEventToClear(C,E){this.grid.setEvent("filter","click",this.name+"_cancel",(()=>{this.filter=void 0,this.doClear()}),C)}doFilter(){this.isOpen=!1,this.originalFilter=void 0,this._doFilter()}_doFilter(){const C=this.grid.container.find(`#${this.name}.${ee.SbCss.filter}.${ee.SbCss.menu} .${ee.SbCss.values}`),E=[];for(let I=0;I<this.filter.filters.length;I++){const B=this.filter.filters[I],z=C.attr("data-render-type"),q=ValueRenderFactory.getRender(this.grid,z);te.Convert.isEmpty(q)||E.push(null==q?void 0:q.isClearValues(B.values,this.column.field))}Promise.all(E).then((C=>{C.every((C=>!0===C))?this.parent.doClear():this.parent.doFilter()}))}doClear(){this.isOpen=!1,this.originalFilter=void 0,this.parent.doClear()}doCancel(){this.isOpen=!1,this.filter=this.parent.cloneFilter(this.originalFilter);const C=this.parent.searchFilter();this.isSame(C,this.filter)?this.fireCommandAsync(this,new se.RefreshCommand):this.doFilter()}isSame(C,E){var I,B,z,q,Q,ee,ie;if((null==C?void 0:C.operator)!==(null==E?void 0:E.operator))return!1;if(te.Convert.isNull(null==C?void 0:C.values)&&(null===(I=null==E?void 0:E.values)||void 0===I?void 0:I.length)||te.Convert.isNull(null==E?void 0:E.values)&&(null===(B=null==C?void 0:C.values)||void 0===B?void 0:B.length))return!1;if(0==te.Convert.isSame(null==C?void 0:C.values,null==E?void 0:E.values,!0))return!1;if((null===(z=null==C?void 0:C.filters)||void 0===z?void 0:z.length)!==(null===(q=null==E?void 0:E.filters)||void 0===q?void 0:q.length))return!1;return null===(ie=null===(ee=null===(Q=null==C?void 0:C.filters)||void 0===Q?void 0:Q.map(((C,I)=>this.isSame(C,null==E?void 0:E.filters[I]))))||void 0===ee?void 0:ee.every((C=>C)))||void 0===ie||ie}renderJoinCondition(C){var E;const I=te.JqUtils.adjustElement(C,`>.${ee.SbCss.condition}`,`<div class ='${ee.SbCss.condition}'></div>`),B=[];null===(E=this.filter)||void 0===E||E.filters.forEach(((E,z)=>{const q=this.renderCondition(I,E,z);if(B.push(q),0==z){const E=this.renderJoinOperator(I,(E=>this.handleJoinChange(E,C)));B.push(E)}})),FilterMenu.removeTrash(I,B)}static removeTrash(C,E){const I=C.children();for(let C=0;C<I.length;C++){const B=I[C];E.find((C=>C.is(B)))||B.remove()}}handleJoinChange(C,E){var I;const B=null===(I=this.filter)||void 0===I?void 0:I.filters;switch(C){case"none":B.length>1&&B.splice(1,1),this.fireCommandAsync(this,new se.RefreshCommand);break;case Q.FilterOperators.And:case Q.FilterOperators.Or:if(this.filter.operator=te.Convert.parseEnum(Q.FilterOperators,C),(null==B?void 0:B.length)<2){let C=Q.DataSourceParser.parseFilter(B[0]);C.values=void 0,B.push(this.parent._cloneFilter(C)),this.fireCommandAsync(this,new se.RefreshCommand)}}}renderJoinOperator(C,E){var I,B;const z=te.JqUtils.adjustElement(C,`>div.${ee.SbCss.operator}.${ee.SbCss.join}`,`<div class= '${ee.SbCss.operator} ${ee.SbCss.join}'>`),q=(null===(B=null===(I=this.filter)||void 0===I?void 0:I.filters)||void 0===B?void 0:B.length)>1?this.filter.operator:"none";return[ae.None,Q.FilterOperators.And,Q.FilterOperators.Or].forEach((C=>{const E=te.JqUtils.adjustElement(z,`>div.${ee.SbCss.join}.${C}`,`<div class= '${ee.SbCss.join} ${C}'></div>`),I=te.JqUtils.adjustElement(E,`>input[type='radio'].${ee.SbCss.operator}.${C}`,`<input type='radio' name='${ee.SbCss.operator}' value= '${C}' class='${ee.SbCss.operator} ${C}'></input>`);te.JqUtils.adjustElement(E,`>label[for='${C}']`,`<label for = '${C}'></label>`).html(this.getResource(C)),C==q?I.prop("checked",!0):I.prop("checked",!1)})),this.grid.setEvent("filter","change",this.name,(C=>{const I=re.SBGrid3.$(C.target);E(I.val())}),z),z}renderCondition(C,E,I){const B=te.JqUtils.adjustElement(C,`>.${ee.SbCss.condition}_${I}.${ee.SbCss.condition}`,`<div class ='${ee.SbCss.condition} ${ee.SbCss.condition}_${I}'></div>`);return this.renderOperator(B,I,E),this.renderValue(B,I,E),B}renderValue(C,E,I){const B=C.find(`.${ee.SbCss.values}`),z=ValueRenderFactory.getValueRenderer(this.grid,I);if(B.length>0){const C=B.attr("data-render-type"),E=B.attr("data-type");z.type===C&&I.dataType===E||B.remove()}z.render(C,this,E,!0)}renderOperator(C,E,I){var B;const z=te.JqUtils.adjustElement(C,`>select.${ee.SbCss.operator}`,`<select class='${ee.SbCss.operator}'></select>`);null===(B=I.operators)||void 0===B||B.forEach((C=>{const E=this.getResource(C),B=te.JqUtils.adjustElement(z,`>option[value=${C}]`,`<option value='${C}'></option>`);B.html(`${E}`),C==I.operator?B.prop("selected",!0):B.prop("selected",!1)})),this.grid.setEvent("filter","change",this.name+"Operator"+E,(B=>{const z=B.target;return this.handleOperationChange(C,z.options[z.selectedIndex].value,I,E)}),z)}handleOperationChange(C,E,I,B){return I.operator!==E&&(I.operator=te.Convert.parseEnum(Q.FilterOperators,E),this.renderValue(C,B,I)),!1}getResource(C){const E=this.grid.resource;switch(C){case Q.FilterOperators.IsLessThan:return E.filter_isLessThan;case Q.FilterOperators.IsLessThanOrEqualTo:return E.filter_isLessThanOrEqualTo;case Q.FilterOperators.IsEqualTo:return E.filter_isEqualTo;case Q.FilterOperators.IsNotEqualTo:return E.filter_isNotEqualTo;case Q.FilterOperators.IsGreaterThan:return E.filter_isGreaterThan;case Q.FilterOperators.IsGreaterThanOrEqualTo:return E.filter_isGreaterThanOrEqualTo;case Q.FilterOperators.IsNull:return E.filter_isNull;case Q.FilterOperators.IsNotNull:return E.filter_isNotNull;case Q.FilterOperators.IsEmpty:return E.filter_isEmpty;case Q.FilterOperators.IsNotEmpty:return E.filter_isNotEmpty;case Q.FilterOperators.In:return E.filter_in;case Q.FilterOperators.NotIn:return E.filter_notIn;case Q.FilterOperators.IsNullOrEmpty:return E.filter_isNullOrEmpty;case Q.FilterOperators.IsNotNullOrEmpty:return E.filter_isNotNullOrEmpty;case Q.FilterOperators.FromTo:return E.filter_fromTo;case Q.FilterOperators.NotFromTo:return E.filter_notFromTo;case Q.FilterOperators.StartsWith:return E.filter_startsWith;case Q.FilterOperators.NotStartsWith:return E.filter_notStartsWith;case Q.FilterOperators.EndsWith:return E.filter_endsWith;case Q.FilterOperators.NotEndsWith:return E.filter_notEndsWith;case Q.FilterOperators.Contains:return E.filter_contains;case Q.FilterOperators.NotContains:return E.filter_notContains;case Q.FilterOperators.And:return E.filter_and;case Q.FilterOperators.Or:return E.filter_or;case ae.None:return E.filter_none}}hideMenu(){if(this.isHideMenu())return;const C=this.grid.container.find(`#${this.name}`);te.JqUtils.addClass(C,ee.SbCss.hidden),this.parent.focusEscape()}showMenu(){const C=this.grid.container.find(`#${this.name}`);te.JqUtils.removeClass(C,ee.SbCss.hidden)}isHideMenu(){const C=this.grid.container.find(`#${this.name}`);return!!(C.length<1||C.hasClass(ee.SbCss.hidden))}}var ae,le,ue,de;!function(C){C.None="none"}(ae||(ae={}));class FilterRow extends BaseFilter{constructor(C,E,I){super(C,I),this.grid=C,this.column=E,this.parent=I}render(C,E){te.Convert.isNull(this.originalFilter)&&(this.originalFilter=this.parent.cloneFilter(this.filter));const I=te.JqUtils.adjustElement(C,`>span.${ee.SbCss.summary}`,`<span class = ${ee.SbCss.summary}></span>`);return this.renderValue(I,E),this.addEventToSummary(I),I}renderValue(C,E){const I=C.find(`.${ee.SbCss.values}`),{renderType:B,filter:z}=ValueRenderFactory.getFilterRowRenderType(this.filter);if(I.length>0){const C=I.attr("data-render-type"),E=I.attr("data-type");B===C&&z.dataType===E||I.remove()}ValueRenderFactory.getRowFilterValueRenderer(this.grid,B).render(C,this,0,E)}addEventToSummary(C){this.grid.setEvent("filter","keydown",this.column.cellSelector+"RowFilter",(C=>("Escape"===C.key&&this.parent.focusEscape(),!1)),C)}doFilter(){this.originalFilter=void 0;const C=this.grid.getContainer(void 0,this.column,ne.PanelType.Filter).find(`.${ee.SbCss.summary}>.${ee.SbCss.values}`),E=[];for(let I=0;I<this.filter.filters.length;I++){const B=this.filter.filters[I],z=C.attr("data-render-type"),q=ValueRenderFactory.getRender(this.grid,z);E.push(q.isClearValues(B.values,this.column.field))}Promise.all(E).then((C=>{C.every((C=>!0===C))?this.doClear():this.parent.doFilter()}))}doClear(){this.parent.doClear(),this.originalFilter=void 0}doCancel(){this.filter=this.parent.cloneFilter(this.originalFilter),this.parent.focusEscape(),this.fireCommandAsync(this,new se.RefreshCommand)}}class ValueRenderFactory{static getRenderType(C){let E;switch(C){case Q.FilterOperators.IsNull:case Q.FilterOperators.IsNotNull:case Q.FilterOperators.IsEmpty:case Q.FilterOperators.IsNotEmpty:case Q.FilterOperators.IsNullOrEmpty:case Q.FilterOperators.IsNotNullOrEmpty:case Q.FilterOperators.And:case Q.FilterOperators.Or:E=NoValueRender.type;break;case Q.FilterOperators.IsLessThan:case Q.FilterOperators.IsLessThanOrEqualTo:case Q.FilterOperators.IsEqualTo:case Q.FilterOperators.IsNotEqualTo:case Q.FilterOperators.IsGreaterThanOrEqualTo:case Q.FilterOperators.IsGreaterThan:case Q.FilterOperators.IsGreaterThan:case Q.FilterOperators.StartsWith:case Q.FilterOperators.NotStartsWith:case Q.FilterOperators.EndsWith:case Q.FilterOperators.NotEndsWith:case Q.FilterOperators.NotContains:case Q.FilterOperators.Contains:E=ValueRender.type;break;case Q.FilterOperators.FromTo:case Q.FilterOperators.NotFromTo:E=ValuesRender.type;break;case Q.FilterOperators.In:E=InCheckValuesRender.type;break;case Q.FilterOperators.NotIn:E=NotInCheckValuesRender.type}return E}static getFilterRowRenderType(C){var E,I;let B,z=(null===(E=C.filters)||void 0===E?void 0:E.length)>1?C:C.filters[0];if((null===(I=C.filters)||void 0===I?void 0:I.length)>1)B=RowFilterMultiValueRender.type;else{const C=z.operator;switch(C){case Q.FilterOperators.In:case Q.FilterOperators.NotIn:B=RowFilterCheckValueRender.type;break;default:B=this.getRenderType(C)}}return{renderType:B,filter:z}}static getValueRenderer(C,E){let I=this.getRenderType(E.operator);return this.getRender(C,I)}static getRowFilterValueRenderer(C,E){return this.getRender(C,E)}static getRender(C,E){return this.createValueRender(E,C)}static createValueRender(C,E){let I;switch(C){case ValueRender.type:I=new ValueRender(E);break;case ValuesRender.type:I=new ValuesRender(E);break;case InCheckValuesRender.type:I=new InCheckValuesRender(E);break;case NotInCheckValuesRender.type:I=new NotInCheckValuesRender(E);break;case RowFilterMultiValueRender.type:I=new RowFilterMultiValueRender(E);break;case RowFilterCheckValueRender.type:I=new RowFilterCheckValueRender(E);break;case NoValueRender.type:I=new NoValueRender(E)}return I}static createValueElement(C,E){let I;switch(E){case te.DataType.String:I=ValueRenderFactory.createTextElement(C);break;case te.DataType.Number:I=ValueRenderFactory.createNumberElement(C);break;case te.DataType.Date:I=ValueRenderFactory.createDateElement(C);break;default:I=ValueRenderFactory.createTextElement(C)}return I}static createTextElement(C){return te.JqUtils.adjustElement(C,">input[type=text]","<input type='text'>")}static createNumberElement(C){return te.JqUtils.adjustElement(C,">input[type=number]","<input type='number'>")}static createDrowDownElement(C){return te.JqUtils.adjustElement(C,">select","<select></select>")}static createDateElement(C){return te.JqUtils.adjustElement(C,">input[type=date]","<input type='date'>")}static appendOptions(C,E,I){E.forEach((E=>{const B=te.JqUtils.adjustElement(C,`>option[value='${E}']`,`<option value='${E}'>${E}</option>`);E===I?B.prop("selected",!0):B.prop("selected",!1)}))}}ValueRenderFactory.renderMap=new Map;class ValueRender{get type(){return ValueRender.type}get grid(){return this._grid}set grid(C){this._grid=C}constructor(C){this.grid=C}render(C,E,I,B=!1){var z;const q=null===(z=E.filter)||void 0===z?void 0:z.filters[I],Q=te.JqUtils.adjustElement(C,`>.${ee.SbCss.values}[data-render-type='${this.type}'][data-type='${q.dataType}']`,`<span class='${ee.SbCss.values}'  data-type='${q.dataType}'></span>`);return Q.data("values",q.values),Q.attr("data-render-type",this.type),this.renderValue(Q,E,I,0,B),Q}renderValue(C,E,I,B,z=!1){var q;const Q=null===(q=E.filter)||void 0===q?void 0:q.filters[I],ie=te.JqUtils.adjustElement(C,`>span.${ee.SbCss.value}.${ee.SbCss.value}_${B}`,`<span class = '${ee.SbCss.value} ${ee.SbCss.value}_${B} '></span>`),re=ValueRenderFactory.createValueElement(ie,Q.dataType);this.setValue(re,Q.values,B);const ne=this.makeEventKey(E.column.cellSelector,I,B);this.addEventToValue(re,ne,Q,E),z&&re.get(0).focus()}makeEventKey(C,E,I){return`${C}_${E}_${I}`}setValue(C,E,I){te.Convert.isValue(E)?C.val(E instanceof Array?E[I]:E):null==C||C.val("")}addEventToValue(C,E,I,B){if(I.dataType===te.DataType.Date)this.grid.setEvent("filter","change",E,(()=>this.handleChange(C,I,B)),C);else this.grid.setEvent("filter","input",E,(()=>this.handleInput(I,C)),C),this.grid.setEvent("filter","keydown",E,(C=>this.handleKeyDown(C,B)),C)}handleInput(C,E){let I=E.val();return I=te.Convert.convertType(I,C.dataType),this.updateValues(C,I,this.getValueIndex(E)),!1}handleKeyDown(C,E){return"Enter"===C.key?(C.preventDefault(),E.doFilter()):"Escape"===C.key&&(C.preventDefault(),E.doCancel()),!1}handleChange(C,E,I){return this.updateValues(E,C.val(),this.getValueIndex(C)),I.doFilter(),!1}updateValues(C,E,I=0){var B;if(E instanceof Array)C.values=E;else{let z=null!==(B=C.values)&&void 0!==B?B:[];z[I]=E,C.values=z}}getValueIndex(C){return C.parent().index()}isClearValues(C,E){return B(this,void 0,void 0,(function*(){return te.Convert.isNull(C)||(null==C?void 0:C.every((C=>te.Convert.isEmpty(C))))}))}cancelFilter(){}}ValueRender.type="value";class NoValueRender extends ValueRender{get type(){return NoValueRender.type}renderValue(C,E,I,B,z=!1){var q,Q;const ie=null===(q=E.filter)||void 0===q?void 0:q.filters[I],re=te.JqUtils.adjustElement(C,`>span.${ee.SbCss.value}.${ee.SbCss.value}_${B}`,`<span class = '${ee.SbCss.value} ${ee.SbCss.value}_${B} '></span>`),ne=ValueRenderFactory.createValueElement(re,te.DataType.String);ne.val(null===(Q=null==ie?void 0:ie.operator)||void 0===Q?void 0:Q.toString()),ne.prop("disabled",!0)}isClearValues(C,E){return new Promise(((C,E)=>C(!1)))}}NoValueRender.type="noValue";class ValuesRender extends ValueRender{get type(){return ValuesRender.type}render(C,E,I,B=!1){const z=super.render(C,E,I,B);return this.renderValue(z,E,I,1),z}}ValuesRender.type="values";class InCheckValuesRender extends ValueRender{get type(){return InCheckValuesRender.type}renderValue(C,E,I,B){var z;const q=null===(z=E.filter)||void 0===z?void 0:z.filters[I],Q=te.JqUtils.adjustElement(C,`>span.${ee.SbCss.value}.${ee.SbCss.value}_${B}`,`<span class = '${ee.SbCss.value} ${ee.SbCss.value}_${B}'></span>`),ie=E.column.field;this.grid.getGroupByField(ie,!0).then((C=>{var z,ee;const te=this.makeEventKey(E.column.cellSelector,I,B);C=q.sourceType===de.Label?C.map((C=>E.column.getCellLabel(C))):C,this.cloneValues=(null!==(z=this.cloneValues)&&void 0!==z?z:"string"==typeof q.values)?[q.values]:null===(ee=null==q?void 0:q.values)||void 0===ee?void 0:ee.map((C=>C)),C=this.renderSearchBar(Q,C,te,q,E.column);const ie=this.renderCheckboxes(Q,C,q,E.column);this.addEventToValue(ie,te,q,E,C)}))}sort(C,E){"string"===E?C.sort():C.sort(((C,E)=>C-E))}renderSearchBar(C,E,I,B,z){const q=te.JqUtils.adjustElement(C,`>span.${ee.SbCss.filter}.${ee.SbCss.search}`,`<span class = '${ee.SbCss.filter} ${ee.SbCss.search}'></div>`),Q=ValueRenderFactory.createTextElement(q);Q.get(0).focus(),this.grid.setEvent("filter","keyup",I+"_"+ee.SbCss.search,(I=>{const q=Q.val().toString(),ee=this.filterCheckables(q,E);return this.renderCheckboxes(C,ee,B,z),!1}),Q);const ie=Q.val().toString();return te.Convert.isValue(ie)?this.filterCheckables(ie,E):E}filterCheckables(C,E){const I=te.FuzzyMatcher.createFuzzyMatcher(C);return E.filter((C=>I.test(C)))}renderCheckboxes(C,E,I,B){const z=te.JqUtils.adjustElement(C,">ul","<ul></ul>"),q=[],Q=te.JqUtils.adjustElement(z,">li[value='all']","<li value='all'></li>"),ee=te.JqUtils.adjustElement(Q,">input[type=checkbox]","<input type='checkbox' value='all'></input>");te.JqUtils.adjustElement(Q,">label","<label>all</label>");return q.push(Q),E.forEach(((C,E)=>{if(te.Convert.isValue(C)){const B=this.hashCode(C.toString());let Q=te.JqUtils.adjustElement(z,`>li[value='${B}']`,`<li value='${B}'></li>`);const ee=te.JqUtils.adjustElement(Q,">input[type=checkbox]",`<input type='checkbox' value='${C}'></input>`),ie=(te.JqUtils.adjustElement(Q,">label",`<label>${C}</label>`),this.getCheckState(I.values,C));ee.prop("checked",ie);const re=z.children().eq(E+1);re.length>0&&0==re.is(Q)&&Q.insertBefore(re),q.push(Q)}})),FilterMenu.removeTrash(z,q),this.renderTotalAndAll(C,ee),z}hashCode(C){let E=0;for(let I=0;I<C.length;I++){E=(E<<5)-E+C.charCodeAt(I)}return E}getCheckState(C,E){return!!te.Convert.isNull(C)||(null==C?void 0:C.includes(E))}addEventToValue(C,E,I,B,z){this.grid.setEvent("filter","click",E,(E=>this.handleClick(E,C,I,z,B)),C)}handleClick(C,E,I,B,z){const q=re.SBGrid3.$(C.target);if(q.is("input:checkbox")){const C=q.prop("checked"),Q=E.find(">li>input[type=checkbox]:not([value='all'])");if("all"===q.val()){C?Q.prop("checked",!0):Q.prop("checked",!1);let E=Q.map(((C,E)=>re.SBGrid3.$(E).val())).get();te.Convert.isNull(I.values)&&(I.values=B),this.checkAll(C,void 0,I,E)}else{const E=q.val();this.checkValue(C,E,I,B)}z._doFilter()}return!1}checkAll(C,E,I,B){var z,q;const Q=C?B:null===(q="string"==typeof I.values?[I.values]:null!==(z=I.values)&&void 0!==z?z:[])||void 0===q?void 0:q.filter((C=>0==B.includes(C)));I.values=Q}checkValue(C,E,I,B){var z;let q=null!==(z=I.values)&&void 0!==z?z:B;C&&q.findIndex((C=>C==E))<0?q.push(te.Convert.convertType(E,I.dataType)):C||q.splice(q.findIndex((C=>te.Convert.asText(C)==te.Convert.asText(E))),1),I.values=q}convertValue(C,E){return C}renderTotalAndAll(C,E){const I=te.JqUtils.adjustElement(C,">span.count","<span class ='count'><span>"),B=C.find(`ul>li:not(.${ee.SbCss.hidden})>input[type=checkbox]:not([value='all'])`),z=B.filter(((C,E)=>!0===re.SBGrid3.$(E).prop("checked"))).length,q=B.length;I.text(`all : ${B.length}, checked: ${z}`),q>0&&q===z?E.prop("checked",!0):E.prop("checked",!1)}isClearValues(C,E){return B(this,void 0,void 0,(function*(){if(te.Convert.isNull(C))return!0;const I=yield this.grid.getGroupByField(E,!0),B=I.filter((E=>C.findIndex((C=>E==C))>-1));return!(I.filter((C=>B.findIndex((E=>E==C))<0)).length>0)}))}}InCheckValuesRender.type="inCheck";class NotInCheckValuesRender extends InCheckValuesRender{get type(){return NotInCheckValuesRender.type}isClearValues(C,E){return B(this,void 0,void 0,(function*(){return!!te.Convert.isNull(C)||C.length<=0}))}getCheckState(C,E){var I;return!te.Convert.isNull(C.values)&&(null===(I=C.values)||void 0===I?void 0:I.includes(E))}checkAll(C,E,I,B){var z;let q=null!==(z=I.values)&&void 0!==z?z:[];q=C?[...new Set([...q,...E])]:q.filter((C=>E.findIndex((E=>C==E))<0)),I.values=q}checkValue(C,E,I,B){var z;let q=null!==(z=I.values)&&void 0!==z?z:[];C&&q.findIndex((C=>C==E))<0?q.push(te.Convert.convertType(E,I.dataType)):C||q.splice(q.findIndex((C=>C==E)),1),I.values=q}}NotInCheckValuesRender.type="notInCheck";class RowFilterMultiValueRender extends ValueRender{get type(){return RowFilterMultiValueRender.type}renderValue(C,E,I,B){var z;const q=te.JqUtils.adjustElement(C,`>span.${ee.SbCss.value}.${ee.SbCss.value}_${B}`,`<span class = '${ee.SbCss.value} ${ee.SbCss.value}_${B} '></span>`),Q=ValueRenderFactory.createValueElement(q,te.DataType.String),ie=null===(z=E.filter)||void 0===z?void 0:z.filters.map((C=>(null==C?void 0:C.values)instanceof Array?C.values[0]:C.values)),re=ie.every((C=>te.Convert.isEmpty(C)))?"":ie.join(` ${E.filter.operator} `);Q.prop("disabled",!0),Q.val(re)}}RowFilterMultiValueRender.type="rowFilterMulti";class RowFilterCheckValueRender extends ValueRender{get type(){return RowFilterCheckValueRender.type}renderValue(C,E,I,B){var z;const q=null===(z=E.filter)||void 0===z?void 0:z.filters[I],Q=te.JqUtils.adjustElement(C,`>span.${ee.SbCss.value}.${ee.SbCss.value}_1`,`<span class = '${ee.SbCss.value} ${ee.SbCss.value}_1 '></span>`),ie=ValueRenderFactory.createValueElement(Q,te.DataType.String);ValueRenderFactory.getRowFilterValueRenderer(this.grid,InCheckValuesRender.type).isClearValues(q.values,q.field[0]).then((C=>{let E="";C?(ie.val(E),ie.prop("disabled",!0)):this.grid.getGroupByField(q.field[0],!0).then((C=>{const I=q.values,B=C.filter((C=>I.findIndex((E=>C==E))>-1));E=te.Convert.isEmpty(B)?"(0)":`(${B.length}) ${B[0]}`,ie.val(E),ie.prop("disabled",!0)}))}))}}RowFilterCheckValueRender.type="rowFilterCheck",function(C){C.Top="top",C.Bottom="bottom",C.Left="left",C.Right="right"}(le||(E.Position=le={}));class PopupPosition{constructor(C){this.gridOffset=C.offset()}move(C,E,I){switch(I){case le.Top:this.positionTop(C,E);break;case le.Left:this.positionLeft(C,E);break;case le.Right:this.positionRight(C,E);break;case le.Bottom:this.positionBottom(C,E)}}positionLeft(C,E){const I=E.offset(),B=I.left-C.outerWidth();B<0?this.positionRight(C,E):C.css({top:I.top-this.gridOffset.top,left:B-this.gridOffset.left})}positionRight(C,E){const I=E.offset();window.innerWidth-I.left-E.outerWidth()<C.outerWidth()?this.positionBottom(C,E):C.css({top:I.top-this.gridOffset.top,left:I.left+E.outerWidth()-this.gridOffset.left})}positionBottom(C,E){const I=E.offset();C.css({top:I.top+E.outerHeight()-this.gridOffset.top,left:I.left-this.gridOffset.left+E.outerWidth()/2-C.outerWidth()/2})}positionTop(C,E){const I=E.offset(),B=I.top-C.outerHeight();I.left;B<0?this.positionBottom(C,E):C.css({top:B-this.gridOffset.top,left:I.left-this.gridOffset.left+E.outerWidth()/2-C.width()/2})}}E.PopupPosition=PopupPosition,function(C){C.Row="row",C.Menu="menu"}(ue||(E.FilterMode=ue={})),function(C){C.Value="value",C.Label="label"}(de||(E.ISourceType=de={}))},8788:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.GapColumn=E.RowReorderColumn=E.RowRadioColumn=E.RowCheckColumn=E.FrozenColumn=E.DetailColumn=E.DetailClickColumn=E.StickyColumn=E.CustomColumn=E.StatusColumn=E.RowNoColumn=E.FixedColumn=void 0;const z=I(5165),q=I(3354),Q=I(5260),ee=I(1163),te=I(5774),ie=I(103),re=I(7721),ne=I(6258),se=I(6312),oe=I(7078),ae=I(860),le=I(194);class FixedColumn extends ie.GridColumn{editable(){return!1}get sortable(){return ne.SortMode.None}get visible(){return!0}makeCell(C,E,I){const{cellSelector:B,cellClass:z}=this.makeCellClass(E,I),q=new Set,Q=ee.JqUtils.adjustElement(C,`>span.${B}`,`<span class='${z}'></span>`,void 0,q);return ee.JqUtils.movetoTrash(this.grid.trashCan,C,q),ee.JqUtils.changeClass(Q,z),Q}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(ee.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(E);B.html()!=C&&B.html(C)}else{const C=this.getValue(E);ee.JqUtils.adjustHtml(B,C)}}))}renderEmpty(C,E,I=void 0,B=void 0){const z=`${oe.SbCss.cell} ${this.cellSelector} ${E}`,q=ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${z}'></span>`,I,B);ee.JqUtils.changeClass(q,z),ee.JqUtils.adjustHtml(q,"")}renderCaptionTitle(C,E,I,B){this.renderEmpty(C,oe.SbCss.caption,void 0,B)}renderGroupFooter(C,E,I){return B(this,void 0,void 0,(function*(){this.renderEmpty(C,oe.SbCss.group)}))}renderGroupHeader(C,E,I){return B(this,void 0,void 0,(function*(){this.renderEmpty(C,oe.SbCss.group)}))}renderTreeFooter(C,E,I){return B(this,void 0,void 0,(function*(){this.renderEmpty(C,oe.SbCss.footer)}))}renderCaptionFilter(C,E,I){}}E.FixedColumn=FixedColumn;class RowNoColumn extends FixedColumn{renderCell(C,E){return B(this,void 0,void 0,(function*(){const I=new Set;let B=ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.cell} ${this.cellSelector}'></span>`,void 0,I),z="";if(z=this.grid.virtualRow?ee.Convert.isNull(E)?"":(E.rowNo+1).toString():ee.Convert.isValue(this.grid.dataConfig.groups)?this.grid.pageNo+1+"-"+(E.rowNo+1):(E.rowNo+1).toString(),ee.Convert.isValue(this.config.cellTemplate)){const C=ee.Convert.cloneData(E.data);C[q.FixedFields.rowno]=z,C._rowIndex_=E.rowIndex,z=this.cellTemplate(C)}ee.JqUtils.movetoTrash(this.grid.trashCan,C,I),B.html(z),ee.JqUtils.addClass(B,oe.SbCss.rowno)}))}getValue(C){return ee.Convert.isNull(C)?"":(C.rowIndex+1).toString()}renderCaptionTitle(C,E,I,B){const z=`${this.cellSelector} ${oe.SbCss.caption} ${oe.SbCss.center}`,q=ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${z}'></span>`,{data:"index",index:I},B);ee.JqUtils.changeClass(q,z);const Q=ee.JqUtils.adjustElement(q,`>.${oe.SbCss.center}`,`<div class='${oe.SbCss.tools} ${oe.SbCss.align} ${oe.SbCss.center}'></div>`);ee.Convert.isValue(this.caption)?ee.JqUtils.adjustHtml(Q,this.caption):ee.JqUtils.adjustHtml(Q,"#")}renderHeader(C,E){const I=Object.create(null,{renderHeader:{get:()=>super.renderHeader}});return B(this,void 0,void 0,(function*(){yield I.renderHeader.call(this,C,E)}))}renderGroupHeader(C,E,I){return B(this,void 0,void 0,(function*(){return yield this.renderCell(C,E)}))}renderGroupFooter(C,E,I){return B(this,void 0,void 0,(function*(){return yield this.renderCell(C,E)}))}renderTreeFooter(C,E,I){return B(this,void 0,void 0,(function*(){return yield this.renderCell(C,E)}))}selectAll(){const C=this.grid.focusManager.focus;C.panelType===ae.PanelType.Caption&&C.column==this&&this.fireCommandAsync(this,new z.SelectCommand)}getRawValue(C){return this.getValue(C)}}E.RowNoColumn=RowNoColumn;E.StatusColumn=class StatusColumn extends RowNoColumn{get sortable(){return this.config.sortable}constructor(C,E){E.field=q.FixedFields.status,super(C,E)}renderCell(C,E){return B(this,void 0,void 0,(function*(){const I=ee.Convert.isValue(this.config.cellTemplate);let B=`${oe.SbCss.cell} ${this.cellSelector} ${I?oe.SbCss.template:oe.SbCss.icon} ${oe.SbCss.toClass(E.status)}`,z=ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${B}'></span>`),q=ee.Convert.isNull(E)?"":this.getValue(E);if(I){const C=ee.Convert.cloneData(E.data);q=this.cellTemplate(C)}ee.JqUtils.changeClass(z,B),ee.JqUtils.adjustHtml(z,q)}))}renderCaptionTitle(C,E,I,B){const z=`${oe.SbCss.caption} ${oe.SbCss.icon} ${oe.SbCss.update}`;this.renderEmpty(C,z,void 0,B),this.config.sortable!=ne.SortMode.None&&this.grid.setEvent("columnCaptionSortClick","click",this.config,this.onCaptionSortClick,C)}renderCaptionSort(C,E,I){}getValue(C){return""}makeColClass(C,E){return oe.SbCss.status}getRawValue(C){return C.getValue(this.field)}};E.CustomColumn=class CustomColumn extends RowNoColumn{constructor(C,E,I){super(C,E),this._render=I}renderCell(C,E){return B(this,void 0,void 0,(function*(){let I=ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.cell} ${this.cellSelector}'></span>`);I.remove(),this._render(I.get(0),E,this)}))}getValue(C){let E="";switch(C.status){case le.DataStatus.Delete:E+=" -";break;case le.DataStatus.Insert:E+=" +";break;case le.DataStatus.Update:E+=" *"}return E}};E.StickyColumn=class StickyColumn extends FixedColumn{constructor(){super(...arguments),this.onStickyMousedown=C=>B(this,void 0,void 0,(function*(){if(0!=C.button)return;let E=se.SBGrid3.$(C.target),I=this.grid.getRowItem(E);this.grid.toggleStickyRow(null==I?void 0:I.key)}))}selectable(){return!1}renderCell(C,E,I){const z=Object.create(null,{makeCell:{get:()=>super.makeCell}});return B(this,void 0,void 0,(function*(){let B=z.makeCell.call(this,C,E,I);(E.node instanceof q.GroupNode||E.node instanceof q.FooterNode)&&B.html(""),ee.JqUtils.addClass(B.parent(),oe.SbCss.sticky),this.grid.eventManager.setHandler("stickyColumnMousedown","mousedown",this.constructor.name,this.onStickyMousedown,C.toArray())}))}makeCellClass(C,E){const I=super.makeCellClass(C,E);return C.node instanceof q.GroupNode||C.node instanceof q.FooterNode?I.cellClass+=" ":I.cellClass+=` ${oe.SbCss.icon} ${oe.SbCss.sticky} ${C.isSticky?oe.SbCss.pined:""}`,I}makeColClass(C,E){return oe.SbCss.sticky}renderCaption(C){return B(this,void 0,void 0,(function*(){this.renderEmpty(C,`${oe.SbCss.caption} ${oe.SbCss.cell} ${oe.SbCss.icon} ${oe.SbCss.sticky}`)}))}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){yield this.renderCell(C,E,I)}))}};E.DetailClickColumn=class DetailClickColumn extends FixedColumn{constructor(){super(...arguments),this.onDetailClick=C=>B(this,void 0,void 0,(function*(){if(0!=C.button)return;let E=se.SBGrid3.$(C.target),I=yield this.grid.getRowItem(E);Q.Log.debug((()=>["detail",I])),ee.Convert.isValue(I)&&(this.grid.toggleDetail(I.key),this.fireCommandAsync(this,new z.RefreshCommand(this.grid.mergeRow?{}:{rowStart:I.rowIndex}))),this.grid.scrollPanel.sbScrollbar.scrollAnti=!0}))}selectable(){return!1}renderCell(C,E){return B(this,void 0,void 0,(function*(){const I=`${oe.SbCss.cell} ${this.cellSelector} ${oe.SbCss.detail} ${oe.SbCss.icon} ${E.isDetail?oe.SbCss.open:oe.SbCss.close}`;let B=ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${I}'></span>`);ee.JqUtils.changeClass(B,I),this.grid.eventManager.setHandler("detailColumnClick","mousedown",this.constructor.name,this.onDetailClick,C.toArray())}))}renderCaption(C){return B(this,void 0,void 0,(function*(){ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.caption} ${oe.SbCss.header} ${this.cellSelector}'></span>`).html("")}))}};E.DetailColumn=class DetailColumn extends FixedColumn{selectable(){return!1}constructor(C,E){E.type=te.ColumnTypes.Detail,super(C,E)}renderDetail(C,E,I){var z,q,Q,te,ie,re,se,oe,ae,le;return B(this,void 0,void 0,(function*(){let B;if(null!==(te=null===(Q=null===(q=null===(z=E.detailContext)||void 0===z?void 0:z.container)||void 0===q?void 0:q.get(0))||void 0===Q?void 0:Q.isConnected)&&void 0!==te&&te)B=E.detailContext.container,C.append(B);else if((null!==(se=null===(re=null===(ie=E.detailContext)||void 0===ie?void 0:ie.container)||void 0===re?void 0:re.get(0).children.length)&&void 0!==se?se:0)>0)B=E.detailContext.container,C.append(B);else{B=this.makeCell(C,E,I),ee.Convert.isValue(this.grid.config.detailOverflow)&&B.css("overflow",this.grid.config.detailOverflow);const z=(null!==(oe=E.detailTemplate)&&void 0!==oe?oe:this.grid.detailTemplate)(E.data);ee.JqUtils.adjustHtml(B,z);const q=null!==(ae=E.detailInit)&&void 0!==ae?ae:this.grid.detailInit;if(ee.Convert.isValue(q)){const C=null!==(le=E.detailContext)&&void 0!==le?le:E.detailContext=new ne.DetailContext(this.grid,E,B,new Map);C.container=B,q(C)}}return B}))}};class FrozenColumn extends ie.GridColumn{editable(){return!1}renderCell(C,E){return B(this,void 0,void 0,(function*(){ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.cell} ${this.cellSelector}'></span>`).html("")}))}renderCaption(C){return B(this,void 0,void 0,(function*(){ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.caption} ${oe.SbCss.header} ${this.cellSelector}'></span>`).html("")}))}}E.FrozenColumn=FrozenColumn;class RowCheckColumn extends FixedColumn{constructor(){super(...arguments),this.onClick=C=>B(this,void 0,void 0,(function*(){if(0!=C.button)return;let E=se.SBGrid3.$(C.target),I=yield this.grid.getRowItem(E);ee.Convert.isNull(I)||(I.isCheck=!I.isCheck,this.fireCommandAsync(this,new z.RefreshCommand({rowStart:I.rowIndex,rowEnd:I.rowIndex})))}))}get type(){return te.ColumnTypes.Check}static create(C,E){return new RowCheckColumn(C,E)}getValue(C){return C.isCheck}makeCell(C,E,I){const{cellSelector:B,cellClass:z}=this.makeCellClass(E,I),q=ee.JqUtils.adjustElement(C,`>span.${B}`,`<span class='${z}'></span>`);return ee.JqUtils.changeClass(q,z),q}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(ee.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(E);ee.JqUtils.adjustHtml(B,C)}else B.empty(),ee.JqUtils.addClass(B,oe.SbCss.icon),E.isCheck?ee.JqUtils.addClass(B,oe.SbCss.checked):ee.JqUtils.removeClass(B,oe.SbCss.checked);this.grid.eventManager.setHandler("checkColumnClick","mousedown",this.constructor.name,this.onClick,C.toArray())}))}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=" "+oe.SbCss.check,{cellSelector:I,cellClass:B}}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){this.renderCell(C,E,I)}))}renderCaption(C){return B(this,void 0,void 0,(function*(){this.renderCaptionCheck(C,void 0,void 0)}))}toggleCaptionCheck(){super.toggleCaptionCheck();for(const C of this.grid.rows)ee.Convert.isNull(C)||(C.isCheck=this.captionChecked);this.fireCommandAsync(this,new z.RefreshCommand)}}E.RowCheckColumn=RowCheckColumn;class RowRadioColumn extends FixedColumn{constructor(){super(...arguments),this.onClick=C=>B(this,void 0,void 0,(function*(){if(0!=C.button)return;let E=se.SBGrid3.$(C.target),I=yield this.grid.getRowItem(E);ee.Convert.isNull(I)||(I.isRadio=!0,this.fireCommandAsync(this,new z.RefreshCommand))}))}get type(){return te.ColumnTypes.Radio}static create(C,E){return new RowRadioColumn(C,E)}getValue(C){return C.isCheck}makeCell(C,E,I){const{cellSelector:B,cellClass:z}=this.makeCellClass(E,I),q=ee.JqUtils.adjustElement(C,`>span.${B}`,`<span class='${z}'></span>`);return ee.JqUtils.changeClass(q,z),q}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(ee.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(E);B.html()!=C&&B.html(C)}else{const C=` ${oe.SbCss.radio} ${oe.SbCss.radio_icon} ${E.isRadio?" "+oe.SbCss.checked:""}`,I=ee.JqUtils.adjustElement(B,">span",`<span class='${C}'></span>`);ee.JqUtils.changeClass(I,C)}this.grid.eventManager.setHandler("radioColumnClick","mousedown",this.constructor.name,this.onClick,C.toArray())}))}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return{cellSelector:I,cellClass:B}}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){this.renderCell(C,E,I)}))}renderCaptionTitle(C,E,I,B){super.renderCaptionTitle(C,E,I,B)}}E.RowRadioColumn=RowRadioColumn;class RowReorderColumn extends FixedColumn{constructor(C,E){E.selectable=!1,super(C,E)}static create(C,E){return new RowReorderColumn(C,E)}renderCell(C,E,I){var z;return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(ee.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(E);B.html()!=C&&B.html(C)}E.reorderable?null===(z=this.grid.rowReorder)||void 0===z||z.addDraggableRow(C):ee.Convert.isValue(C.data("ui-draggable"))&&C.draggable("destroy")}))}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return C.reorderable&&(B+=" "+oe.SbCss.icon),{cellSelector:I,cellClass:B}}renderCaption(C){return B(this,void 0,void 0,(function*(){this.renderEmpty(C,`${oe.SbCss.caption} ${oe.SbCss.icon} ${oe.SbCss.rowreorder}`)}))}}E.RowReorderColumn=RowReorderColumn;class GapColumn extends ie.GridColumn{selectable(){return!1}editable(){return!1}get unit(){return re.Unit.Fraction}get width(){return 1}set width(C){}get cellSelector(){return`${oe.SbCss.gap}`}renderCell(C,E){return B(this,void 0,void 0,(function*(){ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.cell} ${this.cellSelector}'></span>`).html("")}))}renderCaption(C){return B(this,void 0,void 0,(function*(){ee.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${oe.SbCss.caption} ${oe.SbCss.header} ${this.cellSelector}'></span>`).html("")}))}}E.GapColumn=GapColumn},103:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ColumnRender=E.GridColumn=void 0;const z=I(4407),q=I(6105),Q=I(7392),ee=I(3354),te=I(1163),ie=I(7721),re=I(9797),ne=I(6312),se=I(7078),oe=I(3419),ae=I(860),le=I(6258),ue=I(5882),de=I(6252),ce=I(5165),he=I(5369),fe=I(373),pe=I(2663);class GridColumn extends z.Publisher{get captionChecked(){var C;return null!==(C=this._captionChecked)&&void 0!==C?C:this._captionChecked=!1}set captionChecked(C){this._captionChecked=C}get filterRenderer(){var C;return te.Convert.isNull(this._filterRenderer)&&(this._filterRenderer=te.Convert.isValue(this.grid.config.filterable)&&te.Convert.isValue(this.field)&&te.Convert.isValue(null===(C=this.config.filter)||void 0===C?void 0:C.operator)?new de.FilterRenderer(this.grid,this):void 0),this._filterRenderer}get align(){return this.config.align}get valign(){return this.config.valign}get captions(){return this.config.captions}get rows(){return this.config.rows}get filters(){return this.config.filters}get headers(){return this.config.headers}get footers(){return this.config.footers}get directApplyEdit(){return!1}static ensureName(C){const E=[];return te.Convert.isValue(C.caption)&&E.push(C.caption),te.Convert.isValue(C.field)&&E.push(C.field),0==E.length?void 0:E.join("-")}constructor(C,E){var I,z,q,ie;super(C),this._level=0,this._colSpan=1,this._width=void 0,this._getGroupMap=new Map,this.onCaptionMenuClick=C=>B(this,void 0,void 0,(function*(){const E=this.getCol(ne.SBGrid3.$(C.target)),I=this.grid.getColumn(E),B=yield this.grid.getRowItem(E);if(null!=I&&(this.grid.container.find(`.${se.SbCss.menu_group}`).not(`.${se.SbCss.menu_group}.${se.SbCss.col}-${I.index}`).remove(),this.grid.container.find(`.${se.SbCss.context_menu}`).remove()),this.grid.container.find(`.${se.SbCss.menu_group}.${se.SbCss.col}-${I.index}`).length>0)this.grid.container.find(`.${se.SbCss.menu_group}.${se.SbCss.col}-${I.index}`).remove();else{const z=ne.SBGrid3.$(C.target).closest(`.${se.SbCss.panel}.${se.SbCss.caption}`),q=te.JqUtils.adjustElement(z,`>div.${se.SbCss.menu_group}.${se.SbCss.col}-${I.index}`,`<div class='${se.SbCss.menu_group} ${se.SbCss.col}-${I.index}'></span>`),Q=new ue.GridMenu(this._grid,ue.GridMenuParser.parse(this.config.captionMenu),I,B);null==I.parent?Q.render(ne.SBGrid3.$(q),ue.MenuType.CaptionMenu,void 0):Q.render(ne.SBGrid3.$(q),ue.MenuType.CaptionMenu,I.parent);const ee=ne.SBGrid3.$(`.${se.SbCss.panel}.${se.SbCss.group}`);let ie=0;null!=ee.height()&&(ie=ee.height());const re=ne.SBGrid3.$(C.target).closest(`.${se.SbCss.grid}`);this.grid.container.height()<this.grid.container.find(q).children().height()&&(q.children().css("height",this.grid.container.height()/2),q.children().css("overflow-y","scroll")),this.grid.container.find(q).css("top",E.offset().top-re.offset().top+E.height()),this.grid.container.find(q).css("left",E.offset().left-re.offset().left+E.width()-ne.SBGrid3.$(C.target).width()),re.width()+this.grid.container.offset().left<ne.SBGrid3.$(C.target).offset().left+ne.SBGrid3.$(q).width()&&this.grid.container.find(q).css("left",this.grid.container.width()-this.grid.container.find(q).width()-this.grid.container.find(`.${se.SbCss.scrollv}`).width()-4)}})),this.onCaptionClick=C=>{const E=this;switch(this.config.captionClick){case GridColumn.toolSort:E.onCaptionSortClick(C);break;case GridColumn.toolMenu:E.onCaptionMenuClick(C);break;case GridColumn.toolCheck:E.onCaptionCheckClick(C)}},this.onCaptionSortClick=C=>{var E;if(this.grid.config.sortable==le.SortMode.None||this.config.sortable==le.SortMode.None)return;C.offsetX;const I=C.offsetY,B=ne.SBGrid3.$(C.target).height(),z=(null!==(E=this.grid.dataConfig.orders)&&void 0!==E?E:[]).find((C=>C.field==this.field));let q=Q.SortDir.Asc,ie=te.Convert.isNull(z)||z.dir==Q.SortDir.Desc;this.config.sortable==le.SortMode.Toggle&&(q=I<B/2?Q.SortDir.Asc:Q.SortDir.Desc,ie=te.Convert.isNull(z)||(null==z?void 0:z.dir)==q),this.config.field==ee.FixedFields.status&&(ie=!0),this.grid.toggleSort(this.config.field,ie,q)},this.onCaptionCheckClick=C=>{if(!0!==this.config.captionCheck)return;C.offsetX,C.offsetY,ne.SBGrid3.$(C.target).height();this.toggleCaptionCheck()},this._alias=GridColumn.ensureName(E),this._config=this.parseConfig(E,C.config.defaultColumn,C.config.masterColumns),te.Convert.isNull(this._config.dataType)&&te.Convert.isValue(null===(z=null===(I=C.dataConfig.schema)||void 0===I?void 0:I.fields)||void 0===z?void 0:z[E.field])&&(this._config.dataType=te.Convert.parseEnum(te.DataType,null===(ie=null===(q=C.dataConfig.schema)||void 0===q?void 0:q.fields[E.field])||void 0===ie?void 0:ie.dataType)),this._grid=C}get type(){return this.config.type}get name(){var C,E;return te.Convert.isEmpty(this.config.caption)&&te.Convert.isEmpty(this.config.field)?super.name:(null!==(C=this.config.caption)&&void 0!==C?C:"")+"_"+(null!==(E=this.config.field)&&void 0!==E?E:"")}get visible(){var C;return null!==(C=this.grid.exporting?this.config.exportVisible:void 0)&&void 0!==C?C:this.config.visible}get sortable(){return this.config.sortable}get dataType(){return this.config.dataType}get captionRender(){var C;return null!==(C=this._captionRender)&&void 0!==C?C:this._captionRender=new ae.CaptionRender(this.grid,this.captionLayout)}static create(C,E){return new GridColumn(C,E)}get config(){return this._config}get tooltip(){return this.config.tooltip}parseConfig(C,E,I){return ie.GridColumnParser.parseColumn(C,E,I,!1)}get columns(){var C;return null!==(C=this._columns)&&void 0!==C?C:this._columns=new Array}get grid(){return this._grid}set grid(C){this._grid=C,super.publisher=C}get field(){return this.config.field}get index(){var C;return null!==(C=this._index)&&void 0!==C?C:0}set index(C){this._index=C}get colIndex(){var C;return null!==(C=this._colIndex)&&void 0!==C?C:0}set colIndex(C){this._colIndex=C}get level(){return this._level}set level(C){this._level=C}get parent(){return this._parent}set parent(C){this._parent=C}get colSpan(){var C,E;return null!==(E=null!==(C=this._colSpan)&&void 0!==C?C:this.config.colSpan)&&void 0!==E?E:1}set colSpan(C){this._colSpan=C}get width(){var C;return null!==(C=this._width)&&void 0!==C?C:this.config.width}set width(C){this._width=C}get minWidth(){return this.config.minWidth}get maxWidth(){return this.config.maxWidth}get unit(){return this.config.unit}get groups(){return this.config.groups}selectable(C){return 0!=this.grid.canGridCommand(new fe.GridSelectCommand(null==C?void 0:C.key,this))&&0!=this.evalBoolean(this.config.selectable,C)}editable(C){var E,I;return!te.Convert.isEmpty(this.field)&&(!te.Convert.isValue(null===(E=this.config.calc)||void 0===E?void 0:E.eval)&&(0!=this.grid.canGridCommand(new fe.GridEditCommand(null==C?void 0:C.key,this))&&0!=(null!==(I=this.evalBoolean(this.config.editable,C))&&void 0!==I&&I)))}get part(){return this.config.part}get isSticky(){return this.part==ie.PartType.Sticky}get cellSelector(){return se.SbCss.col+"-"+this.index}get totalHeaders(){var C,E;return null!==(C=this._headers)&&void 0!==C?C:this._headers=ColumnRender.parseColumnTemplate(null===(E=this.config.total)||void 0===E?void 0:E.header,this)}get totalFooters(){var C,E;return null!==(C=this._footers)&&void 0!==C?C:this._footers=ColumnRender.parseColumnTemplate(null===(E=this.config.total)||void 0===E?void 0:E.footer,this)}get treeFooters(){var C,E;return null!==(C=this._treeFooters)&&void 0!==C?C:this._treeFooters=ColumnRender.parseColumnTemplate(null===(E=this.config.tree)||void 0===E?void 0:E.footer,this)}get groupMap(){var C;return null!==(C=this._groupMap)&&void 0!==C?C:this._groupMap=this.makeGroupMap()}get groupFootersMap(){var C;return null!==(C=this._groupFootersMap)&&void 0!==C?C:this._groupFootersMap=this.makeRenderMap((C=>C.footer))}get groupHeadersMap(){var C;return null!==(C=this._groupHeadersMap)&&void 0!==C?C:this._groupHeadersMap=this.makeRenderMap((C=>C.header))}get hasHeader(){return te.Convert.isValue(this.totalHeaders)}get hasFooter(){return te.Convert.isValue(this.totalFooters)}get mergeRow(){return this.config.mergeRow}get mergeColumn(){return this.config.mergeColumn}get captionLayout(){return this.config.captionLayout}get caption(){return this.config.caption}set caption(C){this.config.caption=C}get isSorted(){var C;return(null!==(C=this.grid.dataConfig.orders)&&void 0!==C?C:[]).some((C=>C.field==this.field))}get contextMenu(){return te.Convert.isEmpty(this.config.contextMenu)?this.grid.contextMenu:this.config.contextMenu}hasGroupHeader(C){return 0!=this.groupMap.size&&!te.Convert.isEmpty(this.getGroup(C).headers)}hasGroupFooter(C){return 0!=this.groupMap.size&&!te.Convert.isEmpty(this.getGroup(C).footers)}makeGroupMap(){var C;const E=new Map;if(this.config.groups instanceof Array)for(const I of this.config.groups){null!==(C=I.ignoreGroup)&&void 0!==C||(I.ignoreGroup=new Set);const B=I.group.split(",");for(let C of B)te.Convert.isWhite(C)||(C=C.trim(),C.startsWith("!")?I.ignoreGroup.add(C.replace("!","")):E.has(C)?E.get(C).push(I):E.set(C,[I]))}return E}makeRenderMap(C){const E=new Map;for(const I of this.groupMap.keys()){const B=this.groupMap.get(I),z=ColumnRender.parseAggregateGroup(B.filter((C=>{var E,B;return null===(B=0==(null===(E=C.ignoreGroup)||void 0===E?void 0:E.has(I)))||void 0===B||B})),this,C);E.set(I,z)}return E}getGroup(C){var E,I,B,z;if(this._getGroupMap.has(C))return this._getGroupMap.get(C);const q={groups:null!==(E=this.groupMap.get(C))&&void 0!==E?E:[],footers:null!==(I=this.groupFootersMap.get(C))&&void 0!==I?I:[],headers:null!==(B=this.groupHeadersMap.get(C))&&void 0!==B?B:[],titles:null!==(z=this.groupTitles)&&void 0!==z?z:[]};return this.groupMap.has("*")&&(q.groups=q.groups.concat(this.groupMap.get("*").filter((E=>0==E.ignoreGroup.has(C))))),te.Convert.isValue(q.groups)&&(this.groupFootersMap.has("*")&&(q.footers=q.footers.concat(this.groupFootersMap.get("*"))),this.groupHeadersMap.has("*")&&(q.headers=q.headers.concat(this.groupHeadersMap.get("*")))),this._getGroupMap.set(C,q),q}toArray(C){return C instanceof Array?C:te.Convert.isNull(C)?[]:[C]}get cellTemplate(){var C;return null!==(C=this._cellTemplate)&&void 0!==C?C:te.Convert.isEmpty(this.config.cellTemplate)?void 0:this._cellTemplate=te.Utils.createTemplate(this.config.cellTemplate)}get captionTemplate(){var C;return null!==(C=this._captionTemplate)&&void 0!==C?C:te.Convert.isEmpty(this.config.captionTemplate)?void 0:this._captionTemplate=te.Utils.createTemplate(this.config.captionTemplate)}get groupTitles(){var C,E;return null!==(C=this._groupTitles)&&void 0!==C?C:this._groupTitles=ColumnRender.parseColumnTemplate(null===(E=this.config.groupTitle)||void 0===E?void 0:E.title,this)}getFieldValue(C,E){const{field:I,format:B,default:z}=this.config;let q=C.hasOwnProperty(I)?C[I]:void 0;const Q=this.getInnerValue(E,q,I);if(this.isEdit(E))return q=te.Convert.isNull(Q)?z:Q,q;if(q=Q,te.Convert.isValue(B)){let E=te.Convert.isValue(this.dataType)?te.Convert.convertType(q,this.dataType):q;return E=te.Convert.formatValue(E,I,B,C),Object.is(E,Number.NaN)?q:E}return q}getCellValue(C){return this.getRawValue(C)}getCellLabel(C){return C instanceof re.RowItem?this.getValue(C):C}getCellHtml(C,E=void 0){var I;if(!te.Convert.isValue(this.cellTemplate))return this.getCellLabel(C);{let E=this.getCellTemplate(C);try{return null===(I=ne.SBGrid3.$(E).text())||void 0===I?void 0:I.trim()}catch(C){return E}}}getCellText(C,E=void 0){return this.getCellHtml(C,E)}getRawValue(C){return te.Convert.isEmpty(this.field)?void 0:C.getValue(this.field)}getValue(C,E=void 0){var I;let B="";if(C.node instanceof ee.FooterNode&&C.node.parent instanceof ee.GroupNode||C.node instanceof ee.GroupNode)B=this.getGroupValue(C);else if(te.Convert.isValue(E)&&E.merge&&"function"==typeof this.mergeColumn)B=this.mergeColumn(C.data,C);else{const E=C.data;B=te.Convert.isNull(E)?"":null!==(I=this.getFieldValue(E,C))&&void 0!==I?I:""}return B}getTooltipData(C,E=void 0){return te.Convert.cloneData(C.data)}getTemp(C){var E;const I=null==C?void 0:C.columnTemps;if(null==I?void 0:I.hasOwnProperty(this.name))return I[this.name];const B=null!==(E=C.temp)&&void 0!==E?E:this.directApplyEdit?te.Convert.cloneData(C.data):void 0;if(te.Convert.isNull(B))return"";return this.getFieldValue(B,C)}setValueDirect(C,E,I){this.setInnerValue(C,E,I)}setInnerValue(C,E,I){const B=[{key:C.key,value:E,field:I,oldValue:C.data[I]}];this.fireCommand(this,new he.UpdateCommand(B,this))}getInnerValue(C,E,I){return te.Convert.isValue(this.config.getValue)&&(E=this.config.getValue(E,I,C)),E}setTemp(C,E){const I=this.getEditValue(E);this._setTemp(C,I)}_setTemp(C,E){const I=C.columnTemps;this.config.directApplyValue||0!=te.Convert.isNull(I)?(null==I?void 0:I.hasOwnProperty(this.name))&&delete I[this.name]:I[this.name]=E,this.setTempValue(C,E)}setTempValue(C,E){var I;if(C.setTemp(this.field,E),te.Convert.isValue(this.config.validators)){if(0==(null===(I=this.grid.editConfig)||void 0===I?void 0:I.immediateValidationCheck)&&!this.config.directApplyValue)return;const B=this.isValid(C);this.grid.config.editable.immediateValidationCheck&&this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex,colStart:this.index,colEnd:this.index})),B.state===oe.ValidationState.Valid&&this.config.directApplyValue&&(this.setValueDirect(C,E,this.field),this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})))}else this.config.directApplyValue&&(this.setValueDirect(C,E,this.field),this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})))}getLabelData(C,E){var I;return null!==(I=this.getValue(C,E))&&void 0!==I?I:""}getCellTemplate(C){return this.cellTemplate(C.data)}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(null==I?void 0:I.merged)te.JqUtils.adjustHtml(B,"");else if(te.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(E);B.html()!=C&&B.html(C)}else{let z=this.getValue(E,I);te.Convert.isEmpty(z)&&(z=this.renderPlaceHolder(z,E,C)),te.JqUtils.adjustHtml(B,z)}}))}renderPlaceHolder(C,E,I){const B=this.config.placeHolder;return te.Convert.isEmpty(C)&&te.Convert.isValue(B)?(C="function"==typeof B?B(E.data):B,te.JqUtils.addClass(I,se.SbCss.place_holder)):te.JqUtils.removeClass(I,se.SbCss.place_holder),C}makeCell(C,E,I){(null==E?void 0:E.node)instanceof ee.GroupNode?te.JqUtils.addClass(C,se.SbCss.hidden):0!=this.width&&te.JqUtils.removeClass(C,se.SbCss.hidden);const{cellSelector:B,cellClass:z}=this.makeCellClass(E,I),q=new Set,Q=te.JqUtils.adjustElement(C,`>span.${B}`,`<span class='${z}'></span>`,void 0,q);return te.JqUtils.changeClass(Q,z),C.hasClass(se.SbCss.invalid)&&te.JqUtils.adjustElement(C,`>span.${se.SbCss.invalid}.${se.SbCss.indicator}`,`<span class='${se.SbCss.invalid} ${se.SbCss.indicator}'></span>`,void 0,q),te.JqUtils.movetoTrash(this.grid.trashCan,C,q),Q}makeColClass(C,E){return""}makeCellClass(C,E){const I=this.cellSelector;let B=`${se.SbCss.cell} ${this.cellSelector} ${se.SbCss.toClass(this.type)} ${0==this.width?se.SbCss.hidden:""}`;return te.Convert.isEmpty(this.getValue(C))&&te.Convert.isValue(this.config.placeHolderCss)&&(B+=" "+("function"==typeof this.config.placeHolderCss?this.config.placeHolderCss(C.data):this.config.placeHolderCss)),te.Convert.isValue(this.config.cellTemplate)&&(B+=" "+se.SbCss.template),{cellSelector:I,cellClass:B}}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){let B=this.getValue(E,I);const z=this.makeCell(C,E,I);te.JqUtils.adjustHtml(z,B)}))}renderDetail(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);return""!=B.html()&&B.html(""),B}))}renderCaption(C){var E;return B(this,void 0,void 0,(function*(){const I=null!==(E=this.config.caption)&&void 0!==E?E:"",B=this.cellSelector,z=new Set,q=`${se.SbCss.caption} ${se.SbCss.column} ${B}`,Q=te.JqUtils.adjustElement(C,`>.${B}`,`<span class='${q}'></span>`,void 0,z);if(te.JqUtils.changeClass(Q,q),te.JqUtils.movetoTrash(this.grid.trashCan,C,z),te.Convert.isEmpty(this.config.captionTemplate))this.captionRender.render(Q,((C,E,B,z)=>{if(!te.Convert.isEmpty(E))switch(E.toLowerCase()){case GridColumn.toolCaption:this.renderCaptionTitle(C,I,B,z);break;case GridColumn.toolSort:this.renderCaptionSort(C,B,z);break;case GridColumn.toolFilter:this.renderCaptionFilter(C,B,z);break;case GridColumn.toolMenu:this.renderCaptionMenu(C,B,z);break;case GridColumn.toolCheck:this.renderCaptionCheck(C,B,z);break;default:this.renderCaptionTemplate(C,E,B,z)}}));else{z.clear();const C=te.JqUtils.adjustElement(Q,`>span.${se.SbCss.template}`,`<span class='${se.SbCss.template}'></span>`,void 0,z);te.JqUtils.movetoTrash(this.grid.trashCan,Q,z);const E=this.captionTemplate(this);te.JqUtils.adjustHtml(C,E)}}))}get captionTemplateMap(){var C;return null!==(C=this._captionTemplateMap)&&void 0!==C?C:this._captionTemplateMap=new Map}renderCaptionTemplate(C,E,I,B){if(te.Convert.isEmpty(E))return;let z;if(0==this.captionTemplateMap.has(E)?(z=te.Utils.createTemplate(E),this.captionTemplateMap.set(E,z)):z=this.captionTemplateMap.get(E),te.Convert.isValue(z)){const q=te.JqUtils.adjustElement(C,`>span[name='${E}']`,`<span name='${E}' class='${se.SbCss.template}'></span>`,{data:"index",index:I},B),Q=z(this);te.JqUtils.adjustHtml(q,Q)}}renderCaptionMenu(C,E,I){if(te.Convert.isNull(this.config.captionMenu)||0==this.config.captionMenu||this.config.part==ie.PartType.Fixed)return;const B=te.JqUtils.adjustElement(C,`>span.${se.SbCss.icon}.${se.SbCss.menu}`,`<span class='${se.SbCss.icon} ${se.SbCss.menu}'></span>`,{data:"index",index:E},I);this.grid.setEvent("columnCaptionMenuClick","click",this.name,this.onCaptionMenuClick,B)}renderCaptionCheck(C,E,I){if(!0!==this.config.captionCheck)return;const B=te.JqUtils.adjustElement(C,`>span.${se.SbCss.check}`,`<span class='${se.SbCss.check}'><span class='${se.SbCss.checkbox}'></span></span>`,{data:"index",index:E},I),z=te.JqUtils.adjustElement(B,`>span.${se.SbCss.checkbox}`,`<span class='${se.SbCss.checkbox}'></span>`);this.captionChecked?te.JqUtils.addClass(z,se.SbCss.checked):te.JqUtils.removeClass(z,se.SbCss.checked),this.grid.setEvent("columnCaptionCheckClick","click",this.name,this.onCaptionCheckClick,B)}getCol(C){var E;if(0!=(null!==(E=null==C?void 0:C.length)&&void 0!==E?E:0))return C.closest(`.${se.SbCss.col}`)}renderCaptionSort(C,E,I){var B,z;if(this.grid.config.sortable==le.SortMode.None||this.sortable==le.SortMode.None)return;if(te.Convert.isEmpty(this.config.field))return;const q=te.JqUtils.adjustElement(C,`>span.${se.SbCss.order}`,`<span class='${se.SbCss.order}'></span>`,{data:"index",index:E},I),ee=te.JqUtils.adjustElement(q,`>span.${se.SbCss.icon}.${se.SbCss.sort}`,`<span class='${se.SbCss.icon} ${se.SbCss.sort}'></span>`),ie=[].concat(null!==(B=this.grid.dataConfig.groups)&&void 0!==B?B:[]);null===(z=this.grid.dataConfig.orders)||void 0===z||z.forEach((C=>ie.findIndex((E=>E.field==C.field))<0&&ie.push(C)));const re=ie.findIndex((C=>C.field==this.config.field));if(re>=0){const C=ie[re].dir==Q.SortDir.Asc?se.SbCss.asc:se.SbCss.desc;if(te.JqUtils.changeClass(ee,`${se.SbCss.icon} ${se.SbCss.sort} ${C}`),this.grid.config.multiSort||te.Convert.isValue(this.grid.dataConfig.groups)){const C=te.JqUtils.adjustElement(q,`>span.${se.SbCss.icon}.${se.SbCss.no}`,`<span class='${se.SbCss.icon} ${se.SbCss.no}'></span>`);te.JqUtils.adjustHtml(C,re+1)}}else{te.JqUtils.changeClass(ee,`${se.SbCss.icon} ${se.SbCss.sort}`);const C=te.JqUtils.adjustElement(q,`>span.${se.SbCss.icon}.${se.SbCss.no}`,`<span class='${se.SbCss.icon} ${se.SbCss.no}'></span>`);te.JqUtils.adjustHtml(C,"")}this.grid.setEvent("columnCaptionSortClick","click",this.config,this.onCaptionSortClick,ee)}renderCaptionTitle(C,E,I,B){const z=te.JqUtils.adjustElement(C,`>span.${se.SbCss.title}`,`<span class='${se.SbCss.title}'></span>`,{data:"index",index:I},B);te.Convert.isEmpty(this.config.captionTemplate)?te.JqUtils.adjustHtml(z,E):te.JqUtils.adjustHtml(z,this.captionTemplate(this)),te.Convert.isValue(this.config.captionClick)&&this.grid.setEvent("columnCaptionClick","click",this.config,this.onCaptionClick,z)}renderCaptionFilter(C,E,I){this.grid.config.filterable===de.FilterMode.Menu&&te.Convert.isValue(this.filterRenderer)&&this.filterRenderer.renderCaptionFilter(C,E,I)}renderFilterColumn(C){var E;this.grid.config.filterable===de.FilterMode.Row&&(te.Convert.isValue(this.filterRenderer)?null===(E=this.filterRenderer)||void 0===E||E.renderFilterColumn(C,!1):C.empty())}toggleCaptionCheck(){const C=new fe.GridCaptionCheckCommand(this,this.captionChecked);1==this.grid.canGridCommand(C)&&(C.checked=1!=this.captionChecked,this.grid.doGridCommand(C),this.captionChecked=C.checked,this.fireCommandAsync(this,new ce.RefreshCommand))}getHeaderValue(C=void 0){return this.getHeaderFooterValue(this.totalHeaders,C)}getFooterValue(C=void 0){return this.getHeaderFooterValue(this.totalFooters,C)}getHeaderFooterValue(C,E){var I,B;const z=GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(I=this.config.total)||void 0===I?void 0:I.aggregates);let q;if(te.Convert.isNull(E)){q=[];for(const E of C)q.push(E.render(z))}else{const I=null===(B=C.find(((C,I)=>E==I)))||void 0===B?void 0:B.render;te.Convert.isValue(I)&&(q=I(z))}return q}getGroupValue(C){let E,I;if(C.node instanceof ee.GroupNode)E=C.node.igroup,I=C.node.data;else{if(!(C.node instanceof ee.FooterNode))return"";E=C.node.parent.igroup,I=C.node.parent.data}const{groups:B,headers:z,footers:q}=this.getGroup(E.field);if(te.Convert.isValue(B)){const Q=te.Convert.mergeData(I,GridColumn.makeGroupData(E.aggregates,B,C)),ie=C.node instanceof ee.GroupNode?z:q,re=[];for(const C of ie)re.push(C.render(Q));return re}}renderHeader(C,E){var I;return B(this,void 0,void 0,(function*(){const B=this.cellSelector,z=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${se.SbCss.header} ${se.SbCss.text} ${B}' data-selector='${B}'></span>`);let q="";if(te.Convert.isValue(this.totalHeaders)){const B=null===(I=this.totalHeaders[E.renderIndex])||void 0===I?void 0:I.align;te.Convert.isValue(B)&&te.JqUtils.addClass(C,se.SbCss.toClass(B)),q=this.getHeaderValue(E.renderIndex)}te.JqUtils.movetoTrash(this.grid.trashCan,C,B),z.html(q)}))}renderFooter(C,E){var I;return B(this,void 0,void 0,(function*(){const B=this.cellSelector,z=te.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${se.SbCss.footer} ${se.SbCss.text} ${B}' data-selector='${B}'></span>`);let q="";if(te.Convert.isValue(this.totalFooters)){const B=null===(I=this.totalFooters[E.renderIndex])||void 0===I?void 0:I.align;te.Convert.isValue(B)&&te.JqUtils.addClass(C,se.SbCss.toClass(B)),q=this.getFooterValue(E.renderIndex)}te.JqUtils.movetoTrash(this.grid.trashCan,C,B),z.html(q)}))}static getAggregateMap(C){var E;const I=new Map;for(const B of null!=C?C:[]){const C=null!==(E=B.require)&&void 0!==E?E:[],z=q.Aggregate.getResultName(B,C,!0);I.set(z,B)}return I}renderGroupFooter(C,E,I){var z,q;return B(this,void 0,void 0,(function*(){const B=te.JqUtils.adjustElement(C,`>span.${se.SbCss.cell}`,`<span class='${se.SbCss.group} ${se.SbCss.footer} ${se.SbCss.cell} ${se.SbCss.text} ${this.cellSelector}'></span>`);let Q="";if(E.node instanceof ee.FooterNode&&E.node.parent instanceof ee.GroupNode){const C=E.node.parent,ee=C.igroup;if(0==this.groupTitleVisible&&0==I.merged){const q=null===(z=this.grid.view.dataConfig.groups.map((C=>C.field)))||void 0===z?void 0:z.indexOf(this.field);if(q>=0&&C.level>q)return Q=this.getValue(E.parent,I),te.Convert.isEmpty(Q)&&(Q=this.getFieldValue(E.parent.data,E.parent)),void(B.html()!=Q&&B.html(Q))}const{groups:ie,footers:re}=this.getGroup(ee.field);if(te.Convert.isValue(ie)){const C=GridColumn.makeGroupData(ee.aggregates,ie,E.parent),z=re[I.renderIndex];te.Convert.isValue(z)&&(te.Convert.isValue(z.align)&&te.JqUtils.addClass(B,se.SbCss.toClass(z.align)),Q=null!==(q=z.render(C))&&void 0!==q?q:"")}}B.html()!=Q&&B.html(Q)}))}renderGroupHeader(C,E,I){var z;return B(this,void 0,void 0,(function*(){const B=te.JqUtils.adjustElement(C,`>span.${se.SbCss.cell}`,`<span class='${se.SbCss.group} ${se.SbCss.header} ${se.SbCss.cell} ${se.SbCss.text} ${this.cellSelector}'></span>`);let q="";if(E.node instanceof ee.GroupNode){const C=E.node.igroup,{groups:Q,headers:ee}=this.getGroup(C.field);if(te.Convert.isValue(Q)){const ie=GridColumn.makeGroupData(C.aggregates,Q,E),re=ee[I.renderIndex];te.Convert.isValue(re)&&(te.Convert.isValue(re.align)&&te.JqUtils.addClass(B,se.SbCss.toClass(re.align)),q=null!==(z=re.render(ie))&&void 0!==z?z:"")}te.JqUtils.removeClass(B,se.SbCss.invalid)}B.html()!=q&&B.html(q)}))}get groupTitleVisible(){var C;return!1!==(null===(C=this.config.groupTitle)||void 0===C?void 0:C.visible)}get groupTitle(){var C;return null!==(C=this.config.groupTitle)&&void 0!==C?C:{}}getGroupTitle(C,E=0){var I,B;let z="";if(C.node instanceof ee.GroupNode){const q=C.node.igroup,{groups:Q,titles:ee}=this.getGroup(q.field);if(te.Convert.isValue(ee)){const Q=this.makeGroupTitle(q.aggregates,this.config.groupTitle,C);z=null!==(B=null===(I=ee[E])||void 0===I?void 0:I.render(Q))&&void 0!==B?B:""}}return z}renderTreeFooter(C,E,I){var z,q;return B(this,void 0,void 0,(function*(){const B=te.JqUtils.adjustElement(C,`>span.${se.SbCss.cell}`,`<span class='${se.SbCss.tree} ${se.SbCss.footer} ${se.SbCss.cell} ${this.cellSelector}'></span>`);let Q="";if(E.node instanceof ee.FooterNode&&E.node.parent instanceof ee.TreeNode&&te.Convert.isValue(null===(z=this.config.tree)||void 0===z?void 0:z.aggregates)&&te.Convert.isValue(E.node.aggregates)){const C=GridColumn.makeTreeData(E.node.aggregates,this.config.tree,E.parent),z=this.treeFooters[I.renderIndex];te.Convert.isValue(z)&&(te.Convert.isValue(z.align)&&te.JqUtils.addClass(B,se.SbCss.toClass(z.align)),Q=null!==(q=z.render(C))&&void 0!==q?q:"")}B.html()!=Q&&B.html(Q)}))}static makeAggregateData(C,E){const I=GridColumn.getAggregateMap(C),B=GridColumn.getAggregateMap(E),z={};for(const C of B.keys())if(I.has(C)){const E=B.get(C);E.value="function"==typeof E.eval?E.eval(z):I.get(C).value,z[E.field]=E.value,"string"==typeof E.func?te.Convert.isValue(E.payload)?z[E.func+"_"+E.payload]=E.value:z[E.func]=E.value:"string"==typeof E.eval&&(te.Convert.isValue(E.payload)?z[E.eval+"_"+E.payload]=E.value:z[E.eval]=E.value)}return z}static makeGroupData(C,E,I){var B;let z={_rowItem:I,_data:I.data};if(z=te.Convert.mergeData(z,null==I?void 0:I.data),te.Convert.isEmpty(C)||te.Convert.isEmpty(E))return z;for(const I of C)for(const C of E)for(const E of null!==(B=C.aggregates)&&void 0!==B?B:[])0!=q.Aggregate.aggregateEquals(E,I)&&GridColumn.makeAggregateValue(E,z,I.value);return z}static makeAggregateValue(C,E,I){te.Convert.isValue(C.field)&&(E[C.field]=I);const B=q.Aggregate.fieldsJoin(C.require,"_"),z="string"==typeof C.func?C.func:"func",Q=C.payload;"string"==typeof C.func&&(E[z]=I),E[B+"_"+z]=I,te.Convert.isValue(C.payload)&&(E[B+"_"+z+"_"+Q]=I,E[z+"_"+Q]=I)}makeGroupTitle(C,E,I){var B;let z={_rowItem:I,_data:I.data};if(z=te.Convert.mergeData(z,null==I?void 0:I.data),I.node instanceof ee.GroupNode){const C=I.node;z._groupKey=C.groupKey,z._groupField=C.igroup.field,z._groupNode=C,z._aggregates=C.igroup.aggregates}if(te.Convert.isEmpty(C)||te.Convert.isEmpty(E))return z;for(const I of C)for(const C of null!==(B=E.aggregates)&&void 0!==B?B:[])0!=q.Aggregate.aggregateEquals(C,I)&&GridColumn.makeAggregateValue(C,z,I.value);return z}static makeTreeData(C,E,I){let B={_rowItem:I,_data:I.data};if(B=te.Convert.mergeData(B,null==I?void 0:I.data),te.Convert.isEmpty(C)||te.Convert.isEmpty(E))return B;for(const I of C)for(const C of E.aggregates)0!=q.Aggregate.aggregateEquals(C,I)&&GridColumn.makeAggregateValue(C,B,I.value);return B}getEditValue(C){}isValid(C){if(te.Convert.isNull(this.config.validators))return{state:oe.ValidationState.Valid};let E=this.isEdit(C)?this.getTemp(C):this.getRawValue(C);return oe.ColumnValidator.isValid(this.config.validators,E)}mergeEditData(C,E){if(!this.editable(E))return;const I=this.getTemp(E),B=new fe.GridValueCommand({key:E.key,value:I,field:this.field},this);this.grid.canGridCommand(B)&&(C[this.field]=I)}isFocused(C,E){return this.grid.focusManager.isFocused(C,this,E)}isGroupItem(C){if(C.node instanceof ee.GroupItem){if(ee.GroupItem.getGroupKeys(C.node).has(this.field))return!0}return!1}isEdit(C){var E,I,B,z,q;const Q=null===(E=this.grid.editConfig)||void 0===E?void 0:E.mode;if(te.Convert.isNull(Q))return!1;if(Q==le.EditMode.incell&&(null===(I=this.grid.focusManager.focus)||void 0===I?void 0:I.column)!=this)return!1;if(1!=this.editable(C))return!1;if(this.isGroupItem(C))return!1;if(C.node instanceof ee.TreeNode){const C=null===(B=this.grid.dataConfig.tree)||void 0===B?void 0:B.parent;if(te.Convert.isValue(C)&&"string"==typeof C&&this.field===C)return!1}if(C.isEdit)switch(Q){case le.EditMode.none:case le.EditMode.popup:return!1;case le.EditMode.inline:return this.evalBoolean(this.config.editable,C);case le.EditMode.incell:{const E=this.grid.focusManager.focus;return!(null===(q=this.evalBoolean(null===(z=null==E?void 0:E.column)||void 0===z?void 0:z.config.editable,C))||void 0===q||!q)&&(this==(null==E?void 0:E.column)&&C==(null==E?void 0:E.rowItem)&&(null==E?void 0:E.panelType)==ae.PanelType.Body)}}return!1}evalBoolean(C,E){return 0!=this.grid.view.rowEditable(E)&&(te.Convert.isNull(C)?void 0:"function"==typeof C?C(E.data,this.field):C)}focus(C){const{current:{column:E,rowItem:I}}=C;this!==E||!te.Convert.isValue(I)||this.isEditColumn(E,I)}doCommand(C,E){return E.command===pe.Commands.Focused&&this.focus(E),super.doCommand(C,E)}isEditColumn(C,E){return!1}renderTooltip(C){const E=this.grid.tooltip;if(te.Convert.isNull(E))return;const I=this.grid.focusManager.focus;if(te.Convert.isValue(I)&&(null==I?void 0:I.column)==this&&this.isEdit(null==I?void 0:I.rowItem)){const B=this.grid.getContainer(null==I?void 0:I.rowItem,null==I?void 0:I.column);if(B.length<1)E.clearTooltips();else{const I=this.tooltip.validation;E.renderRalativeTooltip(C,B,I)}}}getEventKey(C){return`${this.cellSelector}_${C.rowIndex}`}}E.GridColumn=GridColumn,GridColumn.toolCaption="caption",GridColumn.toolSort="sort",GridColumn.toolFilter="filter",GridColumn.toolMenu="menu",GridColumn.toolCheck="check",GridColumn.eventName="GridColumn";class ColumnRender{constructor(C,E=void 0,I=""){var B,z,q,Q,ee;this.render=C=>te.Convert.isValue(this.template)?this.renderTemplate(C):this.renderText(C),this._column=E,this._field=null!==(B=C.field)&&void 0!==B?B:"",this._group=null!=I?I:"",this._suffix=null!==(z=C.suffix)&&void 0!==z?z:"",this._prefix=null!==(q=C.prefix)&&void 0!==q?q:"",this._cssClass=null!==(Q=C.cssClass)&&void 0!==Q?Q:"",this._template=null!==(ee=C.template)&&void 0!==ee?ee:"",this._format=C.format,this._dataType=C.dataType,this._align=C.align,this._colSpan=C.colSpan,this._rowSpan=C.rowSpan}get template(){var C;return null!==(C=this._templateFunc)&&void 0!==C?C:te.Convert.isEmpty(this._template)?void 0:this._templateFunc=te.Utils.createTemplate(this._template)}get templateParams(){var C;return null!==(C=this._templateParams)&&void 0!==C?C:this._templateParams=new Set(te.Utils.parseTemplateParams(this._template))}get originalTemplate(){return this._template}get cssClass(){return this._cssClass}get group(){return this._group}get prefix(){return this._prefix}get suffix(){return this._suffix}get field(){return this._field}get dataType(){return this._dataType}get format(){return this._format}get align(){var C,E;return null!==(C=this._align)&&void 0!==C?C:null===(E=this._column)||void 0===E?void 0:E.align}get colSpan(){return this._colSpan}get rowSpan(){return this._rowSpan}get column(){return this._column}renderTemplate(C){if(te.Convert.isValue(this._format))for(const E in C){let I=C[E];I=te.Convert.convertType(I,this._dataType),C[E]=te.Convert.formatValue(I,void 0,this._format,C)}return this.template(C)}renderText(C){var E,I;let B=te.Convert.convertType(C[this._field],this._dataType);return B=te.Convert.formatValue(B,void 0,this._format,C),`${null!==(E=this._prefix)&&void 0!==E?E:""}${null!=B?B:""}${null!==(I=this._suffix)&&void 0!==I?I:""}`}static parseColumnTemplate(C,E=void 0,I=""){return te.Convert.isNull(C)?[]:C instanceof Array?C.map((C=>new ColumnRender(C,E,I))):[new ColumnRender(C,E,I)]}static parseAggregateGroup(C,E,I){let B=[];return(C instanceof Array?C:[C]).forEach((C=>{const z=I(C);te.Convert.isEmpty(z)||(B=B.concat(this.parseColumnTemplate(z,E,C.group)))})),B}}E.ColumnRender=ColumnRender},7721:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.GridColumnParser=E.SelectedStatus=E.ApplyTotalToGroup=E.VertAlign=E.TextAlign=E.Unit=E.PartType=void 0;const B=I(6105),z=I(7392),q=I(1163),Q=I(5774),ee=I(6258),te=I(3419),ie=I(5882),re=I(121),ne=I(6252),se=I(6312);var oe,ae,le,ue,de,ce;!function(C){C.Fixed="fixed",C.Head="head",C.Body="body",C.Sticky="sticky",C.Tail="tail"}(oe||(E.PartType=oe={})),function(C){C.Pixel="px",C.Percent="%",C.Fraction="fr"}(ae||(E.Unit=ae={})),function(C){C.Left="left",C.Center="center",C.Right="right"}(le||(E.TextAlign=le={})),function(C){C.Top="top",C.Center="center",C.Bottom="bottom"}(ue||(E.VertAlign=ue={})),function(C){C.Header="header",C.Footer="footer",C.Both="both"}(de||(E.ApplyTotalToGroup=de={})),function(C){C[C.RowSelected=0]="RowSelected",C[C.RowUnSelected=1]="RowUnSelected",C[C.CellUnSelected=2]="CellUnSelected",C[C.CellSelected=3]="CellSelected"}(ce||(E.SelectedStatus=ce={}));class GridColumnParser{static parseColumn(C,E,I,B=!0){var te,re,ne,de,ce,he,fe,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ae,Ne,De,Be,Fe,Oe,Le,$e,je,Ve,He,Ge,Ue,ze,qe,We,Ke,Xe,Je,Ye,Ze,Qe,et,tt,it,rt,nt,st,ot,at,ut,dt,ct,ht,pt,mt,vt,yt,bt,Ct,wt,_t,St,xt,kt,Tt,Mt,Rt,Et,Pt,It,At,Nt,Dt,Bt,Ft,Ot,Lt,$t,jt,Vt,Ht,Gt,Ut,zt,qt,Wt,Kt,Xt,Jt,Yt,Zt,Qt,ei,ti,ii,ri,ni,si,oi,ai,li,ui,di,ci,hi,fi,pi,mi,gi,vi,yi,bi,Ci,wi,_i,Si,xi,ki,Ti,Mi,Ri,Ei,Pi,Ii,Ai,Ni,Di,Bi,Fi,Oi,Li,$i,ji,Vi,Hi,Gi,Ui,zi,qi,Wi,Ki,Xi,Ji,Yi;const Zi=B?{}:C,Qi=q.Convert.isEmpty(C.masterColumn)?E:this.getMasterColumn(C.masterColumn,I);Zi.masterColumn=C.masterColumn,Zi.field=C.field,Zi.dataType=q.Convert.default(C.dataType,null!==(re=null!==(te=null==Qi?void 0:Qi.dataType)&&void 0!==te?te:null==E?void 0:E.dataType)&&void 0!==re?re:void 0,(C=>q.Convert.parseEnum(q.DataType,C))),Zi.default=q.Convert.default(C.default,null!==(ne=null==Qi?void 0:Qi.default)&&void 0!==ne?ne:null==E?void 0:E.default),Zi.caption=q.Convert.default(C.caption,null!==(de=null==Qi?void 0:Qi.caption)&&void 0!==de?de:C.field),Zi.cellTemplate=null!==(ce=C.cellTemplate)&&void 0!==ce?ce:null==Qi?void 0:Qi.cellTemplate,Zi.editTemplate=null!==(he=C.editTemplate)&&void 0!==he?he:null==Qi?void 0:Qi.editTemplate,Zi.captionTemplate=null!==(fe=C.captionTemplate)&&void 0!==fe?fe:null==Qi?void 0:Qi.captionTemplate,Zi.captionLayout=q.Convert.default(C.captionLayout,null!==(me=null!==(pe=null==Qi?void 0:Qi.captionLayout)&&void 0!==pe?pe:null==E?void 0:E.captionLayout)&&void 0!==me?me:ee.GridParser.parsePanelLayout(null===(ve=null===(ge=se.SBGrid3.default)||void 0===ge?void 0:ge.defaultColumn)||void 0===ve?void 0:ve.captionLayout),GridColumnParser.parseCaptionLayout),Zi.captionClick=q.Convert.default(C.captionClick,null!==(ye=null==Qi?void 0:Qi.captionClick)&&void 0!==ye?ye:null==E?void 0:E.captionClick),Zi.placeHolder=q.Convert.default(C.placeHolder,null!==(be=null==Qi?void 0:Qi.placeHolder)&&void 0!==be?be:null==E?void 0:E.placeHolder),Zi.placeHolderCss=q.Convert.default(C.placeHolderCss,null!==(Ce=null==Qi?void 0:Qi.placeHolderCss)&&void 0!==Ce?Ce:null==E?void 0:E.placeHolderCss),Zi.captionCss=q.Convert.default(C.captionCss,null!==(_e=null!==(we=null==Qi?void 0:Qi.captionCss)&&void 0!==we?we:null==E?void 0:E.captionCss)&&void 0!==_e?_e:""),Zi.colCss=q.Convert.default(C.colCss,null!==(xe=null!==(Se=null==Qi?void 0:Qi.colCss)&&void 0!==Se?Se:null==E?void 0:E.colCss)&&void 0!==xe?xe:""),Zi.colSpan=q.Convert.default(C.colSpan,null!==(ke=null==Qi?void 0:Qi.colSpan)&&void 0!==ke?ke:null==E?void 0:E.colSpan),Zi.rowSpan=q.Convert.default(C.rowSpan,null!==(Te=null==Qi?void 0:Qi.rowSpan)&&void 0!==Te?Te:null==E?void 0:E.rowSpan),Zi.columns=q.Convert.default(C.columns,void 0,(C=>GridColumnParser.parseColumns(C,E,I))),Zi.captions=q.Convert.default(C.captions,void 0),Zi.rows=q.Convert.default(C.rows,void 0),Zi.headers=q.Convert.default(C.headers,void 0),Zi.footers=q.Convert.default(C.footers,void 0),Zi.filters=q.Convert.default(C.filters,void 0),Zi.command=q.Convert.default(C.command,void 0,GridColumnParser.parseCommand),Zi.format=q.Convert.default(C.format,null!==(Re=null!==(Me=null==Qi?void 0:Qi.format)&&void 0!==Me?Me:null==E?void 0:E.format)&&void 0!==Re?Re:"",GridColumnParser.parseFormat),Zi.part=q.Convert.default(C.part,null!==(Pe=null!==(Ee=null==Qi?void 0:Qi.part)&&void 0!==Ee?Ee:null==E?void 0:E.part)&&void 0!==Pe?Pe:oe.Body,(C=>q.Convert.parseEnum(oe,C))),Zi.type=q.Convert.default(C.type,null!==(Ae=null!==(Ie=null==Qi?void 0:Qi.type)&&void 0!==Ie?Ie:null==E?void 0:E.type)&&void 0!==Ae?Ae:Q.ColumnTypes.Text,(C=>"function"==typeof C?C:q.Convert.parseEnum(Q.ColumnTypes,C))),Zi.width=q.Convert.default(C.width,null!==(De=null!==(Ne=null==Qi?void 0:Qi.width)&&void 0!==Ne?Ne:null==E?void 0:E.width)&&void 0!==De?De:null===(Fe=null===(Be=se.SBGrid3.default)||void 0===Be?void 0:Be.defaultColumn)||void 0===Fe?void 0:Fe.width,GridColumnParser.parseWidth),Zi.unit=q.Convert.default(C.unit,null!==(Le=null!==(Oe=null==Qi?void 0:Qi.unit)&&void 0!==Oe?Oe:null==E?void 0:E.unit)&&void 0!==Le?Le:ae.Pixel,(C=>q.Convert.parseEnum(ae,C))),Zi.minWidth=q.Convert.default(C.minWidth,null!==(je=null!==($e=null==Qi?void 0:Qi.minWidth)&&void 0!==$e?$e:null==E?void 0:E.minWidth)&&void 0!==je?je:null===(He=null===(Ve=se.SBGrid3.default)||void 0===Ve?void 0:Ve.defaultColumn)||void 0===He?void 0:He.minWidth,GridColumnParser.parseWidth),Zi.maxWidth=q.Convert.default(C.maxWidth,null!==(Ue=null!==(Ge=null==Qi?void 0:Qi.maxWidth)&&void 0!==Ge?Ge:null==E?void 0:E.maxWidth)&&void 0!==Ue?Ue:null===(qe=null===(ze=se.SBGrid3.default)||void 0===ze?void 0:ze.defaultColumn)||void 0===qe?void 0:qe.maxWidth,GridColumnParser.parseWidth),Zi.editable=q.Convert.default(C.editable,null!==(Ke=null!==(We=null==Qi?void 0:Qi.editable)&&void 0!==We?We:null==E?void 0:E.editable)&&void 0!==Ke?Ke:null===(Je=null===(Xe=se.SBGrid3.default)||void 0===Xe?void 0:Xe.defaultColumn)||void 0===Je?void 0:Je.editable),Zi.selectable=q.Convert.default(C.selectable,null!==(Ze=null!==(Ye=null==Qi?void 0:Qi.selectable)&&void 0!==Ye?Ye:null==E?void 0:E.selectable)&&void 0!==Ze?Ze:null===(et=null===(Qe=se.SBGrid3.default)||void 0===Qe?void 0:Qe.defaultColumn)||void 0===et?void 0:et.selectable),Zi.sortable=q.Convert.default(C.sortable,null!==(it=null!==(tt=null==Qi?void 0:Qi.sortable)&&void 0!==tt?tt:null==E?void 0:E.sortable)&&void 0!==it?it:null===(nt=null===(rt=se.SBGrid3.default)||void 0===rt?void 0:rt.defaultColumn)||void 0===nt?void 0:nt.sortable,ee.GridParser.parseSortable),Zi.groupable=q.Convert.default(C.groupable,null!==(ot=null!==(st=null==Qi?void 0:Qi.groupable)&&void 0!==st?st:null==E?void 0:E.groupable)&&void 0!==ot?ot:null===(ut=null===(at=se.SBGrid3.default)||void 0===at?void 0:at.defaultColumn)||void 0===ut?void 0:ut.groupable),Zi.captionCheck=q.Convert.default(C.captionCheck,null!==(ct=null!==(dt=null==Qi?void 0:Qi.captionCheck)&&void 0!==dt?dt:null==E?void 0:E.captionCheck)&&void 0!==ct?ct:null===(pt=null===(ht=se.SBGrid3.default)||void 0===ht?void 0:ht.defaultColumn)||void 0===pt?void 0:pt.captionCheck),Zi.getValue=q.Convert.default(C.getValue,null!==(mt=null==Qi?void 0:Qi.getValue)&&void 0!==mt?mt:null==E?void 0:E.getValue),Zi.setValue=q.Convert.default(C.setValue,null!==(vt=null==Qi?void 0:Qi.setValue)&&void 0!==vt?vt:null==E?void 0:E.setValue),Zi.align=q.Convert.default(C.align,null!==(bt=null!==(yt=null==Qi?void 0:Qi.align)&&void 0!==yt?yt:null==E?void 0:E.align)&&void 0!==bt?bt:null===(wt=null===(Ct=se.SBGrid3.default)||void 0===Ct?void 0:Ct.defaultColumn)||void 0===wt?void 0:wt.align,(C=>q.Convert.parseEnum(le,C))),Zi.valign=q.Convert.default(C.valign,null!==(Tt=null!==(St=null!==(_t=null==Qi?void 0:Qi.valign)&&void 0!==_t?_t:null==E?void 0:E.valign)&&void 0!==St?St:null===(kt=null===(xt=se.SBGrid3.default)||void 0===xt?void 0:xt.defaultColumn)||void 0===kt?void 0:kt.valign)&&void 0!==Tt?Tt:ue.Center,(C=>q.Convert.parseEnum(ue,C))),Zi.visible=q.Convert.default(C.visible,null!==(Rt=null!==(Mt=null==Qi?void 0:Qi.visible)&&void 0!==Mt?Mt:null==E?void 0:E.visible)&&void 0!==Rt?Rt:null===(Pt=null===(Et=se.SBGrid3.default)||void 0===Et?void 0:Et.defaultColumn)||void 0===Pt?void 0:Pt.visible),Zi.exportVisible=q.Convert.default(C.exportVisible,null!==(It=null==Qi?void 0:Qi.exportVisible)&&void 0!==It?It:null==E?void 0:E.exportVisible),Zi.exportLabel=q.Convert.default(C.exportLabel,null!==(Nt=null!==(At=null==Qi?void 0:Qi.exportLabel)&&void 0!==At?At:null==E?void 0:E.exportLabel)&&void 0!==Nt?Nt:null===(Bt=null===(Dt=se.SBGrid3.default)||void 0===Dt?void 0:Dt.defaultColumn)||void 0===Bt?void 0:Bt.exportLabel),Zi.captionVisible=q.Convert.default(C.captionVisible,null!==(Ot=null!==(Ft=null==Qi?void 0:Qi.captionVisible)&&void 0!==Ft?Ft:null==E?void 0:E.captionVisible)&&void 0!==Ot?Ot:null===($t=null===(Lt=se.SBGrid3.default)||void 0===Lt?void 0:Lt.defaultColumn)||void 0===$t?void 0:$t.captionVisible),Zi.groupTitle=q.Convert.default(C.groupTitle,null!==(Vt=null!==(jt=null==Qi?void 0:Qi.groupTitle)&&void 0!==jt?jt:null==E?void 0:E.groupTitle)&&void 0!==Vt?Vt:null===(Gt=null===(Ht=se.SBGrid3.default)||void 0===Ht?void 0:Ht.defaultColumn)||void 0===Gt?void 0:Gt.groupTitle,(()=>GridColumnParser.parseAggregateTtitle(C.field,C.groupTitle,null==E?void 0:E.groupTitle))),Zi.total=q.Convert.default(C.total,q.Convert.isValue(null==Qi?void 0:Qi.total)?GridColumnParser.parseAggregateTotal(C.field,Qi.total,Qi):q.Convert.isValue(null==E?void 0:E.total)?GridColumnParser.parseAggregateTotal(C.field,E.total,E):void 0,(()=>GridColumnParser.parseAggregateTotal(C.field,C.total,Qi))),Zi.groups=q.Convert.default(C.groups,GridColumnParser.parseAggregateGroups(C.field,null!==(zt=null!==(Ut=null==Qi?void 0:Qi.groups)&&void 0!==Ut?Ut:null==E?void 0:E.groups)&&void 0!==zt?zt:null===(Wt=null===(qt=se.SBGrid3.default)||void 0===qt?void 0:qt.defaultColumn)||void 0===Wt?void 0:Wt.groups,Qi),(()=>GridColumnParser.parseAggregateGroups(C.field,C.groups,Qi))),q.Convert.isEmpty(Zi.groups)&&(q.Convert.isValue(null===(Kt=Zi.total)||void 0===Kt?void 0:Kt.applyFooterToGroup)||q.Convert.isValue(null===(Xt=Zi.total)||void 0===Xt?void 0:Xt.applyHeaderToGroup))&&(Zi.groups=GridColumnParser.parseTotalToGroups(C.field,Zi.total,Qi)),Zi.tree=q.Convert.default(C.tree,null!==(Yt=null!==(Jt=null==Qi?void 0:Qi.tree)&&void 0!==Jt?Jt:null==E?void 0:E.tree)&&void 0!==Yt?Yt:null===(Qt=null===(Zt=se.SBGrid3.default)||void 0===Zt?void 0:Zt.defaultColumn)||void 0===Qt?void 0:Qt.tree,(()=>GridColumnParser.parseAggregateTree(C.field,C.tree))),Zi.calc=q.Convert.default(C.calc,null!==(ti=null!==(ei=null==Qi?void 0:Qi.calc)&&void 0!==ei?ei:null==E?void 0:E.calc)&&void 0!==ti?ti:null===(ri=null===(ii=se.SBGrid3.default)||void 0===ii?void 0:ii.defaultColumn)||void 0===ri?void 0:ri.calc,(()=>z.DataSourceParser.parseCalculation(C.calc,C.field))),Zi.dropDownConfig=q.Convert.default(C.dropDownConfig,null===(si=null===(ni=se.SBGrid3.default)||void 0===ni?void 0:ni.defaultColumn)||void 0===si?void 0:si.dropDownConfig),Zi.validators=q.Convert.default(C.validators,null!==(ai=null!==(oi=null==Qi?void 0:Qi.validators)&&void 0!==oi?oi:null==E?void 0:E.validators)&&void 0!==ai?ai:null===(ui=null===(li=se.SBGrid3.default)||void 0===li?void 0:li.defaultColumn)||void 0===ui?void 0:ui.validators,(()=>GridColumnParser.parseValidation(C.validators))),Zi.mergeRow=q.Convert.default(C.mergeRow,null!==(ci=null!==(di=null==Qi?void 0:Qi.mergeRow)&&void 0!==di?di:null==E?void 0:E.mergeRow)&&void 0!==ci?ci:null===(fi=null===(hi=se.SBGrid3.default)||void 0===hi?void 0:hi.defaultColumn)||void 0===fi?void 0:fi.mergeRow),Zi.mergeColumn=q.Convert.default(C.mergeColumn,null!==(mi=null!==(pi=null==Qi?void 0:Qi.mergeColumn)&&void 0!==pi?pi:null==E?void 0:E.mergeColumn)&&void 0!==mi?mi:null===(vi=null===(gi=se.SBGrid3.default)||void 0===gi?void 0:gi.defaultColumn)||void 0===vi?void 0:vi.mergeColumn),Zi.filter=q.Convert.default(C.filter,null!==(bi=null!==(yi=null==Qi?void 0:Qi.filter)&&void 0!==yi?yi:null==E?void 0:E.filter)&&void 0!==bi?bi:null===(wi=null===(Ci=se.SBGrid3.default)||void 0===Ci?void 0:Ci.defaultColumn)||void 0===wi?void 0:wi.filter,(()=>{var I;return GridColumnParser.parseFilter(C.filter,C.field,null!==(I=null==Qi?void 0:Qi.filter)&&void 0!==I?I:null==E?void 0:E.filter)})),Zi.skipPaste=q.Convert.default(C.skipPaste,null!==(Si=null!==(_i=null==Qi?void 0:Qi.skipPaste)&&void 0!==_i?_i:null==E?void 0:E.skipPaste)&&void 0!==Si?Si:null===(ki=null===(xi=se.SBGrid3.default)||void 0===xi?void 0:xi.defaultColumn)||void 0===ki?void 0:ki.skipPaste),Zi.tooltip=q.Convert.default(C.tooltip,null!==(Mi=null!==(Ti=null==Qi?void 0:Qi.tooltip)&&void 0!==Ti?Ti:null==E?void 0:E.tooltip)&&void 0!==Mi?Mi:C.validators?GridColumnParser.parseColumnTooltip({validation:!0},C.validators):void 0,(E=>GridColumnParser.parseColumnTooltip(E,C.validators))),Zi.captionMenu=q.Convert.default(C.captionMenu,null!==(Ei=null!==(Ri=null==Qi?void 0:Qi.captionMenu)&&void 0!==Ri?Ri:null==E?void 0:E.captionMenu)&&void 0!==Ei?Ei:null===(Ii=null===(Pi=se.SBGrid3.default)||void 0===Pi?void 0:Pi.defaultColumn)||void 0===Ii?void 0:Ii.captionMenu,(C=>{var I,B,z;return ie.GridMenuParser.parse(C,null!==(I=null==E?void 0:E.captionMenu)&&void 0!==I?I:null===(z=null===(B=se.SBGrid3.default)||void 0===B?void 0:B.defaultColumn)||void 0===z?void 0:z.defaultCaptionMenu)})),Zi.contextMenu=q.Convert.default(C.contextMenu,null!==(Ni=null!==(Ai=null==Qi?void 0:Qi.contextMenu)&&void 0!==Ai?Ai:null==E?void 0:E.contextMenu)&&void 0!==Ni?Ni:null===(Bi=null===(Di=se.SBGrid3.default)||void 0===Di?void 0:Di.defaultColumn)||void 0===Bi?void 0:Bi.contextMenu,(C=>{var I,B,z;return ie.GridMenuParser.parse(C,null!==(I=null==E?void 0:E.contextMenu)&&void 0!==I?I:null===(z=null===(B=se.SBGrid3.default)||void 0===B?void 0:B.defaultColumn)||void 0===z?void 0:z.defaultContextMenu)})),Zi.defaultCaptionMenu=q.Convert.default(C.defaultCaptionMenu,null!==(Oi=null!==(Fi=null==Qi?void 0:Qi.defaultCaptionMenu)&&void 0!==Fi?Fi:null==E?void 0:E.defaultCaptionMenu)&&void 0!==Oi?Oi:null===($i=null===(Li=se.SBGrid3.default)||void 0===Li?void 0:Li.defaultColumn)||void 0===$i?void 0:$i.defaultCaptionMenu,(C=>{var I,B,z;return ie.GridMenuParser.parse(C,null!==(I=null==E?void 0:E.defaultCaptionMenu)&&void 0!==I?I:null===(z=null===(B=se.SBGrid3.default)||void 0===B?void 0:B.defaultColumn)||void 0===z?void 0:z.defaultCaptionMenu)})),Zi.defaultContextMenu=q.Convert.default(C.defaultContextMenu,null!==(Vi=null!==(ji=null==Qi?void 0:Qi.defaultContextMenu)&&void 0!==ji?ji:null==E?void 0:E.defaultContextMenu)&&void 0!==Vi?Vi:null===(Gi=null===(Hi=se.SBGrid3.default)||void 0===Hi?void 0:Hi.defaultColumn)||void 0===Gi?void 0:Gi.defaultContextMenu,(C=>{var I,B,z;return ie.GridMenuParser.parse(C,null!==(I=null==E?void 0:E.defaultContextMenu)&&void 0!==I?I:null===(z=null===(B=se.SBGrid3.default)||void 0===B?void 0:B.defaultColumn)||void 0===z?void 0:z.defaultContextMenu)})),Zi.directApplyValue=q.Convert.default(C.directApplyValue,null!==(zi=null!==(Ui=null==Qi?void 0:Qi.directApplyValue)&&void 0!==Ui?Ui:null==E?void 0:E.directApplyValue)&&void 0!==zi?zi:null===(Wi=null===(qi=se.SBGrid3.default)||void 0===qi?void 0:qi.defaultColumn)||void 0===Wi?void 0:Wi.directApplyValue),Zi.directApplyEdit=q.Convert.default(C.directApplyEdit,null!==(Xi=null!==(Ki=null==Qi?void 0:Qi.directApplyEdit)&&void 0!==Ki?Ki:null==E?void 0:E.directApplyEdit)&&void 0!==Xi?Xi:null===(Yi=null===(Ji=se.SBGrid3.default)||void 0===Ji?void 0:Ji.defaultColumn)||void 0===Yi?void 0:Yi.directApplyEdit);for(const E in C)Zi.hasOwnProperty(E)||(Zi[E]=C[E]);return q.Convert.isValue(Zi.captions)&&(Zi.type=Q.ColumnTypes.Multi),Zi}static getMasterColumn(C,E){var I,B,z,Q;if(E=q.Convert.mergeData(E,null===(I=se.SBGrid3.default)||void 0===I?void 0:I.masterColumns),q.Convert.isEmpty(E))return;var ee=E[C];if(q.Convert.isValue(ee))return ee;const te=C.split("."),ie=C+".",re=new Map;for(const C in E){const I=C.split(".");let B=0;for(let C=0;C<I.length;C++){"*"==I[C]&&te.length>C&&(I[C]=te[C],B++)}const z=I.join(".")+".";if(re.has(z)){const I=re.get(z);I.push({index:B,column:E[C]}),I.sort(((C,E)=>C.index-E.index))}else re.set(z,[{index:B,column:E[C]}])}const ne=q.Arrays.from(re.keys()).sort().reverse();for(const C of ne)if(ie.startsWith(C))return null===(z=null===(B=re.get(C))||void 0===B?void 0:B[0])||void 0===z?void 0:z.column;return null!==(Q=E.default)&&void 0!==Q?Q:E[""]}static parseCaptionLayout(C){return C instanceof Array||"string"==typeof C?{center:ee.GridParser.parseStringArray(C)}:ee.GridParser.parsePanelLayout(C)}static parseAggregateTotal(C,E,I){var z,Q,ee,te,ie,re,ne,se;const oe={field:C=q.Convert.isEmpty(E.field)?C:E.field,header:q.Convert.default(E.header,void 0,(E=>GridColumnParser.parseColumnTemplates(C,E))),footer:q.Convert.default(E.footer,void 0,(E=>GridColumnParser.parseColumnTemplates(C,E))),aggregates:q.Convert.default(E.aggregates,void 0,(E=>GridColumnParser.parseAggregates(C,E))),headerCss:null!==(z=E.headerCss)&&void 0!==z?z:null===(Q=null==I?void 0:I.total)||void 0===Q?void 0:Q.headerCss,footerCss:null!==(ee=E.footerCss)&&void 0!==ee?ee:null===(te=null==I?void 0:I.total)||void 0===te?void 0:te.footerCss,applyFooterToGroup:q.Convert.parseEnum(de,null!==(ie=E.applyFooterToGroup)&&void 0!==ie?ie:null===(re=null==I?void 0:I.total)||void 0===re?void 0:re.applyFooterToGroup),applyHeaderToGroup:q.Convert.parseEnum(de,null!==(ne=E.applyHeaderToGroup)&&void 0!==ne?ne:null===(se=null==I?void 0:I.total)||void 0===se?void 0:se.applyHeaderToGroup)};if(q.Convert.isValue(oe.aggregates)){for(const E of oe.aggregates)q.Convert.isEmpty(E.field)&&(E.field=B.Aggregate.getResultName(E,C));const E=oe.aggregates[0].field;if(oe.header instanceof Array)for(const I of oe.header.filter((E=>q.Convert.isEmpty(E.field)||E.field==C)))I.field=E;if(oe.footer instanceof Array)for(const I of oe.footer.filter((E=>q.Convert.isEmpty(E.field)||E.field==C)))I.field=E}return oe}static parseAggregateGroup(C,E,I){const B=GridColumnParser.parseAggregateTotal(C,E,I);return B.group=q.Convert.isWhite(E.group)?C:E.group,B}static parseTotalToGroups(C,E,I){const B=GridColumnParser.parseAggregateGroup(C,E,I);B.group="*";const z=B.header,q=B.footer;switch(B.footer=[],B.header=[],E.applyHeaderToGroup){case de.Header:B.header=z;break;case de.Footer:B.footer=z;break;case de.Both:B.header=z,B.footer=z}switch(E.applyFooterToGroup){case de.Header:B.header=q;break;case de.Footer:B.footer=q;break;case de.Both:B.header=q,B.footer=q}return[B]}static parseAggregateTtitle(C,E,I){var z,Q;const ee={field:C,aggregates:GridColumnParser.parseAggregates(C,E.aggregates),title:q.Convert.default(E.title,void 0,(E=>GridColumnParser.parseColumnTemplate(C,E))),visible:q.Convert.default(E.visible,!0),colSpan:null!==(Q=null!==(z=null==E?void 0:E.colSpan)&&void 0!==z?z:null==I?void 0:I.colSpan)&&void 0!==Q?Q:1};if(q.Convert.isValue(ee.aggregates))for(const C of ee.aggregates)q.Convert.isEmpty(C.field)&&(C.field=B.Aggregate.getResultName(C,C.require,!1));return ee}static parseAggregateTree(C,E){const I={field:C,aggregates:GridColumnParser.parseAggregates(C,E.aggregates),footer:q.Convert.default(E.footer,void 0,(E=>GridColumnParser.parseColumnTemplates(C,E))),footerCss:E.footerCss};if(q.Convert.isValue(I.aggregates)){const E=I.aggregates[0].field;if(I.footer instanceof Array)for(const B of I.footer.filter((E=>q.Convert.isEmpty(E.field)||E.field==C)))B.field=E}return I}static parseAggregateGroups(C,E,I){const B=[];if(q.Convert.isEmpty(E))return B;if(E instanceof Array)for(const z of E)B.push(GridColumnParser.parseAggregateGroup(C,z,I));else B.push(GridColumnParser.parseAggregateGroup(C,E,I));return B}static parseAggregates(C,E){const I=[];if(q.Convert.isValue(E))for(const B of E)I.push(GridColumnParser.parseAggregate(C,B));return z.DataSourceParser.sortCalcReference(I)}static parseAggregate(C,E){const I=z.DataSourceParser.parseAggregate(E);return I.require=q.Convert.asStringArray(E.require,C),I.field=q.Convert.isValue(E.field)?E.field:q.Convert.isEmpty(C)&&q.Convert.isEmpty(E.require)?"":B.Aggregate.getResultName(I,C),I}static parseColumnTemplates(C,E){const I=new Array;if(E instanceof Array)for(let B of E)I.push(GridColumnParser.parseColumnTemplate(C,B));else I.push(GridColumnParser.parseColumnTemplate(C,E));return I}static parseColumnTemplate(C,E){var I;return{prefix:E.prefix,suffix:E.suffix,field:null!==(I=E.field)&&void 0!==I?I:C,cssClass:E.cssClass,template:E.template,format:E.format,dataType:z.DataSourceParser.parseDataType(E.dataType),align:q.Convert.parseEnum(le,E.align),colSpan:E.colSpan,rowSpan:E.rowSpan}}static parseWidth(C){var E,I;return"number"==typeof C?C:q.Convert.isValue(C)?q.Convert.asNumber(C):null===(I=null===(E=se.SBGrid3.default)||void 0===E?void 0:E.defaultColumn)||void 0===I?void 0:I.minWidth}static parseFormat(C){return C}static parseCommand(C){return[].concat(C)}static parseColumns(C,E,I){let B=[];if(C instanceof Array)for(let z of C)B.push(GridColumnParser.parseColumn(z,E,I));else B.push(GridColumnParser.parseColumn(C,E,I));return B}static parseValidation(C){let E;return C instanceof Array?C.forEach((C=>{let I={rule:q.Convert.default(C.rule,te.Rules.None,"string"==typeof C.rule?C=>q.Convert.parseEnum(te.Rules,C.toString()):"function"==typeof C.rule?C=>C:void 0),value:q.Convert.default(C.value,void 0),message:q.Convert.default(C.message,void 0),dataType:q.Convert.default(C.dataType,void 0,(C=>q.Convert.parseEnum(q.DataType,C)))};E=null!=E?E:[],E.push(I)})):!0===C&&(E=[]),E}static parseFilter(C,E,I){var B,Q,ee;if(I=null!=I?I:null===(Q=null===(B=null===se.SBGrid3||void 0===se.SBGrid3?void 0:se.SBGrid3.default)||void 0===B?void 0:B.defaultColumn)||void 0===Q?void 0:Q.filter,!1===C)return{operator:void 0};if(q.Convert.isNull(C)||!0===C)return I;if(q.Convert.isNull(null==C?void 0:C.operator))return{operator:void 0};if(q.Convert.isValue(null==C?void 0:C.operator)){const B=GridColumnParser.parseColumnFilter(C,E);return B.operator==z.FilterOperators.And||B.operator==z.FilterOperators.Or?q.Convert.isNull(B.filters)&&(B.filters=null!==(ee=null==I?void 0:I.filters)&&void 0!==ee?ee:[{operator:z.FilterOperators.IsEqualTo}]):(B.operator=z.FilterOperators.And,B.field=E,B.filters=C instanceof Array?C:[C]),B}}static parseColumnFilter(C,E){return z.DataSourceParser.parseFilter(C,[E],(E=>{var I;const B=E;return GridColumnParser._parseColumnFilter(C,B),null===(I=C.filters)||void 0===I||I.forEach(((C,I)=>GridColumnParser._parseColumnFilter(C,E.filters[I]))),B}))}static _parseColumnFilter(C,E){var I;E.operators=null===(I=null==C?void 0:C.operators)||void 0===I?void 0:I.map((C=>q.Convert.default(C,z.FilterOperators.Contains,(()=>q.Convert.parseEnum(z.FilterOperators,C))))),E.rowFilter=q.Convert.default(null==C?void 0:C.rowFilter,void 0),E.sourceType=q.Convert.default(null==C?void 0:C.sourceType,void 0,(C=>q.Convert.parseEnum(ne.ISourceType,C)))}static parseTooltip(C,E){var I,B;let z;return z=0==E?void 0:!0===E?GridColumnParser.parseTooltip(C,{title:re.Tooltip.getTitleFunc(C),target:re.Tooltip.getTooltipSelector(C)}):{title:null!==(I=E.title)&&void 0!==I?I:re.Tooltip.getTitleFunc(C),target:null!==(B=E.target)&&void 0!==B?B:re.Tooltip.getTooltipSelector(C),template:q.Convert.default(E.template,void 0),placement:q.Convert.default(E.placement,re.Placement.Bottom,(C=>q.Convert.parseEnum(re.Placement,C))),delay:q.Convert.default(E.delay,{show:0,hide:0},(()=>({show:q.Convert.default(E.delay.show,0),hide:q.Convert.default(E.delay.hide,0)}))),type:C},z}static parseColumnTooltip(C,E){let I;return I=!0===C?GridColumnParser.parseColumnTooltip({cell:!0,caption:!0,validation:!0},E):!1===C?void 0:{cell:q.Convert.default(C.cell,void 0,(()=>GridColumnParser.parseTooltip(re.TooltipCategory.Cell,null==C?void 0:C.cell))),caption:q.Convert.default(C.caption,void 0,(()=>GridColumnParser.parseTooltip(re.TooltipCategory.Caption,null==C?void 0:C.caption))),validation:q.Convert.default(C.validation,E?GridColumnParser.parseTooltip(re.TooltipCategory.Validation,!0):void 0,(()=>GridColumnParser.parseTooltip(re.TooltipCategory.Validation,null==C?void 0:C.validation)))},I}}E.GridColumnParser=GridColumnParser},8964:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.GroupColumn=void 0;const z=I(3354),q=I(1163),Q=I(103),ee=I(7721),te=I(6312),ie=I(7078),re=I(5165);class GroupColumn extends Q.GridColumn{constructor(C,E){super(C,E),this.onGroupMousedown=C=>{var E,I;if(0==C.button){let B=te.SBGrid3.$(C.target);const z=this.grid.getRowItem(B);z.rowIndex;return(null===(I=null===(E=this.grid.rowsView)||void 0===E?void 0:E.headers)||void 0===I?void 0:I.findIndex((C=>C.rowItem.key==(null==z?void 0:z.key))))>=0?this.grid.topRow=z.rowIndex:this.toggleRow(B,z),!0}return!0},this.config.align=ee.TextAlign.Left}get groupLevel(){return this._groupLevel}set groupLevel(C){this._groupLevel=C}get groupColumn(){return this._groupColumn}set groupColumn(C){this._groupColumn=C}selectable(){return!1}get mergeRow(){return!1}get mergeColumn(){return!1}static create(C,E){return new GroupColumn(C,E)}makeColClass(C,E){var I,B;if((null==C?void 0:C.node)instanceof z.GroupNode){let B=(null==C?void 0:C.node)instanceof z.GroupNode?C.node:void 0;const q=null!==(I=(null==B?void 0:B.igroup.field)==this.config.field)&&void 0!==I&&I;return super.makeColClass(C,E)+` ${ie.SbCss.group} ${q?ie.SbCss.title:ie.SbCss.indicator} ${ie.SbCss.level}-${this.groupLevel} ${(null==B?void 0:B.level)<this.groupLevel?ie.SbCss.hidden:""}`}if((null==C?void 0:C.node)instanceof z.FooterNode){let I=(null==C?void 0:C.node)instanceof z.FooterNode?null==C?void 0:C.node:void 0,q=null==I?void 0:I.parent;B=(null==q?void 0:q.igroup.field)==this.config.field;const Q=(null==q?void 0:q.level)==this.groupLevel,ee=(null==q?void 0:q.level)<this.groupLevel,te=ee?null==q?void 0:q.level:this.groupLevel;return super.makeColClass(C,E)+` ${ie.SbCss.group} ${ie.SbCss.footer} ${ie.SbCss.indicator} ${ie.SbCss.level}-${te} ${Q?ie.SbCss.level_first:ee?ie.SbCss.level_next:""}`}return super.makeColClass(C,E)+` ${ie.SbCss.group} ${ie.SbCss.indicator} ${ie.SbCss.level}-${this.groupLevel}`}get groupTitleVisible(){var C;return!1!==(null===(C=this.groupColumn)||void 0===C?void 0:C.groupTitleVisible)}getGroupCellHtml(C,E,I){var B,z,Q,ee;let te="";if(I&&this.groupTitleVisible){te=(I?`<span class='${ie.SbCss.icon} ${C.loading?ie.SbCss.loading:C.isOpen?ie.SbCss.open:ie.SbCss.close}'></span>`:"")+(q.Convert.isValue(null===(z=null===(B=this.groupColumn)||void 0===B?void 0:B.config.groupTitle)||void 0===z?void 0:z.title)?null===(Q=this.groupColumn)||void 0===Q?void 0:Q.getGroupTitle(C):`<span class='${ie.SbCss.title}'>${null==E?void 0:E.groupKey} [${null!==(ee=null==E?void 0:E.itemCount)&&void 0!==ee?ee:""}]</span>`)}return te}renderCell(C,E,I){var Q;return B(this,void 0,void 0,(function*(){let B=(null==E?void 0:E.node)instanceof z.GroupNode?E.node:void 0;const ee=null!==(Q=(null==B?void 0:B.igroup.field)==this.config.field)&&void 0!==Q&&Q;(null==B?void 0:B.level)<this.groupLevel&&C.addClass(ie.SbCss.hidden);const te=this.cellSelector+` ${ie.SbCss.cell} ${ie.SbCss.group} ${ee?ie.SbCss.title:ie.SbCss.indicator} ${ie.SbCss.level}-${this.groupLevel}`,re=q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${te}'></span>`);if(q.JqUtils.changeClass(re,te),(null==I?void 0:I.merge)||(null==I?void 0:I.merged))q.JqUtils.adjustHtml(re,"");else{let I=this.getGroupCellHtml(E,B,ee);re.html(I),this.grid.setEvent("groupTitleMousedown","mousedown",this.config.field,this.onGroupMousedown,C)}ee&&this.checkOpen(C,E)}))}checkOpen(C,E){E.isOpen||E.node instanceof z.GroupNode&&E.isOpen!=E.node.isOpen&&this.toggleRow(C,E)}toggleRow(C,E){const I=E.node;if(I instanceof z.GroupNode){const E=te.SBGrid3.$(`>.${ie.SbCss.cell}`,C),B=te.SBGrid3.$(`>.${ie.SbCss.icon}`,E);q.JqUtils.changeClass(B,`${ie.SbCss.icon} ${ie.SbCss.loading}`),this.fireCommandAsync(this,new re.ToggleRowCommand(I.key))}}renderGroupHeader(C,E){return B(this,void 0,void 0,(function*(){this.renderCell(C,E,void 0)}))}renderGroupFooter(C,E){return B(this,void 0,void 0,(function*(){let I=(null==E?void 0:E.node)instanceof z.FooterNode?null==E?void 0:E.node:void 0,B=null==I?void 0:I.parent;(null==B?void 0:B.igroup.field)==this.config.field;const Q=(null==B?void 0:B.level)==this.groupLevel,ee=(null==B?void 0:B.level)<this.groupLevel,te=ee?null==B?void 0:B.level:this.groupLevel,re=this.cellSelector+` ${ie.SbCss.group} ${ie.SbCss.footer} ${ie.SbCss.indicator} ${ie.SbCss.level}-${te} ${Q?ie.SbCss.level_first:ee?ie.SbCss.level_next:""}`,ne=q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${re}'></span>`);ne.html("&nbsp"),q.JqUtils.changeClass(ne,re)}))}renderCaption(C){return B(this,void 0,void 0,(function*(){q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ie.SbCss.caption} ${ie.SbCss.indicator} ${this.cellSelector}'></span>`).html("")}))}renderHeader(C){return B(this,void 0,void 0,(function*(){q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ie.SbCss.header} ${ie.SbCss.indicator} ${this.cellSelector}'></span>`).html("")}))}renderFooter(C){return B(this,void 0,void 0,(function*(){q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ie.SbCss.footer} ${ie.SbCss.indicator} ${this.cellSelector}'></span>`).html("")}))}renderDetail(C,E){var I;return B(this,void 0,void 0,(function*(){let B=(null==E?void 0:E.node)instanceof z.GroupNode?E.node:void 0;const Q=null!==(I=(null==B?void 0:B.igroup.field)==this.config.field)&&void 0!==I&&I;(null==B?void 0:B.level)<this.groupLevel&&C.addClass(ie.SbCss.hidden);const ee=this.cellSelector+` ${ie.SbCss.group} ${Q?ie.SbCss.title:ie.SbCss.indicator} ${ie.SbCss.level}-${this.groupLevel}`,re=q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ee}'></span>`);return q.JqUtils.changeClass(re,ee),re.html(""),C.children().length>1&&te.SBGrid3.$(`> :not(.${this.cellSelector})`,C).empty(),re}))}renderFilterColumn(C){C.html("")}}E.GroupColumn=GroupColumn},3849:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.MultiTextColumn=void 0;const z=I(1163),q=I(103),Q=I(6312),ee=I(7078),te=I(860),ie=I(7443);class MultiTextColumn extends q.GridColumn{set eventKey(C){z.Convert.isNull(this._eventKey)&&(this._eventKey=C)}get eventKey(){return this._eventKey}get maxLength(){return this.config.maxLength}get showPreLine(){return this.config.showPreLine}constructor(C,E){super(C,E)}static create(C,E){return new MultiTextColumn(C,E)}get config(){return super.config}parseConfig(C,E,I){var B,q;let Q=super.parseConfig(C,E,I);return Q.maxLength=z.Convert.default(C.maxLength,null!==(B=null==E?void 0:E.maxLength)&&void 0!==B?B:void 0),Q.showPreLine=z.Convert.default(C.showPreLine,null!==(q=null==E?void 0:E.showPreLine)&&void 0!==q&&q),Q}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){const I=this.makeCell(C,E,void 0);z.JqUtils.addClass(I,ee.SbCss.edit);const B=this.renderMultiText(C,I,E);I.contents().filter(((C,E)=>3===E.nodeType)).remove(),z.JqUtils.disposeElement(this.grid.trashCan,I,[B[0]])}))}renderCell(C,E,I){const z=Object.create(null,{renderCell:{get:()=>super.renderCell}});return B(this,void 0,void 0,(function*(){yield z.renderCell.call(this,C,E,I);const B=Q.SBGrid3.$(C).find(`span.${ee.SbCss.cell}`);this.setShowPreLine(B,E)}))}checkKeydownEvent(C){return z.Convert.isValue(C.key)}onKeydown(C){if(this.checkKeydownEvent(C)){if(C.ctrlKey&&C.stopPropagation(),C.ctrlKey)return!1;const fnPageUp=()=>{C.target.setSelectionRange(0,0),Q.SBGrid3.$(C.target).scrollTop(0)},fnPageDown=()=>{const E=C.target.textLength;C.target.setSelectionRange(E,E),Q.SBGrid3.$(C.target).scrollTop(9999)},fnNewLine=()=>{let E=C.target,I=E.selectionStart,B=E.value.substring(0,I),z=E.value.substring(I);E.value=B+"\n"+z,E.selectionStart=E.selectionEnd=I+1,this.setHeight(Q.SBGrid3.$(E))};switch(C.key){case ie.KeyboardShortCut.Enter:if(!C.altKey)break;return C.preventDefault(),fnNewLine(),!1;case ie.KeyboardShortCut.PageUp:case ie.KeyboardShortCut.PageDown:C.preventDefault(),C.key===ie.KeyboardShortCut.PageUp?fnPageUp():fnPageDown();case ie.KeyboardShortCut.End:case ie.KeyboardShortCut.ArrowLeft:case ie.KeyboardShortCut.ArrowRight:case ie.KeyboardShortCut.ArrowUp:case ie.KeyboardShortCut.ArrowDown:case ie.KeyboardShortCut.Home:case ie.KeyboardShortCut.Space:return!1}return!0}}setShowPreLine(C,E){this.config.showPreLine&&(C.css({"white-space":"pre-line","overflow-y":"auto"}),this.grid.setEvent("scrollWheel","wheel",`${this._name}_${E.rowIndex}`,(()=>!1),C,!0))}renderMultiText(C,E,I){const B=z.JqUtils.adjustElement(E,`textarea#${this._name}`,`<textarea id='${this._name}' class='${ee.SbCss.multiText}'/>`),ie=C.get(0).scrollHeight,re=this.maxLength,ne=I.rowIndex,se=this.index;B.val(this.getTemp(I)).attr({row:ne,col:se,maxLength:re}).css({position:"absolute",top:0,left:-1,width:this.width-1,minHeight:ie,"z-index":1});const oe=this.getEventKey(I);if(this.grid.setEvent(q.GridColumn.eventName,"input",oe,(E=>{this.setTemp(I,C),this.setHeight(B)}),B),this.grid.setEvent(q.GridColumn.eventName,"keydown",oe,(C=>this.onKeydown(C)),B),this.grid.setEvent(q.GridColumn.eventName,"wheel",oe,(()=>!1),B,!0),this.isFocused(I,te.PanelType.Body)){let C=Q.SBGrid3.$(document.activeElement).is("textarea")?Q.SBGrid3.$(document.activeElement):B;null==C||C.get(0).focus()}return this.setHeight(B),B}setHeight(C){const E=null==C?void 0:C.get(0);z.Convert.isNull(E)||(E.style.height=E.scrollHeight+"px")}getEditValue(C){const E=Q.SBGrid3.$(`>.${ee.SbCss.cell}.${ee.SbCss.edit}`,C);if(E.length<1)return null;const I=Q.SBGrid3.$(`textarea#${this._name}`,E);return z.Utils.escapeString(I.val())}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=` ${ee.SbCss.text}`,{cellSelector:I,cellClass:B}}getTemp(C){const E=super.getTemp(C);return z.Utils.unEscapeString(E)}isEditColumn(C,E){if(this===C&&z.Convert.isValue(E)){if(!this.isEdit(E))return!1;const C=Q.SBGrid3.$(`textarea#${this._name}`,this.grid.container);null==C||C.get(0).focus({preventScroll:!0})}return!0}}E.MultiTextColumn=MultiTextColumn},150:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.NumberColumn=void 0;const z=I(1163),q=I(103),Q=I(6312),ee=I(7078),te=I(860),ie=I(7443);class NumberColumn extends q.GridColumn{constructor(C,E){super(C,E),this.handleKeyup=(C,E,I)=>{this.config.useSpinner||(C.target.value=C.target.value.replace(/[^0-9|\.|\-]/g,"")),this.setTemp(I,E)},this.handleKeyDown=C=>{if(C.ctrlKey)return!1;switch(C.key){case ie.KeyboardShortCut.End:case ie.KeyboardShortCut.ArrowLeft:case ie.KeyboardShortCut.ArrowRight:case ie.KeyboardShortCut.Home:case ie.KeyboardShortCut.ArrowUp:case ie.KeyboardShortCut.ArrowDown:case ie.KeyboardShortCut.PageUp:case ie.KeyboardShortCut.PageDown:return!1}const E=[...C.target.value];z.Convert.isSameValue(C.key,".")&&E.filter((C=>"."===C)).length>0&&C.preventDefault(),z.Convert.isSameValue(C.key,"-")&&(E.length>0||E.filter((C=>"-"===C)).length>0)&&C.preventDefault()}}static create(C,E){return new NumberColumn(C,E)}get config(){return super.config}parseConfig(C,E,I){var B,q,Q,ee,te;let ie=super.parseConfig(C,E,I);return ie.min=z.Convert.default(C.min,null!==(B=null==E?void 0:E.min)&&void 0!==B?B:void 0),ie.max=z.Convert.default(C.max,null!==(q=null==E?void 0:E.max)&&void 0!==q?q:void 0),ie.step=z.Convert.default(C.step,null!==(Q=null==E?void 0:E.step)&&void 0!==Q?Q:void 0),ie.maxLength=z.Convert.default(C.maxLength,null!==(ee=null==E?void 0:E.maxLength)&&void 0!==ee?ee:void 0),ie.useSpinner=z.Convert.default(C.useSpinner,null!==(te=null==E?void 0:E.useSpinner)&&void 0!==te&&te),ie}renderCell(C,E,I=void 0){return B(this,void 0,void 0,(function*(){yield this._renderCell(C,E,I)}))}_renderCell(C,E,I=void 0,q=!1){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(!q){if(null==I?void 0:I.merged)return""!=B.html()&&z.JqUtils.adjustHtml(B,""),B;if(z.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(E);B.html()!=C&&z.JqUtils.adjustHtml(B,C)}else{let q=this.getLabelData(E,I);if(z.Convert.isEmpty(q))return q=this.renderPlaceHolder(q,E,C),void z.JqUtils.adjustHtml(B,q);B.text(null!=q?q:"")}}return B}))}setTemp(C,E){const{max:I,min:B}=this.config;let q=this.getEditValue(E);if(0==z.Convert.isNull(q)&&isNaN(q))return;const Q=z.Convert.isValue(I)&&I<q,ee=z.Convert.isValue(B)&&B>q;q=Q?I:ee?B:q,super._setTemp(C,q)}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){const{min:I,max:B,step:Q,useSpinner:ie,maxLength:re,editable:ne}=this.config;if(!1===ne)return;const se=ie?"number":"text",oe=yield this._renderCell(C,E,void 0,!0),ae=new Set,le=z.JqUtils.adjustElement(oe,`input[type=${se}]`,`<input type="${se}" class="${ee.SbCss.toClass("num")}" id="${this._name}_number"/>`,void 0,ae);z.JqUtils.disposeElement(this.grid.trashCan,oe,[le[0]]),z.JqUtils.addClass(oe,ee.SbCss.edit),le.attr({min:I,max:B,step:Q}),ie||this.config.maxLength&&le.attr({maxLength:re});const ue=this.getEventKey(E);if(this.grid.setEvent(q.GridColumn.eventName,"keyup",ue,(I=>this.handleKeyup(I,C,E)),le),ie&&this.grid.setEvent(q.GridColumn.eventName,"change",ue,(()=>this.setTemp(E,C)),le),this.grid.setEvent(q.GridColumn.eventName,"keydown",ue,(C=>this.handleKeyDown(C)),le),oe.contents().filter(((C,E)=>3===E.nodeType)).remove(),this.isFocused(E,te.PanelType.Body)&&document.activeElement.id===this.grid.name&&le.get(0).focus({preventScroll:!0}),z.Convert.isSame(le.val(),"")){const C=this.getTemp(E);le.val(C)}}))}getEditValue(C){const E=C.find(`>.${ee.SbCss.cell}.${ee.SbCss.edit}`);if(E.length<1)return null;const I=E.find(">input").val();return z.Convert.isEmpty(I)?void 0:z.Convert.asNumber(I)}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=` ${ee.SbCss.text}`,{cellSelector:I,cellClass:B}}isEditColumn(C,E){if(this===C&&z.Convert.isValue(E)){const C=this.grid.getContainer(E,this);if(!this.isEdit(E))return!1;const I=Q.SBGrid3.$("input",C);if(I.length<1)return;null==I||I.trigger("focus")}return!0}}E.NumberColumn=NumberColumn},4732:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.RadioColumn=E.RadioEditMode=void 0;const z=I(1163),q=I(103),Q=I(9797),ee=I(6312),te=I(7078),ie=I(7443);var re;!function(C){C.Radio="radio",C.RadioLabel="radioLabel"}(re||(E.RadioEditMode=re={}));class RadioColumn extends q.GridColumn{get mergeColumn(){return!1}get mergeRow(){return!1}get directApplyEdit(){return this.config.directApplyEdit}get radioItems(){if(z.Convert.isNull(this._radioItems)){let C=this.config.radioItems;this._radioItems=[],C instanceof Array||(C=[].concat(C));let E=[];for(let I=0;I<C.length;I++){const B=C[I];z.Convert.isEmpty(B.value)||(!0===B.default&&E.push(Number(I)),this._radioItems.push(B))}for(let C=0;C<E.length-1;C++){const I=E[C];delete this._radioItems[I].default}}return this._radioItems}constructor(C,E){super(C,E)}static create(C,E){return new RadioColumn(C,E)}get config(){return super.config}parseConfig(C,E,I){var B,q;let Q=super.parseConfig(C,E,I);if(Q.radioItems=z.Convert.default(C.radioItems,null!==(B=null==E?void 0:E.radioItems)&&void 0!==B?B:void 0),Q.checkMode=z.Convert.default(C.checkMode,null!==(q=null==E?void 0:E.checkMode)&&void 0!==q?q:re.RadioLabel),Q.directApplyEdit&&(Q.directApplyValue=!0),z.Convert.isEmpty(Q.radioItems))throw"radioItems is empty";return Q}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){yield this._renderCell(C,E,I)}))}_renderCell(C,E,I,Q=!1){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(Q=this.config.directApplyEdit?!this.isGroupItem(E):Q)z.JqUtils.addClass(B,te.SbCss.edit);else{const C=this.renderTemplate(B,E);if(z.Convert.isValue(C))return C;const I=this.getEventKey(E);this.grid.setEvent(q.GridColumn.eventName,"keydown",I,void 0,B),this.grid.setEvent(q.GridColumn.eventName,"click",I,void 0,B)}this.removeElement(B);const ee=z.JqUtils.adjustElement(B,`> div.${te.SbCss.radioGroup}`,`<div class='${te.SbCss.radioGroup}'>`);for(const C of this.radioItems){const I=`${this._name}_${E.rowIndex}_${C.value}`,B=z.JqUtils.adjustElement(ee,`> span#${I}`,`<span id='${I}' class='${te.SbCss.wrap_radio}'>`);this.renderRadio(B,E,C),this.renderLabel(B,C)}if(Q){const I=this.getEventKey(E);this.grid.setEvent(q.GridColumn.eventName,"keydown",I,(I=>this.onKeyDown(I,C,E)),B),this.grid.setEvent(q.GridColumn.eventName,"click",I,(I=>this.onMouseDown(C,I.target,E)),B)}return B.contents().filter(((C,E)=>3===E.nodeType)).remove(),ee}))}renderEdit(C,E,I){return B(this,void 0,void 0,(function*(){0!=this.editable(E)&&(yield this._renderCell(C,E,void 0,!0))}))}getCellTemplate(C){const E=this.getTooltipData(C);return this.cellTemplate(E)}renderTemplate(C,E){if(z.Convert.isValue(this.cellTemplate)){const I=this.getCellTemplate(E);return C.html()!=I&&z.JqUtils.adjustHtml(C,I),C}}onKeyDown(C,E,I){switch(C.preventDefault(),C.key){case ie.KeyboardShortCut.Tab:case ie.KeyboardShortCut.Enter:this.setTemp(I,E);case ie.KeyboardShortCut.Escape:return!0;case ie.KeyboardShortCut.ArrowLeft:return this.toggle(E,I,"prev"),!1;case ie.KeyboardShortCut.ArrowRight:return this.toggle(E,I,"next"),!1}return!0}onMouseDown(C,E,I){const B=ee.SBGrid3.$(`span.${te.SbCss.cell}`,C);this.checkRadio(B.find(`span.${te.SbCss.checked}`),ee.SBGrid3.$(E))&&this.setTemp(I,C)}makeCellClass(C,E){let{cellSelector:I,cellClass:B}=super.makeCellClass(C,E);return B+=` ${te.SbCss.text}`,{cellSelector:I,cellClass:B}}getEditValue(C){const E=ee.SBGrid3.$(`.${te.SbCss.cell}.${te.SbCss.radio}`,C);return z.Convert.isEmpty(E)?null:ee.SBGrid3.$(`span.${te.SbCss.checked}`,E).data("value")}renderRadio(C,E,I){const B=z.JqUtils.adjustElement(C,`> span.${te.SbCss.radio}.${te.SbCss.radio_icon}`,`<span class='${te.SbCss.radio} ${te.SbCss.radio_icon}'>`).attr("tabindex",0);z.Convert.isEmpty(B.data("value"))&&B.data("value",I.value),this.getCheckState(E,I)?z.JqUtils.addClass(B,te.SbCss.checked):z.JqUtils.removeClass(B,te.SbCss.checked)}renderLabel(C,E){const I=z.JqUtils.adjustElement(C,`>label.${te.SbCss.text}`,`<label class='${te.SbCss.text}'></label>`);I.css("align-items","center");I.text()!==E.label&&z.JqUtils.adjustHtml(I,E.label)}getItemData(C){return this.config.directApplyEdit?this.getLabelData(C,void 0):this.isEdit(C)?this.getTemp(C):this.getLabelData(C,void 0)}removeElement(C){if(!z.Convert.isEmpty([...C.children()]))for(const E of C.children()){E.classList.contains(te.SbCss.radioGroup)||E.remove()}}getCheckState(C,E){const I=this.getItemData(C);return z.Convert.isValue(I)?I===E.value:!0===E.default?E.default:I===E.value}getCheckLabel(C){var E,I;const B=this.radioItems;if(Array.isArray(B)){const q=B.find((({value:E,label:I})=>{if(E===C)return I})),Q=B.find((C=>!0===(null==C?void 0:C.default)));return z.Convert.isEmpty(q)?null!==(E=null==Q?void 0:Q.label)&&void 0!==E?E:"":null!==(I=null==q?void 0:q.label)&&void 0!==I?I:""}}checkRadio(C,E){if(E.hasClass(te.SbCss.checked))return!1;switch(this.config.checkMode){case re.Radio:if(!E.hasClass(te.SbCss.radio_icon))return!1;break;case re.RadioLabel:E=E.hasClass(te.SbCss.wrap_radio)?E.find(`.${te.SbCss.radio}`):E.hasClass(te.SbCss.text)?E.siblings(`.${te.SbCss.radio}`):E}return E.hasClass(te.SbCss.radioGroup)?void 0:(z.JqUtils.removeClass(C,te.SbCss.checked),z.JqUtils.addClass(E,te.SbCss.checked),!0)}toggle(C,E,I){var B;const z=ee.SBGrid3.$(`span.${te.SbCss.cell}`,C),q=ee.SBGrid3.$(`span.${te.SbCss.checked}`,z),Q=q.closest(`span.${te.SbCss.wrap_radio}`);let ie;switch(I){case"next":if(ie=ee.SBGrid3.$(`> span.${te.SbCss.radio}`,Q.next()),ie.length<1)return;break;case"prev":if(ie=ee.SBGrid3.$(`> span.${te.SbCss.radio}`,Q.prev()),ie.length<1)return;break;default:ie=q}null===(B=ie.get(0))||void 0===B||B.focus({preventScroll:!0}),this.checkRadio(q,ie),this.setTemp(E,C)}isEditColumn(C,E){if(this===C&&z.Convert.isValue(E)){const C=this.grid.getContainer(E,this);if(!this.config.directApplyEdit&&!this.isEdit(E))return!1;const I=ee.SBGrid3.$(`span.${te.SbCss.checked}`,C);if(I.length<1)return;null==I||I.trigger("focus")}return!0}setTempValue(C,E){const I=this.radioItems.filter((C=>C.value===E));return z.Convert.isEmpty(I)?super.setTempValue(C,this.getValue(C)):super.setTempValue(C,E)}getTooltipData(C,E=void 0){const I=z.Convert.cloneData(C.data),B=this.getValue(C),q=this.getCheckLabel(B);return I._label_=q,I._value_=B,I}getCellLabel(C){const E=C instanceof Q.RowItem?this.getItemData(C):C;return this.getCheckLabel(E)}}E.RadioColumn=RadioColumn},3960:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.TextColumn=void 0;const z=I(1163),q=I(6312),Q=I(7078),ee=I(289),te=I(5369),ie=I(5165),re=I(2663),ne=I(860),se=I(7443),oe=I(103),ae=I(6700);class TextColumn extends ee.PopupColumn{get inputmask(){return z.Convert.isEmpty(this._inputmask)&&(this._inputmask=ae.Mask.create(this)),this._inputmask}get maxLength(){var C;return null===(C=this.config)||void 0===C?void 0:C.maxLength}get showPreLine(){return this.config.showPreLine}constructor(C,E){super(C,E)}static create(C,E){return new TextColumn(C,E)}get config(){return super.config}parseConfig(C,E,I){var B,q,Q;let ee=super.parseConfig(C,E,I);return ee.maxLength=z.Convert.default(C.maxLength,null!==(B=null==E?void 0:E.maxLength)&&void 0!==B?B:void 0),ee.mask=z.Convert.default(C.mask,null!==(q=null==E?void 0:E.mask)&&void 0!==q?q:void 0),ee.showPreLine=z.Convert.default(C.showPreLine,null!==(Q=null==E?void 0:E.showPreLine)&&void 0!==Q&&Q),ee}getStaticItems(C,E,I){const B=[];for(const C of E)B.push(C);this.items.set(C.rowIndex,B)}renderCell(C,E,I){return B(this,void 0,void 0,(function*(){this.isPopup()&&"INPUT"!==document.activeElement.tagName&&this.fireCommandAsync(this,new ie.ClosePopupCommand(this,E)),this._renderCell(C,E,I)}))}renderEdit(C,E,I){var q;return B(this,void 0,void 0,(function*(){const I=yield this._renderCell(C,E,void 0,!0);let B=!1;z.JqUtils.addClass(I,Q.SbCss.edit),I.contents().filter(((C,E)=>3===E.nodeType)).remove(),yield this.getItems(E);const ee=z.JqUtils.adjustElement(I,"input[type=text]",`<input type="text" class="${Q.SbCss.input}" id="${this._name}_input"/>`),te=this.getTemp(E);0==z.Convert.isSameValue(ee.val(),te)&&(z.Convert.isEmpty(te)?ee.val(null):ee.val(z.Utils.unEscapeString(te))),z.Convert.isValue(this.maxLength)&&z.JqUtils.changeAttr(ee,"maxLength",String(this.maxLength)),this.isFocused(E,ne.PanelType.Body)&&ee.get(0).focus({preventScroll:!0}),null===(q=this.inputmask)||void 0===q||q.inputmask(ee);const re=this.getEventKey(E);this.grid.setEvent(oe.GridColumn.eventName,"input",re,(q=>{var Q;if(B)return;const ee=q.target.value;this.setTemp(E,C);null===(Q=this.autoComplete)||void 0===Q||Q.filterTextItems(I,E,ee,(C=>{var I;return[...null!==(I=this.items.get(E.rowIndex))&&void 0!==I?I:new Set(this.grid.view.rows.map((C=>C.data[this.field])))].filter((E=>z.Convert.isValue(E)&&this.autoComplete.filter(C).test(E)))})),ee.length>this.maxLength&&(q.target.value=ee.slice(0,this.maxLength))}),I),this.grid.setEvent(oe.GridColumn.eventName,"keydown",re,(C=>{const I=C.target;if(C.ctrlKey||this.checkKeyboardShortCut(C.key))return!1;switch(B=!1,C.key){case se.KeyboardShortCut.Home:I.setSelectionRange(0,0);case se.KeyboardShortCut.ArrowUp:case se.KeyboardShortCut.ArrowDown:return C.preventDefault(),this.isPopup()?(B=!0,C.key===se.KeyboardShortCut.ArrowUp?this.fireAboveFocusItem(E):this.fireBelowFocusItem(E),!1):!1;case se.KeyboardShortCut.Enter:case se.KeyboardShortCut.Tab:this.selectItem(I,E);break;case se.KeyboardShortCut.Escape:this.fireCommandAsync(this,new ie.ClosePopupCommand(this,E))}return!0}),I)}))}isDuplicatedInput(C){var E;const I=C.originalEvent;!1===I.isComposing&&/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/.test(null===(E=I.data)||void 0===E?void 0:E.toString());return this.char=I.data,!1}_renderCell(C,E,I=void 0,q=!1){return B(this,void 0,void 0,(function*(){const B=this.makeCell(C,E,I);if(!0===this.showPreLine&&B.css("white-space","pre-line"),q)return this.removeElement(B),B;if(null==I?void 0:I.merged)return""!=B.html()&&z.JqUtils.adjustHtml(B,""),B;if(z.Convert.isValue(this.cellTemplate)){const C=this.getCellTemplate(E);z.JqUtils.adjustHtml(B,C)}else{let q=this.getLabelData(E,I);if(z.Convert.isEmpty(q))q=this.renderPlaceHolder(q,E,C),z.JqUtils.adjustHtml(B,q);else{if(B.text()==z.Convert.asText(q))return;z.JqUtils.adjustHtml(B,q)}}return B}))}getEditValue(C){var E,I;const B=C.find(`>.${Q.SbCss.cell}.${Q.SbCss.edit}`);if(B.length<1)return null;const q=B.find(">input"),ee=null!==(I=null===(E=this.inputmask)||void 0===E?void 0:E.getEditValue(q))&&void 0!==I?I:q.val();return"number"==typeof ee?ee:z.Utils.escapeString(ee)}removeElement(C){if(!z.Convert.isEmpty([...C.children()]))for(const E of C.children()){const C=E.classList.contains(Q.SbCss.text);E.classList.contains(Q.SbCss.input)||C||E.remove()}}checkKeyboardShortCut(C){switch(C){case se.KeyboardShortCut.End:case se.KeyboardShortCut.ArrowLeft:case se.KeyboardShortCut.ArrowRight:case se.KeyboardShortCut.Home:case se.KeyboardShortCut.PageUp:case se.KeyboardShortCut.PageDown:case se.KeyboardShortCut.Space:return!0}return!1}selectItem(C,E){const I=q.SBGrid3.$(`div#${this._name}_popup.${Q.SbCss.comboPopup}`),B="INPUT"===C.tagName?q.SBGrid3.$(`li.${Q.SbCss.comboItemSelected}`,I.children()):"LI"===C.tagName?q.SBGrid3.$(C):q.SBGrid3.$(C).closest(`li.${Q.SbCss.comboPopupItem}`),z=B.data("value");B.length>0&&this.fireCommandAsync(this,new te.UpdateCellDataCommand(this,E,z)),this.fireCommandAsync(this,new ie.ClosePopupCommand(this,E))}renderItem(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.getTemp(E),ee=q.SBGrid3.$(`div#${this._name}_popup`,this.grid.container);"none"===ee.css("display")&&ee.css("display","");for(let E=0;E<I.length;E++){const q=I[E];if(z.Convert.isNull(q))continue;const ee=z.JqUtils.adjustElement(C,`>li#${Q.SbCss.comboPopupItem}-${E}`,`<li id='${Q.SbCss.comboPopupItem}-${E}' class='${Q.SbCss.comboPopupItem}'></li>`).attr("tabindex",0),te=z.JqUtils.adjustElement(ee,`>span.${Q.SbCss.text}`,`<span class='${Q.SbCss.text}'></span>`);B===q?z.JqUtils.addClass(ee,Q.SbCss.comboItemSelected):z.JqUtils.removeClass(ee,Q.SbCss.comboItemSelected),ee.data("value",q),z.Convert.isValue(this.itemTemplate)?z.JqUtils.adjustHtml(te,this.itemTemplate(q)):z.JqUtils.adjustHtml(te,q)}this.grid.setEvent("comboItemClick","click",`${this._name}`,(C=>this.selectItem(C.target,E)),C)}))}update(C){const{value:E,rowItem:I,column:B}=C;if(this===B){const C=this.grid.getContainer(I,this,ne.PanelType.Body),B=q.SBGrid3.$(`.${Q.SbCss.cell}`,C);q.SBGrid3.$("input",B).val(E),this.setTemp(I,C),this.fireCommandAsync(this,new ie.ClosePopupCommand(this,I))}}isEditColumn(C,E){if(this===C&&z.Convert.isValue(E)){const C=this.grid.getContainer(E,this);if(!this.isEdit(E))return!1;const I=q.SBGrid3.$("input",C);if(I.length<1)return;null==I||I.trigger("focus")}return!0}doCommand(C,E){return E.command!==re.Commands.UpdateCellData?super.doCommand(C,E):(this.update(E),!0)}setPosition(C,E,I){super.setPosition(C,E,`input.${Q.SbCss.input}`)}setWidth(C,E,I){super.setWidth(C,E,`input.${Q.SbCss.input}`)}}E.TextColumn=TextColumn},1095:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.TreeColumn=E.TitleClickAction=void 0;const z=I(3354),q=I(1163),Q=I(103),ee=I(7721),te=I(6312),ie=I(7078),re=I(6140),ne=I(5165);var se;!function(C){C.None="none",C.Check="check",C.Open="open"}(se||(E.TitleClickAction=se={}));class TreeColumn extends Q.GridColumn{constructor(C,E){super(C,E),this.onTreeClick=C=>B(this,void 0,void 0,(function*(){if(0!=C.button)return;let E=te.SBGrid3.$(C.target),I=yield this.grid.getRowItem(E);E.hasClass(ie.SbCss.icon)||this.config.titleClick==se.Open?this.toggleRow(E,I,void 0):(E.hasClass(ie.SbCss.check)||E.hasClass(ie.SbCss.checkbox)||this.config.titleClick==se.Check)&&this.toggleCheck(I)})),this.config.align=ee.TextAlign.Left}static create(C,E){return new TreeColumn(C,E)}editable(){return!1}get config(){return super.config}renderCell(C,E){var I,Q;return B(this,void 0,void 0,(function*(){let B=(null==E?void 0:E.node)instanceof z.TreeNode?null==E?void 0:E.node:void 0;const ee=(null===(I=null==B?void 0:B.parent)||void 0===I?void 0:I.nodeCount)==(null==B?void 0:B.index)+1&&E.isClose,te=TreeColumn.makeTreeSpace(B.level),re=`<span class='${ie.SbCss.icon} ${E.loading?ie.SbCss.loading:(null==B?void 0:B.isLeaf)?ie.SbCss.leaf:E.isOpen?ie.SbCss.open:ie.SbCss.close}'></span>`,ne=B.checked==z.TreeCheck.Check?ie.SbCss.checked:B.checked==z.TreeCheck.Half?ie.SbCss.halfCheck:"",se=this.config.showCheck?`<span class='${ie.SbCss.check}'><span class='${ie.SbCss.checkbox} ${ne}'></span></span>`:"",oe=q.Convert.isNull(this.cellTemplate)?`<span class='${ie.SbCss.text}'>${null!==(Q=this.getValue(E))&&void 0!==Q?Q:""}</span>`:`<span class='${ie.SbCss.text}'>${this.getCellTemplate(E)}</span>`,ae=this.cellSelector+` ${ie.SbCss.cell} ${ie.SbCss.tree} ${ie.SbCss.header} ${ee?ie.SbCss.last:""}`,le=`<span class='${ie.SbCss.tree} ${ie.SbCss.title}'>${re+se+oe}</span>`,ue=q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${ae}'></span>`);q.JqUtils.adjustHtml(ue,te+le),q.JqUtils.changeClass(ue,ae),q.Convert.isValue(B)&&this.grid.setEvent("treeTitleMousedown","mousedown",this.config.field,this.onTreeClick,C),this.checkOpen(C,E)}))}checkOpen(C,E){E.isOpen||E.node instanceof z.TreeNode&&E.isOpen!=E.node.isOpen&&q.Convert.isValue(this.grid.dataConfig.tree.open)&&re.TreeLoader.calcOpen(E.node,this.grid.dataConfig.tree)&&this.toggleRow(C,E,!0)}static makeTreeSpace(C){return q.Convert.repeat(C,(E=>`<span class='${ie.SbCss.tree} ${ie.SbCss.space} ${ie.SbCss.level}-${E} ${C==E+1?ie.SbCss.last:""}'></span>`))}renderTreeFooter(C,E,I){var ee,te,re;return B(this,void 0,void 0,(function*(){const B=(null==E?void 0:E.node)instanceof z.FooterNode?null==E?void 0:E.node:void 0,ne=null==B?void 0:B.parent;let se="";if(B instanceof z.FooterNode){if(q.Convert.isValue(null===(ee=this.config.tree)||void 0===ee?void 0:ee.aggregates)&&q.Convert.isValue(B.aggregates)){const C=Q.GridColumn.makeTreeData(B.aggregates,this.config.tree,E.parent);se=null!==(re=null===(te=this.treeFooters[I.row])||void 0===te?void 0:te.render(C))&&void 0!==re?re:""}}const oe=TreeColumn.makeTreeSpace(ne.level+1),ae=`<span class='${ie.SbCss.tree} ${ie.SbCss.title}'><span class='${ie.SbCss.title}'>${se}</span></span>`,le=this.cellSelector+` ${ie.SbCss.cell} ${ie.SbCss.tree} ${ie.SbCss.footer}`,ue=q.JqUtils.adjustElement(C,`>span.${this.cellSelector}`,`<span class='${le}'></span>`);ue.html(oe+ae),q.JqUtils.changeClass(ue,le),q.JqUtils.addClass(ue.parent(),le),ue.off("click",this.onTreeClick)}))}toggleRow(C,E,I){const B=E.node;if(B instanceof z.TreeNode){if(B.isLeaf)return;if(q.Convert.isNull(B.nodeCount)){C=C.parent(`.${ie.SbCss.col}`);const I=te.SBGrid3.$(`>.${ie.SbCss.cell}`,C),B=te.SBGrid3.$(`>.${ie.SbCss.title}>.${ie.SbCss.icon}`,I);if(B.hasClass(ie.SbCss.loading))return;if(q.JqUtils.changeClass(B,`${ie.SbCss.icon} ${ie.SbCss.loading}`),1==E.loading)return}q.Convert.isNull(I)?this.fireCommandAsync(this,new ne.ToggleRowCommand(B.key)):I?this.fireCommandAsync(this,new ne.OpenRowCommand(B.key)):this.fireCommandAsync(this,new ne.CloseRowCommand(B.key))}}toggleCheck(C){const E=C.node;E instanceof z.TreeNode&&(E.toggleCheck(),this.fireCommandAsync(this,new ne.RefreshCommand))}parseConfig(C,E,I){let B=super.parseConfig(C,E,I);return B.showCheck=q.Convert.default(C.showCheck,!1),B.titleClick=q.Convert.default(C.titleClick,se.None,(C=>q.Convert.parseEnum(se,C))),B}}E.TreeColumn=TreeColumn},5882:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.MenuCustom=E.MenuExcel=E.MenuCancel=E.MenuEdit=E.MenuColumn=E.MenuDeleteRow=E.MenuAddTop=E.MenuAddRow=E.MenuAppendRow=E.MenuInsertRow=E.EditableMenuItem=E.MenuFixedTail=E.MenuFixedSticky=E.MenuFixedBody=E.MenuFixedHead=E.MenuFixedCol=E.MenuSticky=E.MenuRedo=E.MenuUndo=E.MenuPaste=E.MenuCut=E.MenuCopy=E.MenuClipboard=E.MenuSortReset=E.MenuSortDesc=E.MenuSortAsc=E.MenuSort=E.MenuSet=E.MenuSeparator=E.MenuItem=E.GridMenu=E.GridMenuParser=E.MenuFactory=E.MenuItems=E.MenuType=E.KeyboardShortCut=void 0;const z=I(273),q=I(4407),Q=I(5369),ee=I(5165),te=I(7392),ie=I(6312),re=I(7078),ne=I(1163),se=I(6258),oe=I(2663),ae=I(7721),le=I(373),ue=I(5774);var de,ce,he;!function(C){C.Esc="Esc",C.Escape="Escape",C.ArrowDown="ArrowDown",C.ArrowLeft="ArrowLeft",C.ArrowRight="ArrowRight",C.ArrowUp="ArrowUp",C.Enter="Enter",C.Space=" ",C.Tab="Tab",C.Home="Home",C.End="End",C.PageUp="PageUp",C.PageDown="PageDown"}(de||(E.KeyboardShortCut=de={})),function(C){C.CaptionMenu="captionMenu",C.ContextMenu="contextMenu"}(ce||(E.MenuType=ce={})),function(C){C.Filter="filter",C.Sort="sort",C.Clipboard="clipboard",C.FixedCol="fixedCol",C.Separator="separator",C.Asc="asc",C.Desc="desc",C.Reset="reset",C.Copy="copy",C.Cut="cut",C.Paste="paste",C.Undo="undo",C.Redo="redo",C.HeadPart="head",C.BodyPart="body",C.BodyStick="stioky",C.TailPart="tail",C.Sticky="sticky",C.InsertRow="insertRow",C.AppendRow="appendrow",C.AddRow="addRow",C.AddTop="addTop",C.DeleteRow="deleteRow",C.Apply="apply",C.Edit="edit",C.Update="update",C.Save="save",C.Delete="delete",C.Column="column",C.Cancel="cancel",C.Custom="custom",C.Excel="excel"}(he||(E.MenuItems=he={}));const fe=new Map([[he.Sort,C=>new MenuSort(C)],[he.Clipboard,C=>new MenuClipboard(C)],[he.Asc,C=>new MenuSortAsc(C)],[he.Desc,C=>new MenuSortDesc(C)],[he.Reset,C=>new MenuSortReset(C)],[he.Copy,C=>new MenuCopy(C)],[he.Paste,C=>new MenuPaste(C)],[he.Cut,C=>new MenuCut(C)],[he.Undo,C=>new MenuUndo(C)],[he.Redo,C=>new MenuRedo(C)],[he.Separator,C=>new MenuSeparator(C)],[he.FixedCol,C=>new MenuFixedCol(C)],[he.Sticky,C=>new MenuSticky(C)],[he.InsertRow,C=>new MenuInsertRow(C)],[he.AppendRow,C=>new MenuAppendRow(C)],[he.AddRow,C=>new MenuAddRow(C)],[he.AddTop,C=>new MenuAddTop(C)],[he.DeleteRow,C=>new MenuDeleteRow(C)],[he.Column,C=>new MenuColumn(C)],[he.Edit,C=>new MenuEdit(C)],[he.Cancel,C=>new MenuCancel(C)],[he.Excel,C=>new MenuExcel(C)]]);class MenuFactory{static create(C,E){if("string"!=typeof E)return this.craeteCutomMenu(C,E);if(fe.has(E))return fe.get(E)(C);throw`unknown menu ${E}`}static craeteCutomMenu(C,E){return new MenuCustom(C,E)}}E.MenuFactory=MenuFactory;E.GridMenuParser=class GridMenuParser{static parse(C,E){const I=[];if("boolean"==typeof C){if(0==C)return[];for(const C of null!=E?E:[])0!=fe.has(C)&&I.push(C)}else for(const E of C){const C="string"==typeof E?ne.Convert.parseEnum(he,E):this.parseMenuItem(E);I.push(C)}return I}static parseMenuItem(C){return{enabled:C.enabled,item:C.item,icon:C.icon,label:C.label,click:C.click,subMenus:C.subMenus}}};class GridMenu extends q.Publisher{constructor(C,E,I,B){super(C),this.column=I,this.rowItem=B,this._menuItems=E,this._grid=C}get grid(){return this._grid}get menus(){var C;return null!==(C=this._menus)&&void 0!==C?C:this._menus=this.ensureMenus()}ensureMenus(){const C=[];for(const E of this._menuItems){const I=MenuFactory.create(this,E);C.push(I)}return C}captionMenuClear(){this.grid.container.find(`.${re.SbCss.menu_group}`).remove(),this.grid.container.find(`.${re.SbCss.context_menu}`).remove()}render(C,E,I){let B=ne.JqUtils.adjustElement(C,`> span#${this.name}`,`<span class='${re.SbCss.menu}' id='${this.name}'>${this.name}</span>`);B.text("");for(const C of this.menus)C.render(B,E,I)}}E.GridMenu=GridMenu;class MenuItem extends z.Observer{constructor(C,E){super(C,E),this._menuItem=E,this.gridMenu=C}get resourceManager(){return this.gridMenu.grid.dataSource.resourceManager}get subMenuItems(){}get enabled(){return!0}get grid(){return this.gridMenu.grid}get menuItem(){return this._menuItem}get column(){return this.gridMenu.column}get rowItem(){return this.gridMenu.rowItem}get icon(){return""}get subIcon(){return""}get label(){return this.menuItem}render(C,E,I){let B,z=this.enabled;const q=this.icon;B=ne.JqUtils.adjustElement(C,`> span#${this.name}`,`<span  class='${re.SbCss.item} ${re.SbCss.toClass(this.menuItem)} ${z?"":re.SbCss.disabled}' id='${this.name}'></span>`);const Q=ne.Convert.isEmpty(q)?"":`<span class='${re.SbCss.icon} ${q}'></span>`,ee=ne.Convert.isEmpty(this.label)?"":`<span class='${re.SbCss.title}'>${this.label}</span>`,te=ne.Convert.isEmpty(this.label)?"":`<span class='${re.SbCss.icon} ${this.subIcon}'></span>`;B.html(Q+ee+te),z&&(this.grid.config.popupType==se.PopupType.Hover?this.name==he.Column||this.name==he.FixedCol?B.on("mouseenter",(C=>{this.onItemClick(C,E,I)})):this.grid.setEvent("ItemClick","click",this.name,(C=>this.onItemClick(C,E,I)),B):this.grid.config.popupType==se.PopupType.Click&&this.grid.setEvent("ItemClick","click",this.name,(C=>this.onItemClick(C,E,I)),B),this.grid.setEvent("MenuGridEsc","keydown",this.name,(C=>this.onEscClick(C)),this.grid.container))}onEscClick(C){return B(this,void 0,void 0,(function*(){(C.key==de.Esc||de.Escape)&&this.grid.scrollPanel.removeMenu()}))}onMouseOut(C){return B(this,void 0,void 0,(function*(){this.grid.container.focus()&&this.grid.scrollPanel.removeMenu()}))}onItemClick(C,E,I){var z;return B(this,void 0,void 0,(function*(){switch(this.command.command!=oe.Commands.MoveToPart&&this.command.command!=oe.Commands.ColumnVisible&&this.gridMenu.captionMenuClear(),this.command.command){case oe.Commands.SortAsc:case oe.Commands.SortDesc:case oe.Commands.SortReset:this.captionSort();break;case oe.Commands.ColumnVisible:this.popColumn(C,E,I);break;case oe.Commands.MoveToPart:this.popChildren(C,E);break;case oe.Commands.Sticky:this.stickyRowSet();break;case oe.Commands.Excel:this.exportExcel();break;default:yield this.fireCommandAsync(this,this.command)}const B=new le.GridMenuCommand(this.menuItem,null===(z=this.rowItem)||void 0===z?void 0:z.key,this.column);return this.grid.doGridCommand(B),!1}))}onSubItemClick(C,E){var I;return B(this,void 0,void 0,(function*(){if(E.command.command===oe.Commands.MoveToPart)this.fireCommandAsync(this,E.command);else yield this.fireCommandAsync(void 0,E.command);this.gridMenu.captionMenuClear();const C=new le.GridMenuCommand(this.menuItem,null===(I=this.rowItem)||void 0===I?void 0:I.key,this.column);return this.grid.doGridCommand(C),!1}))}stickyRowSet(){var C;this.grid.toggleStickyRow(null===(C=this.rowItem)||void 0===C?void 0:C.key)}exportExcel(){ie.SBGrid3.excelExport(this.grid)}captionSort(){var C;let E=(null!==(C=this.grid.dataConfig.orders)&&void 0!==C?C:[]).find((C=>C.field==this.column.field));const I=this.name==he.Asc?te.SortDir.Asc:te.SortDir.Desc;this.name==he.Asc||this.name==he.Desc?null==E?this.grid.toggleSort(this.column.field,!0,I):E.dir!=I&&this.grid.toggleSort(this.column.field,!1,I):this.name==he.Reset&&null!=E&&this.grid.toggleSort(this.column.field,!0,void 0)}popChildren(C,E){let I="";E==ce.CaptionMenu?I=re.SbCss.menu_group:E==ce.ContextMenu&&(I=re.SbCss.context_menu),this.grid.container.find(`.${I}.${re.SbCss.col}-1-${this.column.index}.popup`).remove();const B=this.grid.container.find(`.${I}`),z=ne.JqUtils.adjustElement(B,`>div.${I}.${re.SbCss.col}-1-${this.column.index} popup`,`<div class='${I} ${re.SbCss.col}-1-${this.column.index} popup'></span>`),q=ne.JqUtils.adjustElement(z,`> span#${this.name}`,`<span class='${re.SbCss.menu} popup' id='${this.name}'></span>`),Q=B.children().css("overflow-y");this.grid.container.width()<this.grid.container.find(B).offset().left+B.width()+this.grid.container.find(z).width()?this.grid.container.find(z).css("left",-this.grid.container.find(z).width()):"scroll"==Q?this.grid.container.find(z).css("left",this.grid.container.find(B).width()+20):this.grid.container.find(z).css("left",this.grid.container.find(B).width()),this.grid.container.find(z).css("top",ie.SBGrid3.$(C.target).offset().top-B.offset().top);for(const C of this.subMenuItems){const E=C.enabled,I=ne.JqUtils.adjustElement(z,`> span#${C.name}`,`<span class='${re.SbCss.item} ${re.SbCss.toClass(C.menuItem)} ${E?"":re.SbCss.disabled}' id='${C.name}'></span>`),B=ne.Convert.isEmpty(C.icon)?"":`<span class='${re.SbCss.icon} ${C.icon}'></span>`,Q=ne.Convert.isEmpty(C.label)?"":`<span class='${re.SbCss.title}'>${C.label}</span>`;I.html(B+Q),E&&this.grid.setEvent("SubItemClick","click",C.name,(E=>this.onSubItemClick(E,C)),I),this.grid.container.find(q).append(I)}this.grid.container.find(z).append(q)}findColumn(C){ne.Arrays.dfsAction(C,(C=>(undefined.push(C),C.columns)))}treeAllColumns(){let C=[],E=this.grid.columns;return ne.Arrays.dfsAction(E,(E=>(C.push(E),E.columns))),C}childTreeColumn(C,E){if(C.push(E),E.columns.length>0)for(const I of E.columns)this.childTreeColumn(C,I)}treeColumns(){let C=[];return this.grid.columns.forEach((E=>{if(E.part!=ae.PartType.Fixed)if(C.push(E),E.type==ue.ColumnTypes.Multi);else if(E.columns.length>0)for(const I of E.columns)this.childTreeColumn(C,I)})),C}popColumn(C,E,I){let B="";E==ce.CaptionMenu?B=re.SbCss.menu_group:E==ce.ContextMenu&&(B=re.SbCss.context_menu),this.grid.container.find(`.${B}.${re.SbCss.col}-1-${this.column.index}.popup`).remove();const z=this.grid.container.find(`.${B}`),q=ne.JqUtils.adjustElement(z,`>div.${B}.${re.SbCss.col}-1-${this.column.index} popup`,`<div class='${B} ${re.SbCss.col}-1-${this.column.index} popup'></span>`),Q=ne.JqUtils.adjustElement(q,`> span#${this.name}`,`<span class='${re.SbCss.column} ${re.SbCss.menu} popup' id='${this.name}' ></span>`),ee=ne.JqUtils.adjustElement(Q,`>.${re.SbCss.values}`,`<span class='${re.SbCss.values}'></span>`),te=ne.JqUtils.adjustElement(ee,`>span.${re.SbCss.value}.${re.SbCss.value}_1`,`<span class = '${re.SbCss.value} ${re.SbCss.value}_1'></span>`),ie=ne.JqUtils.adjustElement(Q,`>.${re.SbCss.confirm}`,`<div class='${re.SbCss.confirm}'></div>`),se=ne.JqUtils.adjustElement(ie,`>.${re.SbCss.submit}`,`<button class='${re.SbCss.submit}' type='button'></button><button class='${re.SbCss.cancel}' type='button'></button>`);se.get(0).textContent=this.resourceManager.resource.menu_submit_button,se.get(1).textContent=this.resourceManager.resource.menu_cancel_button;const oe=z.children().css("overflow-y");this.grid.container.width()<this.grid.container.find(q).offset().left+z.width()+this.grid.container.find(q).width()?this.grid.container.find(q).css("left",-this.grid.container.find(q).width()):"scroll"==oe?this.grid.container.find(q).css("left",this.grid.container.find(z).width()+21):this.grid.container.find(q).css("left",this.grid.container.find(z).width()),this.grid.container.find(q).css("top",this.grid.container.find(q).offset().top-q.offset().top);const ae=ne.JqUtils.adjustElement(te,">ul","<ul></ul)");let le=this.treeColumns();for(const C of le){const E=C!=this.column,I=C.config.visible?"checked":"",B=ne.JqUtils.adjustElement(ae,`>li[value='${C.field}']`,`<li value='${C.index}' class='${E?"":re.SbCss.disabled}'></li>`);let z="",q="";if(C.level>1)for(let E=1;E<C.level;E++)z+="<span class='empty-space'></span>";if(C.type==ue.ColumnTypes.Multi){if(C.captions.length>0){let B=0;for(const z of C.captions){B++;for(let C=1;C<B-1;C++)q+="<span class='empty-space'></span>";const Q=z.filter(((C,E)=>z.indexOf(C)===E));if(1==B){const B=ne.JqUtils.adjustElement(ae,`>li[value='${C.field}']`,`<li value='${C.index}' class='${E?"":re.SbCss.disabled}'></li>`);ne.JqUtils.adjustElement(B,">input[type=checkbox]",`${q}<input type='checkbox'  name='${C.config.caption}' value='${C.field}' ${E?"":"disabled"} ${I}></input>`),ne.JqUtils.adjustElement(B,">label",`<label>${Q}</label>`)}else{const E=ne.JqUtils.adjustElement(ae,`>li[value='${C.field}']`,`<li value='${C.index}' class='${re.SbCss.disabled}'></li>`);ne.JqUtils.adjustElement(E,">input[type=checkbox]",`${q}`),ne.JqUtils.adjustElement(E,">label",`<label>${Q}</label>`)}}}}else ne.JqUtils.adjustElement(B,">input[type=checkbox]",`${z}<input type='checkbox'  name='${C.config.caption}' value='${C.field}' ${E?"":"disabled"} ${I}></input>`),ne.JqUtils.adjustElement(B,">label",`<label>${C.config.caption}</label>`)}this.grid.setEvent("columnButton","click","columnButton",(C=>this.setColumnVisible(ae,C,I)),se)}setColumnVisible(C,E,I){const B=this.grid.topRow,z=ie.SBGrid3.$(E.target),q=[];if(z.hasClass(re.SbCss.submit)){const E=[];C.find("input").each((function(){let C={caption:this.name,field:this.value,value:this.checked};E.push(C)}));const I=this.treeColumns();for(let C=0;C<I.length;C++)q.push({column:I[C],visible:E[C].value})}else if(z.hasClass(re.SbCss.cancel)){const C=this.treeColumns();for(let E=0;E<this.treeColumns().length;E++)q.push({column:C[E],visible:!0})}if(this.gridMenu.captionMenuClear(),this.fireCommandAsync(this,new ee.ColumnVisibleCommand(q)),this.grid.config.virtualRow){const C=(this.grid.serverPaging,1);setTimeout((()=>{this.grid.topRow=B}),C)}}}E.MenuItem=MenuItem;class MenuSeparator extends MenuItem{constructor(C){super(C,he.Separator)}render(C){C.append(`<span class='${re.SbCss.item} ${re.SbCss.menu_seperator}' ></span>`)}get enabled(){return!0}get command(){}}E.MenuSeparator=MenuSeparator;class MenuSet extends MenuItem{get command(){}constructor(C,E){super(C,E)}get menus(){var C;return null!==(C=this._menus)&&void 0!==C?C:this._menus=this.ensureMenus()}render(C,E,I){for(const B of this.menus)B.render(C,E,I)}ensureMenus(){return[]}}E.MenuSet=MenuSet;class MenuSort extends MenuSet{constructor(C){super(C,he.Sort)}get command(){}ensureMenus(){const C=[];return C.push(new MenuSortAsc(this.gridMenu)),C.push(new MenuSortDesc(this.gridMenu)),C.push(new MenuSortReset(this.gridMenu)),C}}E.MenuSort=MenuSort;class MenuSortAsc extends MenuItem{constructor(C){super(C,he.Asc)}get icon(){return re.SbCss.toClass("arrow-up")}get enabled(){var C;const E=this.grid.config.sortable!=se.SortMode.None&&this.column.sortable!=se.SortMode.None,I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get command(){return new ee.AscCommand(this.column)}get label(){return this.resourceManager.resource.menu_asc}}E.MenuSortAsc=MenuSortAsc;class MenuSortDesc extends MenuItem{constructor(C){super(C,he.Desc)}get icon(){return re.SbCss.toClass("arrow-down")}get enabled(){var C;const E=this.grid.config.sortable!=se.SortMode.None&&this.column.sortable!=se.SortMode.None,I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get command(){return new ee.DescCommand(this.column)}get label(){return this.resourceManager.resource.menu_desc}}E.MenuSortDesc=MenuSortDesc;class MenuSortReset extends MenuItem{constructor(C){super(C,he.Reset)}get icon(){return re.SbCss.toClass("reset")}get enabled(){var C;const E=this.grid.config.sortable!=se.SortMode.None&&this.column.sortable!=se.SortMode.None,I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get command(){return new ee.ResetCommand(this.column)}get label(){return this.resourceManager.resource.menu_reset}}E.MenuSortReset=MenuSortReset;class MenuClipboard extends MenuSet{constructor(C){super(C,he.Clipboard)}ensureMenus(){const C=[];return C.push(new MenuCopy(this.gridMenu)),C.push(new MenuCut(this.gridMenu)),C.push(new MenuPaste(this.gridMenu)),C}}E.MenuClipboard=MenuClipboard;class MenuCopy extends MenuItem{constructor(C){super(C,he.Copy)}get enabled(){var C;let E=this.grid.canCommand(this,new Q.CopyCommand)&&ne.Convert.isValue(this.rowItem);const I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("copy")}get command(){return new Q.CopyCommand}get label(){return this.resourceManager.resource.menu_copy}}E.MenuCopy=MenuCopy;class MenuCut extends MenuItem{constructor(C){super(C,he.Cut)}get enabled(){var C;const E=this.grid.canCommand(this,new Q.CopyCommand)&&ne.Convert.isValue(this.rowItem),I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("cut")}get command(){return new Q.CutCommand}get label(){return this.resourceManager.resource.menu_cut}}E.MenuCut=MenuCut;class MenuPaste extends MenuItem{constructor(C){super(C,he.Paste)}get enabled(){var C;const E=!!ne.Convert.isValue(this.rowItem),I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("paste")}get command(){return new Q.PasteCommand}get label(){return this.resourceManager.resource.menu_paste}}E.MenuPaste=MenuPaste;class MenuUndo extends MenuItem{constructor(C){super(C,he.Undo)}get icon(){return re.SbCss.toClass("undo")}get enabled(){var C;const E=this.grid.canCommand(this,new Q.UndoCommand),I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get command(){return new Q.UndoCommand}get label(){return this.resourceManager.resource.menu_undo}}E.MenuUndo=MenuUndo;class MenuRedo extends MenuItem{constructor(C){super(C,he.Redo)}get enabled(){var C;const E=this.grid.canCommand(this,new Q.RedoCommand),I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("redo")}get command(){return new Q.RedoCommand}get label(){return this.resourceManager.resource.menu_redo}}E.MenuRedo=MenuRedo;class MenuSticky extends MenuItem{constructor(C){super(C,he.Sticky)}get enabled(){var C;const E=!(!this.grid.config.stickyRow||!ne.Convert.isValue(this.rowItem)),I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return ne.Convert.isValue(this.rowItem)&&this.rowItem.isSticky?re.SbCss.toClass("sticky")+" "+re.SbCss.toClass("pined"):re.SbCss.toClass("sticky")}get command(){return new ee.StickyCommand(this.column,this.rowItem)}get label(){return ne.Convert.isValue(this.rowItem)&&this.rowItem.isSticky?this.resourceManager.resource.menu_sticky_cancel:this.resourceManager.resource.menu_sticky}}E.MenuSticky=MenuSticky;class MenuFixedCol extends MenuItem{constructor(C){super(C,he.FixedCol)}get subMenuItems(){const C=[];return C.push(new MenuFixedHead(this.gridMenu)),C.push(new MenuFixedBody(this.gridMenu)),C.push(new MenuFixedSticky(this.gridMenu)),C.push(new MenuFixedTail(this.gridMenu)),C}get enabled(){var C,E,I;if(ne.Convert.isNull(null===(E=null===(C=this.column)||void 0===C?void 0:C.config)||void 0===E?void 0:E.part))return!1;const B=this.column.config.part!=ae.PartType.Fixed,z=new le.GridMenuCommand(this.menuItem,null===(I=this.rowItem)||void 0===I?void 0:I.key,this.column);return B&&this.grid.canGridCommand(z)}get icon(){return re.SbCss.toClass("fixedCol")}get subIcon(){return ne.Convert.isValue(this.subMenuItems)?re.SbCss.toClass("subIcon"):void 0}get command(){return new ee.MoveToPartCommand(this.column,ae.PartType.Fixed)}get label(){return this.resourceManager.resource.menu_fiexCol}}E.MenuFixedCol=MenuFixedCol;class MenuFixedHead extends MenuItem{constructor(C){super(C,he.HeadPart)}get enabled(){var C;const E=this.column.config.part!=he.HeadPart,I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("sticky-head")}get command(){return new ee.MoveToPartCommand(this.column,ae.PartType.Head)}get label(){return this.resourceManager.resource.menu_header}}E.MenuFixedHead=MenuFixedHead;class MenuFixedBody extends MenuItem{constructor(C){super(C,he.BodyPart)}get enabled(){var C;const E=this.column.config.part!=he.BodyPart,I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("sticky-body")}get command(){return new ee.MoveToPartCommand(this.column,ae.PartType.Body)}get label(){return this.resourceManager.resource.menu_body}}E.MenuFixedBody=MenuFixedBody;class MenuFixedSticky extends MenuItem{constructor(C){super(C,he.Sticky)}get enabled(){var C;const E=this.column.config.part!=he.Sticky,I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("sticky")}get command(){return new ee.MoveToPartCommand(this.column,ae.PartType.Sticky)}get label(){return this.resourceManager.resource.menu_columnSticky}}E.MenuFixedSticky=MenuFixedSticky;class MenuFixedTail extends MenuItem{constructor(C){super(C,he.TailPart)}get enabled(){var C;const E=this.column.config.part!=he.TailPart,I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass("sticky-tail")}get command(){return new ee.MoveToPartCommand(this.column,ae.PartType.Tail)}get label(){return this.resourceManager.resource.menu_tail}}E.MenuFixedTail=MenuFixedTail;class EditableMenuItem extends MenuItem{get enabled(){var C;let E;return E=ne.Convert.isValue(this.rowItem)?new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column):new le.GridMenuCommand(this.menuItem,void 0,void 0),this.grid.canGridCommand(E)}}E.EditableMenuItem=EditableMenuItem;class MenuInsertRow extends EditableMenuItem{constructor(C){super(C,he.InsertRow)}get enabled(){if(ne.Convert.isValue(this.rowItem))return!0}get icon(){return re.SbCss.toClass("InsertRow")}get command(){var C,E;return new ee.InsertRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(E=this.rowItem)||void 0===E?void 0:E.data:{})}get label(){return this.resourceManager.resource.menu_insertRow}}E.MenuInsertRow=MenuInsertRow;class MenuAppendRow extends EditableMenuItem{constructor(C){super(C,he.AppendRow)}get enabled(){if(ne.Convert.isValue(this.rowItem))return!0}get icon(){return re.SbCss.toClass("AppendRow")}get command(){var C,E;return new ee.AppendRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(E=this.rowItem)||void 0===E?void 0:E.data:{})}get label(){return this.resourceManager.resource.menu_appendRow}}E.MenuAppendRow=MenuAppendRow;class MenuAddRow extends EditableMenuItem{constructor(C){super(C,he.AddRow)}get icon(){return re.SbCss.toClass("addRow")}get enabled(){return!0}get command(){var C,E;return new ee.AddRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(E=this.rowItem)||void 0===E?void 0:E.data:{})}get label(){return this.resourceManager.resource.menu_addRow}}E.MenuAddRow=MenuAddRow;class MenuAddTop extends EditableMenuItem{constructor(C){super(C,he.AddTop)}get icon(){return re.SbCss.toClass("addRow")}get enabled(){return!0}get command(){var C,E;return new ee.AddTopCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key,this.grid.copyInsert?null===(E=this.rowItem)||void 0===E?void 0:E.data:{})}get label(){return this.resourceManager.resource.menu_addTop}}E.MenuAddTop=MenuAddTop;class MenuDeleteRow extends EditableMenuItem{constructor(C){super(C,he.DeleteRow)}get enabled(){if(ne.Convert.isValue(this.rowItem))return!0}get icon(){return re.SbCss.toClass("deleteRow")}get command(){var C;return new ee.DeleteRowCommand(null===(C=this.rowItem)||void 0===C?void 0:C.key)}get label(){return this.resourceManager.resource.menu_deleteRow}}E.MenuDeleteRow=MenuDeleteRow;class MenuColumn extends MenuItem{constructor(C){super(C,he.Column)}get icon(){return re.SbCss.toClass("column")}get enabled(){var C;const E=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return this.grid.canGridCommand(E)}get subIcon(){return re.SbCss.toClass("subIcon")}get command(){return new ee.ColumnCheckCommand(this.column)}get label(){return this.resourceManager.resource.menu_column}}E.MenuColumn=MenuColumn;class MenuEdit extends MenuItem{constructor(C){super(C,he.Edit)}get icon(){return re.SbCss.toClass("edit")}get enabled(){var C;let E;ne.Convert.isValue(this.column)&&(E=!(!(this.grid.config.editable&&this.column.editable(this.rowItem)&&ne.Convert.isValue(this.rowItem))||this.column.isEdit(this.rowItem)));const I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get command(){return new ee.EditCommand(se.EditMode.inline,this.rowItem,this.column)}get label(){return this.resourceManager.resource.menu_edit}}E.MenuEdit=MenuEdit;class MenuCancel extends MenuItem{constructor(C){super(C,he.Cancel)}get icon(){return re.SbCss.toClass("escape")}get enabled(){var C;if(ne.Convert.isValue(this.rowItem)){const E=!!(ne.Convert.isValue(this.rowItem)&&this.column.editable(this.rowItem)&&this.column.isEdit(this.rowItem)),I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}}get command(){return new ee.EscapeCommand}get label(){return this.resourceManager.resource.menu_cancel}}E.MenuCancel=MenuCancel;class MenuExcel extends MenuItem{constructor(C){super(C,he.Excel)}get icon(){return re.SbCss.toClass("excel")}get enabled(){if(ne.Convert.isValue(this.grid))return!0}get command(){return new ee.ExcelCommand}get label(){return this.resourceManager.resource.menu_excel}}E.MenuExcel=MenuExcel;class MenuCustom extends MenuItem{get command(){}get customMenuItem(){return this._customMenuItem}get enabled(){var C;let E=!0;if(ne.Convert.isValue(this.customMenuItem.enabled))return"boolean"==typeof this.customMenuItem.enabled?E=this.customMenuItem.enabled:"function"==typeof this.customMenuItem.enabled&&(E=this.customMenuItem.enabled(this.grid,this.column,this.rowItem)),E;const I=new le.GridMenuCommand(this.menuItem,null===(C=this.rowItem)||void 0===C?void 0:C.key,this.column);return E&&this.grid.canGridCommand(I)}get icon(){return re.SbCss.toClass(this.customMenuItem.icon)}get subIcon(){return ne.Convert.isValue(this.customMenuItem.subMenus)?re.SbCss.toClass("subIcon"):""}get label(){return this.customMenuItem.label}constructor(C,E){super(C,he.Custom),this._customMenuItem=E,this._menuItem=he.Custom}render(C,E,I){let B="";E==ce.CaptionMenu?B=re.SbCss.menu_group:E==ce.ContextMenu&&(B=re.SbCss.context_menu);const z=this.enabled,q=ne.JqUtils.adjustElement(C,`> span#${this.customMenuItem.label}`,`<span class='${re.SbCss.item} ${re.SbCss.toClass(this.customMenuItem.label)} ${z?"":re.SbCss.disabled}' id='${this.customMenuItem.label}' ></span>`),Q=ne.Convert.isEmpty(this.icon)?`<span class='${re.SbCss.icon} ${re.SbCss.none}'></span>`:`<span class='${re.SbCss.icon} ${re.SbCss.toClass(this.customMenuItem.icon)}'></span>`,ee=ne.Convert.isEmpty(this.label)?"":`<span class='${re.SbCss.title}'>${this.label}</span>`,te=ne.Convert.isEmpty(this.subIcon)?"":`<span class='${re.SbCss.icon} ${this.subIcon}'></span>`;q.html(Q+ee+te),z&&(ne.Convert.isValue(this.customMenuItem.click)?this.grid.setEvent("ItemClick","click",this.customMenuItem.item,(()=>{var B;return ne.Convert.isValue(this.customMenuItem.click)&&this.customMenuItem.click(this.grid,this.column,null!==(B=this.rowItem)&&void 0!==B?B:void 0),ne.Convert.isValue(this.customMenuItem.subMenus)?this.renderChild(C,E,I,this.customMenuItem.item,this.customMenuItem.subMenus,1):this.gridMenu.captionMenuClear(),!1}),q):this.grid.config.popupType==se.PopupType.Hover?ie.SBGrid3.$(q).on("mouseenter",(()=>{ne.Convert.isValue(this.customMenuItem.subMenus)&&this.renderChild(C,E,I,this.customMenuItem.item,this.customMenuItem.subMenus,1)})):this.grid.config.popupType==se.PopupType.Click&&this.grid.setEvent("CustomItemClick","click",this.customMenuItem.item,(()=>(ne.Convert.isValue(this.customMenuItem.subMenus)?this.renderChild(C,E,I,this.customMenuItem.item,this.customMenuItem.subMenus,1):this.gridMenu.captionMenuClear(),!1)),q))}renderChild(C,E,I,B,z,q){let Q="";E==ce.CaptionMenu?Q=re.SbCss.menu_group:E==ce.ContextMenu&&(Q=re.SbCss.context_menu),this.grid.container.find(`.${Q}.${re.SbCss.col}-1-${this.column.index}.popup.level${q}`).remove();const ee=this.grid.container.find(`.${Q}`),te=ne.JqUtils.adjustElement(ee,`>div.${Q}.${re.SbCss.col}-1-${this.column.index}.popup.level${q}.${B}`,`<div class='${Q} ${re.SbCss.col}-1-${this.column.index} popup level${q} ${B}'></span>`),oe=ne.JqUtils.adjustElement(te,`> span#${this.name}`,`<span class='${re.SbCss.menu} popup' id='${this.name}'></span>`);this.grid.container.width()<ie.SBGrid3.$(ee).offset().left+ee.width()+this.grid.container.find(te).width()?this.grid.container.find(te).css("left",-this.grid.container.find(te).width()):this.grid.container.find(te).css("left",ee.width()),this.grid.container.find(te).css("top",ie.SBGrid3.$(event.target).offset().top-te.offset().top),q++;for(const B of z){const z=ne.JqUtils.adjustElement(C,`> span#${B.label}`,`<span class='${re.SbCss.item} ${re.SbCss.toClass(B.label)}' id='${B.label}' ></span>`),Q=ne.Convert.isEmpty(B.icon)?`<span class='${re.SbCss.icon} ${re.SbCss.none}'></span>`:`<span class='${re.SbCss.icon} ${re.SbCss.toClass(B.icon)}'></span>`,ee=ne.Convert.isEmpty(B.label)?"":`<span class='${re.SbCss.title}'>${B.label}</span>`,te=ne.Convert.isValue(B.subMenus)?`<span class='${re.SbCss.icon} ${this.subIcon}'></span>`:"";z.html(Q+ee+te),B.enabled&&(ne.Convert.isValue(B.click)?this.grid.setEvent("ItemChildClick","click",B.item,(()=>{var z;return ne.Convert.isValue(this.customMenuItem.click)&&this.customMenuItem.click(this.grid,this.column,null!==(z=this.rowItem)&&void 0!==z?z:void 0),ne.Convert.isValue(B.subMenus)?this.renderChild(C,E,I,B.item,B.subMenus,q):this.gridMenu.captionMenuClear(),!1}),z):this.grid.config.popupType==se.PopupType.Hover?ie.SBGrid3.$(z).on("mouseenter",(()=>{ne.Convert.isValue(B.subMenus)&&this.renderChild(C,E,I,B.item,B.subMenus,q)})):this.grid.config.popupType==se.PopupType.Click&&this.grid.setEvent("CustomItemClick","click",B.item,(()=>{ne.Convert.isValue(B.subMenus)?this.renderChild(C,E,I,B.item,B.subMenus,q):this.gridMenu.captionMenuClear()}),z)),ie.SBGrid3.$(oe).append(z)}ie.SBGrid3.$(te).append(oe)}}E.MenuCustom=MenuCustom},3119:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.ToolPageSizeSelect=E.PagerItemRenderer=E.ToolPagerCombo=E.ToolSearch=E.ToolExcelImport=E.ToolExcelExport=E.ToolCsvExport=E.ToolReload=E.ToolRefresh=E.ToolStatus=E.ToolRedo=E.ToolUndo=E.ToolGroup=E.ToolUndelete=E.ToolDelete=E.ToolCancel=E.ToolAppendRow=E.ToolInsertRow=E.ToolAddTop=E.ToolAddRow=E.ToolSave=E.ToolPager=E.PagerMode=E.ToolTitle=E.ToolCustom=E.GridTool=void 0;const z=I(273),q=I(2663),Q=I(5369),ee=I(5165),te=I(7392),ie=I(103),re=I(7721),ne=I(8964),se=I(6312),oe=I(7078),ae=I(5260),le=I(1163),ue=I(5177),de=I(247),ce=I(6936),he=I(4507),fe=I(7152),pe=I(8956),me=I(289),ge=I(6252);class GridTool extends z.Observer{get clazz(){var C;return null!==(C=this._clazz)&&void 0!==C?C:this._clazz=""}get grid(){return this._grid}get resource(){return this.grid.resource}get template(){return le.Convert.isValue(this._template)?this._template:this.clazz.startsWith("#")?(this._template=le.Utils.createTemplate(this.clazz),this._template):void 0}constructor(C,E){super(C),this._clazz=E,this._grid=C}render(C){return B(this,void 0,void 0,(function*(){if(le.Convert.isValue(this.template))return void C.html(this.template(this.grid));le.JqUtils.adjustElement(C,`> span#${this.name}`,`<span class='${this.clazz}' id='${this.name}'></span>`).text(this.label())}))}label(){switch(this.clazz){case ue.GridTools.Save:return this.resource.tool_save;case ue.GridTools.Add:return this.resource.tool_addRow;case ue.GridTools.AddTop:return this.resource.tool_addTop;case ue.GridTools.Insert:return this.resource.tool_insertRow;case ue.GridTools.Append:return this.resource.tool_appendRow;case ue.GridTools.Cancel:return this.resource.tool_cancel;case ue.GridTools.Undo:return this.resource.tool_undo;case ue.GridTools.Redo:return this.resource.tool_redo;case ue.GridTools.Delete:return this.resource.tool_deleteRow;case ue.GridTools.Undelete:return this.resource.tool_undeleteRow;case ue.GridTools.Refresh:return this.resource.tool_refresh;case ue.GridTools.Excel:return this.resource.tool_excel;case ue.GridTools.Csv:return this.resource.tool_csv;case ue.GridTools.Search:return this.resource.tool_search;case ue.GridTools.Reload:return this.resource.tool_reload;default:return`${this.clazz}`}}}E.GridTool=GridTool;E.ToolCustom=class ToolCustom extends GridTool{constructor(C,E){super(C,oe.SbCss.custom),this._render=E}render(C){return B(this,void 0,void 0,(function*(){C.empty(),this._render(C.get(0))}))}};var ve;E.ToolTitle=class ToolTitle extends GridTool{constructor(C){super(C,oe.SbCss.title)}},function(C){C.Row="row",C.Page="page"}(ve||(E.PagerMode=ve={}));class ToolPager extends GridTool{get pageCount(){var C;return null===(C=this.config)||void 0===C?void 0:C.buttonCount}get pages(){if(le.Convert.isNull(this._pages)){const C=[];for(let E=1;E<=this.pageCount;E++)C.push(E);this._pages=C}return this._pages}get config(){var C,E;return null!==(C=this._config)&&void 0!==C?C:this._config=null===(E=this.grid.config.pageable)||void 0===E?void 0:E.pager}get lastPage(){return Math.ceil(this.total/this.pageSize)}get total(){const C=this.grid.virtualRow?this.grid.visibleCount:this.grid.isPaging?this.grid.total:this.grid.visibleCount;return null!=C?C:1}get pageSize(){var C;const E=this.grid.isPaging?null!==(C=this.grid.pageSize)&&void 0!==C?C:20:this.grid.adjustedTotal;return null!=E?E:1}constructor(C,E=oe.SbCss.pager){super(C,E)}render(C){var E,I,z,q,Q,ee;return B(this,void 0,void 0,(function*(){let B=le.JqUtils.adjustElement(C,`> div.${oe.SbCss.tool}.${this.clazz}`,`<div class='${oe.SbCss.tool} ${this.clazz}'></div>`),te=ToolPager.getCurrentPage(this.grid);if(null!==(I=null===(E=this.config)||void 0===E?void 0:E.previousNext)&&void 0!==I&&I){let C=le.JqUtils.adjustElement(B,`> span.${oe.SbCss.first}`,`<span class='${oe.SbCss.first} ${oe.SbCss.icon}'></span>`),E=le.JqUtils.adjustElement(B,`> span.${oe.SbCss.prev}`,`<span class='${oe.SbCss.prev} ${oe.SbCss.icon}'></span>`);this.grid.setEvent(this.name,"click","prev",(()=>te>1&&this.paging(te-1)),E),this.grid.setEvent(this.name,"click","first",(()=>this.paging(1)),C)}if((null===(z=this.config)||void 0===z?void 0:z.numeric)&&(null===(q=this.config)||void 0===q?void 0:q.buttonCount)>1){let C=le.JqUtils.adjustElement(B,`>div.${this.clazz}`,`<div class='${this.clazz}'></div>`);const E=ToolPager.getCurrentPage(this.grid);this.renderPages(C,this.range(E)),this.changeCss(C)}if(null!==(ee=null===(Q=this.config)||void 0===Q?void 0:Q.previousNext)&&void 0!==ee&&ee){let C=le.JqUtils.adjustElement(B,`> span.${oe.SbCss.next}`,`<span class='${oe.SbCss.next} ${oe.SbCss.icon}'></span>`),E=le.JqUtils.adjustElement(B,`> span.${oe.SbCss.last}`,`<span class='${oe.SbCss.last} ${oe.SbCss.icon}'></span>`);this.grid.setEvent(this.name,"click","next",(()=>te<this.lastPage&&this.paging(te+1)),C),this.grid.setEvent(this.name,"click","last",(()=>this.paging(this.lastPage)),E)}this.checkDisabled(B)}))}renderPages(C,E){E.forEach(((E,I)=>{let B=le.JqUtils.adjustElement(C,`> span.${oe.SbCss.page}.${oe.SbCss.page}-${I}`,`<span class='${oe.SbCss.page} ${oe.SbCss.page}-${I}'></span>`);le.JqUtils.adjustElement(B,"> a","<a></a>").text(E),this.grid.setEvent(this.name,"click","page"+I,(()=>this.paging(E)),B)})),C.find(`.${oe.SbCss.page}>a`).each(((C,I)=>{0==E.includes(Number.parseInt(I.textContent))&&se.SBGrid3.$(I).parent().remove()}))}changeCss(C){let E=ToolPager.getCurrentPage(this.grid);C.find(`span.${oe.SbCss.page}.${oe.SbCss.current}`).removeClass(oe.SbCss.current),C.find(`span.${oe.SbCss.page}.${oe.SbCss.page}-${(E-1)%this.pageCount}`).addClass(oe.SbCss.current)}checkDisabled(C){let E=ToolPager.getCurrentPage(this.grid);E-1<1?se.SBGrid3.$(`>span.${oe.SbCss.prev}`,C).addClass(oe.SbCss.disabled):se.SBGrid3.$(`>span.${oe.SbCss.prev}`,C).removeClass(oe.SbCss.disabled),E+1>this.lastPage?se.SBGrid3.$(`>span.${oe.SbCss.next}`,C).addClass(oe.SbCss.disabled):se.SBGrid3.$(`>span.${oe.SbCss.next}`,C).removeClass(oe.SbCss.disabled),E<=1?se.SBGrid3.$(`>span.${oe.SbCss.first}`,C).addClass(oe.SbCss.disabled):se.SBGrid3.$(`>span.${oe.SbCss.first}`,C).removeClass(oe.SbCss.disabled),E>=this.lastPage?se.SBGrid3.$(`>span.${oe.SbCss.last}`,C).addClass(oe.SbCss.disabled):se.SBGrid3.$(`>span.${oe.SbCss.last}`,C).removeClass(oe.SbCss.disabled)}paging(C){switch(this.grid.pagerMode){case ve.Page:ae.Log.debug((()=>["pageNo:",C])),this.fireCommandAsync(this,new ee.PagerCommand(C-1));break;case ve.Row:{const E=(C-1)*this.pageSize;ae.Log.debug((()=>["topRow:",E])),this.grid.topRow=E;break}}}range(C){if(this.lastPage<=1)return[C];let E=Math.ceil(C/this.pageCount);return this.pages.map((C=>C+(E-1)*this.pageCount)).filter((C=>C<=this.lastPage))}static getCurrentPage(C){if(0==C.isPaging)return 1;switch(C.pagerMode){case ve.Page:return C.view.pageNo+1;case ve.Row:return Math.ceil((C.view.topRow+1)/C.pageSize)}}}E.ToolPager=ToolPager;E.ToolSave=class ToolSave extends GridTool{constructor(C){super(C,ue.GridTools.Save),this.onClickButton=()=>{ae.Log.debug((()=>"fire save command")),this.fireCommandAsync(this,new Q.SaveCommand)}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.save}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.save}'>`);E.val(this.label()),this.grid.setEvent("ToolSaveClick","click",this.name,this.onClickButton,E)}))}};E.ToolAddRow=class ToolAddRow extends GridTool{constructor(C){super(C,ue.GridTools.Add),this.onClickButton=()=>{var C;ae.Log.debug((()=>"add row command"));const E=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem,I=null==E?void 0:E.key,B=this.grid.copyInsert?le.Convert.cloneData(null==E?void 0:E.data):{};this.grid.fireCommandAsync(this,new ee.AddRowCommand(I,B))}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.add}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.add}'>`);E.val(this.label()),this.grid.setEvent("ToolAddRowClick","click",this.name,this.onClickButton,E)}))}};E.ToolAddTop=class ToolAddTop extends GridTool{constructor(C){super(C,ue.GridTools.AddTop),this.onClickButton=()=>{var C;ae.Log.debug((()=>"add row at top command"));const E=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem,I=null==E?void 0:E.key,B=this.grid.copyInsert?le.Convert.cloneData(null==E?void 0:E.data):{};this.grid.fireCommandAsync(this,new ee.AddTopCommand(I,B))}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.addTop}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.addTop}'>`);E.val(this.label()),this.grid.setEvent("ToolAddTopClick","click",this.name,this.onClickButton,E)}))}};E.ToolInsertRow=class ToolInsertRow extends GridTool{constructor(C){super(C,ue.GridTools.Insert),this.onClickButton=()=>{var C,E;const I=null!==(E=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem)&&void 0!==E?E:this.grid.rows[0],B=null==I?void 0:I.parent,z=(null==B||B.key,null==I?void 0:I.key),q=this.grid.copyInsert?le.Convert.cloneData(null==I?void 0:I.data):{};ae.Log.debug((()=>"insert row command")),this.grid.fireCommandAsync(this,new ee.InsertRowCommand(z,q))}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.insert}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.insert}'>`);E.val(this.label()),this.grid.setEvent("ToolInsertRowClick","click",this.name,this.onClickButton,E)}))}};E.ToolAppendRow=class ToolAppendRow extends GridTool{constructor(C){super(C,ue.GridTools.Append),this.onClickButton=()=>{var C,E;const I=null!==(E=null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem)&&void 0!==E?E:this.grid.rows[this.grid.rows.length-1],B=null==I?void 0:I.parent,z=(null==B||B.key,null==I?void 0:I.key),q=this.grid.copyInsert?le.Convert.cloneData(null==I?void 0:I.data):{};ae.Log.debug((()=>"append row command")),this.grid.fireCommandAsync(this,new ee.AppendRowCommand(z,q))}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.append}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.append}'>`);E.val(this.label()),this.grid.setEvent("ToolAppendRowClick","click",this.name,this.onClickButton,E)}))}};E.ToolCancel=class ToolCancel extends GridTool{constructor(C){super(C,ue.GridTools.Cancel),this.onCancelClick=()=>{this.fireCommandAsync(this,new Q.CancelCommand)}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.cancel}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.cancel}'>`);E.val(this.label()),this.grid.setEvent("ToolCancelClick","click",this.name,this.onCancelClick,E)}))}};E.ToolDelete=class ToolDelete extends GridTool{constructor(C){super(C,ue.GridTools.Delete),this.onDeleteClick=()=>{var C;let E=this.grid.selectManager.getSelectedRows();le.Convert.isEmpty(E)&&(E=[null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem.key]);let I=E.map((C=>{let E=this.grid.view.keyMap.get(C);return{rowIndex:null==E?void 0:E.index,key:null==E?void 0:E.key}}));I.length>0&&this.fireCommandAsync(this,new Q.DeleteCommand(I))}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.delete}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.delete}'>`);E.val(this.label()),this.grid.setEvent("ToolDeleteClick","click",this.name,this.onDeleteClick,E)}))}};E.ToolUndelete=class ToolUndelete extends GridTool{constructor(C){super(C,ue.GridTools.Undelete),this.onUndeleteClick=()=>{var C;let E=this.grid.selectManager.getSelectedRows();le.Convert.isEmpty(E)&&(E=[null===(C=this.grid.focusManager.focus)||void 0===C?void 0:C.rowItem.key]);let I=E.map((C=>{let E=this.grid.view.keyMap.get(C);return{rowIndex:null==E?void 0:E.index,key:null==E?void 0:E.key}}));I.length>0&&this.fireCommandAsync(this,new Q.UndeleteCommand(I))}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.undelete}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.undelete}'>`);E.val(this.label()),this.grid.setEvent("ToolUndeleteClick","click",this.name,this.onUndeleteClick,E)}))}};E.ToolGroup=class ToolGroup extends GridTool{constructor(C){super(C,oe.SbCss.group),this.groupingMap=new Map}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>div.${oe.SbCss.tool}.${this.clazz}`,`<div class='${oe.SbCss.tool} ${this.clazz}'></div>`);this.addDroppableHandler(E),this.renderGroupElements(E)}))}static addDraggableHandler(C,E){const I=E.getColumn(C);le.Convert.isNull(I)||I.part===re.PartType.Fixed||I instanceof ne.GroupColumn||C.draggable({helper:(C,I)=>{let B=se.SBGrid3.$(C.target).closest(`.${oe.SbCss.col}`);if(B.length<=0)return;const z=le.JqUtils.adjustElement(B.closest(`div.${oe.SbCss.panel}.${oe.SbCss.caption}`),`>span.${oe.SbCss.draggable_helper}.${oe.SbCss.col}`,`<span class='${oe.SbCss.draggable_helper} ${oe.SbCss.col}'>${B.text()}</span>`);le.JqUtils.adjustElement(z,`>span.${oe.SbCss.icon}`,`<span class='${oe.SbCss.icon}'></span>`);const q=E.getColumn(B);return z.data("column",q),z},cursorAt:{top:15,left:25},containment:E.container})}renderGroupElements(C){let E=this.grid.dataConfig.groups;if(le.Convert.isValue(E)){const I=le.Arrays.from(this.groupingMap.keys());E.forEach((E=>{let B=this.grid.getColumnByField(E.field);le.Convert.isValue(B)&&(this.createSortable(C,E.dir,B),I.splice(I.indexOf(B.name),1))})),le.Convert.isValue(I)&&I.forEach((C=>{this.groupingMap.get(C).remove(),this.groupingMap.delete(C)})),C.find(`>span.${oe.SbCss.caption}`).remove()}else C.empty(),this.groupingMap.clear(),le.JqUtils.adjustElement(C,`>span.${oe.SbCss.caption}`,`<span class = '${oe.SbCss.caption}'>${this.grid.resource.group_groupZone}</span>`)}addDroppableHandler(C){C.sortable({connectWith:`span.${oe.SbCss.grouping}`,axis:"x",opacity:.5,distance:10,update:()=>{this.changeOrder()}}).disableSelection(),C.droppable({drop:(C,E)=>{let I=se.SBGrid3.$(C.target),B=E.helper.data("column");if(void 0!==B){if(this.groupingMap.has(B.name))return;let C=E.helper.find(`.${oe.SbCss.icon}`);if(null==C?void 0:C.hasClass(oe.SbCss.cancel_red))return;this.createSortable(I,te.SortDir.Asc,B),this.grid.addGroupColumn(B)}},over:(C,E)=>{let I=E.helper.data("column");if(I&&(0==I.config.groupable||le.Convert.isEmpty(I.field)||this.groupingMap.has(I.name))){E.helper.find(`.${oe.SbCss.icon}`).addClass(oe.SbCss.cancel_red)}},out:(C,E)=>{E.helper.find(`.${oe.SbCss.icon}`).removeClass(oe.SbCss.cancel_red)}}),this.grid.setEvent("cancelCaptionDrag","keydown","cancelCaptionDrag",(C=>B(this,void 0,void 0,(function*(){switch(C.key){case"Escape":case"Esc":const C=this.grid.container.find(`.${oe.SbCss.panel}.${oe.SbCss.caption}`).find(`>span.${oe.SbCss.draggable_helper}`);if(C.length<1)return;C.remove()}}))),this.grid.container[0])}createSortable(C,E,I,B){let z=le.JqUtils.adjustElement(C,`>.${oe.SbCss.grouping}.${I.field}`,`<span class='${oe.SbCss.grouping} ${I.field}'></span>`);const q=oe.SbCss.toClass(E);let Q=z.find(`span.${oe.SbCss.icon}.${q}`);Q.length<=0&&(Q=z.find(`span.${oe.SbCss.icon}.${oe.SbCss.sort}.${q==oe.SbCss.asc?oe.SbCss.desc:oe.SbCss.asc}`),Q.length>0&&le.JqUtils.changeClass(Q,`${oe.SbCss.icon} ${oe.SbCss.sort} ${q}`)),Q.length<=0&&(Q=le.JqUtils.adjustElement(z,`span.${oe.SbCss.icon}.${q}`,`<span class='${oe.SbCss.icon} ${oe.SbCss.sort} ${q}'></span>`)),le.JqUtils.adjustElement(z,`>span.${oe.SbCss.caption}`,`<span class=${oe.SbCss.caption}>${I.config.caption}</span>`);let ee=le.JqUtils.adjustElement(z,`span.${oe.SbCss.icon}.${oe.SbCss.delete}`,`<span class='${oe.SbCss.icon} ${oe.SbCss.delete}'></span>`);0==this.groupingMap.has(I.name)&&this.groupingMap.set(I.name,z),z.data("info",I),this.grid.setEvent("grouping","click",I._name+"_dir",(C=>this.dirClick(C)),Q),this.grid.setEvent("grouping","click",I._name+"_delete",(C=>this.deleteClick(C)),ee)}dirClick(C){var E;let I=se.SBGrid3.$(C.target),B=null===(E=I.parent().data("info"))||void 0===E?void 0:E.config.field,z=this.grid.dataConfig.groups.find((C=>C.field===B)),q=z.dir;this.grid.toggleSort(B,!1),I.removeClass(q).addClass(z.dir)}deleteClick(C){let E=se.SBGrid3.$(C.target).parent(),I=E.data("info"),B=I.name;E.remove(),this.groupingMap.delete(B),this.grid.removeGroupColumn(I)}changeOrder(){let C=this.grid.container.find(`.${oe.SbCss.tool}.${oe.SbCss.group}>span.${oe.SbCss.grouping}:not(.ui-sortable-placeholder)`),E=[];C.each(((C,I)=>{let B=se.SBGrid3.$(I).data("info");E.push(B)})),this.grid.setGroupColumns(E)}};E.ToolUndo=class ToolUndo extends GridTool{constructor(C){super(C,ue.GridTools.Undo),this.onClick=()=>{this.fireCommandAsync(this,new Q.UndoCommand)}}render(C){var E;return B(this,void 0,void 0,(function*(){const I=this.grid.canCommand(this,q.Commands.Undo),B=`${oe.SbCss.tool} ${oe.SbCss.undo} ${I?"":oe.SbCss.disabled}`;let z=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.undo}`,`<input type='button' class='${B}'>`);z.val(this.label()),z.attr("title",null===(E=this.grid.undoManager.undoStack.peek())||void 0===E?void 0:E.constructor.name),le.JqUtils.changeClass(z,B),z.prop("disabled",!I),this.grid.setEvent("UndoClick","click",this.name,this.onClick,z)}))}};E.ToolRedo=class ToolRedo extends GridTool{constructor(C){super(C,ue.GridTools.Redo),this.onClick=()=>{this.fireCommandAsync(this,new Q.RedoCommand)}}render(C){var E;return B(this,void 0,void 0,(function*(){const I=this.grid.canCommand(this,q.Commands.Redo),B=`${oe.SbCss.tool} ${oe.SbCss.redo} ${I?"":oe.SbCss.disabled}`;let z=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.redo}`,`<input type='button' class='${B}'>`);z.val(this.label()),z.attr("title",null===(E=this.grid.undoManager.redoStack.peek())||void 0===E?void 0:E.constructor.name),le.JqUtils.changeClass(z,B),z.prop("disabled",!I),this.grid.setEvent("RedoClick","click",this.name,this.onClick,z)}))}};E.ToolStatus=class ToolStatus extends GridTool{get columnRenderer(){var C;return null!==(C=this._columnRenderer)&&void 0!==C?C:this._columnRenderer=new ie.ColumnRender(this.columnTemplate,void 0)}constructor(C,E){super(C,ue.GridTools.Status),this.columnTemplate=E}render(C){return B(this,void 0,void 0,(function*(){le.JqUtils.adjustElement(C,`>#${this.name}.${oe.SbCss.tool}.${oe.SbCss.status}`,`<span id='${this.name}' class= '${oe.SbCss.tool} ${oe.SbCss.status}' ></span>`)}))}makeAggregateData(C){let E=this.columnTemplate.aggregates instanceof Array?this.columnTemplate.aggregates:[this.columnTemplate.aggregates];E=E.filter((C=>le.Convert.isValue(C)));const I=ie.GridColumn.getAggregateMap(C),B=ie.GridColumn.getAggregateMap(E),z={};for(const C of B.keys())if(I.has(C)){const E=B.get(C);E.value=I.get(C).value,le.Convert.isValue(E.field)&&(z[E.field]=E.value),le.Convert.isValue(E.payload)?z[E.func+"_"+E.payload]=E.value:"string"==typeof E.func&&(z[E.func]=E.value)}return z}updateStatus(C){const E=this.makeAggregateData(C),I=this.grid.container.find(`span#${this.name}.${oe.SbCss.tool}.${oe.SbCss.status}`);if(I.length<1)return;const B=Object.values(E).every((C=>le.Convert.isNull(C)))?"":this.columnRenderer.render(E);I.text(B);const z=this.columnTemplate.cssClass,q="function"==typeof z?z(E):z;null==q||q.split(" ").forEach((C=>le.JqUtils.addClass(I,C)))}};E.ToolRefresh=class ToolRefresh extends GridTool{constructor(C){super(C,ue.GridTools.Refresh),this.onRefreshClick=()=>{this.fireCommandAsync(this,new ee.RefreshCommand)}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.refresh}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.refresh}'>`);E.val(this.label()),E.off("click").on("click",(()=>this.onRefreshClick()))}))}};E.ToolReload=class ToolReload extends GridTool{constructor(C){super(C,ue.GridTools.Reload),this.onReloadClick=()=>{this.fireCommandAsync(this,new Q.ReloadCommand(!1))}}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.reload}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.reload}'>`);E.val(this.label()),E.off("click").on("click",(()=>this.onReloadClick()))}))}};E.ToolCsvExport=class ToolCsvExport extends GridTool{constructor(C){super(C,ue.GridTools.Csv),this.onCsvExport=()=>B(this,void 0,void 0,(function*(){const C=new de.CsvExport(this.grid),E=new le.default,I=le.Utils.ensureName("csv");this.grid.setEvent("csv","keydown",I,(C=>{"Escape"===C.key&&E.cancel()}),this.grid.container),yield C.export(E.token),this.grid.setEvent("csv","keydown",I,void 0,this.grid.container)}))}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.csv}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.csv}'>`);E.val(this.label()),E.off("click").on("click",(()=>this.onCsvExport()))}))}};E.ToolExcelExport=class ToolExcelExport extends GridTool{constructor(C){super(C,ue.GridTools.Excel),this.onExcelExport=()=>B(this,void 0,void 0,(function*(){const C=new ce.ExcelExport(this.grid),E=new le.default,I=le.Utils.ensureName("excel");this.grid.setEvent("excel","keydown",I,(C=>{"Escape"===C.key&&E.cancel()}),this.grid.container),yield C.export(E.token),this.grid.setEvent("excel","keydown",I,void 0,this.grid.container)}))}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.excel}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.excel}'>`);E.val(this.label()),E.off("click").on("click",(()=>this.onExcelExport()))}))}};E.ToolExcelImport=class ToolExcelImport extends GridTool{constructor(C){super(C,ue.GridTools.ExcelImport),this.onExcelImport=C=>B(this,void 0,void 0,(function*(){if(le.Convert.isNull(C))return;let E;switch(C.name.split(".").at(-1)){case"csv":E=new fe.CsvImport(this.grid);break;case"xlsx":E=new he.ExcelImport(this.grid)}if(!le.Convert.isValue(E))throw"not supported file "+C.name;E.excelImport(C)}))}render(C){return B(this,void 0,void 0,(function*(){le.JqUtils.adjustElement(C,`>input[type='file'].${oe.SbCss.tool}.${oe.SbCss.excel}`,`<input type='file' class='${oe.SbCss.tool} ${oe.SbCss.excel}'>`).off("change").on("change",(C=>this.onExcelImport(C.target.files[0])))}))}};E.ToolSearch=class ToolSearch extends GridTool{get gridSearch(){var C,E;return null!==(C=this._gridSearch)&&void 0!==C?C:this._gridSearch=null!==(E=this.grid.focusManager.gridSearch)&&void 0!==E?E:this.grid.focusManager.gridSearch=new pe.GridSearch(this.grid)}constructor(C){super(C,ue.GridTools.Search)}render(C){return B(this,void 0,void 0,(function*(){let E=le.JqUtils.adjustElement(C,`>input[type='button'].${oe.SbCss.tool}.${oe.SbCss.search}`,`<input type='button' class='${oe.SbCss.tool} ${oe.SbCss.search}'>`);E.val(this.label()),this.grid.setEvent("ToolSearch","click","search",(()=>{const C=this.gridSearch.render(!0);this.gridSearch.move(C)}),E)}))}};E.ToolPagerCombo=class ToolPagerCombo extends ToolPager{get popupRenderer(){var C;return null!==(C=this._popupRenderer)&&void 0!==C?C:this._popupRenderer=new PopupRenderer(this.grid)}get option(){var C,E;return null!==(C=this._option)&&void 0!==C?C:this._option=null===(E=this.grid.config.pageable)||void 0===E?void 0:E.pagerCombo}get pagerItemRenderer(){var C;return null!==(C=this._pagerItemRenderer)&&void 0!==C?C:this._pagerItemRenderer=new PagerItemRenderer(this.grid,this)}constructor(C){super(C,oe.SbCss.pager_combo)}render(C){return B(this,void 0,void 0,(function*(){if(le.Convert.isNull(this.option))return;const E=le.JqUtils.adjustElement(C,`>span.${oe.SbCss.pager_combo}.${oe.SbCss.pager}`,`<span class='${oe.SbCss.pager_combo} ${oe.SbCss.pager}'></span>`),I=le.JqUtils.adjustElement(E,`span.${oe.SbCss.combobox}`,`<span class=${oe.SbCss.combobox}></span>`).attr("tabindex",0),B=this.renderText(I);if(this.grid.setEvent("pager","keydown",this.name+"pagerKeyDown",(C=>this.handleKeyDown(C)),B),le.Convert.asNumber(this.option.listCount)>0){const C=this.renderButton(I);this.grid.setEvent("pager","click",this.name+"pagerDropDownOpen",(()=>this.handleClick(I)),C),this.grid.setEvent("pager","focusout",this.name+"pagerDropDownClose",(C=>this.handleFocusOut(C)),I)}this.popupRenderer.hidePopup()}))}renderText(C){const E=le.JqUtils.adjustElement(C,`>span.${oe.SbCss.comboInner}`,`<span class='${oe.SbCss.comboInner}'></span>`),I=le.JqUtils.adjustElement(E,`>input.${oe.SbCss.comboValueText}`,`<input type='text' class='${oe.SbCss.comboValueText}'/>`);return I.val(ToolPager.getCurrentPage(this.grid)),this.renderLastPage(E),I}renderButton(C){const E=le.JqUtils.adjustElement(C,`>span.${oe.SbCss.comboButton}`,`<span class='${oe.SbCss.comboButton}'></span>`);return le.JqUtils.adjustElement(E,`>span.${oe.SbCss.comboButton}.${oe.SbCss.icon}`,`<span class='${oe.SbCss.comboButton} ${oe.SbCss.icon} ${oe.SbCss.angleBottom}'></span>`),E}handleFocusOut(C){const E=C.relatedTarget;if(le.Convert.isValue(E)){if(se.SBGrid3.$(E).is(`.${oe.SbCss.comboPopup}.${oe.SbCss.pager}`))return}this.popupRenderer.hidePopup()}handleKeyDown(C){if("Enter"===C.key){const E=C.target.value;if(isNaN(E)||E<1||E>this.lastPage)return alert(`${this.resource.tool_pagerCombo_alert}`),C.target.value=ToolPager.getCurrentPage(this.grid),!1;const I=parseInt(E);I!==E&&(C.target.value=I),this.paging(I)}return!1}handleClick(C){const E=this.popupRenderer.render(C,this.pagerItemRenderer.render);this.addEventToPopup(E)}addEventToPopup(C){this.grid.setEvent("pager","mousedown",this.name+"pagerDropDownFocus",(E=>{const I=se.SBGrid3.$(E.target).closest(`.${oe.SbCss.comboPopupItem}`);if(I.length<=0)return C[0].focus(),!1;this.selectPage(I)}),C)}renderLastPage(C){le.JqUtils.adjustElement(C,`>span.${oe.SbCss.delimiter}`,`<span class = '${oe.SbCss.delimiter}'>${this.resource.tool_pagerCombo_delimiter}</span>`);le.JqUtils.adjustElement(C,`>span.${oe.SbCss.last}`,`<span class = '${oe.SbCss.last}'>/</span>`).html(`${this.lastPage}`)}selectPage(C){const E=C.attr("data-item");this.paging(parseInt(E))}};class PopupRenderer{constructor(C){this.grid=C,this.name=le.Utils.ensureName("PagerComboPopup")}hidePopup(){this.grid.container.find(`>div#${this.name}_popup`).addClass(oe.SbCss.hidden)}render(C,E){const I=le.JqUtils.adjustElement(this.grid.container,`>div#${this.name}_popup`,`<div id='${this.name}_popup' class='${oe.SbCss.comboPopup} ${oe.SbCss.pager} ${oe.SbCss.hidden}' tabindex=0></div>`);return E(le.JqUtils.adjustElement(I,`>div.${oe.SbCss.wrapPopup}`,`<div class='${oe.SbCss.wrapPopup}'></div>`)),this.setPosition(C,I,me.PopupPositionType.Auto),I}setPosition(C,E,I){const B=this.grid.container.offset(),z=C.get(0).getBoundingClientRect().bottom,{width:q,left:Q}=C.get(0).getBoundingClientRect();let ee,te=Q-B.left-2;switch(I){case me.PopupPositionType.Top:ee=this.positionTop(E,C);break;case me.PopupPositionType.Bottom:ee=this.positionBottom(E,C);break;case me.PopupPositionType.Auto:E.height(),E.height(),B.top,this.grid.height;ee=z+E.height()-B.top<this.grid.height?this.positionBottom(E,C):this.positionTop(E,C);break;default:ee=0}E.css({width:q,left:te,top:ee})}positionBottom(C,E){return new ge.PopupPosition(this.grid.container).positionBottom(C,E),C.data("position",me.PopupPositionType.Bottom),le.Convert.asFloat(C.css("top"))-2}positionTop(C,E){return new ge.PopupPosition(this.grid.container).positionTop(C,E),C.data("position",me.PopupPositionType.Top),le.Convert.asFloat(C.css("top"))}}class PagerItemRenderer{get lastPage(){return this.pager.lastPage}get total(){return this.pager.total}get config(){var C,E;return null!==(C=this._config)&&void 0!==C?C:this._config=null===(E=this.grid.config.pageable)||void 0===E?void 0:E.pagerCombo}constructor(C,E){this.render=C=>{const E=le.JqUtils.adjustElement(C,`>ul.${oe.SbCss.comboPopupItems}`,`<ul class='${oe.SbCss.comboPopupItems}'></ul>`);E.empty(),this.renderItem(E),E.css("height",24*le.Convert.asNumber(this.config.listCount)),C.parent().toggleClass(oe.SbCss.hidden);const I=ToolPager.getCurrentPage(this.grid);return C.scrollTop(24*(I-1)),E},this.grid=C,this.pager=E}renderItem(C){const E=ToolPager.getCurrentPage(this.grid);for(let I=1;I<=this.lastPage;I++){const B=I,z=I,q=le.JqUtils.adjustElement(C,`>li#${oe.SbCss.comboPopupItem}-${z}`,`<li id='${oe.SbCss.comboPopupItem}-${z}' class='${oe.SbCss.comboPopupItem}'></li>`).attr("data-item",B);B===E?q.addClass(oe.SbCss.comboItemSelected):q.removeClass(oe.SbCss.comboItemSelected);const Q=le.JqUtils.adjustElement(q,`>span.${oe.SbCss.text}`,`<span class='${oe.SbCss.text}'></span>`);this.renderItemLabel(Q,B)}}renderItemLabel(C,E){C.append(E+"")}}E.PagerItemRenderer=PagerItemRenderer;E.ToolPageSizeSelect=class ToolPageSizeSelect extends GridTool{constructor(C){super(C,oe.SbCss.page_size)}get option(){var C,E;return null!==(C=this._option)&&void 0!==C?C:this._option=null===(E=this.grid.config.pageable)||void 0===E?void 0:E.pageSizes}get popupRenderer(){var C;return null!==(C=this._popupRenderer)&&void 0!==C?C:this._popupRenderer=new PopupRenderer(this.grid)}render(C){return B(this,void 0,void 0,(function*(){if(le.Convert.isNull(this.option))return;const E=le.JqUtils.adjustElement(C,`>span.${oe.SbCss.pager_combo}.${oe.SbCss.page_size}`,`<span class='${oe.SbCss.pager_combo} ${oe.SbCss.page_size}'></span>`),I=le.JqUtils.adjustElement(E,`span.${oe.SbCss.combobox}`,`<span class=${oe.SbCss.combobox}></span>`).attr("tabindex",0);this.renderPageSize(I),this.renderButton(I);this.grid.setEvent("pager","click",this.name+"pagerDropDownOpen",(()=>this.handleClick(I)),I),this.grid.setEvent("pager","focusout",this.name+"pagerDropDownClose",(C=>this.handleFocusout(C)),I),this.renderText(E),this.popupRenderer.hidePopup()}))}handleFocusout(C){const E=C.relatedTarget;if(le.Convert.isValue(E)){if(se.SBGrid3.$(E).is(`.${oe.SbCss.comboPopup}.${oe.SbCss.pager}`))return}this.popupRenderer.hidePopup()}handleClick(C){const E=this.popupRenderer.render(C,(C=>this.renderPageSizes(C)));this.addEventToPopup(E)}addEventToPopup(C){C.toggleClass(oe.SbCss.hidden),this.grid.setEvent("pager","mousedown",this.name+"pagerDropDownFocus",(E=>{const I=se.SBGrid3.$(E.target).closest(`.${oe.SbCss.comboPopupItem}`);if(I.length<=0)return C[0].focus(),!1;this.changePageSize(I)}),C)}renderPageSizes(C){var E;const I=this.grid.pageSize;let B=null===(E=!1===this.option.includes(I)?[I].concat(this.option):this.option)||void 0===E?void 0:E.sort(((C,E)=>C-E));const z=le.JqUtils.adjustElement(C,`>ul.${oe.SbCss.comboPopupItems}`,`<ul class='${oe.SbCss.comboPopupItems}'></ul>`);return z.empty(),B.forEach((C=>{const E=le.JqUtils.adjustElement(z,`>li#${oe.SbCss.comboPopupItem}-${C}`,`<li id='${oe.SbCss.comboPopupItem}-${C}' class='${oe.SbCss.comboPopupItem}'></li>`).attr("data-item",C);C===I?E.addClass(oe.SbCss.comboItemSelected):E.removeClass(oe.SbCss.comboItemSelected);le.JqUtils.adjustElement(E,`>span.${oe.SbCss.text}`,`<span class='${oe.SbCss.text}'></span>`).text(C)})),z}renderText(C){le.JqUtils.adjustElement(C,`>span.${oe.SbCss.text}`,`<span class='${oe.SbCss.text}'>${this.resource.tool_pagerSizes}</span>`)}changePageSize(C){const E=C.attr("data-item");this.grid.pageSize=parseInt(E)}renderPageSize(C){const E=le.JqUtils.adjustElement(C,`>span.${oe.SbCss.comboInner}`,`<span class='${oe.SbCss.comboInner}'></span>`),I=le.JqUtils.adjustElement(E,`>span.${oe.SbCss.comboValueText}`,`<span class='${oe.SbCss.comboValueText}'></span>`);return I.text(this.grid.pageSize),I}renderButton(C){const E=le.JqUtils.adjustElement(C,`>span.${oe.SbCss.comboButton}`,`<span class='${oe.SbCss.comboButton}'></span>`);return le.JqUtils.adjustElement(E,`>span.${oe.SbCss.comboButton}.${oe.SbCss.icon}`,`<span class='${oe.SbCss.comboButton} ${oe.SbCss.icon} ${oe.SbCss.angleBottom}'></span>`),E}}},3580:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.PersonalStorage=void 0;const B=I(7721),z=I(5260),q=I(1163);class Storage{constructor(C=(()=>window.localStorage)){this.storage=C()}getOriginKey(C){return`${C}`}get(C){return this.storage.getItem(this.getOriginKey(C))}set(C,E){this.storage.setItem(this.getOriginKey(C),E)}clearItem(C){this.storage.removeItem(this.getOriginKey(C))}clearItems(C){C.forEach((C=>this.clearItem(this.getOriginKey(C))))}}E.default=Storage;class PersonalStorage extends Storage{get grid(){return this._grid}get key(){return this._key}set key(C){this._key=C}constructor(C){super(),this._grid=C,this.key=C.config.personalizationKey+"_"+C.config.personalizationVersion}getPersonalizationData(){const C=this.get(this.key);if(this.hasPersonlizationKey(this.grid))return C?JSON.parse(C):null}listPersonalization(){const C=[];if(this.hasPersonlizationKey(this.grid)){for(let E=0;E<localStorage.length;E++)-1!=localStorage.key(E).indexOf(this.key)&&C.push(localStorage.key(E));return C}}savePersonalizationByAll(C){if(this.hasPersonlizationKey(this.grid)){const E={columns:this.grid.columns.map((C=>{let E=C.config;return E.columns=[],PersonalStorage.getChildColumn(C.columns,E.columns),E})),groups:this.grid.dataSource.config.groups,orders:this.grid.dataSource.config.orders,filters:this.grid.dataSource.config.filters};q.Convert.isValue(C)?this.set(this.key+"_"+C,JSON.stringify(E)):this.set(this.key,JSON.stringify(E))}}static getPersnalConfig(C){const E=C.columns.filter((C=>C.part!=B.PartType.Fixed)).map((C=>{const E={caption:q.Convert.isValue(C.config.caption)?C.config.caption:void 0,field:q.Convert.isValue(C.config.field)?C.config.field:void 0,width:q.Convert.isValue(C.config.width)?C.config.width:void 0,visible:q.Convert.isValue(C.config.visible)?C.config.visible:void 0,part:q.Convert.isValue(C.config.part)?C.config.part:void 0,columns:[]=[]};return this.getChildColumn(C.columns,E.columns),E})),{groups:I,orders:z,filters:Q}=C.dataSource.config;return{columns:E,groups:I,orders:z,filters:Q}}savePersonalization(C){if(this.hasPersonlizationKey(this.grid)){const E=PersonalStorage.getPersnalConfig(this.grid);q.Convert.isValue(C)?this.set(this.key+"_"+C,JSON.stringify(E)):this.set(this.key,JSON.stringify(E))}}static getChildColumn(C,E){for(const I of C){const C={caption:q.Convert.isValue(I.config.caption)?I.config.caption:void 0,field:q.Convert.isValue(I.config.field)?I.config.field:void 0,width:q.Convert.isValue(I.config.width)?I.config.width:void 0,visible:q.Convert.isValue(I.config.visible)?I.config.visible:void 0,part:q.Convert.isValue(I.config.part)?I.config.part:void 0,columns:[]=[]};this.getChildColumn(I.columns,C.columns),E.push(C)}return E}stringifyWithFunctions(C){return JSON.stringify(C,(function(C,E){return"function"==typeof E?"function"+E.toString():E}))}jsonParseWithFunctions(C){this.grid;return JSON.parse(C,(function(C,E){if("string"==typeof C&&/^function\s*\(/.test(E)){E.replace(/^function\s*\(/,"(")}return E}))}removePersonalization(C){this.hasPersonlizationKey(this.grid)&&(this.clearItem(C),this.grid.rebuild())}setPersonalization(C){if(this.hasPersonlizationKey(this.grid)){const E=localStorage.getItem(C);this.set(this.key,E),this.grid.rebuild()}}hasPersonlizationKey(C){let E=!0;return 0==q.Convert.isValue(C.config.personalizationKey)&&(z.Log.error((()=>["grid.config.personalizationKey",C.config.personalizationKey])),E=!1),0==q.Convert.isValue(C.config.personalizationVersion)&&(z.Log.error((()=>["grid.config.personalizationVersion",C.config.personalizationVersion])),E=!1),E}}E.PersonalStorage=PersonalStorage},5177:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ToolFactory=E.GridTools=void 0;const B=I(3119);var z;!function(C){C.Title="title",C.Save="save",C.Cancel="cancel",C.Search="search",C.Pager="pager",C.Refresh="refresh",C.Csv="csv",C.Excel="excel",C.ExcelImport="excelImport",C.Pdf="pdf",C.ScrollBar="scrollbar",C.ScrollVert="scrollvert",C.ScrollHorz="scrollhorz",C.Add="add",C.AddRow="addRow",C.AddTop="addTop",C.Insert="insert",C.Append="append",C.Delete="delete",C.Undelete="undelete",C.Group="group",C.Reload="reload",C.Undo="undo",C.Redo="redo",C.Status="status",C.PagerCombo="pagerCombo",C.PageSizes="pageSizes"}(z||(E.GridTools=z={}));E.ToolFactory=class ToolFactory{static create(C,E){switch(E){case z.Title:return new B.ToolTitle(C);case z.Save:return new B.ToolSave(C);case z.Pager:return new B.ToolPager(C);case z.Cancel:return new B.ToolCancel(C);case z.Add:case z.AddRow:return new B.ToolAddRow(C);case z.AddTop:return new B.ToolAddTop(C);case z.Insert:return new B.ToolInsertRow(C);case z.Append:return new B.ToolAppendRow(C);case z.Delete:return new B.ToolDelete(C);case z.Undelete:return new B.ToolUndelete(C);case z.Group:return new B.ToolGroup(C);case z.Undo:return new B.ToolUndo(C);case z.Redo:return new B.ToolRedo(C);case z.Refresh:return new B.ToolRefresh(C);case z.Csv:return new B.ToolCsvExport(C);case z.Excel:return new B.ToolExcelExport(C);case z.ExcelImport:return new B.ToolExcelImport(C);case z.Search:return new B.ToolSearch(C);case z.PagerCombo:return new B.ToolPagerCombo(C);case z.PageSizes:return new B.ToolPageSizeSelect(C);case z.Reload:return new B.ToolReload(C);default:return new B.GridTool(C,E)}}}},2224:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.CopyMode=E.CopyOptionParser=E.Clipboard=void 0;const z=I(5369),q=I(1163),Q=I(860),ee=I(5565),te=I(5774),ie=I(8788),re=I(5260),ne=I(6312);E.Clipboard=class Clipboard{constructor(C){this.grid=C}copy(C){const E=this.unionRanges(C),I=this.parseArray(E),B=this.makeString(I),z=this.parseJSonArray(E),q=JSON.stringify(z);this.setClipboard(B,q)}paste(C){return B(this,void 0,void 0,(function*(){let E=yield this.getClipboard();if(q.Convert.isNull(E))return;const I="string"==typeof E?this.parseArray(E):E.map((C=>Object.values(C)));q.Convert.isValue(C)&&1===C.length&&C[0].rowStart===C[0].rowEnd&&C[0].colStart===C[0].colEnd&&(C=yield this.spreadRange(C[0],I));yield this.makeEditDatas(I,C)}))}fillCells(C,E){return B(this,void 0,void 0,(function*(){yield this._makeEditData(C,E)}))}unionRanges(C){let E;for(const I of C)if(q.Convert.isNull(E))E={type:I.type,cellMap:new Map(I.cellMap)};else{const C=I.cellMap,B=E.cellMap;C.forEach(((C,E)=>{if(B.has(E)){const I=B.get(E);B.set(E,new Set([...I,...C]))}else B.set(E,C)}))}return E}getColumns(C=void 0){let E=[];const I=this.grid;if(void 0===C){C=[];const B=[].concat(I.headColumns).concat(I.viewportColumns).concat(I.tailColumns);q.Arrays.dfsAction(B,(C=>(E.push(C),C.columns)))}else C.forEach((C=>E.push(q.Arrays.dfsSearch(this.grid.visibleColumns,(E=>E.name===C||E.columns)))));return E}makeString(C){const E=null==C?void 0:C.map((C=>C.join("\t")));return null==E?void 0:E.join("\n")}setClipboard(C,E){return B(this,void 0,void 0,(function*(){if(q.Convert.isNull(navigator.clipboard)){var I=document.createElement("textarea");I.style.position="fixed",I.style.opacity="0",I.style.width="0",I.style.height="0",I.textContent=C,document.body.appendChild(I),I.select(),document.execCommand("copy"),document.body.removeChild(I)}else{const I=new Blob([C],{type:"text/plain"}),z=new Blob([E],{type:"web application/json"}),q=new ClipboardItem({"text/plain":I,"web application/json":z}),Q="clipboard-write";navigator.permissions.query({name:Q}).then((C=>B(this,void 0,void 0,(function*(){"granted"==C.state?navigator.clipboard.write([q]).then((()=>B(this,void 0,void 0,(function*(){re.Log.debug("JSON data copied to clipboard successfully")})))).catch((C=>{re.Log.debug(["Unable to copy data to clipboard",C])})):"prompt"==C.state||re.Log.debug(["clipboard-write permission denied."])}))))}}))}getClipboard(){return B(this,void 0,void 0,(function*(){const C=yield navigator.clipboard.read();for(const E of C){const C=E.types.includes("web application/json")?"web application/json":E.types.includes("text/plain")?"text/plain":void 0;if(q.Convert.isNull(C))continue;const I=yield E.getType(C),B=yield I.text();if("web application/json"===C){let C=JSON.parse(B),E=0;for(;E++<5&&"string"==typeof C;)C=JSON.parse(C);return"string"==typeof C?B:C}return B}}))}parseArray(C){if(!q.Convert.isNull(C))return"string"==typeof C?this.parseTextToArray(C):this.parseRangeToArray(C)}parseTextToArray(C){return C.split("\r\n").filter((C=>q.Convert.isValue(C))).map((C=>{if(!q.Convert.isEmpty(C))return C.split("\t")}))}parseRangeToArray(C){const E=C.cellMap,I=[...C.cellMap.keys()];let B=ee.CopyRange.sortRows(I,this.grid);return B.every((C=>q.Convert.isNull(C)))&&(B=I),B.map((I=>{const B="string"==typeof I,z=B?I:I.key,q=E.get(z);return(C.type===ee.SelectType.Row?this.getColumns():ee.CopyRange.sortColumns([...q],this.grid)).filter((C=>C.config.type!==te.ColumnTypes.Frozen)).map((C=>{var E,q,ee;if(B){if(z===Q.PanelType.Header)return null===(E=C.getHeaderValue(void 0))||void 0===E?void 0:E.toString();if(z===Q.PanelType.Footer)return null===(q=C.getFooterValue(void 0))||void 0===q?void 0:q.toString()}else{switch(null===(ee=this.grid.config.copyable)||void 0===ee?void 0:ee.textCopyMode){case se.Label:return C.getCellLabel(I);case se.Value:return C.getCellValue(I);case se.Text:return C.getCellText(I)}}}))}))}parseJSonArray(C){const E=C.cellMap,I=[...C.cellMap.keys()];let B=ee.CopyRange.sortRows(I,this.grid);return B.every((C=>q.Convert.isNull(C)))&&(B=I),B.map((I=>{const B="string"==typeof I,z=B?I:I.key,ie=E.get(z),re=C.type===ee.SelectType.Row?this.getColumns():ee.CopyRange.sortColumns([...ie],this.grid);let ne={};return re.filter((C=>C.config.type!==te.ColumnTypes.Frozen)).forEach((C=>{var E,ee;let te;B?z===Q.PanelType.Header?te=null===(E=C.getHeaderValue(void 0))||void 0===E?void 0:E.toString():z===Q.PanelType.Footer&&(te=null===(ee=C.getFooterValue(void 0))||void 0===ee?void 0:ee.toString()):(te=C.getRawValue(I),te=q.Convert.isNull(te)?"":te),ne[C.name]=te})),ne}))}makeEditDatas(C,E){var I,z,Q;return B(this,void 0,void 0,(function*(){const B=new Map;for(const Q of E){let E=ee.CopyRange.sortRows([...Q.cellMap.keys()],this.grid),ie=C.slice();for(let re=0;re<E.length;re++){const ne=E[re],se=Q.cellMap.get(ne.key);let oe=q.Convert.isNull(se)?this.getColumns():ee.CopyRange.sortColumns([...se],this.grid).filter((C=>C.visible));oe=oe.filter((C=>C.config.type!==te.ColumnTypes.Frozen));let ae=ie[re>C.length-1?re%C.length:re];for(let C=0;C<oe.length;C++){const E=oe[C];if(!1===(null===(I=E.config)||void 0===I?void 0:I.skipPaste)&&!0===E.config.editable){const I=ae[C>ae.length-1?C%ae.length:C];this.update(ne,E,I);const q=null!==(z=B.get(ne.key))&&void 0!==z?z:new Set;q.add(E.name),B.set(ne.key,q)}}}}return this.grid.selectManager.clear(),null===(Q=this.grid.selectManager)||void 0===Q||Q.selectCells(B,!0),[]}))}spreadRange(C,E){var I,z,Q;return B(this,void 0,void 0,(function*(){const B=C.rowStart;let ie=this.grid.view.keyMap.get(B);const re=C.colStart,ne=q.Arrays.dfsSearch(this.grid.columns,(C=>C.name===re||C.columns)),se=this.getColumns();let oe,ae=ie.rowIndex,le=ae+E.length,ue=se.findIndex((C=>C===ne)),de=0;const ce=new Map;for(let C=ae;C<le&&(ie=yield this.grid.view.getRow(C),!q.Convert.isNull(ie));C++){const C=null!==(z=null===(I=null==oe?void 0:oe.cellMap)||void 0===I?void 0:I.get(ie.key))&&void 0!==z?z:new Set;let B=ue+E[de++].length;for(let E=ue;E<B;E++){const I=se[E];if(q.Convert.isNull(I))break;(null==I?void 0:I.config.type)!==te.ColumnTypes.Frozen&&!1!==I.visible?C.add(I.name):B++}const re=null!==(Q=null==oe?void 0:oe.cellMap)&&void 0!==Q?Q:new Map;re.set(ie.key,C),oe={cellMap:re,type:ee.SelectType.Cell},ce.set(ie.key,new Set(C))}return[oe]}))}intersectRange(C,E){const I=new Map;return C.cellMap.forEach(((B,z)=>{if(E.cellMap.has(z))if(C.type===ee.SelectType.Row)I.set(z,void 0);else{const C=E.cellMap.get(z),q=[...B].filter((E=>C.has(E)));q.length>0&&I.set(z,new Set(q))}})),I}subtractRange(C,E){const I=new Map;return C.cellMap.forEach(((B,z)=>{if(E.cellMap.has(z)){if(C.type===ee.SelectType.Row)return!1;const q=E.cellMap.get(z),Q=[...B].filter((C=>!q.has(C)));Q.length>0&&I.set(z,new Set(Q))}else I.set(z,B)})),I}mergeEditData(C,E,I,z){return B(this,void 0,void 0,(function*(){const B=E.key;let Q=C.find((C=>C.key===B&&C.field==I.field));q.Convert.isNull(Q)?C.push({key:null==E?void 0:E.key,field:I.field,value:z}):Q.value=z}))}update(C,E,I){return B(this,void 0,void 0,(function*(){const B={key:null==C?void 0:C.key,field:E.field,value:I};this.grid.fireCommandAsync(this.grid,new z.UpdateCommand([B],E))}))}_makeEditData(C,E){return B(this,void 0,void 0,(function*(){const I={row:C.rowStart!=E.rowStart,col:C.colStart!=E.colStart};let B=this.toArray(C,I),z=this.toArray(E,I),q=!1;if(this.isNarrowed(B,z)){let C=B;B=z,z=C,z.forEach((C=>C.forEach((C=>C.value="")))),q=!0}return B=B.map((C=>C.filter((C=>C.column instanceof ie.FrozenColumn==0)))),yield this.__makeEditData(B,z,q)}))}isNarrowed(C,E){return C.length>E.length||C.length>0&&E.length>0&&C[0].length>E[0].length}__makeEditData(C,E,I=!1){var z,Q,ee;return B(this,void 0,void 0,(function*(){const B=this.grid.selectManager;B.clear();for(const te in E){const re=E[te],ne=Number.parseInt(te);let se=0;for(const E in re){const te=re[E],oe=ne>C.length-1?ne%C.length:ne,ae=se>C[oe].length-1?se%C[oe].length:se,le=C[oe][ae];let ue=!0;if(le.rowItem!=te.rowItem||le.column!=te.column)if(te.column instanceof ie.FrozenColumn==0){if(!1===(null===(Q=null===(z=null==te?void 0:te.column)||void 0===z?void 0:z.config)||void 0===Q?void 0:Q.skipPaste)&&(null===(ee=null==te?void 0:te.column)||void 0===ee?void 0:ee.selectable(null==te?void 0:te.rowItem))){const C=q.Convert.isNull(te.value)?le.column.getRawValue(le.rowItem):te.value;this.update(te.rowItem,te.column,C),ue=!I}}else se--,I&&(ue=le.rowItem==te.rowItem);ue&&B.addSelectedCell(te.rowItem.key,te.column.name),se++}}return[]}))}toArray(C,E){const I=C.cellMap,B=[];I.forEach(((C,E)=>{const I=this.grid.view.keyMap.get(E);B.push(I)}));const z=B.sort(((C,E)=>{const I=null==C?void 0:C.rowIndex,B=null==E?void 0:E.rowIndex;return I<B?-1:I==B?0:1}));E.row&&z.reverse();const Q=[];for(const C in z){const B=z[C],te=I.get(B.key),ie=q.Convert.isValue(te)?[...te]:void 0;let re=this.getColumns(ie);re=ee.CopyRange.sortColumns(re,this.grid),E.col&&re.reverse();const ne=re.map(((C,E)=>({rowItem:B,column:C})));Q.push(ne)}return Q}};class CopyOptionParser{static parseCopyable(C){var E;const I=null===(E=ne.SBGrid3.default)||void 0===E?void 0:E.defaultCopyable;return!1===C?void 0:!0===C?I:CopyOptionParser._parseCopyable(C)}static _parseCopyable(C){var E,I;const B=null===(E=ne.SBGrid3.default)||void 0===E?void 0:E.defaultCopyable;return{fill:q.Convert.default(C.fill,null!==(I=null==B?void 0:B.fill)&&void 0!==I&&I),textCopyMode:q.Convert.default(C.textCopyMode,null==B?void 0:B.textCopyMode,(C=>q.Convert.parseEnum(se,C)))}}}var se;E.CopyOptionParser=CopyOptionParser,function(C){C.Value="value",C.Label="label",C.Text="text"}(se||(E.CopyMode=se={}))},1415:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.EventManager=E.EventHandler=void 0;const z=I(5260),q=I(1163),Q=I(2208),ee=I(6312),te=I(7078);class EventHandler{constructor(C,E,I,B,z){this._handlerName=C,this._eventType=E,this._eventKey=I,this._eventHander=B,this.addTarget(z)}get handlerName(){return this._handlerName}set handlerName(C){this._handlerName=C}get eventType(){return this._eventType}set eventType(C){this._eventType=C}get eventKey(){return this._eventKey}set eventKey(C){this._eventKey=C}get eventHander(){return this._eventHander}set eventHander(C){this._eventHander=C}get eventTargets(){var C;return null!==(C=this._eventTargets)&&void 0!==C?C:this._eventTargets=new Set}checkTarget(C){return this.eventTargets.has(C)}addTarget(C){if(C instanceof HTMLElement)this.eventTargets.add(C);else for(let E of C)this.eventTargets.add(E);for(let C of this.eventTargets.values())0==C.isConnected&&this.eventTargets.delete(C)}}E.EventHandler=EventHandler;E.EventManager=class EventManager{constructor(C){this._doing=!1,this.eventHandler=C=>{if("mousemove"!=C.type&&C.type,q.Convert.isEmpty(this.handlerMap))return;if(0==this.handlerMap.has(C.type))return;if(this.grid.hasDetail){const E=C.composedPath();for(const C of E)if(C instanceof HTMLElement&&C.className.split(" ").indexOf(te.SbCss.grid)>=0){if(C.id==this.grid.name)break;return}}const E=C.composedPath();this.lock.critical((()=>B(this,void 0,void 0,(function*(){0!=this.handlerMap.has(C.type)&&this.processEvent(C,this.handlerMap.get(C.type),E)}))))},this._grid=C}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new q.Lock}get grid(){return this._grid}get handlerMap(){var C;return null!==(C=this._handlerMap)&&void 0!==C?C:this._handlerMap=new Map}get doing(){return this._doing}setHandler(C,E,I,B=void 0,z=void 0,Q=!1){if(q.Convert.isEmpty(E))return;0==this.handlerMap.has(E)&&this.handlerMap.set(E,[]);const ee=this.handlerMap.get(E),findPredicate=E=>E.handlerName===C&&E.eventKey===I;if(q.Convert.isNull(B)||q.Convert.isEmpty(z)){const C=ee.findIndex(findPredicate);return void(C>=0&&ee.splice(C,1))}const te=ee.findIndex(findPredicate);let ie;te>=0&&(ie=ee[te],ee.splice(te,1),ie.eventHander==B?ie.addTarget(z):ie=void 0),q.Convert.isNull(ie)&&(ie=new EventHandler(C,E,I,B,z)),ee.push(ie);const re={capture:!1,passive:!1};"wheel"!=E&&"scroll"!=E||(re.capture=!0),Q?z instanceof Array?z.forEach((C=>{C.removeEventListener(E,this.eventHandler),C.addEventListener(E,this.eventHandler,re)})):(z.removeEventListener(E,this.eventHandler),z.addEventListener(E,this.eventHandler,re)):(this.grid.container[0].removeEventListener(E,this.eventHandler),this.grid.container[0].addEventListener(E,this.eventHandler,re))}cloneEvent(C,E){let I=C;return I.currentTarget=E,I}processEvent(C,E,I){return B(this,void 0,void 0,(function*(){if(q.Convert.isNull(E))return;if(q.Convert.isEmpty(I))return;let B=!1,te=ee.SBGrid3.$.event.fix(C);const ie=this.grid.wrapper[0];try{this._doing=!0;for(const C of I){if(C==ie)break;if(C instanceof HTMLElement==0)continue;const I=C;te=this.cloneEvent(te,I);for(let C of E)if(C.checkTarget(I)){const E=C.eventHander(te);if(B=E instanceof Promise?!1===(yield E):!1===E,B)return}}}catch(B){throw z.Log.warn(["EventManager.processEvent",{event:C,handlers:E,eventPath:I}]),B}finally{if(B&&(C.stopPropagation(),C.stopImmediatePropagation()),this._doing=!1,q.Convert.isValue(this.grid.refreshingCommands)){const C=Q.Grid.mergeRefreshCommand(this.grid.refreshingCommands.splice(0));this.grid.fireCommandAsync(this.grid,C)}}}))}disconnect(){this.clear()}clear(){this.handlerMap.clear()}}},7443:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.Direction=E.KeyboardShortCut=E.KeyboardEventHandler=E.FocusEvent=E.FocusManager=void 0;const z=I(273),q=I(2663),Q=I(5369),ee=I(5165),te=I(3354),ie=I(5260),re=I(1163),ne=I(6258),se=I(6938),oe=I(8964),ae=I(860),le=I(6312),ue=I(7078),de=I(3419),ce=I(8788),he=I(373),fe=I(7721),pe=I(5774),me=I(8956),ge=I(289);class FocusManager extends z.Observer{get grid(){return this._grid}set grid(C){this._grid=C}get focus(){return this._focus}set focus(C){this.moveFocus(C)}get layouts(){return this.grid.layouts}get keyboardEventHandler(){var C;return null!==(C=this._keyboardEventHandler)&&void 0!==C?C:this._keyboardEventHandler=new KeyboardEventHandler(this.grid)}get editConfig(){var C;return null!==(C=this._editConfig)&&void 0!==C?C:this._editConfig=re.Convert.isValue(this.grid.config.editable)?this.grid.config.editable:void 0}set gridSearch(C){this._gridSearch=C}get gridSearch(){var C;return null!==(C=this._gridSearch)&&void 0!==C?C:this._gridSearch=this.grid.config.search?new me.GridSearch(this.grid):void 0}constructor(C){super(C),this.koreanKeyEditType=[pe.ColumnTypes.Text,pe.ColumnTypes.MultiText],this._grid=C}initFocusManager(C){this.addEventListner(C),this.keyboardEventHandler.addEventListner(C),this.initFocus()}addEventListner(C){const E=C.get(0);let I=this.grid.editConfig;this.grid.setEvent("FocuseManager","mousedown","Focus",(C=>this.handleMouseDown(C)),E),this.grid.setEvent("FocusManager","focusout","Focusout",(C=>{this.handleFocusOut(this.grid.container.get(0),C)}),this.grid.container),re.Convert.isValue(I)&&this.grid.setEvent("FocuseManager",I.eventType,"Edit",(C=>this.handleEdit(C)),E)}handleEdit(C){1==C.which&&this.enableEdit(C)}handleFocusOut(C,E){if(this.grid.view.editKeyMap.size<=0)return;const I=E.relatedTarget,B=re.Convert.isNull(I)||!C.contains(I),z=C.contains(E.target);B&&z&&setTimeout((()=>{const I=document.activeElement;0==C.contains(I)&&(ie.Log.debug(["focus out occured.",E]),this.cancelEdit(!1))}),0)}initFocus(){return B(this,void 0,void 0,(function*(){const C=this.focus;re.Convert.isNull(C)||this.adjustFocus()}))}adjustFocus(){var C,E,I,B,z;const q=null===(C=this.focus)||void 0===C?void 0:C.rowItem,Q=null===(E=this.focus)||void 0===E?void 0:E.column,te=null===(I=this.focus)||void 0===I?void 0:I.panelType;let ie=null===(B=this.focus)||void 0===B?void 0:B.cell;if(te===ae.PanelType.Body&&0==this.grid.view.keyMap.has(q.key))return void(this._focus=void 0);const ne=FocusManager.getLayout(this.layouts,te,q);let se=FocusManager.findCellFromColumn(ne,Q,null==ie?void 0:ie.row);se=re.Convert.isNull(se)?FocusManager.findCellFromColumn(ne,Q):se,re.Convert.isNull(se)||ie.col!=(null==se?void 0:se.col)&&(this.focus.cell=se,null===(z=this._keyboardEventHandler)||void 0===z||z.focusMoved(),this.fireCommandAsync(this,new ee.RefreshCommand))}static findCellFromColumn(C,E,I){var B;let z=0,q=C.rows.length;re.Convert.isValue(I)&&(z=I,q=I+1);for(let I=z;I<q;I++){const z=C.rows[I];let q=null!==(B=null==z?void 0:z.cells)&&void 0!==B?B:[];for(const C of q)if(E==(null==C?void 0:C.column))return C}}static getLayout(C,E,I){switch(E){case ae.PanelType.Caption:return C.captionLayout;case ae.PanelType.Body:{const E=null==I?void 0:I.node,B=E instanceof te.GroupNode,z=E instanceof te.FooterNode;if(B||z){const I=B?E:E.parent;if(I instanceof te.TreeNode)return C.treeFooterLayout;const z=C.groupLayout(I.igroup.field);return B?z.header:z.footer}return C.rowLayout}case ae.PanelType.Header:return C.headerLayout;case ae.PanelType.Footer:return C.footerLayout;case ae.PanelType.Filter:return C.filterLayout}}initEditEvent(C){let E=this.grid.editConfig;re.Convert.isValue(E)&&this.grid.setEvent("FocuseManager",E.eventType,"Edit",(C=>{1==C.which&&this.enableEdit(C)}),C)}handleMouseDown(C){return B(this,void 0,void 0,(function*(){const E=le.SBGrid3.$(C.target).closest(`.${ue.SbCss.col}`),I=E.data("cell");if(re.Convert.isNull(I))return;const B={rowItem:yield this.grid.getRowItem(E),column:I.column,cell:I,panelType:this.getPanelType(E),eventType:ve.mousedown};yield this.moveFocus(B)}))}moveFocus(C){var E,I,z,q,Q,ee,te,ne,se,oe,le;return B(this,void 0,void 0,(function*(){if(this.isValidFocus(C))return;const B=null==C?void 0:C.rowItem,ue=null==C?void 0:C.column,de=null!==(E=C.cell)&&void 0!==E?E:C.cell=(null==C?void 0:C.panelType)===ae.PanelType.Body?re.Utils.findCellFromColumn(this.layouts.rowLayout,ue):void 0,ce=null==C?void 0:C.panelType;let fe=re.Convert.isEmpty(this.focus)||!this.isFocused(B,ue,ce,de);const pe=null===(I=this.focus)||void 0===I?void 0:I.rowItem,me=null===(z=this.focus)||void 0===z?void 0:z.column;if(fe)try{if(!1===this.canGridCommand(B,ue,pe,me))return!1;if(0==this.update(B,ue))return!1;if(yield this._moveFocus(C))return this.grid.doGridCommand(new he.GridFocusCommand(null==B?void 0:B.key,ue,null==pe?void 0:pe.key,me)),yield this.scrollIntoView(null===(q=this.focus)||void 0===q?void 0:q.rowItem,null===(Q=this.focus)||void 0===Q?void 0:Q.cell,FocusManager.getLayout(this.layouts,null===(ee=this.focus)||void 0===ee?void 0:ee.panelType,null===(te=this.focus)||void 0===te?void 0:te.rowItem)),this.doSelect(),!0}catch(C){return ie.Log.debug(["focus change fail",C]),!1}else yield this.scrollIntoView(null===(ne=this.focus)||void 0===ne?void 0:ne.rowItem,null===(se=this.focus)||void 0===se?void 0:se.cell,FocusManager.getLayout(this.layouts,null===(oe=this.focus)||void 0===oe?void 0:oe.panelType,null===(le=this.focus)||void 0===le?void 0:le.rowItem))}))}focusKeyEditElement(){var C,E,I,B;if(!1===(null===(C=this.grid.editConfig)||void 0===C?void 0:C.keyEdit))return;if(this.grid.view.editKeyMap.size>0)return;if((null===(E=this.focus)||void 0===E?void 0:E.panelType)!==ae.PanelType.Body)return;const z=this.grid.container.find(`.${ue.SbCss.panel}.${ue.SbCss.hidden}`),q=re.JqUtils.adjustElement(z,`input[type=text].${ue.SbCss.input}.${ue.SbCss.keyedit}`,`<input type="text" class="${ue.SbCss.input} ${ue.SbCss.keyedit}"/>`),Q=document.activeElement;(Q.isSameNode(this.grid.container.get(0))||Q.isSameNode(q.get(0)))&&this.koreanKeyEditType.includes(null===(B=null===(I=this.focus)||void 0===I?void 0:I.column)||void 0===B?void 0:B.type)?!q.is(document.activeElement)&&this.focusToElement(q.get(0),!0):q.is(document.activeElement)&&this.focusToElement(this.grid.container.get(0),!0)}isValidFocus(C){if((null==C?void 0:C.panelType)===ae.PanelType.Body){if(re.Convert.isNull(null==C?void 0:C.rowItem))return!0;if(re.Convert.isNull(null==C?void 0:C.column))return!0}return!1}doSelect(){var C,E;if(this.focus.eventType===ve.mousedown)return;const I=new ee.SelectCommand;I.start={rowItem:null===(C=this.focus)||void 0===C?void 0:C.rowItem,column:null===(E=this.focus)||void 0===E?void 0:E.column},I.end=I.start,this.fireCommandAsync(this,I)}_moveFocus(C){var E,I;return B(this,void 0,void 0,(function*(){const B=this.focus;this._focus=C;const z=new ee.FocusedCommand(this.focus,B,this.focus.eventType),q=null===(E=yield this.fireCommandAsync(this,z))||void 0===E||E;return q?(re.Convert.isValue(B)&&this.fireCommandAsync(this,this.makeRefreshCommand(B)),this.fireCommandAsync(this,this.makeRefreshCommand(this.focus)),null===(I=this._keyboardEventHandler)||void 0===I||I.focusMoved(),this.setRowItemFocus(this._focus,B)):this._focus=B,q}))}setRowItemFocus(C,E){(null==C?void 0:C.rowItem)!=(null==E?void 0:E.rowItem)&&(re.Convert.isValue(null==C?void 0:C.rowItem)&&(C.rowItem.isFocus=!0),re.Convert.isValue(null==E?void 0:E.rowItem)&&(E.rowItem.isFocus=!1))}changeTop(C){var E,I,z,q,Q;return B(this,void 0,void 0,(function*(){let B=this.grid.topRow;if(re.Convert.isValue(this.focus.rowItem)){let q=(null===(E=null==C?void 0:C.rowItem)||void 0===E?void 0:E.rowIndex)<(null===(z=null===(I=this.focus)||void 0===I?void 0:I.rowItem)||void 0===z?void 0:z.rowIndex)?1:-1;const Q=yield this.getTopRow(this.focus.rowItem,q,B);B!=Q&&(this.grid.topRow=Q,ie.Log.debug(["topRow Changed !!",B,"--\x3e",Q]))}const ee=this.grid.topCol;let te=(null===(q=this.focus)||void 0===q?void 0:q.column.index)>(null===(Q=null==C?void 0:C.column)||void 0===Q?void 0:Q.index)?1:-1,ne=yield this.getTopCol(ee,te,this.focus.column.index);re.Convert.isNull(null==ne?void 0:ne.nextTopCol)&&(ne=yield this.getTopCol(ee,-1*te,this.focus.column.index)),re.Convert.isValue(null==ne?void 0:ne.nextTopCol)&&ee!=(null==ne?void 0:ne.nextTopCol)&&(this.grid.topCol=null==ne?void 0:ne.nextTopCol,ie.Log.debug(["topCol Changed !!",ee,"--\x3e",null==ne?void 0:ne.nextTopCol]))}))}getTopRow(C,E,I){var z;return B(this,void 0,void 0,(function*(){const B=(this.grid.virtualRow?yield this.grid.viewport.calcRows(I):this.grid.rowsView).currRows;for(-1===E&&(re.Convert.isEmpty(B)||(null===(z=B[B.length-1])||void 0===z?void 0:z.rowIndex)<(null==C?void 0:C.rowIndex))&&(E=1);(yield this.needReload(C,E,I))&&!((I+=E)<0||I>this.grid.rowCount););return I}))}needReload(C,E,I){var z,q;return B(this,void 0,void 0,(function*(){const B=this.grid.virtualRow?yield this.grid.viewport.calcRows(I):this.grid.rowsView,Q=B.currRows,ee=Q.findIndex((E=>{var I;return(null===(I=E.rowItem)||void 0===I?void 0:I.rowIndex)===C.rowIndex}));let ie=ee<0;if(!ie&&1===E){const C=Q[ee];Q[ee+E];let I,re=Q[Q.length-1];if(re.rowItem.isSticky){I=B.scrollHeight;let C=Q.length-1;for(;null===(z=null==re?void 0:re.rowItem)||void 0===z?void 0:z.isSticky;)I-=re.rowHeight.height,re=Q[--C]}else I=(null===(q=null==re?void 0:re.rowItem)||void 0===q?void 0:q.node)instanceof te.FooterNode||B.scrollHeight<re.top?B.scrollHeight-re.rowHeight.height:re.top;I<C.top+C.rowHeight.height&&(ie=!0)}return ie}))}getTopCol(C,E,I,z){return B(this,void 0,void 0,(function*(){const B=yield this.grid.viewport.calcCols(C,!0);if(C<0||C>B.lastCol)return;const z=B.fullCells,q=z.findIndex((C=>C.column.index===I)),Q=z[q];if(re.Convert.isNull(Q)){if(re.Convert.isEmpty(B.bodyCells))return;return E>0&&C>I&&(E=-1),E<0&&C<I&&(E=1),yield this.getTopCol(C+E,E,I)}return Q.outOfView,{nextTopCol:C,nextCell:Q}}))}canGridCommand(C,E,I,B){let z;return!re.Convert.isValue(null==C?void 0:C.key)||(z=new he.GridFocusCommand(null==C?void 0:C.key,E,I,B),0!=this.grid.canGridCommand(z))}makeRefreshCommand(C,E=!0){var I,B,z,q;let Q;return Q={rowStart:null===(I=null==C?void 0:C.rowItem)||void 0===I?void 0:I.rowIndex,rowEnd:null===(B=null==C?void 0:C.rowItem)||void 0===B?void 0:B.rowIndex,colStart:null===(z=null==C?void 0:C.column)||void 0===z?void 0:z.index,colEnd:null===(q=null==C?void 0:C.column)||void 0===q?void 0:q.index,onlyLayout:E},new ee.RefreshCommand(Q)}update(C,E){const I=this.focus;if(re.Convert.isValue(C)){this.directApplyEdit(null==I?void 0:I.column,E);if(!this.hasUpdate(C,E))return!0}const B=this.validationCkeck(null==I?void 0:I.column);if(!B)throw ie.Log.debug(["validatation check fail!"]),this.fireCommandAsync(this,new ee.RefreshCommand({rowStart:I.rowItem.rowIndex,rowEnd:I.rowItem.rowIndex,colStart:I.column.index,colEnd:I.column.index})),"validatation check fail!";return this._update(null==I?void 0:I.column),B}directApplyEdit(C,E){(null==C?void 0:C.directApplyEdit)&&0==(null==E?void 0:E.directApplyEdit)&&this.focusToGridContainer()}focusToGridContainer(){this.focusToElement(this.grid.container.get(0),!0)}focusToElement(C,E=!0){C.focus({preventScroll:E})}validationCkeck(C){var E;const I=null===(E=this.editConfig)||void 0===E?void 0:E.mode;let B=!0;const z=I===ne.EditMode.incell?[C]:[].concat(this.grid.headColumns).concat(this.grid.scrollColumns).concat(this.grid.tailColumns);return[...this.grid.view.editKeyMap.keys()].forEach((C=>{const E=this.grid.view.keyMap.get(C);re.Arrays.bfsAction(z,(C=>{if(!1===C.editable(E)||re.Convert.isNull(C.config.validators))return C.columns;return C.isValid(E).state!==de.ValidationState.Valid&&(B=!1),C.columns}))})),B}_update(C){var E;const I=[...this.grid.view.editKeyMap.keys()],B=(null===(E=this.editConfig)||void 0===E?void 0:E.mode)==ne.EditMode.incell;I.forEach((E=>{const I=this.grid.view.keyMap.get(E),z=B?this.incellUpdate(I,C):this.inlineUpdate(I,C);re.Convert.isValue(z)&&this.fireCommandAsync(this,new Q.UpdatedCommand(z)),this.grid.doGridCommand(new he.GridEditCommand(I.key,C,!1)),this.fireCommandAsync(this,new ee.RefreshCommand({rowStart:I.rowIndex,rowEnd:I.rowIndex,onlyLayout:!1}))})),this.focusToGridContainer(),this.grid.view.clearEdit()}incellUpdate(C,E,I=!0){if(!E.editable(C)||E.config.directApplyValue)return;const B=E.getTemp(C),z=C.data[E.field];return E.setValueDirect(C,B,E.field),I&&this.detailComboUpdate(C,E),[{key:C.key,value:B,field:E.field,oldValue:z,editable:E.editable(C)}]}detailComboUpdate(C,E){E instanceof ge.ComboColumn&&this.grid.columns.forEach((E=>{if(E instanceof ge.ComboColumn){if(re.Convert.isNull(E.config.masterField))return;const I=C.temp[E.field];E.setValueDirect(C,I,E.field)}}))}inlineUpdate(C,E){const I=C.temp,B=[].concat(this.grid.headColumns).concat(this.grid.scrollColumns).concat(this.grid.tailColumns),z=Object.keys(I),q=[];return re.Arrays.dfsAction(B,(E=>{const I=this.incellUpdate(C,E,!1);return re.Convert.isValue(I)&&q.push(...I),E.columns})),(re.Convert.isEmpty(z)||z.length<2)&&this.fireCommandAsync(this,new ee.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})),q}hasUpdate(C,E){var I;const B=this.focus,z=null===(I=this.grid.editConfig)||void 0===I?void 0:I.mode;if(re.Convert.isNull(z))return!1;const q=this.grid.view.editKeyMap;let Q=!1;switch(z){case ne.EditMode.incell:Q=(null==q?void 0:q.size)>0&&((null==B?void 0:B.rowItem)!==C||(null==B?void 0:B.column)!=E);break;case ne.EditMode.inline:Q=(null==q?void 0:q.size)>0&&(null==B?void 0:B.rowItem)!==C}return Q}enableEdit(C){return B(this,void 0,void 0,(function*(){let E=le.SBGrid3.$(C.target).closest(`.${ue.SbCss.col}`),I=yield this.grid.getRowItem(E),B=this.grid.getColumn(E);re.Convert.isNull(I)||re.Convert.isNull(B)||this._enableEdit(I,B)}))}_enableEdit(C,E){var I;((null===(I=this.editConfig)||void 0===I?void 0:I.mode)!==ne.EditMode.incell||E.editable(C))&&(C.node instanceof te.GroupNode||re.Convert.isEmpty(this.grid.view.editKeyMap)&&this.fireCommandAsync(this,new ee.EditCommand("",C,E)))}cancelEdit(C=!0){re.Convert.isValue(this.grid.view.editKeyMap)&&(this.grid.view.clearEdit(),this.fireCommand(this,new ee.RefreshCommand({rowStart:this.focus.rowItem.rowIndex,rowEnd:this.focus.rowItem.rowIndex})),C&&this.focusToGridContainer())}doCommand(C,E){switch(E.command){case q.Commands.Cancel:case q.Commands.Escape:this.doEscapeCommand(E);break;case q.Commands.Edit:this.doEditCommand(E);break;default:return super.doCommand(C,E)}return!0}getPanelType(C){const E=C.closest(`.${ue.SbCss.panel}`);return E.length<1?void 0:E.hasClass(ue.SbCss.body)?ae.PanelType.Body:E.hasClass(ue.SbCss.header)?ae.PanelType.Header:E.hasClass(ue.SbCss.footer)?ae.PanelType.Footer:E.hasClass(ue.SbCss.caption)?ae.PanelType.Caption:E.hasClass(ue.SbCss.filter)?ae.PanelType.Filter:void 0}doEscapeCommand(C){var E;(null===(E=this.focus)||void 0===E?void 0:E.panelType)!==ae.PanelType.Body||this.cancelEdit()}doEditCommand(C){this.focus.column,oe.GroupColumn}isFocused(C,E,I,B){var z,q,Q,ee;const te=this.focus;return re.Convert.isNull(B)&&I==ae.PanelType.Body&&(B=re.Utils.findCellFromColumn(this.layouts.rowLayout,E)),(null==te?void 0:te.panelType)===I&&(null===(z=null==te?void 0:te.rowItem)||void 0===z?void 0:z.key)===(null==C?void 0:C.key)&&(null===(q=null==te?void 0:te.column)||void 0===q?void 0:q.name)===(null==E?void 0:E.name)&&(null===(Q=null==te?void 0:te.cell)||void 0===Q?void 0:Q.row)==(null==B?void 0:B.row)&&(null===(ee=null==te?void 0:te.cell)||void 0===ee?void 0:ee.col)==(null==B?void 0:B.col)}doTabNextFocusFilter(){this.keyboardEventHandler.keyboardNavigation.doTabNextFocusFilter()}disconnect(){var C;null===(C=this.gridSearch)||void 0===C||C.cancel()}clear(){this._focus=void 0,this.disconnect()}scrollIntoView(C,E,I){var z,q;return B(this,void 0,void 0,(function*(){if(yield FocusManager.scrollIntoRowView(this.grid,C),re.Convert.isNull(E))return;if(E.isSticky&&0==I.stickyOverflow)return;if(E.part==fe.PartType.Fixed||E.part==fe.PartType.Head||E.part==fe.PartType.Tail)return;let B=1;const Q=yield this.grid.viewport.calcCols(this.grid.topCol,!0,I),ee=I.stickyOverflow?null===(z=Q.bodyCells[0])||void 0===z?void 0:z.col:null===(q=Q.bodyCells.find((C=>C.part==fe.PartType.Body)))||void 0===q?void 0:q.col,te=Q.bodyCells.find((C=>C.col==E.col&&C.row==E.row));if(E.col<=ee)B=-1;else if(re.Convert.isValue(te)&&te.outOfView==se.OutOfView.Visible)return te;yield FocusManager.scrollIntoColView(this.grid,B,E,I)}))}static scrollIntoRowView(C,E){var I;return B(this,void 0,void 0,(function*(){if(re.Convert.isNull(E))return;if(E.isSticky)return;const B=E.rowIndex;let z=C.topRow;const q=C.virtualRow?C.rowsView:yield C.viewport.calcRows(z),Q=q.currRows;if(re.Convert.isEmpty(Q))return;const ee=null===(I=Q[Q.length-1])||void 0===I?void 0:I.rowIndex;if(Q.some((C=>C.rowIndex==E.rowIndex))&&(q.scrollHeight>=q.rowHeights||ee!=B))C.topRow=z;else if(B<z)C.topRow=B;else if(ee==B)C.topRow+=1;else if(ee<B){for(z+=B-ee+1;!(z>=C.rowCount);){let E=(yield C.viewport.calcRows(z)).currRows;if(E.some((C=>C.rowIndex==B))){E[E.length-1].rowIndex==B&&z++;break}z++}C.topRow=z}else C.topRow=B}))}static scrollIntoColView(C,E,I,z){return B(this,void 0,void 0,(function*(){if(I.part==fe.PartType.Fixed||I.part==fe.PartType.Head||I.part==fe.PartType.Tail)return I;if(0==z.stickyOverflow&&I.part==fe.PartType.Sticky)return I;let q=C.topCol;if(q===I.col)return ie.Log.debug(["topCol Changed ",C.topCol,"--\x3e",q]),void(C.topCol=q);return 0==(yield calcTopCol(C,q,E,z))&&(yield calcTopCol(C,q,-E,z)),I;function calcTopCol(C,E,z,q){return B(this,void 0,void 0,(function*(){for(;;){const B=yield C.viewport.calcCols(E,!0,q);if(B.bodyCells.findIndex((C=>C.col==I.col&&C.row==I.row&&C.outOfView===se.OutOfView.Visible))>=0)return C.topCol!=E&&(ie.Log.debug(["topCol Changed ",C.topCol,"---\x3e",E]),C.topCol=E),!0;if((E+=z)<0||B.lastCol<E)break}return!1}))}}))}}var ve,ye,be;E.FocusManager=FocusManager,function(C){C.keydown="keydown",C.mousedown="mousedown"}(ve||(E.FocusEvent=ve={}));class KeyboardEventHandler extends z.Observer{get keyboardNavigation(){return this._keyboardNavigation}set keyboardNavigation(C){this._keyboardNavigation=C}get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.navigatable}constructor(C){super(C),this.grid=C,this.grid.config.navigatable&&(this.keyboardNavigation=new KeyboardNavigation(this.grid))}getCommand(C,E){var I;const B=null!==(I=this.commands)&&void 0!==I?I:this.commands=new Map;let z;return B.has(C)?z=B.get(C):(z=q.CommandFactory.create(C,...E),this.commands.set(C,z)),z}addEventListner(C){this.grid.setEvent("FocusManager","keydown","KeyboardEventHandler",(C=>(C.ctrlKey||C.metaKey?this.ctrlKeyEventOccured(C):C.shiftKey?this.shiftKeyEventOccured(C):this.keyEventOccured(C),!0)),this.grid.container[0])}keyEventOccured(C){var E,I,B,z,q,Q,te;const ie=this.grid.focusManager.focus;let ne,se;if(re.Convert.isNull(ie))return!0;switch(C.key){case ye.ArrowDown:case ye.ArrowLeft:case ye.ArrowRight:case ye.ArrowUp:return se=this.isFilterEdit(ie),void(se||(C.preventDefault(),null===(E=this.keyboardNavigation)||void 0===E||E.naviNextFocus(C.key)));case ye.Tab:return se=this.isFilterEdit(ie),C.preventDefault(),void(null===(I=this.keyboardNavigation)||void 0===I||I.doTabNextFocus());case ye.Home:return C.preventDefault(),void(null===(B=this.keyboardNavigation)||void 0===B||B.naviFirstCell(ie.rowItem,ie.panelType));case ye.End:return C.preventDefault(),void(null===(z=this.keyboardNavigation)||void 0===z||z.naviLastCell(ie.rowItem,ie.panelType));case ye.PageUp:return C.preventDefault(),void(null===(q=this.keyboardNavigation)||void 0===q||q.doPageChange(-1));case ye.PageDown:return C.preventDefault(),void(null===(Q=this.keyboardNavigation)||void 0===Q||Q.doPageChange(1));case ye.Esc:case ye.Escape:ne=new ee.EscapeCommand;break;case ye.Enter:ne=(null==ie?void 0:ie.panelType)===ae.PanelType.Filter?new ee.EditFilterCommand(C,ie):this.doEnter(ie,C);break;default:if(null===(te=this.grid.focusManager.editConfig)||void 0===te?void 0:te.keyEdit){const E=this.checkKeyCode(C.key,C.keyCode);if(!1===E)return;this.keyEdit(E)}}re.Convert.isValue(ne)&&this.fireCommandAsync(this,ne)}isFilterEdit(C){return(null==C?void 0:C.panelType)===ae.PanelType.Filter&&this.grid.scrollPanel.filterPanel.isEdit}doEnter(C,E){var I,B;const z=C.column;let Q;return(null===(I=this.option)||void 0===I?void 0:I.enterToNext)?Q=this.enterToNext(C):z.editable(null==C?void 0:C.rowItem)&&z.isEdit(C.rowItem)?this.doUpdate():z.editable(null==C?void 0:C.rowItem)&&(Q=q.CommandFactory.create(q.Commands.Edit,null===(B=this.grid.editConfig)||void 0===B?void 0:B.mode,C.rowItem,C.column)),Q}enterToNext(C){var E,I;const B=null==C?void 0:C.column,z=null==C?void 0:C.rowItem;if((null==B?void 0:B.editable(z))&&!B.isEdit(z))return q.CommandFactory.create(q.Commands.Edit,null===(E=this.grid.editConfig)||void 0===E?void 0:E.mode,z,B);null===(I=this.keyboardNavigation)||void 0===I||I.enterToNext()}doUpdate(){try{this.grid.focusManager.update()}catch(C){ie.Log.debug(C)}}keyEdit(C){var E;if(this.grid.config.editable){const I=this.grid.focusManager.focus,B=null==I?void 0:I.rowItem,z=null==I?void 0:I.column;if(re.Convert.isNull(B)||re.Convert.isNull(z))return;if(!1===(null==z?void 0:z.editable(B)))return;if(null==z?void 0:z.isEdit(B))return;const Q=q.CommandFactory.create(q.Commands.Edit,null===(E=this.grid.editConfig)||void 0===E?void 0:E.mode,B,z);this.fireCommand(this,Q)&&!re.Convert.isNull(C)&&z._setTemp(I.rowItem,C)}}checkKeyCode(C,E){if([8,18,20,21,,25,45,46,91,93,112,114,115,116,117,118,119,120,121,122,123,144,145].includes(E))return!1;return[13,20,23,91,93,229].includes(E)?"":113!==E?C:void 0}shiftKeyEventOccured(C){var E,I;return B(this,void 0,void 0,(function*(){let B;const z=this.grid.focusManager.focus;switch(C.key){case ye.ArrowLeft:case ye.ArrowRight:case ye.ArrowDown:case ye.ArrowUp:B=q.CommandFactory.create(q.Commands.Select,[C,z]);break;case ye.Tab:this.isFilterEdit(z)&&this.grid.container.get(0).focus(),C.preventDefault(),(null===(I=null===(E=this.keyboardNavigation)||void 0===E?void 0:E.naviConfig)||void 0===I?void 0:I.tabToNextCell)&&this.keyboardNavigation.doTabPrevFocus()}re.Convert.isValue(B)&&this.fireCommandAsync(this,B)}))}ctrlKeyEventOccured(C){switch(C.key.toLowerCase()){case"z":C.shiftKey?this.fireCommandAsync(this,new Q.RedoCommand):this.fireCommandAsync(this,new Q.UndoCommand);break;case"y":this.fireCommandAsync(this,new Q.RedoCommand);break;case"c":this.fireCommandAsync(this,new Q.CopyCommand);break;case"v":this.fireCommandAsync(this,new Q.PasteCommand);break;case"a":C.preventDefault(),this.fireCommandAsync(this,new ee.SelectCommand);break;case"f":C.preventDefault(),this.searchCommand();break;default:C.preventDefault()}}searchCommand(){if(this.grid.config.search){const C=this.grid.focusManager.gridSearch,E=null==C?void 0:C.render(!0);null==C||C.move(E)}}focusMoved(){var C;null===(C=this.keyboardNavigation)||void 0===C||C.setCellInfo()}}E.KeyboardEventHandler=KeyboardEventHandler;class KeyboardNavigation extends z.Observer{get focus(){return this.focusManager.focus}get focusManager(){var C;return null!==(C=this._focusManager)&&void 0!==C?C:this._focusManager=this.grid.focusManager}get row(){return this._row}set row(C){this._row=C}get col(){return this._col}set col(C){this._col=C}get naviConfig(){var C;return null!==(C=this._naviConfig)&&void 0!==C?C:this._naviConfig=this.grid.config.navigatable}get tabConfig(){var C,E,I;return null!==(C=this._tabConfig)&&void 0!==C?C:this._tabConfig=re.Convert.isValue(null===(E=this.naviConfig)||void 0===E?void 0:E.tabToNextCell)?null===(I=this.naviConfig)||void 0===I?void 0:I.tabToNextCell:void 0}get enterConfig(){var C,E,I;return null!==(C=this._enterConfig)&&void 0!==C?C:this._enterConfig=re.Convert.isValue(null===(E=this.naviConfig)||void 0===E?void 0:E.enterToNext)?null===(I=this.naviConfig)||void 0===I?void 0:I.enterToNext:void 0}constructor(C){super(C),this.grid=C}setCellInfo(){var C,E;const I=this.focus;"mousedown"===I.eventType&&re.Convert.isValue(null==I?void 0:I.cell)&&(this.row=null===(C=null==I?void 0:I.cell)||void 0===C?void 0:C.row,this.col=null===(E=null==I?void 0:I.cell)||void 0===E?void 0:E.col)}naviNextFocus(C){return B(this,void 0,void 0,(function*(){const E=this.focus,I={rowItem:null==E?void 0:E.rowItem,column:null==E?void 0:E.column,cell:null==E?void 0:E.cell,panelType:null==E?void 0:E.panelType,eventType:null==E?void 0:E.eventType};return yield this._naviNextFocus(C,I)}))}_naviNextFocus(C,E,I=!1){return B(this,void 0,void 0,(function*(){const{rowItem:B,column:z,cell:q,panelType:Q}=E,ee=yield this.getNextFocus(C,E,I);if(re.Convert.isNull(ee)){if(C==ye.ArrowLeft||C==ye.ArrowRight)return;const I=C===ye.ArrowDown?1:-1,B=this.getNextPanel(Q,I);return re.Convert.isNull(B)?-1:(E.rowItem=void 0,E.panelType=B,void this._naviNextFocus(C,E,!0))}Q==ae.PanelType.Body&&(re.Convert.isNull(ee.rowItem)||re.Convert.isNull(ee.column))||(ee.eventType=ve.keydown,this.moveFocus(ee))}))}moveFocus(C){this.grid.focusManager.focus=C}getNextPanel(C,E){var I;const B=this.grid.scrollPanel.panels,z=B.findIndex((E=>E._class==="sbgrid-"+C));if(-1===z)return;const q=z+E;if(q<0||q>B.length-1)return;let Q=null===(I=B[q])||void 0===I?void 0:I._class;return Q=Q.substring(7,Q.length),re.Convert.parseEnum(ae.PanelType,Q)}getNextFocus(C,E,I=!1){var z;return B(this,void 0,void 0,(function*(){const{rowItem:B,column:q,cell:Q,panelType:ee}=E,te=null===(z=FocusManager.getLayout(this.layouts,ee,B))||void 0===z?void 0:z.toMatrix();let ie,ne=B;switch(C){case ye.ArrowRight:ie=yield this.getBesideColumn(1,Q,te,ee);break;case ye.ArrowLeft:ie=yield this.getBesideColumn(-1,Q,te,ee);break;case ye.ArrowDown:const C=ee!==ae.PanelType.Body?this.getGroupItem(Q,te,1,I):yield this.getBelowCoord(Q,ne,te,I);ne=null==C?void 0:C.rowItem,ie=null==C?void 0:C.cell;break;case ye.ArrowUp:const E=ee!==ae.PanelType.Body?this.getGroupItem(Q,te,-1,I):yield this.getAboveCoord(Q,ne,te,I);ne=null==E?void 0:E.rowItem,ie=null==E?void 0:E.cell}return re.Convert.isNull(ie)?void 0:{rowItem:ne,column:ie.column,cell:ie,panelType:ee}}))}isGroupHeaderFooter(C){const E=null==C?void 0:C.node;return E instanceof te.GroupNode||E instanceof te.FooterNode}get layouts(){return this.grid.layouts}getMatrix(C,E){switch(C){case ae.PanelType.Body:return re.Convert.isValue(E)&&(E instanceof te.GroupNode||E instanceof te.FooterNode)?this.getGroupMatrix(E):this.layouts.rowMatrix;case ae.PanelType.Caption:return this.layouts.captionMatrix;case ae.PanelType.Header:return this.layouts.headerMatrix;case ae.PanelType.Filter:return this.layouts.filterMatrix;case ae.PanelType.Footer:return this.layouts.footerMatrix}}getGroupMatrix(C){const E=C instanceof te.GroupNode,I=C instanceof te.FooterNode;if(E||I){const I=E?C:C.parent;if(I instanceof te.TreeNode)return this.layouts.treeFooterLayout.toMatrix();const B=this.layouts.groupLayout(I.igroup.field);return E?B.header.toMatrix():B.footer.toMatrix()}}getBesideColumn(C,E,I,z){return B(this,void 0,void 0,(function*(){return yield this.getBesideColumn_new(C,E,I,z)}))}getBesideColumn_new(C,E,I,z){var q;return B(this,void 0,void 0,(function*(){let B=E.col,z=null!==(q=this.row)&&void 0!==q?q:0,Q=E,ee=E.colSpan;for(;B+=C>0?ee:-1,Q=I.matrix[z][B],!re.Convert.isNull(Q)&&(ee=Q.colSpan,Q.column instanceof ce.FrozenColumn||Q.column instanceof oe.GroupColumn);)Q=void 0;if(!re.Convert.isNull(Q))return E=Q,FocusManager.scrollIntoColView(this.grid,C,Q,I.layout),this.col=E.col,Q}))}getBesideColumn_old(C,E,I,z){var q,Q;return B(this,void 0,void 0,(function*(){const B=this.grid.topCol,ee=yield this.grid.viewport.calcCols(B,!0);let te=C>0?(null===(q=null==E?void 0:E.column)||void 0===q?void 0:q.index)+(null==E?void 0:E.colSpan):null===(Q=I.getCell(this.row,E.col+C))||void 0===Q?void 0:Q.column.index;if(te<0||te>ee.lastCol)return;let ne=yield this.focusManager.getTopCol(B,C,te,this.row);if(re.Convert.isNull(ne)){if(E.column.type===pe.ColumnTypes.Frozen)ne=yield this.focusManager.getTopCol(B,-1*C,te);else{const E=re.Arrays.bfsSearch(this.grid.wholeColumns,(C=>C.index===te||C.columns));if(!(null==E?void 0:E.visible))for(;te>=0&&te<this.grid.rowCount&&re.Convert.isNull(ne);)te+=C,ne=yield this.focusManager.getTopCol(B,C,te)}if(re.Convert.isNull(ne))return}const{nextTopCol:se,nextCell:oe}=ne;B!==se&&(this.grid.topCol=se,ie.Log.debug(["FocusManager","naviBeside topCol changed",B,"->",this.grid.topCol]),I=this.getMatrix(z));const ae=I.matrix;let le,ue=this.row;for(;re.Convert.isNull(le)&&ue<ae.length;){const C=ae[ue];le=null==C?void 0:C.find((C=>(null==C?void 0:C.column.index)==(null==oe?void 0:oe.column.index))),ue++}const de=null==le?void 0:le.col;return E=I.getCell(this.row,de),re.Convert.isNull(E)||((null==E?void 0:E.column)instanceof ce.FrozenColumn&&(E=yield this.getBesideColumn_old(C,E,I,z)),re.Convert.isNull(E))?void 0:(this.col=E.col,E)}))}getBelowCoord(C,E,I,z=!1){var q;return B(this,void 0,void 0,(function*(){let B=C.row+C.rowSpan;if(0==this.grid.virtualRow){const C=0,I=this.grid.rows.length-1,B=(null==E?void 0:E.rowIndex)+1;if(B<C||I<B)return}if(z){E=yield this.grid.view.getRow(this.grid.topRow,0==this.grid.virtualRow);const C=this.isGroupHeaderFooter(E)?E.node:void 0;I=this.getMatrix(ae.PanelType.Body,C),B=0}if(B>I.matrix.length-1){const C=E.rowIndex+1;if(C>this.grid.rowCount-1)return;E=yield this.grid.view.getRow(C,0==this.grid.virtualRow);const z=this.isGroupHeaderFooter(E)?E.node:void 0;I=this.getMatrix(ae.PanelType.Body,z),B=0}if(re.Convert.isValue(E)&&!1===E.visible)return this.getBelowCoord(C,E,I);const Q=this.grid.topRow,ee=(null!==(q=null==E?void 0:E.rowIndex)&&void 0!==q?q:0)<Q?-1:1,te=yield this.getTopRow(E,ee,Q);return Q!==te&&(this.grid.topRow=te,ie.Log.debug(["topRow Changed !!",Q,"--\x3e",te])),C=I.getCell(B,this.col),this.row=C.row,{rowItem:E,cell:C}}))}getGroupItem(C,E,I,B=!1){const z=E.matrix,q=B?1===I?0:z.length-1:1===I?C.row+C.rowSpan:C.row+I,Q=q>z.length-1||q<0?void 0:E.getCell(q,this.col);return re.Convert.isValue(Q)&&(this.row=q),{rowItem:void 0,cell:Q}}getAboveCoord(C,E,I,z=!1){return B(this,void 0,void 0,(function*(){let B=C.row-1;if(z){const C=yield this.grid.viewport.calcRows(this.grid.topRow);E=C.currRows[C.currRows.length-1].rowItem;const z=this.isGroupHeaderFooter(E)?E.node:void 0;B=(I=this.getMatrix(ae.PanelType.Body,z)).matrix.length-1}if(B<0){const C=E.rowIndex-1;if(C<0)return;E=yield this.grid.view.getRow(C,0==this.grid.virtualRow);const z=this.isGroupHeaderFooter(E)?E.node:void 0;B=(I=this.getMatrix(ae.PanelType.Body,z)).matrix.length-1}if(re.Convert.isValue(E)&&!1===E.visible)return this.getAboveCoord(C,E,I);const q=this.grid.topRow,Q=yield this.getTopRow(E,-1,q);return q!==Q&&(this.grid.topRow=Q,ie.Log.debug(["topRow Changed !!",q,"--\x3e",Q])),C=I.getCell(B,this.col),this.row=C.row,{rowItem:E,cell:C}}))}getTopRow(C,E,I){return B(this,void 0,void 0,(function*(){return yield FocusManager.scrollIntoRowView(this.grid,C),this.grid.topRow}))}_needReload(C,E,I){var z;return B(this,void 0,void 0,(function*(){const B=yield this.grid.viewport.calcRows(I),q=B.currRows,Q=q.findIndex((E=>{var I;return(null===(I=E.rowItem)||void 0===I?void 0:I.rowIndex)===(null==C?void 0:C.rowIndex)}));if(0==this.grid.virtualRow){const C=this.grid.dataSource.pageNo*this.grid.dataSource.pageSize,E=C+this.grid.dataSource.pageSize-1;if(I<C||E<I)return!1;if(E<=q[q.length-1].rowIndex)return!1}let ee=Q<0;if(!ee&&1===E){if(C.rowIndex>=this.grid.rowCount-1)return!1;const I=q[Q],te=q[Q+E];if(re.Convert.isNull(te))return!0;ee=(null===(z=null==te?void 0:te.rowItem)||void 0===z?void 0:z.isSticky)||q[q.length-1]==te&&this.isGroupHeaderFooter(te.rowItem)?te.top+te.rowHeight.height>B.bodyHeight:I.top+I.rowHeight.height>B.bodyHeight}return ee}))}doTabNextFocus(){var C,E,I;return B(this,void 0,void 0,(function*(){if(re.Convert.isNull(this.tabConfig))return;const B=this.getKeyboardShortCut(this.tabConfig.dir);if(re.Convert.isNull(B))return;let z;switch(B){case ye.ArrowDown:case ye.ArrowUp:z=yield this.naviNextFocus(B);break;case ye.ArrowLeft:case ye.ArrowRight:z=yield this._doTabNextFocus(this.focus,B)}if(this.grid.config.editable&&this.tabConfig.edit)if(re.Convert.isValue(z)&&z<0&&(null===(C=this.focus.column)||void 0===C?void 0:C.isEdit(this.focus.rowItem)))this.grid.focusManager.update();else{if(!1===(null===(E=this.focus)||void 0===E?void 0:E.column.editable(null===(I=this.focus)||void 0===I?void 0:I.rowItem)))return;const C=new ee.EditCommand("",this.focus.rowItem,this.focus.column);this.fireCommandAsync(this,C)}}))}doTabPrevFocus(){return B(this,void 0,void 0,(function*(){const C=this.getKeyboardShortCut(this.tabConfig.dir);if(!re.Convert.isNull(C)){switch(C){case ye.ArrowDown:yield this.naviNextFocus(ye.ArrowUp);break;case ye.ArrowUp:yield this.naviNextFocus(ye.ArrowDown);break;case ye.ArrowLeft:yield this._doTabNextFocus(this.focus,ye.ArrowRight);break;case ye.ArrowRight:yield this._doTabNextFocus(this.focus,ye.ArrowLeft)}if(this.grid.config.editable&&this.tabConfig.edit){const C=new ee.EditCommand("",this.focus.rowItem,this.focus.column);this.fireCommandAsync(this,C)}}}))}doTabNextFocusFilter(){return B(this,void 0,void 0,(function*(){le.SBGrid3.$(document.activeElement);yield this._doTabNextFocus(this.focus,ye.ArrowRight)}))}_doTabNextFocus(C,E){var I,z;return B(this,void 0,void 0,(function*(){let B=yield this.getNextFocus(E,{rowItem:C.rowItem,column:C.column,panelType:C.panelType,cell:C.cell});if(re.Convert.isNull(B)){const B=null===(I=this.getLastColumn(C.rowItem,C.panelType))||void 0===I?void 0:I.column,q=this.grid.dataConfig.clientPaging||this.grid.dataConfig.serverPaging?this.grid.rows.length-1:this.grid.visibleCount-1;return(null==C?void 0:C.column)==B&&(null===(z=null==C?void 0:C.rowItem)||void 0===z?void 0:z.rowIndex)>=q?-1:void(E==ye.ArrowRight?yield this.tabFirstCell(C.rowItem,C.panelType):yield this.tabLastCell(C.rowItem,C.panelType))}B.panelType==ae.PanelType.Body&&(re.Convert.isNull(B.rowItem)||re.Convert.isNull(B.column))||(B.eventType=ve.keydown,this.moveFocus(B))}))}tabFirstCell(C,E){return B(this,void 0,void 0,(function*(){yield this.naviFirstCell(C,E),yield this._naviNextFocus(ye.ArrowDown,this.focusManager.focus)}))}tabLastCell(C,E){return B(this,void 0,void 0,(function*(){yield this.naviLastCell(C,E),yield this._naviNextFocus(ye.ArrowUp,this.focusManager.focus)}))}getLastColumn(C,E){const I=(this.isGroupHeaderFooter(C)?this.getMatrix(E,C.node):this.getMatrix(E)).matrix,B=I[I.length-1];let z,q,Q=-1;for(;re.Convert.isNull(z)||z instanceof ce.FrozenColumn;)q=B[B.length+Q],this.col=q.col,z=q.column,Q--;return q}naviFirstCell(C,E){var I;return B(this,void 0,void 0,(function*(){this.grid.topCol=0;const B=yield this.grid.viewport.calcCols(0,!0,null===(I=this.getMatrix(E,null==C?void 0:C.node))||void 0===I?void 0:I.layout);let z=B.fullCells.find((C=>0===C.col&&C.row===this.row)),q=z.col+1;for(;(null==z?void 0:z.column)instanceof ce.FrozenColumn;)z=B.fullCells.find((C=>C.col===q&&C.row===this.row)),q++;const Q={rowItem:C,column:null==z?void 0:z.column,cell:z,panelType:E};this.col=z.col,this.moveFocus(Q)}))}naviLastCell_old(C,E){var I;return B(this,void 0,void 0,(function*(){const B=null===(I=this.getMatrix(E,null==C?void 0:C.node))||void 0===I?void 0:I.layout,z=this.grid.layouts.defaultLayout.rows[0].cells,q=z[z.length-1],Q=(null==q||q.column,yield this.grid.viewport.calcCols(null==q?void 0:q.col,!0,B));this.grid.topCol=Q.lastCol;let ee=Q.fullCells.find((C=>C.col===Q.lastCol&&C.row===this.row)),te=ee.col-1;for(;(null==ee?void 0:ee.column)instanceof ce.FrozenColumn;)ee=Q.fullCells.find((C=>C.col===te&&C.row===this.row)),te--;const ie={rowItem:C,column:null==ee?void 0:ee.column,cell:ee,panelType:E};this.col=ee.col,this.moveFocus(ie)}))}naviLastCell(C,E){return B(this,void 0,void 0,(function*(){const I=this.grid.layouts.defaultLayout.rows[0].cells,B=I[I.length-1];this.grid.topCol=B.col;let z=I.find((C=>C.col===B.col&&C.row===this.row)),q=z.col-1;for(;(null==z?void 0:z.column)instanceof ce.FrozenColumn;)z=I.find((C=>C.col===q&&C.row===this.row)),q--;const Q={rowItem:C,column:null==z?void 0:z.column,cell:z,panelType:E};this.col=z.col,this.moveFocus(Q)}))}getLastColumnByColumns(){const C=this.grid.columns;let E=this.grid.columns.length-1,I=C[E--];for(;!I.visible;)I=C[E--];return I}doPageChange(C){var E,I;return B(this,void 0,void 0,(function*(){if((null===(E=this.focus)||void 0===E?void 0:E.panelType)==ae.PanelType.Body){let E=this.grid.topRow,B=E+C*this.grid.dataSource.pageSize;B=B<0?0:B>this.grid.adjustedTotal-1?yield this.getLastTopRow(C,E):B,E!=B&&(ie.Log.debug(["topRow changed",E,"->",B]),this.grid.topRow=B);let z=B+(this.focus.rowItem.rowIndex-E);z>this.grid.adjustedTotal-1&&(z=this.grid.adjustedTotal-1);const q=yield this.grid.view.getRow(z),Q=this.isGroupHeaderFooter(q)?this.getMatrix(ae.PanelType.Body,q.node):this.getMatrix(ae.PanelType.Body),ee=null===(I=this.focus.cell)||void 0===I?void 0:I.col;this.moveFocus({rowItem:q,column:this.focus.column,cell:Q.getCell(0,ee),panelType:ae.PanelType.Body})}}))}getLastTopRow(C,E){return B(this,void 0,void 0,(function*(){const I=yield this.grid.view.getRow(this.grid.adjustedTotal-1);return yield this.getTopRow(I,C,E)}))}bodyFirstCell(){return B(this,void 0,void 0,(function*(){const C=yield this.grid.view.getRow(this.grid.topRow);this.naviFirstCell(C,ae.PanelType.Body)}))}getLayout(C){switch(C){case ae.PanelType.Caption:return this.grid.captionLayout;case ae.PanelType.Body:return this.grid.rowLayout;case ae.PanelType.Header:return this.grid.headerLayout;case ae.PanelType.Footer:return this.grid.footerLayout;case ae.PanelType.Filter:return this.grid.filterLayout}}enterToNext(){var C;return B(this,void 0,void 0,(function*(){const E=this.enterConfig,I=this.getKeyboardShortCut(E.dir);if(re.Convert.isNull(I))return;let B;switch(I){case ye.ArrowDown:case ye.ArrowUp:B=yield this.naviNextFocus(I);break;case ye.ArrowLeft:case ye.ArrowRight:B=yield this._doTabNextFocus(this.focus,I)}if(this.grid.config.editable&&(null==E?void 0:E.edit)){if(this.focus.panelType!==ae.PanelType.Body)return;if(re.Convert.isValue(B)&&B<0&&this.focus.column.isEdit(this.focus.rowItem))this.grid.focusManager.update();else{const E=q.CommandFactory.create(q.Commands.Edit,null===(C=this.grid.editConfig)||void 0===C?void 0:C.mode,this.focus.rowItem,this.focus.column);this.fireCommandAsync(this,E)}}}))}getKeyboardShortCut(C){switch(C){case be.Down:return ye.ArrowDown;case be.Left:return ye.ArrowLeft;case be.Right:return ye.ArrowRight;case be.Up:return ye.ArrowUp}}}!function(C){C.Esc="Esc",C.Escape="Escape",C.ArrowDown="ArrowDown",C.ArrowLeft="ArrowLeft",C.ArrowRight="ArrowRight",C.ArrowUp="ArrowUp",C.Enter="Enter",C.Space=" ",C.Tab="Tab",C.Home="Home",C.End="End",C.PageUp="PageUp",C.PageDown="PageDown"}(ye||(E.KeyboardShortCut=ye={})),function(C){C.Up="up",C.Down="down",C.Right="right",C.Left="left"}(be||(E.Direction=be={}))},2208:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.GridStyle=E.Grid=void 0;const z=I(2663),q=I(4407),Q=I(9797),ee=I(6258),te=I(194),ie=I(7721),re=I(1009),ne=I(1163),se=I(3568),oe=I(860),ae=I(5260),le=I(6312),ue=I(7078),de=I(7392),ce=I(5165),he=I(8788),fe=I(8964),pe=I(6105),me=I(3354),ge=I(8788),ve=I(5565),ye=I(6938),be=I(1415),Ce=I(5774),we=I(1355),_e=I(503),Se=I(2562),xe=I(7443),ke=I(121),Te=I(6409),Me=I(5060),Re=I(3580),Ee=I(373),Pe=I(2351);class Grid extends q.Publisher{constructor(C){let E=new Q.GridView(C);if(super(E),this._columnIndexed=!1,this._refreshCommands=[],this._refreshingCommands=[],this._minStickyLenth=0,this._maxStickyLenth=0,this._pageLoading=!1,this.onResize=C=>{const E=this;ne.Convert.isValue(this.resizeTimer)&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((function(){return B(this,void 0,void 0,(function*(){try{yield E.lock.acquire(),E.clearLayout(),0==this.virtualColumn&&(E.scrollPanel.scrollLeft=E.scrollPanel.scrollLeft),E.fireCommandAsync(this,new ce.RefreshCommand),this.resizeTimer=void 0}finally{yield E.lock.release()}}))}),0)},this.refreshing=!1,this._oldVisible=!1,this._originConfig=C,this._gridView=E,this.personalSetting(),ne.Convert.isValue(this.wrapper.data("grid"))){this.wrapper.data("grid").cleanup()}this.wrapper.data("grid",this),this.initControls()}cleanup(){this.container.remove(),this.clearColumns(),this.clearRows(),this.clearStyle(),this.resetManager()}setConfig(C){this.view.setConfig(ee.GridParser.parseConfig(C)),this.initControls()}setSize(C,E){ne.Convert.isValue(C)&&(this.config.width=C),ne.Convert.isValue(E)&&(this.config.height=E),this.refresh()}initControls(){this.container.empty(),this.resetManager(),this.createPanels(this.config.panels),this.clearColumns(),this.clearRows();const C=[];this.createColumns(C,ne.Arrays.asArray(this.config.columns)),this._columns=C}sortColumns(C){C.sort(((C,E)=>C.index-E.index)),C.forEach((C=>ne.Convert.isValue(C.columns)&&this.sortColumns(C.columns)))}resetManager(){var C,E,I,B;null===(C=this._eventManager)||void 0===C||C.disconnect(),null===(E=this._selectManager)||void 0===E||E.disconnect(),null===(I=this._focusManager)||void 0===I||I.disconnect(),null===(B=this._viewport)||void 0===B||B.disconnect(),this._eventManager=void 0,this._viewport=void 0}createEventManager(){const C=new be.EventManager(this);return C.setHandler("GridClick","click",this.name,(C=>Grid.gridEvent(this,C)),this.container.get(0)),C.setHandler("GridDblClick","dblclick",this.name,(C=>Grid.gridEvent(this,C)),this.container.get(0)),C.setHandler("GridKeydown","keydown",this.name,(C=>Grid.gridKeyDown(this,C)),this.container.get(0)),C.setHandler("GridTouch","touchstart",this.name,(C=>Grid.gridTouchStart(this,C)),this.container.get(0)),C.setHandler("GridTouch","touchmove",this.name,(C=>Grid.gridTouchMove(this,C)),this.container.get(0)),C.setHandler("GridTouch","touchend",this.name,(C=>Grid.gridTouchEnd(this,C)),this.container.get(0)),C}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new ne.Lock}get resourceManager(){return this.dataSource.resourceManager}get resource(){return this.dataSource.resource}get exporting(){var C;return null!==(C=this._exporting)&&void 0!==C?C:this._exporting=!1}set exporting(C){this._exporting=C}get theme(){return this.config.theme}set theme(C){this.setTheme(C)}get isMobile(){var C;return null!==(C=this._isMobile)&&void 0!==C?C:/iPhone|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i.test(navigator.userAgent)}set isMobile(C){this._isMobile!==C&&(this._isMobile=C,this.clearLayout(),this.refresh())}static gridKeyDown(C,E){var I;const B=C.focusManager.focus;if(ne.Convert.isValue(B)){const z=new Ee.GridEventCommand(E.originalEvent,null===(I=B.rowItem)||void 0===I?void 0:I.key,B.column);C.doGridCommand(z)}return!0}static gridEvent(C,E){const I=le.SBGrid3.$(E.target),B=C.getRowItem(I),z=C.getColumn(I),q=new Ee.GridEventCommand(E.originalEvent,null==B?void 0:B.key,z);return C.doGridCommand(q),!0}get touch(){return this._touch}set touch(C){this._touch=C}static gridTouchStart(C,E){const I=E.targetTouches[0];return ne.Convert.isValue(C.touchTimer)&&(clearTimeout(C.touchTimer),C.diffX=void 0,C.diffY=void 0),C.touch={clientX:I.clientX,clientY:I.clientY,startX:I.clientX,startY:I.clientY,topCol:C.topCol,topRow:C.topRow},!1}static gridTouchMove(C,E){return B(this,void 0,void 0,(function*(){if(C.isLoading)return;const I=E.targetTouches[0];let B=C.touch.clientX-I.clientX,z=C.touch.clientY-I.clientY;const q=Math.abs(B),Q=Math.abs(z);return B=q>Q?B:0,z=Q>=q?z:0,ne.Convert.isValue(I)&&0==(yield C._touchMove(I.clientX,I.clientY,B,z))||E.cancelable&&E.preventDefault(),!1}))}_touchMove(C,E,I,z){return B(this,void 0,void 0,(function*(){const B=yield this.touchMove(I,z);return this.diffX=I,this.diffY=z,this.touch.clientY=E,this.touch.clientX=C,B}))}touchMove(C,E){return B(this,void 0,void 0,(function*(){if(0==this.virtualColumn){const E=Math.max(0,this.scrollPanel.scrollLeft+C);this.scrollPanel.scrollLeft=E,this.scrollPanel.setScrollPos(E,void 0)}else{const E=this.maxTopCol-this.minTopCol;if((C=Math.trunc((this.touch.startX-C-this.touch.clientX)/E))<0&&this.topCol==this.minTopCol)return!1;if(C>0&&this.topCol==this.maxTopCol)return!1;this.topCol=this.touch.topCol+C}if(0==this.virtualRow){let C=this.scrollPanel.scrollTop+E;if(E<0&&this.scrollPanel.scrollTop<=0)return!1;if(E<0&&C<0&&(C=0),E>0&&Math.round(this.scrollPanel.scrollTop+this.scrollPanel.viewportHeight)>=this.scrollPanel.scrollHeight)return!1;this.scrollPanel.scrollTop=C,this.scrollPanel.setScrollPos(void 0,C)}else{if((E=Math.trunc((this.touch.startY-E-this.touch.clientY)/this.rowHeights))<0&&0==this.topRow)return!1;if(E>0&&this.topRow==(yield this.getMaxTopRow()))return!1;this.topRow=this.touch.topRow+E}return!0}))}static gridTouchEnd(C,E){E.targetTouches[0];return C.runTouchTimer(),!1}runTouchTimer(C,E){const I=.95*(null!=C?C:C=this.diffX),z=.95*(null!=E?E:E=this.diffY);if(isNaN(I)||isNaN(z))return;const q=0!==E&&Math.abs(E)<.6||0!==C&&Math.abs(C)<.6;this.touchTimer=window.setTimeout((()=>B(this,void 0,void 0,(function*(){if(q)clearTimeout(this.touchTimer),this.touchTimer=void 0;else{if(0==(yield this.touchMove(C,E)))return;this.touch.clientX-=I,this.touch.clientY-=z,this.runTouchTimer(I,z)}}))),10)}get view(){return this._gridView}get loader(){return this.dataSource.loader}get columns(){if(ne.Convert.isEmpty(this._columns)){const C=[];this.createColumns(C,ne.Arrays.asArray(this.config.columns)),this._columns=C}return this._columns}get nodes(){var C;return null===(C=this.loader)||void 0===C?void 0:C.nodes}get boxes(){return this.dataSource.getBoxes()}get map(){return this.dataSource.getPageMap()}get panels(){var C;return null!==(C=this._panels)&&void 0!==C?C:this._panels=new Array}get refreshCommands(){return this._refreshCommands}get refreshingCommands(){return this._refreshingCommands}get scrollPanel(){return this._scrollPanel}set scrollPanel(C){this._scrollPanel=C}get hiddenPanel(){return this._hiddenPanel}set hiddenPanel(C){this._hiddenPanel=C}get loadingPanel(){return this._loadingPanel}set loadingPanel(C){this._loadingPanel=C}get config(){return this.view.config}get originConfig(){return this._originConfig}get dataSource(){return this.view.config.dataSource}get dataConfig(){return this.dataSource.config}get wrapper(){return this.config.container}set wrapper(C){this.config.container=C,this._container=void 0,this.refresh()}get rootClass(){const C=ne.Convert.isValue(this.theme)?`${ue.SbCss.toClass("theme",this.theme)}`:"";return`${ue.SbCss.grid} ${C}`}get container(){return ne.Convert.isNull(this._container)&&(this._container=ne.JqUtils.adjustElement(this.wrapper,`>div#${this.name}`,`<div class='${this.rootClass}' id='${this.name}' role='treegrid' tabindex='0'></div>`),this._container.get(0).focus({preventScroll:!0}),this.respondToVisibility()),this._container}get jqScrollBody(){if(ne.Convert.isNull(this._jqScrollBody)||0==this._jqScrollBody.length){const C=`>.${ue.SbCss.scroll}.${ue.SbCss.panel}>.${ue.SbCss.scroll_body}`;this._jqScrollBody=this._jqScrollBody=le.SBGrid3.$(C,this.container)}return this._jqScrollBody}get trashCan(){var C;return null!==(C=this._trashCan)&&void 0!==C?C:this._trashCan=[]}get selectManager(){var C;return null!==(C=this._selectManager)&&void 0!==C?C:this._selectManager=new ve.SelectManager(this)}get eventManager(){var C;return null!==(C=this._eventManager)&&void 0!==C?C:this._eventManager=this.createEventManager()}get undoManager(){var C;return null!==(C=this._undoManager)&&void 0!==C?C:this._undoManager=new _e.UndoManager(this)}get viewport(){var C;return null!==(C=this._viewport)&&void 0!==C?C:this._viewport=new Se.Viewport(this)}get focusManager(){var C;return null!==(C=this._focusManager)&&void 0!==C?C:this._focusManager=new xe.FocusManager(this)}get tooltip(){var C;return null!==(C=this._tooltip)&&void 0!==C?C:this._tooltip=ne.Convert.isValue(ne.Arrays.dfsSearch(this.columns,(C=>!!C.config.tooltip||C.columns)))?new ke.Tooltip(this):void 0}get style(){var C;return null!==(C=this._style)&&void 0!==C?C:this._style=new GridStyle(this)}get styleScroll(){var C;return null!==(C=this._scrollStyle)&&void 0!==C?C:this._scrollStyle=new GridStyle(this)}canGridCommand(C){var E,I,B,z,q,Q,ee;if(ne.Convert.isEmpty(null===(E=this.config)||void 0===E?void 0:E.canCommand))return!0;const te=null===(I=this.config)||void 0===I?void 0:I.canCommand,ie="function"==typeof te,re="function"==typeof te?E=>!1!==te(E,C.command,C):void 0;switch(C.command){case Ee.GridCommands.Edit:return ie?null==re?void 0:re(this):!1!==(null===(B=te.edit)||void 0===B?void 0:B.call(te,this,C));case Ee.GridCommands.Focus:return ie?null==re?void 0:re(this):!1!==(null===(z=te.focus)||void 0===z?void 0:z.call(te,this,C));case Ee.GridCommands.Select:return ie?null==re?void 0:re(this):!1!==(null===(q=te.select)||void 0===q?void 0:q.call(te,this,C));case Ee.GridCommands.Menu:return ie?null==re?void 0:re(this):!1!==(null===(Q=te.menu)||void 0===Q?void 0:Q.call(te,this,C));case Ee.GridCommands.CaptionCheck:return ie?null==re?void 0:re(this):!1!==(null===(ee=te.captionCheck)||void 0===ee?void 0:ee.call(te,this,C));default:ae.Log.warn((()=>`canGridCommand [${null==C?void 0:C.command}] is not supported`))}return!0}doGridCommand(C){var E,I,B,z,q,Q,ee,te,ie,re,se,oe;if(ne.Convert.isEmpty(null===(E=this.config)||void 0===E?void 0:E.doCommand))return;const le=null===(I=this.config)||void 0===I?void 0:I.doCommand,ue="function"==typeof le,de="function"==typeof le?E=>le(E,C.command,C):void 0;switch(C.command){case Ee.GridCommands.Event:return ue?null==de?void 0:de(this):null===(B=le.event)||void 0===B?void 0:B.call(le,this,C);case Ee.GridCommands.Updated:return ue?null==de?void 0:de(this):null===(z=le.updated)||void 0===z?void 0:z.call(le,this,C);case Ee.GridCommands.Edit:return ue?null==de?void 0:de(this):null===(q=le.edit)||void 0===q?void 0:q.call(le,this,C);case Ee.GridCommands.Focus:return ue?null==de?void 0:de(this):null===(Q=le.focus)||void 0===Q?void 0:Q.call(le,this,C);case Ee.GridCommands.Menu:return ue?null==de?void 0:de(this):null===(ee=le.menu)||void 0===ee?void 0:ee.call(le,this,C);case Ee.GridCommands.CaptionCheck:return ue?null==de?void 0:de(this):null===(te=le.captionCheck)||void 0===te?void 0:te.call(le,this,C);case Ee.GridCommands.Value:return ue?de(this):null===(ie=le.value)||void 0===ie?void 0:ie.call(le,this,C);case Ee.GridCommands.Add:return ue?de(this):null===(re=le.add)||void 0===re?void 0:re.call(le,this,C);case Ee.GridCommands.Remove:return ue?de(this):null===(se=le.remove)||void 0===se?void 0:se.call(le,this,C);case Ee.GridCommands.Loaded:return ue?de(this):null===(oe=le.loaded)||void 0===oe?void 0:oe.call(le,this,C);default:ae.Log.warn((()=>`doGridCommand [${null==C?void 0:C.command}] is not supported`))}}get rows(){return this.view.rows}get rowCount(){return this.view.rowCount}get visibleCount(){return this.view.visibleCount}get viewportHeight(){return this.scrollPanel.viewportHeight}get boxMap(){return this.dataSource.boxMap}get total(){return this.view.total}get adjustedTotal(){return this.dataSource.adjustedTotal}get pagerMode(){return this.view.pagerMode}get listMode(){return this.view.listMode}get rowHeight(){return this.layouts.rowHeight}get rowHeights(){return this.layouts.rowHeights}get groupHeight(){return this.config.groupHeight}get captionHeight(){return this.layouts.captionHeight}get headerHeight(){return this.layouts.headerHeight}get footerHeight(){return this.layouts.footerHeight}get fixedRows(){return this.config.fixedRows}get mergeRow(){return this.config.mergeRow}get mergeColumn(){return this.config.mergeColumn}get contextMenu(){return this.config.contextMenu}get alternateCss(){return this.config.alternateCss}get topRow(){return this.view.topRow}set topRow(C){this.setTopRow(C)}get minTopCol(){var C;return this.fixedColumns.length+this.headColumns.length+(null!==(C=this._minStickyLenth)&&void 0!==C?C:0)}get maxTopCol(){var C;return null!==(C=this._maxTopCol)&&void 0!==C?C:this._maxTopCol=this.calcMaxTopCol()}get topCol(){return Math.max(this.view.topCol,this.minTopCol)}set topCol(C){const E=this.topCol;if(this.virtualColumn){if(C<this.minTopCol&&(C=this.minTopCol),E==(C=this.adjustTopColVirtual(C)))return;this.view.topCol=C,this.scrollPanel.setScrollPos(C,void 0),this.fireCommandAsync(this,new ce.RefreshCommand)}else{if(this.view.topCol=C,C<=this.minTopCol)return this.scrollPanel.scrollLeft=0,void this.scrollPanel.setScrollPos(0,void 0);{let E=0,I=0;const B=this.defaultLayout.stickyOverflow;for(const z of this.defaultLayout.rows)for(const q in z.cells){const Q=z.cells[q];Q.col<C&&(B||Q.part!=ie.PartType.Sticky)&&(I+=Q.width),Q.part!=ie.PartType.Head&&Q.part!=ie.PartType.Fixed||(E+=Q.width)}if(ne.Convert.isValue(I>=0)){const C=Math.max(I-E,0);this.scrollPanel.scrollLeft=C,this.scrollPanel.setScrollPos(C,void 0)}}}}calcMaxTopCol(){const C=this.viewportWidth;let E=this.hasStickyColumn?this.stickyColumns.reduce(((C,E)=>C+(E.visible?E.width:0)),0):0;const I=[].concat(this.scrollColumns).reverse();let B;for(const z in I){const q=I[z];if(0!=q.visible){if(q.part==ie.PartType.Body&&(E+=q.width),E>C)break;B=Math.min(null!=B?B:q.index,q.index)}}return B}adjustTopColVirtual(C){return this.maxTopCol<C?this.maxTopCol:C<this.minTopCol?this.minTopCol:C}get rowsView(){return this.scrollPanel.rowsView}get width(){return this.container.width()}get height(){return this.container.height()}get minHeight(){return parseFloat(this.container.css("min-height"))}get maxHeight(){return parseFloat(this.container.css("max-height"))}get editConfig(){var C;return null===(C=this.config)||void 0===C?void 0:C.editable}get pageable(){return this.config.pageable}get virtualRow(){return this.view.virtualRow}set virtualRow(C){this.view.virtualRow=C,this.scrollPanel.scrollTop=0,this.refresh()}get autoHeight(){return this.config.autoHeight}get virtualColumn(){return this.config.virtualColumn}get detailInit(){var C;return null!==(C=this._detailInit)&&void 0!==C?C:this._detailInit=this.config.detailInit}set detailInit(C){this._detailInit=C}get pageSize(){return this.view.pageSize}set pageSize(C){this.scrollPanel.scrollTop=0,this.view.pageSize=C}get serverPaging(){return this.view.serverPaging}get pageNo(){return this.view.pageNo}set pageNo(C){this.setPageNo(C)}get refreshCommand(){return Grid.mergeRefreshCommand(this._refreshCommands)}get reorderable(){var C;return null!==(C=this.config.reorderable)&&void 0!==C?C:{}}get showColMove(){var C;return null!==(C=ne.Convert.isValue(this.reorderable.column))&&void 0!==C&&C}get showRowMove(){var C;return null!==(C=ne.Convert.isValue(this.reorderable.row)||ne.Convert.isValue(this.config.dataDraggable))&&void 0!==C&&C}get stickyRow(){var C;return null!==(C=this.config.stickyRow)&&void 0!==C&&C}get stickyFooter(){var C;return null!==(C=this.config.stickyFooter)&&void 0!==C&&C}get stickyHeader(){var C;return null!==(C=this.config.stickyHeader)&&void 0!==C&&C}get stickyInsert(){return this.config.stickyInsert}get stickyUpdate(){return this.config.stickyUpdate}get stickyDelete(){return this.config.stickyDelete}get stickyEdit(){return this.config.stickyEdit}get fixedColumns(){var C,E,I,B,z,q,Q,te,re,se,oe,ae,le,ue;if(ne.Convert.isNull(this._fixedColumns)){this._columnIndexed=!1;let de=[];const ce=[].concat(this.columns.filter((C=>C.config.part==ie.PartType.Fixed)));for(const fe of this.config.rowHeaders){if("function"==typeof fe){de.push(new he.CustomColumn(this,{width:50,part:ie.PartType.Fixed},fe));continue}let pe;switch(fe){case ee.RowHeaders.RowNo:pe=this.extractFixedColumn(ce,(C=>C.config.type==Ce.ColumnTypes.RowNo)),this.config.showRowNo&&de.push(null!=pe?pe:new he.RowNoColumn(this,{width:null!==(E=null===(C=ie.GridColumnParser.getMasterColumn("fixed.rowno",this.config.masterColumns))||void 0===C?void 0:C.width)&&void 0!==E?E:50,part:ie.PartType.Fixed,type:Ce.ColumnTypes.RowNo,masterColumn:"fixed.rowno"}));break;case ee.RowHeaders.Status:pe=this.extractFixedColumn(ce,(C=>C.config.type==Ce.ColumnTypes.Status)),this.config.showStatus&&de.push(null!=pe?pe:new he.StatusColumn(this,{width:null!==(B=null===(I=ie.GridColumnParser.getMasterColumn("fixed.status",this.config.masterColumns))||void 0===I?void 0:I.width)&&void 0!==B?B:25,part:ie.PartType.Fixed,type:Ce.ColumnTypes.Status,masterColumn:"fixed.status"}));break;case ee.RowHeaders.Sticky:pe=this.extractFixedColumn(ce,(C=>C.config.type==Ce.ColumnTypes.Sticky)),this.config.showSticky&&de.push(null!=pe?pe:new he.StickyColumn(this,{width:null!==(q=null===(z=ie.GridColumnParser.getMasterColumn("fixed.sticky",this.config.masterColumns))||void 0===z?void 0:z.width)&&void 0!==q?q:25,part:ie.PartType.Fixed,type:Ce.ColumnTypes.Sticky,masterColumn:"fixed.sticky"}));break;case ee.RowHeaders.Check:pe=this.extractFixedColumn(ce,(C=>C.config.type==Ce.ColumnTypes.RowCheck)),(this.config.checkable||this.config.showCheck)&&de.push(null!=pe?pe:new ge.RowCheckColumn(this,{width:null!==(te=null===(Q=ie.GridColumnParser.getMasterColumn("fixed.check",this.config.masterColumns))||void 0===Q?void 0:Q.width)&&void 0!==te?te:25,part:ie.PartType.Fixed,type:Ce.ColumnTypes.RowCheck,masterColumn:"fixed.check",captionCheck:!0}));break;case ee.RowHeaders.Radio:pe=this.extractFixedColumn(ce,(C=>C.config.type==Ce.ColumnTypes.RowRadio)),this.config.showRadio&&de.push(null!=pe?pe:new he.RowRadioColumn(this,{width:null!==(se=null===(re=ie.GridColumnParser.getMasterColumn("fixed.radio",this.config.masterColumns))||void 0===re?void 0:re.width)&&void 0!==se?se:25,part:ie.PartType.Fixed,type:Ce.ColumnTypes.RowRadio,masterColumn:"fixed.radio",captionCheck:!1}));break;case ee.RowHeaders.Detail:pe=this.extractFixedColumn(ce,(C=>C.config.type==Ce.ColumnTypes.Detail)),ne.Convert.isValue(this.detailTemplate)&&!0===this.config.showDetail&&de.push(null!=pe?pe:new he.DetailClickColumn(this,{width:null!==(ae=null===(oe=ie.GridColumnParser.getMasterColumn("fixed.detail",this.config.masterColumns))||void 0===oe?void 0:oe.width)&&void 0!==ae?ae:25,part:ie.PartType.Fixed,type:Ce.ColumnTypes.Detail,masterColumn:"fixed.detail"}));break;case ee.RowHeaders.Reorder:pe=this.extractFixedColumn(ce,(C=>C.config.type==Ce.ColumnTypes.RowReorder)),this.showRowMove&&de.push(null!=pe?pe:new he.RowReorderColumn(this,{width:null!==(ue=null===(le=ie.GridColumnParser.getMasterColumn("fixed.reorder",this.config.masterColumns))||void 0===le?void 0:le.width)&&void 0!==ue?ue:25,part:ie.PartType.Fixed,type:Ce.ColumnTypes.RowReorder,masterColumn:"fixed.reorder"}))}}de=de.concat(ce),this._fixedColumns=de}return this._fixedColumns}extractFixedColumn(C,E){const I=C.findIndex((C=>E(C)));if(I>=0){const E=C[I];return C.splice(I,1),E}}get groupColumns(){var C,E;if(ne.Convert.isNull(this._groupColumns)||this.dataConfig.groups.length!=this._groupColumns.length){this._columnIndexed=!1;let I=[],B=this.dataConfig.groups;if(0==ne.Convert.isNull(B)&&B.length>0){let z=0;for(const q of B){const B=ne.Arrays.bfsSearch(this.columns,(C=>C.config.field==q.field||C.columns));if(ne.Convert.isNull(B))continue;if(0==(null===(E=null===(C=B.config.groupTitle)||void 0===C?void 0:C.visible)||void 0===E||E))continue;let Q=new fe.GroupColumn(this,{field:q.field,width:25});Q.groupColumn=B,Q.groupLevel=z++,I.push(Q)}}this._groupColumns=I}return this._groupColumns}get headColumns(){return ne.Convert.isNull(this._headColumns)&&(this._columnIndexed=!1,this._headColumns=[].concat(this.columns.filter((C=>C.config.part==ie.PartType.Head))),this._headColumns.length>0&&(0!=this._headColumns.length||!this.showColMove)&&(this.groupColumns.forEach((C=>C.config.part=ie.PartType.Head)),this._headColumns=this.groupColumns.concat(this._headColumns)),this.showColMove&&(this._headColumns=this._headColumns.concat(new he.FrozenColumn(this,{width:0,part:ie.PartType.Head,type:Ce.ColumnTypes.Frozen})))),this._headColumns}get scrollColumns(){return ne.Convert.isNull(this._scrollColumns)&&(this._columnIndexed=!1,this._scrollColumns=[].concat(this.columns.filter((C=>Grid._bodyTypes.includes(C.config.part)))),(0==this.headColumns.length||1==this.headColumns.length&&this.showColMove)&&(this.groupColumns.forEach((C=>C.config.part=ie.PartType.Body)),this._scrollColumns=this.groupColumns.concat(this._scrollColumns))),this._scrollColumns}get viewportColumns(){return this.layouts.colsView(this.topCol).fullCells.filter((C=>C.part==ie.PartType.Body||C.part==ie.PartType.Sticky)).map((C=>C.column))}get viewportColumns_old(){var C;if(0==this.virtualColumn)return this.scrollColumns;if(ne.Convert.isNull(this._viewportColumns)){this._columnIndexed=!0,this._minStickyLenth=0,this._maxStickyLenth=0;const E=[];let I,B,z=this.hasStickyColumn?this.stickyColumns.reduce(((C,E)=>C+(E.visible?E.width:0)),0):0,q=this.viewportWidth;const Q=Math.max(this.topCol-this.fixedColumns.length-this.headColumns.length,0);for(let C=Q,ee=this.scrollColumns.length;C<ee;C++){let Q=this.scrollColumns[C];if(E.push(Q),ne.Convert.isNull(I)&&(I=Q.index),B=Q.index,Q.part==ie.PartType.Body&&(z+=Q.width),z>q)break}if(this.hasStickyColumn){for(const C in this.stickyColumns){const z=this.stickyColumns[C];z.index<I?(this._minStickyLenth++,E.push(z)):B<z.index&&(this._maxStickyLenth++,E.push(z))}E.sort(((C,E)=>C.index-E.index))}if(z<q){let I,B=Q-1;for(;z<q&&B>=0;){if(I=this.scrollColumns[B],null==I?void 0:I.visible){if(z+=null!==(C=null==I?void 0:I.width)&&void 0!==C?C:0,!(z<q))break;E.push(I)}B--}E.sort(((C,E)=>C.index-E.index))}this._viewportColumns=E}return this._viewportColumns}get tailColumns(){return ne.Convert.isNull(this._tailColumns)&&(this._columnIndexed=!1,this._tailColumns=[],this.showColMove&&(this._tailColumns=this._tailColumns.concat(new he.FrozenColumn(this,{width:0,part:ie.PartType.Tail,type:Ce.ColumnTypes.Frozen}))),this._tailColumns=this._tailColumns.concat(this.columns.filter((C=>C.config.part==ie.PartType.Tail)))),this._tailColumns}get mobileColumns(){var C;if(ne.Convert.isNull(this._mobileColumns)){const E=null!==(C=this.config.mobile)&&void 0!==C?C:{},I=[];if(ne.Convert.isValue(E.columns)&&(ne.Convert.isValue(E.captions)||ne.Convert.isValue(E.rows))){const C={type:Ce.ColumnTypes.Multi,captions:E.captions,rows:E.rows,headers:E.headers,footers:E.footers,filters:E.filters,columns:E.columns};this.createColumns(I,[C])}this._mobileColumns=I}return this._mobileColumns}get visibleColumns(){const C=[].concat(this.fixedColumns).concat(this.headColumns).concat(this.viewportColumns).concat(this.tailColumns);return 0==this._columnIndexed&&this.wholeColumns,C}get wholeColumns(){const C=[].concat(this.fixedColumns).concat(this.headColumns).concat(this.scrollColumns).concat(this.tailColumns);return 0==this._columnIndexed&&(this.setColumnIndex(C),this._columnIndexed=!0),C}get columnsMap(){if(ne.Convert.isNull(this._columnsMap)){const C=new Map;ne.Arrays.bfsAction(this.columns,(E=>(ne.Convert.isValue(E.field)&&0==C.has(E.field)&&C.set(E.field,E),E.columns))),this._columnsMap=C}return this._columnsMap}get stickyColumns(){var C;return null!==(C=this._stickyColumns)&&void 0!==C?C:this._stickyColumns=[]}get hasHeader(){var C,E;return null!==(C=this._hasHeader)&&void 0!==C?C:this._hasHeader=(null===(E=this.config.showHeader)||void 0===E||E)&&null!=ne.Arrays.bfsSearch(this.columns,(C=>C.hasHeader||C.columns))}get hasFooter(){var C,E;return null!==(C=this._hasFooter)&&void 0!==C?C:this._hasFooter=(null===(E=this.config.showFooter)||void 0===E||E)&&null!=ne.Arrays.bfsSearch(this.columns,(C=>C.hasFooter||C.columns))}get hasStickyColumn(){return ne.Convert.isNull(this._hasStickyColumn)&&(this.adjustColumns(this.columns),ne.Convert.isNull(ne.Convert.isNull(this._hasStickyColumn))&&(this._hasStickyColumn=!1)),this._hasStickyColumn}get hasFractionColumn(){return ne.Convert.isNull(this._hasFractionColumn)&&(this.adjustColumns(this.columns),ne.Convert.isNull(this._hasFractionColumn)&&(this._hasFractionColumn=!1)),this._hasFractionColumn}get hasGroupColumn(){var C;return null!==(C=this._hasGroupColumn)&&void 0!==C?C:this._hasGroupColumn=ne.Convert.isValue(this.dataConfig.groups)}getItemHeight(C){return this.viewport.getItemHeight(C)}setRowHeight(C,E,I){this.viewport.setRowHeight(C,E,I)&&(this._maxTopRow=void 0)}calcRowHeights(){this.viewport.calcRowHeights()}scrollIntoView(C,E){return B(this,void 0,void 0,(function*(){const{layout:I,isGroupHeader:B,isGroupFooter:z,isTreeFooter:q}=this.scrollPanel.bodyPanel.rowsPanel.getLayout(C),Q=I.findCell(E);this.focusManager.scrollIntoView(C,Q,I)}))}scrollIntoView_old(C,E){return B(this,void 0,void 0,(function*(){if(ne.Convert.isNull(C))return void ae.Log.warn((()=>"scrollIntoView : rowItem is null"));const I=this.rowsView,B=I.currRows.find((E=>E.rowItem==C))||I.headers.find((E=>E.rowItem==C))||I.footers.find((E=>E.rowItem==C));if(ne.Convert.isNull(B)&&(this.topRow=C.rowIndex),ne.Convert.isValue(E)){E.index;const I=yield this.viewport.calcCols(this.topCol);if(I.headCells.some((C=>C.column==E))||I.tailCells.some((C=>C.column==E))||I.bodyCells.some((C=>C.column==E)))return void this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex,colStart:E.index,colEnd:E.index}));this.topCol=E.index}this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex,colStart:E.index,colEnd:E.index}))}))}get scrollbarSize(){return this.config.scrollBarSize}set scrollbarSize(C){this.config.scrollBarSize=C}get fixedWidth(){return this.defaultLayout.fixedWidth}get headWidth(){return this.defaultLayout.headWidth}get tailWidth(){return this.defaultLayout.tailWidth}get scrollWidth(){return this.defaultLayout.scrollWidth}get viewportWidth(){const C=`>.${ue.SbCss.scroll}>.${ue.SbCss.scroll_body}>.${ue.SbCss.body}>.${ue.SbCss.tbody}>.${ue.SbCss.body}`;let E=le.SBGrid3.$(C,this.container).innerWidth();return ne.Convert.isValue(E)&&0!=E?E:ne.Convert.isValue(this.config.innerWidth)&&0!=this.config.innerWidth?this.config.innerWidth:this.bodyWidth-(this.fixedWidth+this.headWidth+this.tailWidth)}get bodyWidth(){let C=this.jqScrollBody.width();return ne.Convert.isEmpty(C)&&(C=this.container.width()-this.scrollbarSize),C}get isPaging(){return this.dataSource.isPaging}get mobile(){return this.config.mobile}get layouts(){return this.isMobile?(ne.Convert.isNull(this._mobileLayouts)&&(this._mobileLayouts=new ye.GridLayouts(this,this.mobile,this.mobileColumns)),this._mobileLayouts):(ne.Convert.isNull(this._layouts)&&(this._layouts=new ye.GridLayouts(this,void 0,this.wholeColumns)),this._layouts)}get captionDepth(){return this.captionLayout.rows.length}get defaultLayout(){return this.layouts.defaultLayout}get captionLayout(){return this.layouts.captionLayout}get captionMatrix(){return this.layouts.captionMatrix}get filterLayout(){return this.layouts.filterLayout}get headerLayout(){return this.layouts.headerLayout}get headerDepth(){return this.layouts.headerDepth}get footerLayout(){return this.layouts.footerLayout}get footerDepth(){return this.layouts.footerDepth}get rowLayout(){return this.layouts.rowLayout}get rowDepth(){return this.layouts.rowDepth}get treeFooterLayout(){return this.layouts.treeFooterLayout}get treeFooterDepth(){return this.layouts.treeFooterDepth}get detailLayout(){return this.layouts.detailLayout}get detailHeight(){return this.config.detailHeight}groupLayout(C){return this.layouts.groupLayout(C)}get hasDetail(){return ne.Convert.isValue(this.detailTemplate)}get detailTemplate(){var C;return null!==(C=this._detailTemplate)&&void 0!==C?C:ne.Convert.isEmpty(this.config.detailTemplate)?void 0:this._detailTemplate=ne.Utils.createTemplate(this.config.detailTemplate)}setDetailTemplate(C){C!=this.config.detailTemplate&&(this._detailTemplate=ne.Utils.createTemplate(C))}get emptyTemplate(){var C;return ne.Convert.isEmpty(this.config.emptyTemplate)?void 0:null!==(C=this._emptyTemplate)&&void 0!==C?C:this._emptyTemplate=ne.Utils.createTemplate(this.config.emptyTemplate)}get loadingTemplate(){var C;return ne.Convert.isEmpty(this.config.loadingTemplate)?void 0:null!==(C=this._loadingTemplate)&&void 0!==C?C:this._loadingTemplate=ne.Utils.createTemplate(this.config.loadingTemplate)}get emptyMessage(){return this.resource.emptyMessage}get rowMatrix(){return this.layouts.rowMatrix}get headerMatrix(){return this.layouts.headerMatrix}get footerMatrix(){return this.layouts.footerMatrix}get filterMatrix(){return this.layouts.filterMatrix}get copyInsert(){var C;return null!==(C=this.config.copyInsert)&&void 0!==C&&C}get rowReorder(){var C,E;return null!==(C=this._rowReorder)&&void 0!==C?C:this._rowReorder=ne.Convert.isValue(null===(E=this.config.reorderable)||void 0===E?void 0:E.row)||ne.Convert.isValue(this.config.dataDraggable)||ne.Convert.isValue(this.config.dataDroppable)?new Te.RowReorder(this):void 0}get detailContainerMap(){var C;return null!==(C=this._detailContainers)&&void 0!==C?C:this._detailContainers=new Map}detailContainer(C,E){return ne.Convert.isNull(E)?this.detailContainerMap.get(C):(this.detailContainerMap.set(C,E),E)}editable(C){this.config.editable=ee.GridParser.parseEditable(C),this.view.editKeyMap.clear(),this._focusManager=void 0,this.refresh()}clearHeightInfo(){var C;this._oldVisibleCount=void 0,this._oldViewportHeight=void 0,this._maxTopRow=void 0,this.scrollPanel.bodyPanel.bodyHeight=void 0,this.view.heightMap.clear(),null===(C=this._layouts)||void 0===C||C.rowsViewMap.clear()}getMaxTopRow(){var C;return B(this,void 0,void 0,(function*(){if(ne.Convert.isValue(this._maxTopRow)&&!this.hasDetail&&this._oldVisibleCount==this.visibleCount&&this._oldViewportHeight==this.viewportHeight)return this._maxTopRow;this._oldViewportHeight=this.viewportHeight;let E=(null!==(C=this.rowCount)&&void 0!==C?C:1)-1,I=yield this.viewport.calcRows(E);return({rowsView:I,topRow:E}=yield this.viewport.adjustMaxTopRow(I,E)),ae.Log.debug((()=>["getMaxTopRow.adjustMaxTopRow",{rowIndex:E,_oldViewportHeight:this._oldViewportHeight,drowHeights:I.rowHeights,rowsView:I}])),this._maxTopRow=E,this._oldVisibleCount=this.visibleCount,E}))}getMinTopRow(){return B(this,void 0,void 0,(function*(){let C=0;return C=yield this.viewport.adjustMinTopRow(),ae.Log.debug((()=>["getMinTopRow.adjustMinTopRow",C])),this._minTopRow=C,C}))}setTopRow(C){var E,I;return B(this,void 0,void 0,(function*(){try{if(this.virtualRow){if(C=Math.max(0,C),this._pageLoading)return;if(this.view.topRow==C)return;const B=this.view.topRow;if(this.view.topRow=C,1==this.dataConfig.serverPaging&&(ne.Convert.isEmpty(this.dataConfig.groups)||this.dataConfig.serverGrouping))try{this._pageLoading=!0}finally{this._pageLoading=!1}let z=yield this.viewport.calcRows(C);if(({rowsView:z,topRow:C}=yield this.viewport.adjustMaxTopRow(z,C)),this.mergeRow){const C=[];for(const E of this.visibleColumns)E.mergeRow&&C.push(E.index);this.fireCommandAsync(this,new ce.RefreshCommand({cols:C}))}else if(B>C)this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:C,rowEnd:B-1}));else{const C=this.scrollPanel.rowsView.currRows,B=null===(I=null===(E=C[C.length-1])||void 0===E?void 0:E.rowItem)||void 0===I?void 0:I.rowIndex;this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:B+1}))}this.scrollPanel.setScrollPos(void 0,C),this.scrollPanel.removeComboPopupScrolling()}else{let E=this.viewport.getScrollHeight(C);const I=this.view.topRow,B=C;if(this.view.topRow=C,I==B)return;this.viewport.calcRows(C).then((z=>{E-=z.headerHeight,this.scrollPanel.setScrollPos(void 0,E),this.scrollPanel.scrollTop=E,I-I%this.dataConfig.pageSize!=B-B%this.dataConfig.pageSize&&this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:C}))}))}}finally{}}))}clearLayout(){this.resetManager(),this.clearHeightInfo(),this._maxTopRow=void 0,this._minTopRow=void 0,this._layouts=void 0,this._mobileLayouts=void 0,this._maxTopCol=void 0,this._jqScrollBody=void 0}clearColumns(){this._fixedColumns=void 0,this._groupColumns=void 0,this._headColumns=void 0,this._viewportColumns=void 0,this._tailColumns=void 0,this._scrollColumns=void 0,this._columnsMap=void 0,this._stickyColumns=void 0,this._mobileColumns=void 0,this._hasFractionColumn=void 0,this._hasStickyColumn=void 0,this._hasGroupColumn=void 0,this.clearLayout()}refreshColumns(C){var E;ne.Arrays.bfsAction(null!==(E=this._columns)&&void 0!==E?E:[],(C=>(C.captionChecked=!1,C.columns))),this._viewportColumns=void 0,0==C&&(this._fixedColumns=void 0,this._groupColumns=void 0,this._headColumns=void 0,this._tailColumns=void 0,this._scrollColumns=void 0,this._columnsMap=void 0,this._maxTopCol=void 0)}static getColumnWidth(C){let E=0;return ne.Convert.isEmpty(C)||ne.Arrays.bfsAction(C,(C=>{var I,B,z,q;return 0==(null!==(B=null===(I=C.columns)||void 0===I?void 0:I.length)&&void 0!==B?B:0)&&(E+=C.config.visible?C.unit==ie.Unit.Pixel?null!==(z=C.width)&&void 0!==z?z:0:null!==(q=C.minWidth)&&void 0!==q?q:0:0),C.columns})),E}setColumnIndex(C,E=void 0,I=1,B=0,z=1){const q=new Map;for(const Q of C){Q.index=B,Q.colIndex=z,Q.level=I,Q.parent=E,z++;if(Q.type==Ce.ColumnTypes.Multi||ne.Convert.isValue(Q.captions)){const C=new ye.GridLayout(this);B+=ye.GridLayout.createMultiCell(C,Q,Q.captions,B,I),this.ensureColumnMap(q,C);for(const C of Q.columns){if(0==q.has(C))continue;const E=q.get(C);C.index=E.col,C.colIndex=z,C.level=E.row,z++}}else if(ne.Convert.isValue(Q.columns)){const C=this.setColumnIndex(Q.columns,Q,I+1,B,z);B=C.index,z=C.colIndex}else B++}return{index:B,colIndex:z}}ensureColumnMap(C,E){for(const I of E.rows)if(!ne.Convert.isNull(I))for(const E of I.cells)ne.Convert.isNull(E)||C.set(E.column,E)}doCommand(C,E){switch(E.command){case z.Commands.Refresh:this.refresh(E);break;case z.Commands.RowChange:this.rowChange(E);break;case z.Commands.Loaded:this.loaded(E);break;case z.Commands.Reload:this.reload(E);break;case z.Commands.Import:this.importData(E);break;case z.Commands.Insert:this.insertData(E);break;case z.Commands.Update:this.updateData(E);break;case z.Commands.Delete:this.deleteData(E);break;case z.Commands.Undelete:this.undeleteData(E);break;case z.Commands.Pager:this.loadPage(E.pageNo);break;case z.Commands.Undo:this.undo();break;case z.Commands.Redo:this.redo();break;case z.Commands.Copy:this.selectManager.copy();break;case z.Commands.Paste:this.selectManager.paste();break;case z.Commands.Rebuild:this.rebuild(E);break;case z.Commands.Edit:this.edit(E);break;case z.Commands.AddRow:this.addRowCommand(E);break;case z.Commands.AddTop:this.addTopCommand(E);break;case z.Commands.InsertRow:this.insertRowCommand(E);break;case z.Commands.AppendRow:this.appendRowCommand(E);break;case z.Commands.DeleteRow:this.deleteRowCommand(E);break;case z.Commands.DeleteRow:this.undeleteRowCommand(E);break;case z.Commands.Save:this.save();break;case z.Commands.Scroll:return this.scrollPanel.doScroll(E),!1;case z.Commands.ColumnVisible:this.columnVisible(E.visible);break;case z.Commands.MoveToPart:this.moveToPartCommand(E);break;case z.Commands.ToogleRow:this.toggleRowCommand(E);break;case z.Commands.OpenRow:this.openRowCommand(E);break;case z.Commands.CloseRow:this.closeRowCommand(E);break;case z.Commands.Loading:this.loadingCommand(E);break;default:return super.doCommand(C,E)}return!0}rowChange(C){this.clearHeightInfo()}canCommand(C,E){switch("object"==typeof E?E.command:E){case z.Commands.Refresh:return!0;case z.Commands.Undo:return this.undoManager.undoStack.any();case z.Commands.Redo:return this.undoManager.redoStack.any();case z.Commands.Select:case z.Commands.Selected:case z.Commands.Scroll:return!0;case z.Commands.Copy:return this.selectManager.canCopy()}return super.canCommand(C,E)}rebuild(C){ae.Log.debug((()=>[this.name+".rebuild"])),this.setConfig(this._originConfig),this.personalSetting(),this.fireCommandAsync(this,new ce.RefreshCommand)}reload(C){var E,I,z;return B(this,void 0,void 0,(function*(){ae.Log.debug((()=>[this.name+".reload","reset : "+(null==C?void 0:C.reset)])),this.refreshColumns(!1),this.clearLayout(),null===(E=this._eventManager)||void 0===E||E.clear(),this._eventManager=void 0,null===(I=this._selectManager)||void 0===I||I.clear(),null===(z=this._focusManager)||void 0===z||z.clear(),yield this.view.reload(C),this.virtualRow?this.scrollPanel.setScrollPos(void 0,this.view.topRow):(this.scrollPanel.internalScrollTop=0,this.scrollPanel.setScrollPos(void 0,0)),this.clearSaveData(),this.clearHeightInfo(),this.refresh()}))}loaded(C){return B(this,void 0,void 0,(function*(){ae.Log.info((()=>[this.name+".loaded",C])),this.doGridCommand(new Ee.GridLoadedCommand(C.request,C.pageNo,C.data)),this.refresh()}))}setPageNo(C){var E;return B(this,void 0,void 0,(function*(){if(C<0&&(C=Math.ceil((null!==(E=this.total)&&void 0!==E?E:0)/this.pageSize)+C),this.view.pageNo==C){const E=C*this.pageSize;if(this.view.topRow==E)return}yield this.view.setPageNo(C),this.virtualRow?this.scrollPanel.setScrollPos(void 0,this.view.topRow):(this.scrollPanel.internalScrollTop=0,this.scrollPanel.setScrollPos(void 0,0)),this.fireCommandAsync(this,new ce.RefreshCommand)}))}loadPage(C){return B(this,void 0,void 0,(function*(){this.undoManager.add((()=>new _e.UndoPaging(this.pageNo,C))),yield this.setPageNo(C)}))}save(){return B(this,void 0,void 0,(function*(){yield this.view.save(),this.undoManager.clear(),this.refresh()}))}clearSaveData(){this.dataSource.clearSaveData(),this.undoManager.clear(),this.refresh()}adjustColumns(C){if(!ne.Convert.isNull(C))for(const E of C){if(E.part==ie.PartType.Sticky&&(this.stickyColumns.findIndex((C=>C==E))<0&&this.stickyColumns.push(E),this._hasStickyColumn=!0),E.unit!=ie.Unit.Pixel&&(this._hasFractionColumn=!0),!0===this._hasStickyColumn&&!0===this._hasFractionColumn)return;ne.Convert.isValue(E.columns)&&this.adjustColumns(E.columns)}}createColumns(C,E,I){var B,z,q;if(ne.Convert.isNull(E))return;ne.Arrays.bfsAction(C,(C=>(C.disconnect(),C.columns))),C.splice(0);let Q=0;this.stickyColumns.splice(0);let ee=null!==(B=null==I?void 0:I.index)&&void 0!==B?B:0;for(const B of E){const E=re.ColumnFactory.create(this,B);if(E.parent=I,E.index=ee,ne.Convert.isNull(I)?(E.level=0,E.config.part=B.part):(E.level=I.level+1,E.config.part=I.part),E.part==ie.PartType.Sticky&&(this.stickyColumns.findIndex((C=>C==E))<0&&this.stickyColumns.push(E),this._hasStickyColumn=!0),E.unit!=ie.Unit.Pixel&&(this._hasFractionColumn=!0),C.push(E),(null!==(q=null===(z=B.columns)||void 0===z?void 0:z.length)&&void 0!==q?q:0)>0){const C=this.createColumns(E.columns,B.columns,E);E.width=E.columns.reduce(((C,E)=>C+E.width),0),E.colSpan=C,Q+=C,ee+=C}else E.width=E.config.width,Q++,ee++}return ne.Convert.isNull(this._hasStickyColumn)&&(this._hasStickyColumn=!1),ne.Convert.isNull(this._hasFractionColumn)&&(this._hasFractionColumn=!1),this._layouts=void 0,Q}createPanels(C){if(!ne.Convert.isNull(C)){this.panels.forEach((C=>C.disconnect())),this.panels.splice(0),this.scrollPanel=void 0,this.hiddenPanel=void 0,this.loadingPanel=void 0;for(const E of C){const C=oe.PanelFactory.create(this,E);this.panels.push(C),C instanceof we.ScrollPanel?this.scrollPanel=C:C instanceof se.HiddenPanel?this.hiddenPanel=C:C instanceof se.LoadingPanel&&(this.loadingPanel=C)}ne.Convert.isNull(this.hiddenPanel)&&(this.hiddenPanel=oe.PanelFactory.create(this,oe.PanelType.Hidden),this.panels.splice(0,0,this.hiddenPanel)),ne.Convert.isNull(this.loadingPanel)&&(this.loadingPanel=new se.LoadingPanel(this),this.panels.push(this.loadingPanel))}}edit(C){var E;switch(C.type){case ee.EditMode.incell:case ee.EditMode.inline:break;case ee.EditMode.none:return;case ee.EditMode.popup:throw"popup mode is not implemented!"}if(ne.Convert.isValue(C.rowItem)){if(C.rowItem.isEdit)return;C.rowItem.isEdit=!0,C.column.editable(C.rowItem)&&this.doGridCommand(new Ee.GridEditCommand(null===(E=null==C?void 0:C.rowItem)||void 0===E?void 0:E.key,null==C?void 0:C.column)),this.refresh(new ce.RefreshCommand({rowStart:C.rowItem.rowIndex,rowEnd:C.rowItem.rowIndex}))}}get stopRender(){return ne.Convert.isValue(this.refreshingCommands)}refresh(C){if(ne.Convert.isNull(C)&&(C=new ce.RefreshCommand),this.refreshing||this.eventManager.doing)return void this.refreshingCommands.push(C);this.refreshCommands.push(C),ne.Convert.isValue(this.refreshTimer)&&clearTimeout(this.refreshTimer);const E=this;this.refreshTimer=window.setTimeout((()=>B(this,void 0,void 0,(function*(){try{E.refreshing=!0,yield E.render(),E.refreshCommands.splice(0),clearTimeout(E.refreshTimer)}finally{if(E.refreshing=!1,ne.Convert.isValue(this.refreshingCommands)){const C=Grid.mergeRefreshCommand(E.refreshingCommands.splice(0));E.fireCommandAsync(E,C)}}}))),0)}respondToVisibility(){var C;const E=null===(C=this.container)||void 0===C?void 0:C.get(0),I=this;var B={root:document.documentElement};new IntersectionObserver(((C,E)=>{C.forEach((C=>{const E=I.container.is(":visible");ae.Log.info((()=>[I.name+" : visible changed",{visible:E,oldVisible:I._oldVisible}])),I._oldVisible!=E&&(I._oldVisible=E,E&&I.refresh())}))}),B).observe(E)}rebuildColumns(){return B(this,void 0,void 0,(function*(){ne.Convert.isEmpty(this.config.columns)&&(yield this.view.rebuildColumns())}))}get refreshFull(){return!0}render(){var C;return B(this,void 0,void 0,(function*(){try{const E=this.container,I=this.bodyWidth;ne.Convert.isEmpty(this.columns)&&(yield this.view.prepareRows(),yield this.rebuildColumns(),this.initControls()),yield this.createStyle(E);for(const C of this.panels)C.renderable&&(yield C.createStyle(E));if(this.applyStyle(),yield this.createStyle(E),this.refreshFull){for(const C of this.panels)if(0!=C.renderable){if(this.stopRender)break;C!=this.scrollPanel?yield C.render(E):yield this.scrollPanel.layoutPanel(E),yield C.createStyle(E)}0==this.stopRender&&(yield this.scrollPanel.render(E),yield this.scrollPanel.createStyle(E))}else yield this.scrollPanel.render(E);this.applyStyle(),ne.JqUtils.emptyTrash(this.trashCan),null===(C=this.tooltip)||void 0===C||C.renderValidationTooltip(),globalThis.window.removeEventListener("resize",this.onResize),globalThis.window.addEventListener("resize",this.onResize),this.scrollPanel.adjustScrollSize(),I!=this.bodyWidth&&(this._layouts=void 0)}finally{}}))}clearStyle(){let C=`style_${this.name}`,E=`style_${this.name}_scroll`,I=le.SBGrid3.$(`head > style#${C}`),B=le.SBGrid3.$(`head > style#${E}`);I.remove(),B.remove()}createStyle(C){return B(this,void 0,void 0,(function*(){const C={display:"flex","flex-direction":"column"};ne.Convert.isValue(this.config.width)&&(C.width=this.config.width),ne.Convert.isValue(this.config.height)&&(C.height=this.config.height),0==this.config.autoHeight&&ne.Convert.isValue(this.config.height)&&(C.height=this.config.height),ne.Convert.isValue(this.config.minHeight)&&(C["min-height"]=this.config.minHeight),ne.Convert.isValue(this.config.maxHeight)&&(C["max-height"]=this.config.maxHeight),this.style.set("",C)}))}applyStyle(){let C,E=`style_${this.name}`,I=`style_${this.name}_scroll`,B=le.SBGrid3.$(`head > style#${E}`),z=le.SBGrid3.$(`head > style#${I}`);0==B.length?le.SBGrid3.$("head").append(`<style type='text/css' id='${E}'>${this.style}</style>`):B.text()!=(C=this.style.toString())&&B.text(C),0==z.length?le.SBGrid3.$("head").append(`<style type='text/css' id='${I}'>${this.styleScroll}</style>`):z.text()!=(C=this.styleScroll.toString())&&z.text(C)}setTheme(C){this.config.theme=C,ne.JqUtils.changeClass(this.container,this.rootClass)}addGroupColumn(C){const E=C.config.field;if(ne.Convert.isEmpty(E))return!1;const I=[];for(const C of this.dataConfig.groups){if(C.field==E)return!1;I.push(C)}let B={field:E,dir:de.SortDir.Asc,isOpen:this.config.groupAutoOpen};return I.push(B),this.setGroup(I),!0}removeGroupColumn(C){const E=C.config.field,I=[];for(const C of this.dataConfig.groups)C.field!=E&&I.push(C);return this.dataConfig.groups.length!=I.length&&(this.setGroup(I),!0)}setGroupColumns(C){var E,I,B;const z=[],q=null!==(E=this.dataConfig.groups)&&void 0!==E?E:[];for(const E of C){const C=E.config.field,Q=null!==(B=null===(I=q.find((E=>E.field==C)))||void 0===I?void 0:I.dir)&&void 0!==B?B:de.SortDir.Asc,ee={field:C,dir:Q,isOpen:this.config.groupAutoOpen};z.push(ee)}this.setGroup(z)}isGroupColumn(C){const E=C.config.field;return 0==C.config.groupable||this.dataConfig.groups.some((C=>C.field==E))}getColumnByField(C){return ne.Arrays.bfsSearch(this.columns,(E=>{let I=E.config.field==C;return!I&&E.columns?E.columns:I}))}setSort(C=[]){this.undoManager.add((()=>new _e.UndoSort([].concat(this.dataConfig.groups).concat(this.dataConfig.orders),C)));for(const E of this.dataConfig.groups){const I=C.findIndex((C=>C.field===E.field));I<0||(E.dir=C[I].dir,C.splice(I,1))}let E;if(C.forEach((C=>{C.field==me.FixedFields.status&&(C.sort=this.statusSort,E=C)})),ne.Convert.isValue(E)){const I=C.findIndex((C=>C==E));I>0&&(C.splice(I,1),C.splice(0,0,E))}this.dataConfig.orders=de.DataSourceParser.parseOrders(C),this.search()}search(){return B(this,void 0,void 0,(function*(){this.clearHeightInfo(),yield this.view.search(),this.view.topRow=0,yield this.scrollPanel.setScrollPos(void 0,this.topRow)}))}static statusToNumber(C){switch(C){case te.DataStatus.None:case te.DataStatus.Normal:return 0;case te.DataStatus.Update:return 1;case te.DataStatus.Delete:return 2;case te.DataStatus.Insert:return 3;default:return 0}}statusSort(C,E,I){return I==de.SortDir.Asc?Grid.statusToNumber(E.status)-Grid.statusToNumber(C.status):Grid.statusToNumber(C.status)-Grid.statusToNumber(E.status)}toggleStickyRow(C,E=void 0){if(ne.Convert.isValue(E)){const I=this.view.map(C);if(ne.Convert.isNull(I)||I.isSticky===E)return E}this.undoManager.add((()=>new _e.UndoStickyRow(C)));const I=this.view.toggleStickyRow(C);return this.fireCommandAsync(this,new ce.RefreshCommand({})),I}toggleStickyRows(C,E=void 0){if(ne.Convert.isValue(E)){const I=[];for(const B of C){const C=this.view.map(B);ne.Convert.isNull(C)||C.isSticky===E||I.push(B)}C=I}return this.undoManager.add((()=>new _e.UndoStickyRows(C,E))),this.view.toggleStickyRows(C,E),this.fireCommandAsync(this,new ce.RefreshCommand({})),C}toggleCheckRow(C,E=void 0){const I=this.view.map(C);if(!ne.Convert.isNull(I))return ne.Convert.isValue(E)&&I.isCheck===E?E:(this.undoManager.add((()=>new _e.UndoCheckRow(C))),I.isCheck=!I.isCheck,this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:I.rowIndex,rowEnd:I.rowIndex})),!0)}toggleCheckRows(C,E=void 0){if(ne.Convert.isValue(E)){const I=[];for(const B of C){const C=this.view.map(B);ne.Convert.isNull(C)||C.isCheck===E||I.push(B)}C=I}for(const I of C){const C=this.view.map(I);ne.Convert.isNull(C)||C.isCheck===E||(C.isCheck=null!=E?E:!C.isCheck)}return this.undoManager.add((()=>new _e.UndoCheckRows(C,E))),this.fireCommandAsync(this,new ce.RefreshCommand({})),C}sort(C=[]){let E=[];for(const I of C){let C="string"==typeof I?{field:I,dir:de.SortDir.Asc}:I;E.push(C)}this.setSort(E)}sortData(C){let E=[{sort:C}];this.setSort(E)}setGroup(C=[]){return B(this,void 0,void 0,(function*(){let E=[];for(const I of C)if("string"==typeof I){let C={field:I,dir:de.SortDir.Asc,isOpen:this.config.groupAutoOpen};E.push(C)}else E.push(I);this.undoManager.add((()=>new _e.UndoGroup(this.dataConfig.groups,E))),ae.Log.debug((()=>["before Group",this.rows.length])),this._gridView.clearEdit(),this.dataConfig.groups=de.DataSourceParser.parseGroups(E),yield this.search(),this.clearColumns(),this.fireCommandAsync(this,new ce.RefreshCommand),ae.Log.debug((()=>["after Group",this.rows.length]))}))}filter(C=[]){this.dataConfig.filters=C instanceof Array?de.DataSourceParser.parseFilters(C):de.DataSourceParser.parseFilters([de.DataSourceParser.parseFilter(C)]),this.search()}sortGroupColumn(C,E){const I=C.config.field;if(ne.Convert.isEmpty(I))return!1;let B=!1;for(const C of this.dataConfig.groups)if(C.field==I)if(ne.Convert.isNull(E)){switch(C.dir){case de.SortDir.Asc:C.dir=de.SortDir.Desc;break;case de.SortDir.Desc:C.dir=de.SortDir.Asc}B=!0}else B=C.dir!=E,C.dir=E;return B&&this.search(),B}toggleSort(C,E,I=void 0){var z;return B(this,void 0,void 0,(function*(){ae.Log.debug((()=>["toggleSort",C,E]));let B=!1,q=[];if((null!==(z=this.dataConfig.groups)&&void 0!==z?z:[]).length>0)for(let E of this.dataConfig.groups)if(E=de.DataSourceParser.parseGroup(E),q.push(E),E.field==C){switch(E.dir){case de.SortDir.Asc:E.dir=de.SortDir.Desc;break;case de.SortDir.Desc:E.dir=de.SortDir.Asc}B=!0}if(0==B)if(de.DataSourceParser.parseOrders(this.dataConfig.orders).forEach((C=>q.push(C))),this.config.multiSort)if(E){const E=(null!=q?q:[]).findIndex((E=>E.field==C));if(E>=0)q.splice(E,1);else{const E={field:C,dir:null!=I?I:de.SortDir.Asc};ne.Convert.isNull(q)?q=[E]:q.push(E)}}else{let E=(null!=q?q:[]).find((E=>E.field==C));if(!ne.Convert.isValue(E))return;switch(E.dir){case de.SortDir.Asc:E.dir=de.SortDir.Desc;break;case de.SortDir.Desc:E.dir=de.SortDir.Asc}}else{let B=(null!=q?q:[]).find((E=>E.field==C));if(E)q=ne.Convert.isValue(B)?[]:[{field:C,dir:null!=I?I:de.SortDir.Asc}];else{if(!ne.Convert.isValue(B))return;switch(B.dir){case de.SortDir.Asc:B.dir=de.SortDir.Desc;break;case de.SortDir.Desc:B.dir=de.SortDir.Asc}}}this.setSort(q)}))}toggleRowCommand(C){return B(this,void 0,void 0,(function*(){yield this.toggleRow(C.key)}))}openRowCommand(C){return B(this,void 0,void 0,(function*(){yield this.toggleRow(C.key,!0)}))}closeRowCommand(C){return B(this,void 0,void 0,(function*(){yield this.toggleRow(C.key,!1)}))}toggleRow(C,E){return B(this,void 0,void 0,(function*(){return ne.Convert.isNull(E)?this.undoManager.add((()=>new _e.UndoToggleRow(C))):E?this.undoManager.add((()=>new _e.UndoOpenRow(C))):this.undoManager.add((()=>new _e.UndoCloseRow(C))),yield this.view.toggleRow(C,E)}))}toggleDetail(C,E){return B(this,void 0,void 0,(function*(){return ne.Convert.isNull(E)?this.undoManager.add((()=>new _e.UndoToggleDetail(C))):E?this.undoManager.add((()=>new _e.UndoOpenDetail(C))):this.undoManager.add((()=>new _e.UndoCloseDetail(C))),yield this.view.toggleDetail(C,E)}))}setEvent(C,E,I,B=void 0,z=void 0,q=!1){z instanceof HTMLElement?this.eventManager.setHandler(C,E,I,B,z,q):z&&this.eventManager.setHandler(C,E,I,B,z.toArray(),q)}static getValue(C,E){return ne.Convert.isValue(E)?C.node.value(E):C.node.data}_setColumnSize(C,E,I){if(!(ne.Convert.isEmpty(E)||E<=0))if(ae.Log.debug((()=>["_setColumnSize",C,E,I])),0==I){const I=ne.Utils.findCellFromColumn(this.captionLayout,C);if(ne.Convert.isNull(I))return;if(ne.Convert.isValue(C.columns)){const B=I.width,z=E/B;let q=0;const Q=C.columns[C.columns.length-1];for(const I of C.columns)I===Q?this._setColumnSize(I,E-q,!1):this._setColumnSize(I,I.width*z,!1),q+=I.width;E=q}if(C.unit==ie.Unit.Pixel)C.config.width=E;else{const B=0==E||0==I.width?0:E/I.width,z=C.config.width,q=z*B;C.config.width=q;const Q=I.col;this._setFractionSize(Q,z,q)}I.width=E,C.width=E}else if(0==ne.Convert.isNull(C.parent)){const I=C.parent;let B=0;for(const C of I.columns)B+=C.width;I.width=B,I.config.width=E,this._setColumnSize(I,B,!0)}}_setFractionSize(C,E,I){let B=0;for(const E of this.defaultLayout.rows)if(!ne.Convert.isNull(E))for(const I of E.cells)ne.Convert.isNull(null==I?void 0:I.column)||I.unit!=ie.Unit.Pixel&&I.col!=C&&(B+=I.column.config.width);const z=(B-(I-E))/B;for(const E of this.defaultLayout.rows)if(!ne.Convert.isNull(E))for(const I of E.cells){if(ne.Convert.isNull(null==I?void 0:I.column))continue;if(I.unit==ie.Unit.Pixel)continue;if(I.col==C)continue;const E=I.column.config.width*z;I.column.config.width=E}}setColumnSize(C,E,I=!1){var B,z;ne.Convert.isValue(C.config.maxWidth)&&(E=Math.min(E,C.config.maxWidth)),ne.Convert.isValue(C.config.minWidth)&&(E=Math.max(E,C.config.minWidth)),ae.Log.debug((()=>["setColumnSize",C,E]));const q=null===(B=ne.Utils.findCellFromColumn(this.captionLayout,C))||void 0===B?void 0:B.width;if(this._setColumnSize(C,E,!1),this._setColumnSize(C,E,!0),I){const I=Grid.findRightColumn(C,this.wholeColumns);if(ne.Convert.isValue(I)){const C=(null===(z=ne.Utils.findCellFromColumn(this.captionLayout,I))||void 0===z?void 0:z.width)-(E-q);this._setColumnSize(I,C,!1),this._setColumnSize(I,C,!0)}}this.undoManager.add((()=>new _e.UndoColWidth(C,q,E,I))),this.clearLayout(),this.fireCommandAsync(this,new ce.RefreshCommand)}static findRightColumn(C,E){const I=ne.Convert.isNull(C.parent)?E:C.parent.columns;let B=C.index;return I.find((C=>!(C.index<=B||0==C.visible||C instanceof he.FrozenColumn)))}static findLeftColumn(C,E){const I=ne.Convert.isNull(C.parent)?E:C.parent.columns;let B=C.index;return[].concat(I).reverse().find((C=>!(C.index>=B||0==C.visible||C instanceof he.FrozenColumn)))}static _moveToColumn(C,E,I,B){var z,q,Q,ee;ae.Log.debug({f:"_moveToColumn",sourceColumn:C,targetColumn:E});const te=null!==(q=null===(z=C.parent)||void 0===z?void 0:z.columns)&&void 0!==q?q:I,re=null!==(ee=null===(Q=E.parent)||void 0===Q?void 0:Q.columns)&&void 0!==ee?ee:I;if(ne.Convert.isNull(B)){const I=te.findIndex((E=>E==C));return I>=0&&te.splice(I,1),void E.columns.push(C)}const se=C instanceof he.FrozenColumn,oe=E instanceof he.FrozenColumn;if(se&&oe)return;let le=se?-1:te.indexOf(C),ue=oe?-1:re.indexOf(E);if(se){if(ne.Convert.isValue(E.parent))throw"targetColumn은 반드시 top level column 이어야 합니다.";const z=ue+(B?0:1);let q=0;if(C.part==ie.PartType.Head)for(const C of I){if(q<z)C.part===ie.PartType.Body&&this._setColumnsPart(C,ie.PartType.Head);else if(C.part==ie.PartType.Head)this._setColumnsPart(C,ie.PartType.Body);else if(C.part==ie.PartType.Body||C.part==ie.PartType.Sticky)break;q++}else if(C.part==ie.PartType.Tail)for(const C of I)z<=q?C.part!=ie.PartType.Tail&&this._setColumnsPart(C,ie.PartType.Tail):C.part==ie.PartType.Tail&&this._setColumnsPart(C,ie.PartType.Body),q++}else{if(le>=0){if(te.splice(le,1),ue=oe?-1:re.indexOf(E),ue<0)switch(E.part){case ie.PartType.Head:re.forEach(((C,E)=>C.part==ie.PartType.Head&&(ue=E))),B=!1,ue<0&&(ue=0);break;case ie.PartType.Tail:ue=re.findIndex((C=>C.part==ie.PartType.Tail)),B=!0,ue<0&&(ue=re.length)}ue>=0&&(B?re.splice(ue,0,C):re.splice(ue+1,0,C))}if(E.part!=C.part)switch(E.part){case ie.PartType.Head:Grid._setColumnsPart(C,ie.PartType.Head);break;case ie.PartType.Tail:Grid._setColumnsPart(C,ie.PartType.Tail);break;case ie.PartType.Body:case ie.PartType.Sticky:C.part!=ie.PartType.Head&&C.part!=ie.PartType.Tail||Grid._setColumnsPart(C,ie.PartType.Body)}}}static _setColumnsPart(C,E){var I;C.config.part=E;for(const B of null!==(I=C.columns)&&void 0!==I?I:[])this._setColumnsPart(B,E)}moveToColumn(C,E,I){return B(this,void 0,void 0,(function*(){if(ne.Convert.isNull(C))throw"moveToColumn : sourceColumn is null";ne.Convert.isNull(E)&&(E=this.findPrevNextColumn(C,I),ne.Convert.isNull(E))||C!==E&&(this.undoManager.add((()=>new _e.UndoMoveColumn(this.wholeColumns,C,E,I))),Grid._moveToColumn(C,E,this.columns,I),this.clearColumns(),this.fireCommandAsync(this,new ce.RefreshCommand),this.scrollPanel.removeMenu(),this.scrollPanel.removeComboPopupScrolling())}))}findPrevNextColumn(C,E){var I;return null===(I=this.captionLayout.findCell(C,E))||void 0===I?void 0:I.column}moveToRow(C,E,I=!0){return B(this,void 0,void 0,(function*(){if(ne.Convert.isNull(C)||ne.Convert.isNull(E))throw"moveToRow : sourceRow or targetRow is null";yield this.undoManager.addScope((()=>new _e.UndoMoveRow(C,E,I)),(()=>B(this,void 0,void 0,(function*(){yield this.view.moveToRow(C,E,I),this.fireCommandAsync(this,new ce.RefreshCommand)}))))}))}clearRows(){this.dataSource.clearRows(),this.view.clearRows(),this.clearLayout(),this.scrollPanel.internalScrollTop=0,this.scrollPanel.internalScrollLeft=0,this.undoManager.clear()}rowEditable(C){return"function"!=typeof this.config.rowEditable||this.config.rowEditable(null==C?void 0:C.data,C)}static mergeRefreshCommand(C){let E;if(ne.Convert.isValue(C)){const I=C[0];E=new ce.RefreshCommand(I),E.onlyLayout=C.filter((C=>1==C.onlyLayout)).length==C.length;for(const I of C){if(ne.Convert.isNull(I)){E=new ce.RefreshCommand;break}E.colStart=ne.Convert.isNull(E.colStart)?E.colStart:ne.Convert.isNull(I.colStart)?I.colStart:Math.min(E.colStart,I.colStart),E.colEnd=ne.Convert.isNull(E.colEnd)?E.colEnd:ne.Convert.isNull(I.colEnd)?I.colEnd:Math.max(E.colEnd,I.colEnd),E.rowStart=ne.Convert.isNull(E.rowStart)?E.rowStart:ne.Convert.isNull(I.rowStart)?I.rowStart:Math.min(E.rowStart,I.rowStart),E.rowEnd=ne.Convert.isNull(E.rowEnd)?E.rowEnd:ne.Convert.isNull(I.rowEnd)?I.rowEnd:Math.max(E.rowEnd,I.rowEnd),E.cols=ne.Convert.isNull(E.cols)?E.cols:ne.Convert.isNull(I.cols)?I.cols:ne.Convert.mergeArray(E.cols,I.cols)}return E}return E=new ce.RefreshCommand,E}getValue(C,E=void 0){return this.view.getValue(C,E)}setValueCommand(C){var E;if(ne.Convert.isValue(C.info.field)){const I=C.info.field,B=null!==(E=C.column)&&void 0!==E?E:this.columnsMap.get(I);if(ne.Convert.isNull(B))return;let z=C.info.value;const q=this.view.map(C.info.key);if(ne.Convert.isValue(B.config.setValue))C.info.value=B.config.setValue(z,I,q);else{const E={key:C.info.key,field:C.info.field,value:C.info.value,oldValue:le.SBGrid3.getValue(this,C.info.key,C.info.field)};this.doGridCommand(new Ee.GridValueCommand(E,C.column)),C.info.value=E.value}}}setValues(C,E){if(!ne.Convert.isValue(C))return!1;C.forEach((C=>C.oldValue=le.SBGrid3.getValue(this,C.key,C.field))),C.forEach((C=>{const I=new Ee.GridValueCommand({key:C.key,value:C.value,oldValue:C.oldValue,field:C.field},E);this.setValueCommand(I),C.value=I.info.value}));const I=this.view.setValues(C);if(ne.Convert.isValue(I)){this.undoManager.add((()=>new _e.UndoUpdate(I)));const C=I.map((C=>({value:C.redoValue,oldValue:C.undoValue,key:C.key,field:C.field}))),E=this.dataSource.getSaveData(!0,!0,!0),B=new Ee.GridUpdatedCommand(E,C);this.doGridCommand(B)}return this.fireCommandAsync(this,new ce.RefreshCommand(this.adjustRefreshRange(C))),I.length>0}insertValues(C,E){return B(this,void 0,void 0,(function*(){if(ne.Convert.isEmpty(C)&&this.loader instanceof Me.ListLoader==0)return void ae.Log.warn((()=>"선택된 셀이 없으면, 리스트모드에서만 insert가 가능합니다."));const I=yield this.view.insertValues(C,E);return ne.Convert.isValue(I)&&(this.fireCommandAsync(this,new ce.RowChangeCommand),this.undoManager.add((()=>new _e.UndoInsert(C,I)))),this.fireCommandAsync(this,new ce.RefreshCommand(this.adjustRefreshRange(I))),I.length>0}))}importValues(C){return B(this,void 0,void 0,(function*(){const E=C.map((C=>C.value));this.clearRows(),this.dataSource.importData(E),yield this.view.ensureRows(!0),this.refresh()}))}adjustRefreshRange(C){let E={};return this.config.mergeRow||this.dataSource.hasCalcRows||(C.forEach((C=>{var I,B;const z=this._gridView.keyMap.get(C.key);ne.Convert.isNull(z)||(E.rowStart=Math.min(null!==(I=E.rowStart)&&void 0!==I?I:z.rowIndex,z.rowIndex),E.rowEnd=Math.max(null!==(B=E.rowEnd)&&void 0!==B?B:z.rowIndex,z.rowIndex))})),E.onlyLayout=!1),E}addRowCommand(C){var E,I;return B(this,void 0,void 0,(function*(){const B=this.view.map(C.key),z=null!==(E=C.rowData)&&void 0!==E?E:{};(null==B?void 0:B.node)instanceof me.ParentNode?this.insertRowItem(C.key,void 0,z,te.InsertTo.Child):this.insertRowItem(null===(I=null==B?void 0:B.parent)||void 0===I?void 0:I.key,C.key,z,te.InsertTo.Last)}))}addRowsCommand(C){var E;return B(this,void 0,void 0,(function*(){const I=this.view.map(C.key),B=(null!==(E=C.list)&&void 0!==E?E:[]).map((C=>({parentKey:void 0,targetKey:void 0,data:C,undoKey:void 0})));(null==I?void 0:I.node)instanceof me.ParentNode?this.insertRowItems(B,te.InsertTo.Child):this.insertRowItems(B,te.InsertTo.Last)}))}addTopCommand(C){var E,I;return B(this,void 0,void 0,(function*(){const B=this.view.map(C.key),z=null!==(E=C.rowData)&&void 0!==E?E:{};(null==B?void 0:B.node)instanceof me.ParentNode?this.insertRowItem(C.key,void 0,z,te.InsertTo.Child):this.insertRowItem(null===(I=null==B?void 0:B.parent)||void 0===I?void 0:I.key,C.key,z,te.InsertTo.First)}))}insertRowCommand(C){var E,I,z,q,Q,ee,ie;return B(this,void 0,void 0,(function*(){const B=null!==(E=C.rowData)&&void 0!==E?E:{};C.key=null!==(ee=null!==(I=C.key)&&void 0!==I?I:null===(Q=null===(q=null===(z=this.focusManager)||void 0===z?void 0:z.focus)||void 0===q?void 0:q.rowItem)||void 0===Q?void 0:Q.key)&&void 0!==ee?ee:null===(ie=this.rows[0])||void 0===ie?void 0:ie.key,this.insertRowItem(void 0,C.key,B,te.InsertTo.Before)}))}appendRowCommand(C){var E,I,z,q,Q,ee,ie;return B(this,void 0,void 0,(function*(){const B=null!==(E=C.rowData)&&void 0!==E?E:{};C.key=null!==(ee=null!==(I=C.key)&&void 0!==I?I:null===(Q=null===(q=null===(z=this.focusManager)||void 0===z?void 0:z.focus)||void 0===q?void 0:q.rowItem)||void 0===Q?void 0:Q.key)&&void 0!==ee?ee:null===(ie=this.rows[this.rows.length-1])||void 0===ie?void 0:ie.key,this.insertRowItem(void 0,C.key,B,te.InsertTo.After)}))}insertRowItem(C,E,I,z){return B(this,void 0,void 0,(function*(){return yield this.insertRowItems([{parentKey:C,targetKey:E,data:I,undoKey:void 0}],z)}))}insertRowItems(C,E){var I,z,q,Q,ee;return B(this,void 0,void 0,(function*(){const B=[];if(1==this.virtualRow&&ne.Convert.isNull(C.find((C=>ne.Convert.isValue(C.parentKey)))))switch(E){case te.InsertTo.Last:yield this.view.loadPage(-1,!1);break;case te.InsertTo.First:yield this.view.loadPage(0,!1)}this.view.beginUpdate();for(const ee of C){const C=null!==(I=ee.data)&&void 0!==I?I:null===(z=this.view.map(ee.targetKey))||void 0===z?void 0:z.data;let te=ee.targetKey;const ie=ee.parentKey,re=new Ee.GridAddCommand(te,C);if(0==this.canGridCommand(re))return;const ne=this.adjustInsertTo(E,te,this.pageNo);E=ne.insertTo;ne.pageNo;te=ne.targetKey;const se=yield this.view.insertRowItem(ie,te,C,E);B.push({parentKey:null!==(q=ee.parentKey)&&void 0!==q?q:null===(Q=null==se?void 0:se.parent)||void 0===Q?void 0:Q.key,targetKey:te,data:se.box,undoKey:null==se?void 0:se.key})}if(this.undoManager.add((()=>new _e.UndoInsertRows(B,E))),this.fireCommandAsync(this,new ce.RowChangeCommand),this.view.endUpdate(),this.scrollPanel.adjustScrollSize(),B.length>0){let C;for(const E of B){const I=E.data;if(C=this.view.map(E.undoKey),ne.Convert.isValue(C)){const E=new Ee.GridAddCommand(C.key,I);this.doGridCommand(E)}}if(yield this.scrollIntoView(C,void 0),C.box instanceof me.DataBox&&0==this.undoManager.doing){const E=ne.Convert.isNull(this.headColumns[0])||this.headColumns[0]instanceof he.FrozenColumn?this.viewportColumns[0]:this.headColumns[0],I={rowItem:C,column:E,panelType:oe.PanelType.Body,eventType:void 0};this.focusManager.focus=I,(null===(ee=this.editConfig)||void 0===ee?void 0:ee.insertEdit)&&E.editable(I.rowItem)&&this.fireCommandAsync(this,new ce.EditCommand("",I.rowItem,I.column))}}return this.fireCommandAsync(this,new ce.RefreshCommand),B.length>0}))}adjustInsertTo(C,E,I){var B,z,q;if(ne.Convert.isEmpty(E))switch(C){case te.InsertTo.Before:C=te.InsertTo.First;break;case te.InsertTo.After:C=te.InsertTo.Last}I=this.view.pageOnly?I:void 0;const Q=null!==(B=this.dataSource.getBoxes(void 0,I))&&void 0!==B?B:[];switch(C){case te.InsertTo.First:E=null===(z=Q[0])||void 0===z?void 0:z.key,C=te.InsertTo.Before;break;case te.InsertTo.Last:E=null===(q=Q[Q.length-1])||void 0===q?void 0:q.key,C=te.InsertTo.After}return{insertTo:C,pageNo:I,targetKey:E}}removeRowItems(C){var E,I,z;return B(this,void 0,void 0,(function*(){const B=[];for(const z of C){if(this.dataSource.deleteMap.has(z.targetKey))continue;const C=z.targetKey,q=yield this.view.removeRowItem(z.parentKey,C,z.data,te.InsertTo.Before);B.push({parentKey:null!==(E=z.parentKey)&&void 0!==E?E:null===(I=null==q?void 0:q.parent)||void 0===I?void 0:I.key,targetKey:z.targetKey,undoKey:null==q?void 0:q.key,data:z.data})}if(this.fireCommandAsync(this,new ce.RowChangeCommand),this.view.calcRowNo(),this.scrollPanel.adjustScrollSize(),!ne.Convert.isEmpty(B)){if(this.undoManager.add((()=>new _e.UndoDelete(B))),B.length>0){this.fireCommandAsync(this,new ce.RefreshCommand);for(const C of B){const E=this.view.map(C.targetKey);null!==(z=C.data)&&void 0!==z||(C.data=null==E?void 0:E.data);const I=new Ee.GridRemoveCommand(C.targetKey,C.data);this.doGridCommand(I),this.scrollIntoView(this.view.map(C.undoKey),void 0)}}return B.length>0}}))}bulkAppend(C){this.dataSource.appendData(C),this.rows.splice(0),this.clearHeightInfo(),this.refresh()}insertColumn(C,E=-1){const I=ie.GridColumnParser.parseColumn(C,this.config.defaultColumn,this.config.masterColumns,!0),B=ne.Arrays.asArray(this.config.columns);return ne.Convert.isValue(E)&&E>=0?B.splice(E,0,I):(B.push(I),E=B.length-1),this.config.columns=B,this.initControls(),this.fireCommandAsync(this,new ce.RefreshCommand),E}removeColumn(C=-1){ne.Convert.isEmpty(C)||C<0||(ne.Arrays.asArray(this.config.columns).splice(C,1),this.initControls(),this.fireCommandAsync(this,new ce.RefreshCommand))}undo(){this.undoManager.undo().then((C=>this.fireCommandAsync(this,new ce.RefreshCommand)))}redo(){this.undoManager.redo().then((C=>this.fireCommandAsync(this,new ce.RefreshCommand)))}updateData(C){return B(this,void 0,void 0,(function*(){if(ne.Convert.isValue(C.data)){const E=C.data.map((C=>({key:C.key,value:C.value,field:C.field})));this.setValues(E,C.column)}}))}insertData(C){var E,I,z;return B(this,void 0,void 0,(function*(){if(ne.Convert.isValue(C.data)){const B=C.data.map((C=>({key:C.key,value:C.value,field:C.field}))),q=this.loader instanceof Pe.GroupLoader?null===(E=this.focusManager.focus)||void 0===E?void 0:E.rowItem:void 0;this.insertValues(null!==(z=null===(I=null==q?void 0:q.parent)||void 0===I?void 0:I.key)&&void 0!==z?z:null==q?void 0:q.key,B)}}))}importData(C){return B(this,void 0,void 0,(function*(){if(ne.Convert.isValue(C.data)){this.clearRows();const E=C.data.map((C=>({key:C.key,value:C.value,field:C.field})));yield this.importValues(E),this.undoManager.clear()}}))}deleteData(C){return B(this,void 0,void 0,(function*(){if(ne.Convert.isValue(C.data)){let E,I;const B=[];C.data.forEach((C=>{var z;const q=this.view.map(C.key);ne.Convert.isNull(q)||(E=Math.min(null!=E?E:q.rowIndex,q.rowIndex),I=Math.max(null!=I?I:q.rowIndex,q.rowIndex),B.push({parentKey:null===(z=q.parent)||void 0===z?void 0:z.key,targetKey:q.key,data:q.box,undoKey:void 0}))})),this.removeRowItems(B),this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:E,rowEnd:I}))}}))}undeleteData(C){return B(this,void 0,void 0,(function*(){if(ne.Convert.isValue(C.data)){let E,I;const B=[];C.data.forEach((C=>{var z;const q=this.view.map(C.key);ne.Convert.isNull(q)||(E=Math.min(null!=E?E:q.rowIndex,q.rowIndex),I=Math.max(null!=I?I:q.rowIndex,q.rowIndex),B.push({parentKey:null===(z=q.parent)||void 0===z?void 0:z.key,targetKey:q.key,data:q.box,undoKey:void 0}))})),this.insertRowItems(B,te.InsertTo.Before),this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:E,rowEnd:I}))}}))}deleteRowCommand(C){var E;return B(this,void 0,void 0,(function*(){if(ne.Convert.isEmpty(C.key))return;const I=[],B=this.view.map(C.key);ne.Convert.isNull(B)||(I.push({parentKey:null===(E=B.parent)||void 0===E?void 0:E.key,targetKey:B.key,data:B.box,undoKey:void 0}),yield this.removeRowItems(I),this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:B.rowIndex,rowEnd:B.rowIndex})))}))}deleteRowsCommand(C){var E;return B(this,void 0,void 0,(function*(){if(ne.Convert.isEmpty(C.keys))return;const I=[];for(const B of C.keys){const C=this.view.map(B);ne.Convert.isNull(C)||I.push({parentKey:null===(E=C.parent)||void 0===E?void 0:E.key,targetKey:C.key,data:C.box,undoKey:void 0})}yield this.removeRowItems(I),this.fireCommandAsync(this,new ce.RefreshCommand({}))}))}undeleteRowCommand(C){var E;return B(this,void 0,void 0,(function*(){if(ne.Convert.isEmpty(C.key))return;const I=[],B=this.view.map(C.key);ne.Convert.isNull(B)||(I.push({parentKey:null===(E=B.parent)||void 0===E?void 0:E.key,targetKey:B.key,data:B.box,undoKey:void 0}),yield this.insertRowItems(I,te.InsertTo.Before),this.fireCommandAsync(this,new ce.RefreshCommand({rowStart:B.rowIndex,rowEnd:B.rowIndex})))}))}getContainer(C,E,I=oe.PanelType.Body){var B;return null===(B=this.scrollPanel)||void 0===B?void 0:B.getContainer(C,E,I)}getGroupByField(C,E=!0){return B(this,void 0,void 0,(function*(){return yield this.dataSource.getGroupByField(C,E)}))}getRangedKeys(){return ne.Arrays.from(this.selectManager.selectedCells.keys())}getRangedRows(){return this.view.keysToRows(this.selectManager.selectedCells.keys())}getRangedColumns(C){const E=[];return ne.Arrays.bfsAction(this.columns,(I=>(I instanceof he.FrozenColumn==0&&this.selectManager.isSelectedCell(C,I.name)&&E.push(I),I.columns))),E}getRowItem(C){const E=C.closest(`.${ue.SbCss.row}`);if(E.length<0)return;return E.data("rowItem")}getColumn(C){const E=C.closest(`.${ue.SbCss.col}`);if(E.length<0)return;const I=E.data("cell");return null==I?void 0:I.column}getRowElement(C){le.SBGrid3.$(`.${ue.SbCss.row}-${C.rowIndex}`,this.container)}getColElement(C,E){let I;for(const C of this.rowLayout.rows)if(I=C.cells.find((C=>C.column==E)),ne.Convert.isValue(I))break;if(ne.Convert.isValue(I)){return le.SBGrid3.$(`.${ue.SbCss.row}-${C.rowIndex} > .${ue.SbCss.col}-${I.row+1}-${I.col}`,this.container)}}moveToPartCommand(C){this.moveToPart(C.column,C.part,C.parentColumn,C.columnIndex)}loadingCommand(C){ne.Convert.isNull(C)||this.showLoading(C.loading)}showLoading(C){ne.Convert.isValue(this.loadingPanel)&&(this.loadingPanel.loading=C)}get isLoading(){var C,E;return null!==(E=null===(C=this.loadingPanel)||void 0===C?void 0:C.loading)&&void 0!==E&&E}moveToPart(C,E,I,B,z=!1){var q;if(!ne.Convert.isNull(C)&&!ne.Convert.isNull(E)){if(z){if(ne.Convert.isNull(C.parent)&&ne.Convert.isValue(I)){const E=this.columns.findIndex((E=>E==C));E>=0&&this.columns.splice(E,1),I.columns.splice(B,0,C)}}else B=null===(q=C.parent)||void 0===q?void 0:q.columns.findIndex((E=>E==C)),this.undoManager.add((()=>new _e.UndoMoveToPart(C,C.part,E,C.parent,B))),ne.Convert.isValue(C.parent)&&(C.parent.columns.splice(B,1),this.columns.push(C),C.parent=void 0,C.level=0);Grid._setColumnsPart(C,E),this.clearColumns(),this.fireCommandAsync(this,new ce.RefreshCommand)}}columnVisible(C){if(ne.Convert.isEmpty(C))return;const E=[];for(const I of C)ne.Convert.isNull(I.column)||(E.push({column:I.column,visible:I.column.visible}),I.column.config.visible=I.visible);this.undoManager.add((()=>new _e.UndoColumnVisible(E,C))),this.clearColumns(),this.fireCommandAsync(this,new ce.RefreshCommand)}static mergePersonalConfig(C,E){return C=ee.GridParser.parseConfig(C),ne.Convert.isValue(E)&&(C.dataSource.config.groups=E.groups,C.dataSource.config.orders=E.orders,C.dataSource.config.filters=E.filters,C.columns=Grid.cloneColumns(E.columns,ne.Arrays.asArray(C.columns))),C}personalSetting(){if(ne.Convert.isValue(this.config.personalizationKey)){const C=this.personalStorage.getPersonalizationData();if(ne.Convert.isValue(C)){this.dataSource.config.groups=C.groups,this.dataSource.config.orders=C.orders,this.dataSource.config.filters=C.filters;this.config.columns=Grid.cloneColumns(C.columns,ne.Arrays.asArray(this._originConfig.columns)),this.setConfig(this.config)}}}get personalStorage(){return new Re.PersonalStorage(this)}static findColumn(C,E){return ne.Arrays.bfsSearch(C,(C=>(ne.Convert.isNull(C.caption)&&ne.Convert.isValue(C.field)&&(C.caption=C.field),ne.Convert.asText(E.field)==ne.Convert.asText(C.field)&&ne.Convert.asText(E.caption)==ne.Convert.asText(C.caption)||C.columns)))}existNotColumn(C,E){return ne.Arrays.bfsSearch(C,(C=>ne.Convert.asText(E.field)!=ne.Convert.asText(C.field)&&ne.Convert.asText(E.caption)!=ne.Convert.asText(C.caption)||C.columns))}static cloneColumns(C,E){let I=[];for(const B of C){const C=Grid.findColumn(E,B);ne.Convert.isNull(C)||(this.mergeColumnConfig(C,B),B.columns=this.cloneColumns(B.columns,E),I.push(B))}return I}static mergeColumnConfig(C,E){for(const I in C)E.hasOwnProperty(I)||(E[I]=C[I])}findRows(C,E=void 0,I=!1,z=!1,q=!1){var Q,ee;return B(this,void 0,void 0,(function*(){let B=[];ne.Arrays.bfsAction(this.columns,(C=>(B.push(C),C.columns))),q&&(B=B.reverse());let te,ie=(E={rowIndex:null!==(Q=null==E?void 0:E.rowIndex)&&void 0!==Q?Q:0,column:null!==(ee=null==E?void 0:E.column)&&void 0!==ee?ee:B[0]}).rowIndex,re=B.findIndex((C=>C==E.column))+1;const se={operator:z?de.FilterOperators.EqualTo:de.FilterOperators.Contains,values:[C],ignoreCase:I};let oe=!1;for(;ne.Convert.isValue(te=yield this.view.getRow(ie,!0));){for(;re<B.length&&!((null==te?void 0:te.node)instanceof me.GroupNode);re++){const C=B[re],E=C.getValue(te);if(!0===pe.Filtering.checkFilter(E,se))return{rowIndex:ie,column:C};const I=C.getRawValue(te);if(!0===pe.Filtering.checkFilter(I,se))return{rowIndex:ie,column:C}}if(ie+=q?-1:1,oe&&E.rowIndex==ie)break;if(ie<0||this.rowCount<=ie){if(oe)break;oe=!0,ie=ie<0?this.rowCount-1:0}re=0}}))}}E.Grid=Grid,Grid._bodyTypes=[ie.PartType.Body,ie.PartType.Sticky];class GridStyle{constructor(C){this._style={},this._grid=C}get style(){return this._style}clear(){this._style={}}get prefix(){return`#${this._grid.name}.${ue.SbCss.grid}`}set(C,E){const I=this.prefix+" "+C;ne.Convert.isNull(E)?delete this.style[I]:this.style[I]=E}get(C){return this.style[this.prefix+" "+C]}get keys(){return Object.keys(this.style)}delete(C){delete this.style[C]}toString(){return this.objectToString(this.style,"","{","}")}objectToString(C,E,I,B,z="\n"){let q=[];for(const z in C)if(Object.prototype.hasOwnProperty.call(C,z)){const Q=C[z];"string"==typeof Q||"number"==typeof Q?q.push(`${z} ${E} ${I}${Q}${B}`):q.push(`${z} ${E} ${I}${this.objectToString(Q,":","",";"," ")}${B}`)}return q.join(z)}}E.GridStyle=GridStyle},6258:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.RowRange=E.EditEvent=E.EditMode=E.GridParser=E.RowHeaders=E.PopupType=E.SortMode=E.ScrollMode=E.DetailContext=void 0;const B=I(194),z=I(2288),q=I(1163),Q=I(860),ee=I(6312),te=I(5565),ie=I(2224),re=I(2987),ne=I(7392),se=I(3419),oe=I(7721),ae=I(6105),le=I(7443),ue=I(6252),de=I(5882),ce=I(6409),he=I(5260),fe=I(5774),pe=I(3354);var me,ge,ve,ye,be,Ce,we;E.DetailContext=class DetailContext{constructor(C,E,I,B){this.grid=C,this.rowItem=E,this.container=I,this.map=B}},function(C){C.Cell="cell",C.Pixel="pixel"}(me||(E.ScrollMode=me={})),function(C){C.None="none",C.Toggle="toggle",C.Rotate="rotate"}(ge||(E.SortMode=ge={})),function(C){C.Hover="hover",C.Click="click"}(ve||(E.PopupType=ve={})),function(C){C.RowNo="rowno",C.Status="status",C.Sticky="sticky",C.Check="check",C.Radio="radio",C.Detail="detail",C.Reorder="reorder"}(ye||(E.RowHeaders=ye={}));class GridParser{static parseDefaultConfig(C,E=!0){var I,z,Q,se,ae,le,ue,ce,fe,pe,me,ge,ve;he.Log.debug((()=>["parseDefaultConfig",C]));let ye={defaultColumn:q.Convert.default(C.defaultColumn,null===(I=ee.SBGrid3.default)||void 0===I?void 0:I.defaultColumn,(E=>oe.GridColumnParser.parseColumn(E,void 0,C.masterColumns,!0))),masterColumns:q.Convert.default(C.masterColumns,null===(z=ee.SBGrid3.default)||void 0===z?void 0:z.masterColumns),defaultPageable:q.Convert.default(C.defaultPageable,null===(Q=ee.SBGrid3.default)||void 0===Q?void 0:Q.defaultPageable,GridParser.parsePageable),defaultSortable:q.Convert.default(C.defaultSortable,null===(se=ee.SBGrid3.default)||void 0===se?void 0:se.defaultSortable,(C=>GridParser.parseSortable(C))),defaultNavigatable:q.Convert.default(C.defaultNavigatable,null===(ae=ee.SBGrid3.default)||void 0===ae?void 0:ae.defaultNavigatable,(C=>GridParser.parseNavigatable(C))),defaultFilterable:q.Convert.default(C.defaultFilterable,null===(le=ee.SBGrid3.default)||void 0===le?void 0:le.defaultFilterable,(C=>GridParser.parseFilterOption(C))),defaultReorderable:q.Convert.default(C.defaultReorderable,null===(ue=ee.SBGrid3.default)||void 0===ue?void 0:ue.defaultReorderable,(C=>GridParser.parseReorderable(C))),defaultResizable:q.Convert.default(C.defaultResizable,null===(ce=ee.SBGrid3.default)||void 0===ce?void 0:ce.defaultResizable,(C=>re.ResizeOptionParser.parseResizeOption(C))),defaultContextMenu:q.Convert.default(C.defaultContextMenu,null===(fe=ee.SBGrid3.default)||void 0===fe?void 0:fe.defaultContextMenu,(C=>{var E;return de.GridMenuParser.parse(C,null===(E=ee.SBGrid3.default)||void 0===E?void 0:E.defaultContextMenu)})),defaultSelectable:q.Convert.default(C.defaultSelectable,null===(pe=ee.SBGrid3.default)||void 0===pe?void 0:pe.defaultSelectable,(C=>te.SelectOptionParser.parseSelectable(C))),defaultEditable:q.Convert.default(C.defaultEditable,null===(me=ee.SBGrid3.default)||void 0===me?void 0:me.defaultEditable,(C=>GridParser.parseEditable(C))),defaultCopyable:q.Convert.default(C.defaultCopyable,null===(ge=ee.SBGrid3.default)||void 0===ge?void 0:ge.defaultCopyable,(C=>ie.CopyOptionParser.parseCopyable(C))),defaultDataSource:q.Convert.default(C.defaultDataSource,null===(ve=ee.SBGrid3.default)||void 0===ve?void 0:ve.defaultDataSource,ne.DataSourceParser.parseConfig)};return ye=q.Convert.mergeData(ye,C),q.Convert.isValue(ye.defaultDataSource)&&(B.DataSource.defaultConfig=ye.defaultDataSource),E&&(ye=this.parseConfig(ye)),ye}static parseConfig(C){var E,I,Q,ne,se,ae,le,ue,fe,pe,me,ge,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ae,Ne,De,Be,Fe,Oe,Le,$e,je,Ve,He,Ge,Ue,ze,qe,We,Ke,Xe,Je,Ye,Ze,Qe,et,tt,it,rt,nt,st,ot,at,ut,dt,ct,ht,pt,mt,vt,yt,bt,Ct,wt,_t,St,xt,kt,Tt,Mt,Rt,Et,Pt,It,At,Nt,Dt,Bt,Ft,Ot,Lt,$t;he.Log.debug((()=>["parseConfig",C]));const jt=q.Convert.default(C.defaultColumn,null===(E=ee.SBGrid3.default)||void 0===E?void 0:E.defaultColumn,(E=>oe.GridColumnParser.parseColumn(E,void 0,C.masterColumns,!0)));let Vt={personalizationKey:q.Convert.default(C.personalizationKey,void 0),personalizationVersion:q.Convert.default(C.personalizationVersion,void 0),dataSource:q.Convert.default(C.dataSource,void 0,GridParser.parseDataSource),defaultColumn:jt,columns:q.Convert.default(C.columns,void 0,(E=>oe.GridColumnParser.parseColumns(E,jt,C.masterColumns))),panels:q.Convert.default(C.panels,null===(I=ee.SBGrid3.default)||void 0===I?void 0:I.panels,GridParser.parsePanels),toolBar:q.Convert.default(C.toolBar,null===(Q=ee.SBGrid3.default)||void 0===Q?void 0:Q.toolBar,GridParser.parsePanelLayout),titleBar:q.Convert.default(C.titleBar,null===(ne=ee.SBGrid3.default)||void 0===ne?void 0:ne.titleBar,GridParser.parsePanelLayout),groupBar:q.Convert.default(C.groupBar,null===(se=ee.SBGrid3.default)||void 0===se?void 0:se.groupBar,GridParser.parsePanelLayout),pagerBar:q.Convert.default(C.pagerBar,null===(ae=ee.SBGrid3.default)||void 0===ae?void 0:ae.pagerBar,GridParser.parsePanelLayout),emptyTemplate:q.Convert.default(C.emptyTemplate,null===(le=ee.SBGrid3.default)||void 0===le?void 0:le.emptyTemplate),loadingTemplate:q.Convert.default(C.loadingTemplate,null===(ue=ee.SBGrid3.default)||void 0===ue?void 0:ue.loadingTemplate),detailTemplate:q.Convert.default(C.detailTemplate,null===(fe=ee.SBGrid3.default)||void 0===fe?void 0:fe.detailTemplate),detailOverflow:q.Convert.default(C.detailOverflow,null===(pe=ee.SBGrid3.default)||void 0===pe?void 0:pe.detailOverflow),container:q.Convert.default(C.container,null===(me=ee.SBGrid3.default)||void 0===me?void 0:me.container,GridParser.parseContainer),width:q.Convert.default(C.width,null===(ge=ee.SBGrid3.default)||void 0===ge?void 0:ge.width,GridParser.parseUnit),height:q.Convert.default(C.height,null!==(be=null===(ye=ee.SBGrid3.default)||void 0===ye?void 0:ye.height)&&void 0!==be?be:"100vh",GridParser.parseUnit),innerHeight:q.Convert.default(C.innerHeight,null===(Ce=ee.SBGrid3.default)||void 0===Ce?void 0:Ce.innerHeight),innerWidth:q.Convert.default(C.innerWidth,null===(we=ee.SBGrid3.default)||void 0===we?void 0:we.innerWidth),autoHeight:q.Convert.default(C.autoHeight,null!==(Se=null===(_e=ee.SBGrid3.default)||void 0===_e?void 0:_e.autoHeight)&&void 0!==Se&&Se),minHeight:q.Convert.default(C.minHeight,null===(xe=ee.SBGrid3.default)||void 0===xe?void 0:xe.minHeight,GridParser.parseUnit),maxHeight:q.Convert.default(C.maxHeight,null===(ke=ee.SBGrid3.default)||void 0===ke?void 0:ke.maxHeight,GridParser.parseUnit),editable:q.Convert.default(C.editable,null===(Te=ee.SBGrid3.default)||void 0===Te?void 0:Te.editable,GridParser.parseEditable),virtualColumn:q.Convert.default(C.virtualColumn,null===(Me=ee.SBGrid3.default)||void 0===Me?void 0:Me.virtualColumn),virtualRow:q.Convert.default(C.virtualRow,null===(Ee=null===(Re=ee.SBGrid3.default)||void 0===Re?void 0:Re.virtualRow)||void 0===Ee||Ee),rowCss:q.Convert.default(C.rowCss,null===(Pe=ee.SBGrid3.default)||void 0===Pe?void 0:Pe.rowCss),alternateCss:q.Convert.default(C.alternateCss,null===(Ie=ee.SBGrid3.default)||void 0===Ie?void 0:Ie.alternateCss,GridParser.parseAlternate),pageable:q.Convert.default(C.pageable,null===(Ae=ee.SBGrid3.default)||void 0===Ae?void 0:Ae.pageable,GridParser.parsePageable),sortable:q.Convert.default(C.sortable,null===(Ne=ee.SBGrid3.default)||void 0===Ne?void 0:Ne.sortable,GridParser.parseSortable),navigatable:q.Convert.default(C.navigatable,null===(De=ee.SBGrid3.default)||void 0===De?void 0:De.navigatable,GridParser.parseNavigatable),reorderable:q.Convert.default(C.reorderable,null===(Be=ee.SBGrid3.default)||void 0===Be?void 0:Be.reorderable,GridParser.parseReorderable),groupable:q.Convert.default(C.groupable,null===(Fe=ee.SBGrid3.default)||void 0===Fe?void 0:Fe.groupable),filterable:q.Convert.default(C.filterable,null===(Oe=ee.SBGrid3.default)||void 0===Oe?void 0:Oe.filterable,(C=>GridParser.parseFilterOption(C))),resizable:q.Convert.default(C.resizable,null===(Le=ee.SBGrid3.default)||void 0===Le?void 0:Le.resizable,re.ResizeOptionParser.parseResizeOption),undoable:q.Convert.default(C.undoable,null===($e=ee.SBGrid3.default)||void 0===$e?void 0:$e.undoable),hideDeleted:q.Convert.default(C.hideDeleted,null===(je=ee.SBGrid3.default)||void 0===je?void 0:je.hideDeleted),mergeRow:q.Convert.default(C.mergeRow,null===(Ve=ee.SBGrid3.default)||void 0===Ve?void 0:Ve.mergeRow),mergeColumn:q.Convert.default(C.mergeColumn,null===(He=ee.SBGrid3.default)||void 0===He?void 0:He.mergeColumn),multiSort:q.Convert.default(C.multiSort,null===(Ge=ee.SBGrid3.default)||void 0===Ge?void 0:Ge.multiSort),fixedRows:q.Convert.default(C.fixedRows,null===(Ue=ee.SBGrid3.default)||void 0===Ue?void 0:Ue.fixedRows),captionHeight:q.Convert.default(C.captionHeight,null===(ze=ee.SBGrid3.default)||void 0===ze?void 0:ze.captionHeight),rowHeight:q.Convert.default(C.rowHeight,null===(qe=ee.SBGrid3.default)||void 0===qe?void 0:qe.rowHeight,GridParser.parseHeight),maxRowHeight:q.Convert.default(C.maxRowHeight,null===(We=ee.SBGrid3.default)||void 0===We?void 0:We.maxRowHeight),filterHeight:q.Convert.default(C.filterHeight,null===(Ke=ee.SBGrid3.default)||void 0===Ke?void 0:Ke.filterHeight,GridParser.parseHeight),headerHeight:q.Convert.default(C.headerHeight,null===(Xe=ee.SBGrid3.default)||void 0===Xe?void 0:Xe.headerHeight,GridParser.parseHeight),footerHeight:q.Convert.default(C.footerHeight,null===(Je=ee.SBGrid3.default)||void 0===Je?void 0:Je.footerHeight,GridParser.parseHeight),groupHeight:q.Convert.default(C.groupHeight,null===(Ye=ee.SBGrid3.default)||void 0===Ye?void 0:Ye.groupHeight),detailHeight:q.Convert.default(C.detailHeight,null===(Ze=ee.SBGrid3.default)||void 0===Ze?void 0:Ze.detailHeight),maxDetailHeight:q.Convert.default(C.maxDetailHeight,null===(Qe=ee.SBGrid3.default)||void 0===Qe?void 0:Qe.maxDetailHeight),wheelDelta:q.Convert.default(C.wheelDelta,null===(et=ee.SBGrid3.default)||void 0===et?void 0:et.wheelDelta),detailInit:C.detailInit,stickyHeader:q.Convert.default(C.stickyHeader,null===(tt=ee.SBGrid3.default)||void 0===tt?void 0:tt.stickyHeader),stickyFooter:q.Convert.default(C.stickyFooter,null===(it=ee.SBGrid3.default)||void 0===it?void 0:it.stickyFooter),stickyRow:q.Convert.default(C.stickyRow,null===(rt=ee.SBGrid3.default)||void 0===rt?void 0:rt.stickyRow),stickyEdit:q.Convert.default(C.stickyEdit,null===(nt=ee.SBGrid3.default)||void 0===nt?void 0:nt.stickyEdit),stickyInsert:q.Convert.default(C.stickyInsert,null===(st=ee.SBGrid3.default)||void 0===st?void 0:st.stickyInsert),stickyUpdate:q.Convert.default(C.stickyUpdate,null===(ot=ee.SBGrid3.default)||void 0===ot?void 0:ot.stickyUpdate),stickyDelete:q.Convert.default(C.stickyDelete,null===(at=ee.SBGrid3.default)||void 0===at?void 0:at.stickyDelete),rowHeaders:q.Convert.default(C.rowHeaders,null===(ut=ee.SBGrid3.default)||void 0===ut?void 0:ut.rowHeaders,GridParser.parseRowHeader),showRowNo:q.Convert.default(C.showRowNo,null===(dt=ee.SBGrid3.default)||void 0===dt?void 0:dt.showRowNo),showSticky:q.Convert.default(C.showSticky,null===(ct=ee.SBGrid3.default)||void 0===ct?void 0:ct.showSticky),showRadio:q.Convert.default(C.showRadio,null===(ht=ee.SBGrid3.default)||void 0===ht?void 0:ht.showRadio),showCheck:q.Convert.default(C.showCheck,null===(pt=ee.SBGrid3.default)||void 0===pt?void 0:pt.showCheck),checkable:q.Convert.default(C.checkable,null===(mt=ee.SBGrid3.default)||void 0===mt?void 0:mt.checkable),selectable:q.Convert.default(C.selectable,null===(vt=ee.SBGrid3.default)||void 0===vt?void 0:vt.selectable,te.SelectOptionParser.parseSelectable),groupAutoOpen:q.Convert.default(C.groupAutoOpen,null===(yt=ee.SBGrid3.default)||void 0===yt?void 0:yt.groupAutoOpen),detailAutoOpen:q.Convert.default(C.detailAutoOpen,null===(bt=ee.SBGrid3.default)||void 0===bt?void 0:bt.detailAutoOpen),showStatus:q.Convert.default(C.showStatus,null===(Ct=ee.SBGrid3.default)||void 0===Ct?void 0:Ct.showStatus),showDetail:q.Convert.default(C.showDetail,null===(wt=ee.SBGrid3.default)||void 0===wt?void 0:wt.showDetail),hover:q.Convert.default(C.hover,null===(_t=ee.SBGrid3.default)||void 0===_t?void 0:_t.hover,(C=>GridParser.parseHover(C))),statusBar:q.Convert.default(C.statusBar,null===(St=ee.SBGrid3.default)||void 0===St?void 0:St.statusBar,(()=>GridParser.parseStatusPanelAlign(C.statusBar))),contextMenu:q.Convert.default(C.contextMenu,null===(xt=ee.SBGrid3.default)||void 0===xt?void 0:xt.contextMenu,(C=>{var E;return de.GridMenuParser.parse(C,null===(E=ee.SBGrid3.default)||void 0===E?void 0:E.defaultContextMenu)})),copyable:q.Convert.default(C.copyable,null===(kt=ee.SBGrid3.default)||void 0===kt?void 0:kt.copyable,ie.CopyOptionParser.parseCopyable),popupType:q.Convert.default(C.popupType,ve.Click),canCommand:C.canCommand,doCommand:C.doCommand,freezable:q.Convert.default(C.freezable,null!==(Mt=null===(Tt=ee.SBGrid3.default)||void 0===Tt?void 0:Tt.freezable)&&void 0!==Mt&&Mt),copyInsert:q.Convert.default(C.copyInsert,null!==(Et=null===(Rt=ee.SBGrid3.default)||void 0===Rt?void 0:Rt.copyInsert)&&void 0!==Et&&Et),theme:q.Convert.default(C.theme,null!==(It=null===(Pt=ee.SBGrid3.default)||void 0===Pt?void 0:Pt.theme)&&void 0!==It?It:""),search:q.Convert.default(C.search,null!==(Nt=null===(At=ee.SBGrid3.default)||void 0===At?void 0:At.search)&&void 0!==Nt&&Nt),dataDraggable:q.Convert.default(C.dataDraggable,null===(Dt=ee.SBGrid3.default)||void 0===Dt?void 0:Dt.dataDraggable,(()=>ce.RowReorder.parseDataDraggable(C.dataDraggable))),dataDroppable:q.Convert.default(C.dataDroppable,null===(Bt=ee.SBGrid3.default)||void 0===Bt?void 0:Bt.dataDroppable,(()=>ce.RowReorder.parseDataDroppable(C.dataDroppable))),showHeader:q.Convert.default(C.showHeader,null===(Ft=ee.SBGrid3.default)||void 0===Ft?void 0:Ft.showHeader),showFooter:q.Convert.default(C.showFooter,null===(Ot=ee.SBGrid3.default)||void 0===Ot?void 0:Ot.showFooter),rowEditable:q.Convert.default(C.rowEditable,void 0),rowVisible:q.Convert.default(C.rowVisible,void 0),viewMode:q.Convert.default(C.viewMode,null===(Lt=ee.SBGrid3.default)||void 0===Lt?void 0:Lt.viewMode,(C=>q.Convert.parseEnum(z.ViewMode,C))),scrollBarSize:q.Convert.default(C.scrollBarSize,null===($t=ee.SBGrid3.default)||void 0===$t?void 0:$t.scrollBarSize)};return Vt.mobile=q.Convert.default(C.mobile,void 0,(E=>GridParser.parseMobile(E,Vt,q.Arrays.asArray(Vt.columns),jt,C.masterColumns))),!0===Vt.showSticky&&(Vt.stickyRow=!0),!0===Vt.autoHeight&&(Vt.height=void 0),q.Convert.isNull(Vt.dataSource)&&(Vt.dataSource=new B.DataSource({})),this.ensureFixedColumns(Vt),GridParser.adjustColumns(Vt),Vt=q.Convert.mergeData(Vt,C),Vt}static adjustColumns(C){if(q.Convert.isValue(C.columns)){const E=q.Arrays.asArray(C.columns);GridParser.applyAggregates(E,C.dataSource.config),GridParser.applyCalculations(E,C.dataSource.config),GridParser.adjustGroups(E),GridParser.adjustValidator(E,C.dataSource.config),GridParser.adjustFields(E,C.dataSource.config)}}static parseMobile(C,E,I,B,z){var Q,te,ie,re,ne,se,ae,le,ue,de,ce,he,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ae,Ne;null!=C||(C={}),null!=I||(I=[]),q.Convert.isEmpty(C.columns)&&(1==I.length&&I[0].type==fe.ColumnTypes.Multi&&(I=I[0].columns),C.columns=I);const De=null!==(Q=I[0])&&void 0!==Q?Q:{};return{groupHeight:null!==(te=C.groupHeight)&&void 0!==te?te:E.groupHeight,captionHeight:q.Convert.default(C.captionHeight,null!==(se=null!==(ie=E.captionHeight)&&void 0!==ie?ie:null===(ne=null===(re=ee.SBGrid3.default)||void 0===re?void 0:re.mobile)||void 0===ne?void 0:ne.captionHeight)&&void 0!==se?se:null===(ae=ee.SBGrid3.default)||void 0===ae?void 0:ae.captionHeight,GridParser.parseHeight),filterHeight:q.Convert.default(C.filterHeight,null!==(ce=null!==(le=E.filterHeight)&&void 0!==le?le:null===(de=null===(ue=ee.SBGrid3.default)||void 0===ue?void 0:ue.mobile)||void 0===de?void 0:de.filterHeight)&&void 0!==ce?ce:null===(he=ee.SBGrid3.default)||void 0===he?void 0:he.filterHeight,GridParser.parseHeight),headerHeight:q.Convert.default(C.headerHeight,null!==(ve=null!==(pe=E.headerHeight)&&void 0!==pe?pe:null===(ge=null===(me=ee.SBGrid3.default)||void 0===me?void 0:me.mobile)||void 0===ge?void 0:ge.headerHeight)&&void 0!==ve?ve:null===(ye=ee.SBGrid3.default)||void 0===ye?void 0:ye.headerHeight,GridParser.parseHeight),footerHeight:q.Convert.default(C.footerHeight,null!==(_e=null!==(be=E.footerHeight)&&void 0!==be?be:null===(we=null===(Ce=ee.SBGrid3.default)||void 0===Ce?void 0:Ce.mobile)||void 0===we?void 0:we.footerHeight)&&void 0!==_e?_e:null===(Se=ee.SBGrid3.default)||void 0===Se?void 0:Se.footerHeight,GridParser.parseHeight),rowHeight:q.Convert.default(C.rowHeight,null!==(Me=null!==(xe=E.rowHeight)&&void 0!==xe?xe:null===(Te=null===(ke=ee.SBGrid3.default)||void 0===ke?void 0:ke.mobile)||void 0===Te?void 0:Te.rowHeight)&&void 0!==Me?Me:null===(Re=ee.SBGrid3.default)||void 0===Re?void 0:Re.rowHeight,GridParser.parseHeight),captions:null!==(Ee=C.captions)&&void 0!==Ee?Ee:De.captions,filters:null!==(Pe=C.filters)&&void 0!==Pe?Pe:De.filters,footers:null!==(Ie=C.footers)&&void 0!==Ie?Ie:De.footers,headers:null!==(Ae=C.headers)&&void 0!==Ae?Ae:De.headers,rows:null!==(Ne=C.rows)&&void 0!==Ne?Ne:De.rows,rowTemplate:C.rowTemplate,captionTemplate:C.captionTemplate,headerTemplate:C.headerTemplate,footerTemplate:C.footerTemplate,columns:q.Convert.default(C.columns,I,(E=>oe.GridColumnParser.parseColumns(C.columns,B,z)))}}static parseHeight(C){if(!q.Convert.isNull(C))return C instanceof Array?C.map((C=>q.Convert.asNumber(C))):[q.Convert.asNumber(C)]}static extractFixedColumn(C,E){const I=C.findIndex((C=>E(C)));if(I>=0){const E=C[I];return C.splice(I,1),E}}static ensureFixedColumns(C){var E,I,B,z,Q,ee,te,ie,re,ne,se,ae,le,ue,de,ce,he,me;if(q.Convert.isEmpty(C.columns))return;const ge=[].concat(C.columns.filter((C=>C.part==oe.PartType.Fixed)));let ve=[];const be=C.reorderable,Ce=null!==(E=q.Convert.isValue(be.row))&&void 0!==E&&E;for(const E of C.rowHeaders){let me;const be=`fixed.${E}`,we=oe.GridColumnParser.getMasterColumn(be,C.masterColumns);switch(E){case ye.RowNo:me=this.extractFixedColumn(ge,(C=>C.type==fe.ColumnTypes.RowNo)),q.Convert.isNull(me)&&C.showRowNo&&ve.push(null!=me?me:{width:null!==(I=null==we?void 0:we.width)&&void 0!==I?I:50,part:oe.PartType.Fixed,type:fe.ColumnTypes.RowNo,field:pe.FixedFields.rowno,caption:"",masterColumn:be,exportVisible:null!==(B=null==we?void 0:we.exportVisible)&&void 0!==B&&B});break;case ye.Status:me=this.extractFixedColumn(ge,(C=>C.type==fe.ColumnTypes.Status)),q.Convert.isNull(me)&&C.showStatus&&ve.push(null!=me?me:{width:null!==(z=null==we?void 0:we.width)&&void 0!==z?z:25,part:oe.PartType.Fixed,type:fe.ColumnTypes.Status,field:pe.FixedFields.status,masterColumn:be,exportVisible:null!==(Q=null==we?void 0:we.exportVisible)&&void 0!==Q&&Q});break;case ye.Sticky:me=this.extractFixedColumn(ge,(C=>C.type==fe.ColumnTypes.Sticky)),q.Convert.isNull(me)&&C.showSticky&&ve.push(null!=me?me:{width:null!==(ee=null==we?void 0:we.width)&&void 0!==ee?ee:25,part:oe.PartType.Fixed,type:fe.ColumnTypes.Sticky,field:pe.FixedFields.sticky,masterColumn:be,exportVisible:null!==(te=null==we?void 0:we.exportVisible)&&void 0!==te&&te});break;case ye.Check:me=this.extractFixedColumn(ge,(C=>C.type==fe.ColumnTypes.RowCheck)),q.Convert.isNull(me)&&(C.checkable||C.showCheck)&&ve.push(null!=me?me:{width:null!==(ie=null==we?void 0:we.width)&&void 0!==ie?ie:25,part:oe.PartType.Fixed,type:fe.ColumnTypes.RowCheck,field:pe.FixedFields.check,masterColumn:be,exportVisible:null!==(re=null==we?void 0:we.exportVisible)&&void 0!==re&&re,captionCheck:null===(ne=null==we?void 0:we.captionCheck)||void 0===ne||ne});break;case ye.Radio:me=this.extractFixedColumn(ge,(C=>C.type==fe.ColumnTypes.RowRadio)),q.Convert.isNull(me)&&C.showRadio&&ve.push(null!=me?me:{width:null!==(se=null==we?void 0:we.width)&&void 0!==se?se:25,part:oe.PartType.Fixed,type:fe.ColumnTypes.RowRadio,field:pe.FixedFields.radio,masterColumn:be,exportVisible:null!==(ae=null==we?void 0:we.exportVisible)&&void 0!==ae&&ae,captionCheck:null!==(le=null==we?void 0:we.captionCheck)&&void 0!==le&&le});break;case ye.Detail:me=this.extractFixedColumn(ge,(C=>C.type==fe.ColumnTypes.Detail)),q.Convert.isNull(me)&&q.Convert.isValue(C.detailTemplate)&&!0===C.showDetail&&ve.push(null!=me?me:{width:null!==(ue=null==we?void 0:we.width)&&void 0!==ue?ue:25,part:oe.PartType.Fixed,type:fe.ColumnTypes.Detail,field:pe.FixedFields.detail,masterColumn:be,exportVisible:null!==(de=null==we?void 0:we.exportVisible)&&void 0!==de&&de});break;case ye.Reorder:me=this.extractFixedColumn(ge,(C=>C.type==fe.ColumnTypes.RowReorder)),q.Convert.isNull(me)&&Ce&&ve.push(null!=me?me:{width:null!==(ce=null==we?void 0:we.width)&&void 0!==ce?ce:25,part:oe.PartType.Fixed,type:fe.ColumnTypes.RowReorder,field:pe.FixedFields.reorder,masterColumn:be,exportVisible:null!==(he=null==we?void 0:we.exportVisible)&&void 0!==he&&he})}}null===(me=C.columns)||void 0===me||me.splice(0,0,...ve)}static parseAlternate(C){const E=[];if("number"==typeof C)for(let I=0;I<C-1;I++)E.push("");else"string"==typeof C?E.push(C):E.push(...C);return E}static parsePageable(C){var E,I,B,z,Q,te,ie;const re=null===(E=ee.SBGrid3.default)||void 0===E?void 0:E.defaultPageable,ne=null===(I=ee.SBGrid3.default)||void 0===I?void 0:I.pageable;if(q.Convert.isNull(C))return ne;if(!1!==C){if(!0===C)return re;if(C.hasOwnProperty("numeric"))return GridParser.parsePageable({pager:C});if(C.hasOwnProperty("listCount"))return GridParser.parsePageable({pagerCombo:C});if(C.hasOwnProperty("pager")||C.hasOwnProperty("pagerCombo")||C.hasOwnProperty("pageSizes")){const E=C,I=E.pager,ee=E.pagerCombo,ne=E.pageSizes,se=null==re?void 0:re.pager,oe=null==re?void 0:re.pagerCombo,ae=null==re?void 0:re.pageSizes,le=E.changing,ue=E.changed;return{pager:!1===I?void 0:!0===I||q.Convert.isNull(I)?se:{numeric:null!==(B=null==I?void 0:I.numeric)&&void 0!==B?B:null==se?void 0:se.numeric,previousNext:null!==(z=null==I?void 0:I.previousNext)&&void 0!==z?z:null==se?void 0:se.previousNext,buttonCount:null!==(Q=null==I?void 0:I.buttonCount)&&void 0!==Q?Q:null==se?void 0:se.buttonCount},pagerCombo:!1===ee?void 0:!0===ee||q.Convert.isNull(ee)?oe:{listCount:null!==(ie=null!==(te=null==ee?void 0:ee.listCount)&&void 0!==te?te:null==oe?void 0:oe.listCount)&&void 0!==ie?ie:5},pageSizes:!1===ne?void 0:!0===ne||q.Convert.isNull(ne)?ae:null!=ne?ne:ae,changing:le,changed:ue}}}}static parseSortable(C){var E;return"boolean"==typeof C?C?null===(E=ee.SBGrid3.default)||void 0===E?void 0:E.defaultSortable:ge.None:q.Convert.parseEnum(ge,C)}static parseRowHeader(C){const E=[];for(const I of C)"function"==typeof I?E.push(I):"row"==I?E.push(ye.RowNo):E.push(q.Convert.parseEnum(ye,I));return E}static applyCalculations(C,E){var I,B;const z=null===(I=q.Arrays.bfsSearchAll((E=>q.Convert.isNull(E)?C:E.columns),(C=>{var E,I;return q.Convert.isValue(null===(E=C.calc)||void 0===E?void 0:E.eval)||q.Convert.isValue(null===(I=C.calc)||void 0===I?void 0:I.rows)})))||void 0===I?void 0:I.map((C=>C.calc));let Q=null!==(B=E.calculations)&&void 0!==B?B:[];for(const C of z)q.Convert.isValue(Q.find((E=>E.field==C.field)))||Q.push(C);E.calculations=ne.DataSourceParser.parseCalculations(Q)}static adjustGroups(C){const E=new Map;!function makeGroupMap(C,E){for(const I of C){if(q.Convert.isEmpty(I.field))continue;const C=I.groups instanceof Array?I.groups:q.Convert.isValue(I.groups)?[I.groups]:[];let B=[];for(const z of C)z.field==I.field?B.push(z):q.Convert.isValue(z.field)&&q.Convert.isValue(z.field.trim())&&(E.has(z.field)?E.get(z.field).push(z):E.set(z.field,[z]));I.groups=B,q.Convert.isValue(I.columns)&&makeGroupMap(I.columns,E)}}(C,E),function assignGroupMap(C,E){for(const I of C){if(q.Convert.isEmpty(I.field))continue;const C=I.groups instanceof Array?I.groups:[I.groups];if(E.has(I.field))for(const B of E.get(I.field))C.push(B);q.Convert.isValue(I.columns)&&assignGroupMap(I.columns,E)}}(C,E)}static applyAggregates(C,E){var I,B,z,Q;if(q.Convert.isEmpty(C))return;const ee=null!==(I=E.aggregates)&&void 0!==I?I:[],te=null!==(z=null===(B=E.tree)||void 0===B?void 0:B.aggregates)&&void 0!==z?z:[],ie=null===(Q=null==E?void 0:E.schema)||void 0===Q?void 0:Q.fields;function applyAggregates(C,E,I){var B,z;for(const Q of null!=E?E:[])I.some((C=>ae.Aggregate.aggregateEquals(C,Q)))||(q.Convert.isValue(C)&&(q.Convert.isEmpty(Q.dataType)&&(Q.dataType=q.Convert.parseEnum(q.DataType,null===(B=C[q.Convert.asStringArray(Q.require,void 0)[0]])||void 0===B?void 0:B.dataType)),q.Convert.isValue(Q.payload)&&q.Convert.isEmpty(Q.payloadType)&&(Q.payloadType=q.Convert.parseEnum(q.DataType,null===(z=C[Q.payload])||void 0===z?void 0:z.dataType))),I.push(oe.GridColumnParser.parseAggregate(Q.require,Q)))}q.Arrays.bfsAction(C,(C=>{var E,I;if(q.Convert.isValue(null===(E=C.total)||void 0===E?void 0:E.aggregates)&&applyAggregates(ie,C.total.aggregates,ee),q.Convert.isValue(C.groups)&&C.groups instanceof Array)for(const E of C.groups)applyAggregates(ie,E.aggregates,[]);return q.Convert.isValue(null===(I=C.tree)||void 0===I?void 0:I.aggregates)&&applyAggregates(ie,C.tree.aggregates,te),C.columns})),E.aggregates=ee,q.Convert.isValue(te)&&(q.Convert.isEmpty(E.tree)&&(E.tree={}),E.tree.aggregates=te)}static parseUnit(C){return"number"==typeof C?`${C}px`:C}static parseContainer(C){if("string"==typeof C){const E=ee.SBGrid3.$(C);return 0==E.length&&he.Log.error((()=>`[${C}] 를 찾을 수 없습니다.`)),E}return C instanceof HTMLElement?ee.SBGrid3.$(C):C}static parsePanelLayout(C){return C instanceof Array||"string"==typeof C?{left:GridParser.parseStringArray(C)}:C instanceof Object?{left:GridParser.parseStringArray(C.left),center:GridParser.parseStringArray(C.center),right:GridParser.parseStringArray(C.right),leftFlex:GridParser.parseAlignFlex(C.leftFlex,oe.TextAlign.Left),centerFlex:GridParser.parseAlignFlex(C.centerFlex,oe.TextAlign.Center),rightFlex:GridParser.parseAlignFlex(C.rightFlex,oe.TextAlign.Right)}:void 0}static parseAlignFlex(C,E){var I;return{flexGrow:null==C?void 0:C.flexGrow,flexShrink:null==C?void 0:C.flexShrink,align:null!==(I=null==C?void 0:C.align)&&void 0!==I?I:E}}static parseStringArray(C){if(q.Convert.isEmpty(C))return[];if(C instanceof Array)return[].concat(C);if("string"==typeof C){return C.split(",").map((C=>C.trim())).filter((C=>0==q.Convert.isWhite(C)))}return C}static parseEnumArray(C,E){if(q.Convert.isEmpty(E))return[];if(E instanceof Array){let I=new Array;for(const B of E){let E=q.Convert.parseEnum(C,B);I.push(E)}return[].concat(E)}if("string"==typeof E){let I=E.split(","),B=new Array;for(const E of I){let I=q.Convert.parseEnum(C,E.trim());B.push(I)}return B}return E}static parsePanels(C){if(C instanceof Array||"string"==typeof C){return GridParser.parseEnumArray(Q.PanelType,C)}throw"panels must be array or comma seperated string"}static parseDataSource(C){return C instanceof B.DataSource?C:C instanceof Array?new B.DataSource({data:C}):q.Convert.isValue(C)?new B.DataSource(C):void 0}static adjustFields(C,E){var I,B,z,Q,ee;if(0==(null===(B=null===(I=null==E?void 0:E.schema)||void 0===I?void 0:I.autoFields)||void 0===B||B))return;const te=null===(z=q.Arrays.bfsSearchAll((E=>q.Convert.isNull(E)?C:E.columns),(C=>{var E,I,B;return q.Convert.isValue(C.field)&&!1!==C.editable&&q.Convert.isNull(null!==(I=null===(E=C.calc)||void 0===E?void 0:E.eval)&&void 0!==I?I:null===(B=C.calc)||void 0===B?void 0:B.rows)&&0==pe.FixedFields.fields.has(C.field)})))||void 0===z?void 0:z.filter((C=>q.Convert.isValue(C.field))).map((C=>({field:C.field,dataType:C.dataType,default:C.default}))),ie=null!==(Q=E.schema.fields)&&void 0!==Q?Q:E.schema.fields={};for(const C of te){const E=ie[C.field];q.Convert.isNull(E)?ie[C.field]={dataType:C.dataType,default:C.default}:(null!==(ee=E.dataType)&&void 0!==ee||(E.dataType=C.dataType),0==E.hasOwnProperty("default")&&(E.default=C.default))}}static adjustValidator(C,E){var I;const B=null===(I=null==E?void 0:E.schema)||void 0===I?void 0:I.fields;q.Convert.isNull(B)||C.forEach((C=>{var E;const I=C.validators,z=C.field,Q=B[z];if(C.editable&&!q.Convert.isNull(I)&&0===I.length){if(q.Convert.isNull(Q))return;if(q.Convert.isNull(C.validators))return;const I=Q.dataType,B=Q.nullable,z=null!==(E=C.validators)&&void 0!==E?E:[],ee=null==z?void 0:z.find((C=>C.rule===se.Rules.Type));if(q.Convert.isNull(ee)&&q.Convert.isValue(I)&&(I===q.DataType.Date||I===q.DataType.Number)){const C={rule:se.Rules.Type,value:I};GridParser._adjustValidator(C),z.unshift(C)}const te=null==z?void 0:z.find((C=>C.rule===se.Rules.Required));q.Convert.isNull(te)&&0==B&&z.unshift({rule:se.Rules.Required}),C.validators=z}else null==I||I.forEach((E=>{var I;let B=E.dataType;q.Convert.isNull(B)&&(B=null!==(I=C.dataType)&&void 0!==I?I:null==Q?void 0:Q.dataType),q.Convert.isNull(B)&&(E.dataType=q.Convert.parseEnum(q.DataType,B)),GridParser._adjustValidator(E)}))}))}static _adjustValidator(C){const E=C.value;switch(C.rule){case se.Rules.Required:break;case se.Rules.Between:if(q.Convert.isEmpty(E)||E instanceof Array==0||E.length<2)throw"validation config error. Between Rule must have array value. The size of the value should be equal to 2  >>>"+C;break;case se.Rules.Custom:if("function"!=typeof E)throw"validation config error. Custom Rule must have function value.";break;case se.Rules.Type:C.value=q.Convert.parseEnum(q.DataType,E.toString());break;case se.Rules.Min:case se.Rules.Max:const I=C.dataType,B=q.Convert.convertType(E,I);if(I===q.DataType.Number&&"number"!=typeof B||I===q.DataType.String&&"string"!=typeof B||I===q.DataType.Date&&isNaN(B))throw"validation config error. The data type of 'value' must be the same as the type of 'dataType'.";break;case se.Rules.Pattern:if(E instanceof RegExp)break;if("string"==typeof E)break;throw"validation config error. Pattern Rule must have string or RegExp value. >>>"+C.value;case se.Rules.MaxLength:case se.Rules.MinLength:"string"!=typeof E&&C.rule}}static parseStatusPanelAlign(C){let E;if("string"==typeof C)E=GridParser.parseStatusPanelAlign({left:C});else if(C instanceof Array)E=GridParser.parseStatusPanelAlign({left:C});else if(C instanceof Object)if(C.hasOwnProperty("left")||C.hasOwnProperty("center")||C.hasOwnProperty("right")){const I=C;E={left:q.Convert.default(I.left,void 0,(C=>GridParser.parseStatusTemplates(C))),center:q.Convert.default(I.center,void 0,(C=>GridParser.parseStatusTemplates(C))),right:q.Convert.default(I.right,void 0,(C=>GridParser.parseStatusTemplates(C))),leftFlex:I.leftFlex,rightFlex:I.rightFlex,centerFlex:I.centerFlex}}else E=GridParser.parseStatusPanelAlign({left:C});return E}static parseStatusTemplates(C){let E=C instanceof Array?C:[C];const I=new Array;for(let C=0;C<E.length;C++){const B=E[C];if("string"==typeof B||"function"==typeof B){I.push(B);continue}const z=oe.GridColumnParser.parseColumnTemplate(void 0,B),Q=B.aggregates instanceof Array?B.aggregates:[B.aggregates];z.aggregates=q.Convert.default(B.aggregates,void 0,(C=>oe.GridColumnParser.parseAggregates(void 0,Q))),I.push(z)}return I}static parseFilterOption(C){let E;if(0==C)E=void 0;else if(!0===C)E=q.Convert.parseEnum(ue.FilterMode,ee.SBGrid3.default.defaultFilterable);else{if("string"!=typeof C)throw"not supported filter option . "+C;E=q.Convert.parseEnum(ue.FilterMode,C)}return E}static parseEditable(C){var E,I,B,z,Q,te,ie;let re;if(!1===C)re=void 0;else if(!0===C)re=null===(E=ee.SBGrid3.default)||void 0===E?void 0:E.defaultEditable;else if("string"==typeof C)re=GridParser.parseEditable({mode:q.Convert.parseEnum(be,C)});else{const E=null===(I=ee.SBGrid3.default)||void 0===I?void 0:I.defaultEditable;re={mode:q.Convert.default(C.mode,null!==(B=null==E?void 0:E.mode)&&void 0!==B?B:be.incell,(C=>q.Convert.parseEnum(be,C))),eventType:q.Convert.default(C.eventType,null!==(z=null==E?void 0:E.eventType)&&void 0!==z?z:Ce.dblclick,(C=>q.Convert.parseEnum(Ce,C))),immediateValidationCheck:q.Convert.default(C.immediateValidationCheck,null!==(Q=null==E?void 0:E.immediateValidationCheck)&&void 0!==Q&&Q),keyEdit:q.Convert.default(C.keyEdit,null===(te=null==E?void 0:E.keyEdit)||void 0===te||te),insertEdit:q.Convert.default(C.insertEdit,null!==(ie=null==E?void 0:E.insertEdit)&&void 0!==ie&&ie)}}return re}static parseNavigatable(C){var E,I,B,z,Q;const te=null===(E=ee.SBGrid3.default)||void 0===E?void 0:E.navigatable,ie=null===(I=ee.SBGrid3.default)||void 0===I?void 0:I.defaultNavigatable,parseTabToNextCell=C=>{var E,I,B,z;return!1===C?void 0:!0===C?null==ie?void 0:ie.tabToNextCell:{dir:q.Convert.default(C.dir,null!==(I=null===(E=null==ie?void 0:ie.tabToNextCell)||void 0===E?void 0:E.dir)&&void 0!==I?I:le.Direction.Right,(()=>q.Convert.parseEnum(le.Direction,C.dir))),edit:q.Convert.default(C.edit,null!==(z=null===(B=null==ie?void 0:ie.tabToNextCell)||void 0===B?void 0:B.edit)&&void 0!==z&&z)}},parseEnterToNext=C=>{var E,I,B,z;return!1===C?void 0:!0===C?null==ie?void 0:ie.enterToNext:{dir:q.Convert.default(C.dir,null!==(I=null===(E=ie.enterToNext)||void 0===E?void 0:E.dir)&&void 0!==I?I:le.Direction.Down,(()=>q.Convert.parseEnum(le.Direction,C.dir))),edit:q.Convert.default(C.edit,null!==(z=null===(B=ie.enterToNext)||void 0===B?void 0:B.edit)&&void 0!==z&&z)}};let re;return void 0===C?te:(re=!1===C?void 0:!0===C?ie:{tabToNextCell:q.Convert.default(C.tabToNextCell,null!==(B=null==ie?void 0:ie.tabToNextCell)&&void 0!==B?B:void 0,parseTabToNextCell),syncSelect:q.Convert.default(C.syncSelect,null!==(z=null==ie?void 0:ie.syncSelect)&&void 0!==z&&z),enterToNext:q.Convert.default(C.enterToNext,null!==(Q=null==ie?void 0:ie.enterToNext)&&void 0!==Q?Q:void 0,parseEnterToNext)},re)}static parseReorderable(C){return!0===C?ee.SBGrid3.default.defaultReorderable:!1===C?GridParser.parseReorderable({row:void 0,column:void 0}):{column:q.Convert.default(C.column,void 0,(C=>GridParser.parseReorderSlideInterval(C))),row:q.Convert.default(C.row,void 0,(C=>GridParser.parseReorderSlideInterval(C)))}}static parseReorderSlideInterval(C){return!0===C?{scrollInterval:120}:!1===C?void 0:{scrollInterval:C.scrollInterval}}static parseHover(C){return!0===C?GridParser.parseHover(te.HoverType.Cell):!1===C?void 0:q.Convert.parseEnum(te.HoverType,C)}}E.GridParser=GridParser,function(C){C.none="none",C.incell="incell",C.inline="inline",C.popup="popup"}(be||(E.EditMode=be={})),function(C){C.mouseup="mouseup",C.dblclick="dblclick",C.click="click"}(Ce||(E.EditEvent=Ce={})),function(C){C.Page="page",C.Loaded="loaded",C.Whole="whole"}(we||(E.RowRange=we={}))},7763:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.GridDefault=void 0;const B=I(6252),z=I(2987),q=I(7721),Q=I(7443),ee=I(6258),te=I(860),ie=I(5565),re=I(2224),ne=I(7392),se=I(2288);E.GridDefault=class GridDefault{constructor(){this.dataSource={},this.editable=!1,this.defaultEditable={mode:ee.EditMode.incell,eventType:ee.EditEvent.dblclick,immediateValidationCheck:!1,keyEdit:!0,insertEdit:!1},this.pageable=!1,this.defaultPageable={pager:{numeric:!0,previousNext:!0,buttonCount:10}},this.sortable=ee.SortMode.None,this.defaultSortable=ee.SortMode.Rotate,this.multiSort=!1,this.navigatable=!1,this.defaultNavigatable={tabToNextCell:{dir:Q.Direction.Right,edit:!1},syncSelect:!1},this.resizable=!1,this.defaultResizable={mode:z.ResizeMode.GuideLine,minWidth:10,autoFit:["caption","data"]},this.reorderable=!1,this.defaultReorderable={row:{scrollInterval:120},column:{scrollInterval:120}},this.groupable=!1,this.filterable=!1,this.defaultFilterable=B.FilterMode.Menu,this.checkable=!1,this.undoable=!0,this.virtualRow=!0,this.virtualColumn=!1,this.fixedRows=!0,this.alternateCss=2,this.panels=te.PanelFactory.getDefaultPanels(),this.groupBar=ee.GridParser.parsePanelLayout(["group"]),this.pagerBar=ee.GridParser.parsePanelLayout({left:"pager"}),this.stickyHeader=!1,this.stickyFooter=!1,this.stickyRow=!1,this.stickyEdit=!1,this.stickyInsert=!1,this.stickyUpdate=!1,this.stickyDelete=!1,this.mergeRow=!1,this.mergeColumn=!1,this.selectable=!1,this.defaultSelectable={selectMode:ie.SelectMode.Single,rowSelect:!0,columnSelect:!1,cellSelect:ie.SelectType.Cell,syncFocus:!0,rowCheckable:!1},this.hover=!1,this.defaultHover=ie.HoverType.Cell,this.groupAutoOpen=!1,this.detailAutoOpen=!1,this.rowHeaders=["rowno","sticky","check","radio","reorder","status","detail"],this.showRowNo=!0,this.showSticky=!1,this.showStatus=!1,this.showDetail=!0,this.showCheck=!1,this.showRadio=!1,this.wheelDelta=30,this.contextMenu=!1,this.defaultContextMenu=["clipboard","undo","redo","addRow","addTop"],this.copyable=!1,this.defaultCopyable={fill:!1,textCopyMode:re.CopyMode.Text},this.freezable=!1,this.captionHeight=30,this.rowHeight=30,this.maxRowHeight=100,this.headerHeight=30,this.footerHeight=30,this.filterHeight=30,this.groupHeight=30,this.detailHeight=60,this.maxDetailHeight=300,this.copyInsert=!1,this.pagerOption={numeric:!0,previousNext:!0,buttonCount:10},this.defaultColumn={align:q.TextAlign.Center,valign:q.VertAlign.Center,width:100,minWidth:10,maxWidth:500,sortable:ee.SortMode.Rotate,editable:!0,selectable:!0,groupable:!0,visible:!0,captionVisible:!0,exportLabel:!1,skipPaste:!1,directApplyValue:!1,directApplyEdit:!1,captionLayout:{left:["check"],center:["caption","sort","filter"],right:["menu"],rightFlex:{flexGrow:0},leftFlex:{flexGrow:0}},captionMenu:!1,defaultCaptionMenu:["column","fixedCol","sort"],contextMenu:!1,defaultContextMenu:["clipboard","undo","redo","sticky","insertRow","appendrow","addRow","addTop","deleteRow","edit","cancel"],filter:{operator:ne.FilterOperators.IsEqualTo}},this.viewMode=se.ViewMode.Page,this.hideDeleted=!1,this.showFooter=!0,this.showHeader=!0,this.scrollBarSize=17,this.defaultDataSource={batch:!0,fieldsSamples:10,pageSize:20,calculations:[],aggregates:[],filters:[],groups:[],orders:[],removeDeleted:!1,lazyLoading:!1,clientPaging:!1,serverAggregates:!1,serverFiltering:!1,serverGrouping:!1,serverPaging:!1,serverSorting:!1,schema:{autoFields:!0,convertFields:!0,failAs:"origin"}}}}},6938:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.GridLayouts=E.GridMatrix=E.GridCell=E.OutOfView=E.GridRow=E.GridLayout=void 0;const B=I(103),z=I(1163),q=I(5260),Q=I(7721),ee=I(8788),te=I(8964),ie=I(5774),re=I(3354);class GridLayout{constructor(C){this._grid=C}get rows(){var C;return null!==(C=this._rows)&&void 0!==C?C:this._rows=[]}get grid(){return this._grid}get scrollLeft(){var C;return null!==(C=this._scrollLeft)&&void 0!==C?C:this._scrollLeft=this.grid.viewport.marginCol}get visible(){var C;return null===(C=this._visible)||void 0===C||C}set visible(C){this._visible=C}get partWidthMap(){return this._partWidthMap}get fixedWidth(){var C;return null!==(C=this.partWidthMap.get(Q.PartType.Fixed))&&void 0!==C?C:0}get headWidth(){var C;return null!==(C=this.partWidthMap.get(Q.PartType.Head))&&void 0!==C?C:0}get tailWidth(){var C;return null!==(C=this.partWidthMap.get(Q.PartType.Tail))&&void 0!==C?C:0}get bodyWidth(){var C;return null!==(C=this.partWidthMap.get(Q.PartType.Body))&&void 0!==C?C:0}get stickyWidth(){var C;return null!==(C=this.partWidthMap.get(Q.PartType.Sticky))&&void 0!==C?C:0}get leftWidth(){return this.fixedWidth+this.headWidth}get rightWidth(){return this.tailWidth}get centerWidth(){return this.grid.bodyWidth-this.leftWidth-this.rightWidth}get scrollWidth(){return this.bodyWidth+this.stickyWidth}get stickyOverflow(){return this._stickyOverflow}set stickyOverflow(C){this._stickyOverflow=C}get fractionRatio(){var C;return null!==(C=this._fractionRatio)&&void 0!==C?C:this._fractionRatio=1}set fractionRatio(C){this._fractionRatio=C}toMatrix(){return GridMatrix.toMatrix(this)}toVisibleMatrix(){return GridMatrix.toVisibleMatrix(this)}static makeCaptionLayout(C,E){const I=new GridLayout(C);return this.createCaptionCell(I,E),this.adjustLayout(C,I),I}static adjustLayout(C,E){this.adjustRowSpan(E),this.adjustColSpan(E),this.adjustMatrix(E),this.adjustLeft(E),E.stickyOverflow=E.calcStickyOverflow(C.bodyWidth),C.hasFractionColumn&&this.adjustFractionCells(E),C.hasStickyColumn&&this.adjustStickyCells(E),E._partWidthMap=this.calcPartWidth(E)}static adjustLeft(C){const E=GridLayout.mergeRows(C.rows),I=[];let B=0;for(const C of E)z.Convert.isNull(C)||(C.left=B,I[C.col]=B,B+=C.width);for(const E of C.rows)for(const C in E.cells){const B=E.cells[C];B.left=I[B.col]}}static mergeRows(C){var E;const I=[];for(const B of C)for(const C in null!==(E=null==B?void 0:B.cells)&&void 0!==E?E:[]){const E=B.cells[C];if((null==E?void 0:E.constructor.name)!=GridCell.name)continue;const q=I[E.col];(z.Convert.isNull(q)||q.colSpan>E.colSpan)&&(I[E.col]=E)}return I}static calcPartWidth(C){const E=this.mergeRows(C.rows),I=new Map;for(const C in E){const B=E[C];0==I.has(B.part)?I.set(B.part,B.width):I.set(B.part,I.get(B.part)+B.width)}return I}static makeFilterLayout(C,E){const I=new GridLayout(C);return this.createFilterCell(I,E),this.adjustLayout(C,I),I}static makeDefaultLayout(C,E){const I=new GridLayout(C);this.createDefaultCell(I,E),this.adjustLayout(C,I);const B=GridLayout.mergeRows(I.rows);return I.rows.splice(0),I.getRow(0).cells.splice(0,0,...B),I}static makeColsView(C,E,I,B,z,q){return this.createColsView(C,E,I,B,z,q)}static makeRowLayout(C,E){const I=new GridLayout(C);return this.createRowCell(I,E,0),this.adjustLayout(C,I),I}static makeHeaderLayout(C,E){const I=new GridLayout(C);return this.createHeaderCell(I,E,(C=>{var E,I;return null!==(I=null!==(E=C.config.headers)&&void 0!==E?E:C.rows)&&void 0!==I?I:C.captions}),(C=>C.totalHeaders)),this.adjustLayout(C,I),I}static makeFooterLayout(C,E){const I=new GridLayout(C);return this.createHeaderCell(I,E,(C=>{var E,I;return null!==(I=null!==(E=C.config.footers)&&void 0!==E?E:C.rows)&&void 0!==I?I:C.captions}),(C=>C.totalFooters)),this.adjustLayout(C,I),I}static makeTreeFooterLayout(C,E){const I=new GridLayout(C);return this.createHeaderCell(I,E,(C=>{var E,I;return null!==(I=null!==(E=C.config.footers)&&void 0!==E?E:C.rows)&&void 0!==I?I:C.captions}),(C=>C.treeFooters)),this.adjustLayout(C,I),I}static makeGroupLayout(C,E,I){const B=new GridLayout(C),q=new GridLayout(C);let Q;return z.Convert.isValue(Q=z.Arrays.bfsSearch(E,(C=>C.hasGroupHeader(I)||C.columns)))?this.createGroupCell(B,E,(C=>C.getGroup(I).headers)):this.createDefaultCell(B,E),this.adjustGroupCells(B,C.dataConfig.groups,I),this.adjustLayout(C,B),z.Convert.isValue(z.Arrays.bfsSearch(E,(C=>C.hasGroupFooter(I)||C.columns)))&&(this.createGroupCell(q,E,(C=>C.getGroup(I).footers)),this.adjustLayout(C,q)),{header:B,footer:q}}static makeDetailLayout(C,E){const I=new GridLayout(C);return this.createDetailCell(C,I,E),I}calcStickyOverflow(C){var E,I;let B=!1,q=0;for(const ee of null!==(I=null===(E=this.rows[0])||void 0===E?void 0:E.cells)&&void 0!==I?I:[])if(!z.Convert.isNull(ee)){switch(null==ee?void 0:ee.part){case Q.PartType.Fixed:case Q.PartType.Head:case Q.PartType.Sticky:case Q.PartType.Tail:q+=ee.width;case Q.PartType.Body:}if(B=C<q,B)return B}return B}static createCell(C,E,I,B,z){const q=new GridCell(E,C);return q.col=I,q.left=B,q.width=C.config.width,q.unit=C.unit,q.part=C.part,q.renderIndex=z,E.cells[q.col]=q,q}static adjustStickyCells(C,E=0){if(C.rows.length<=E)return;const I=[].concat(C.rows[E].cells);for(let B=E-1;B>=0;B--){const E=C.rows[B].cells;for(const C in E)z.Convert.isNull(I[C])&&(I[C]=E[C])}let B=0;for(const C in I){const E=I[C];(null==E?void 0:E.constructor.name)==GridCell.name&&(E.column.isSticky&&(E.stickyLeft=B,B+=E.width))}let q=0;const ee=[].concat(I).reverse();for(const C in ee){const E=ee[C];(null==E?void 0:E.constructor.name)==GridCell.name&&(E.column.part==Q.PartType.Sticky&&(E.stickyRight=q,q+=E.width))}this.adjustStickyCells(C,E+1)}static adjustGroupCells(C,E,I){var B,q;const Q=[].concat(C.rows[0].cells),ee=E.findIndex((C=>C.field==I)),ie=E.length;if(!(ee<0))for(const C of Q.keys()){const E=Q[C];if(z.Convert.isNull(E)||z.Convert.isNull(E.column))continue;const re=E.column;if(re instanceof te.GroupColumn&&re.field==I){E.part;let C=null!==(q=null===(B=re.groupColumn.groupTitle)||void 0===B?void 0:B.colSpan)&&void 0!==q?q:1;C<=0&&(C=Q.length-E.col);const I=ie-ee+C;E.colSpan=I;break}}}static adjustFractionCells(C){var E,I;const B=C.rows.reduce(((C,E)=>Math.max(C,E.cells.length)),0),q=C.rows.length;let ee=0,te=0;const ie=[];for(let I=0;I<B;I++)for(let B=q-1;B>=0;B--){const q=null===(E=C.rows[B])||void 0===E?void 0:E.cells[I];if(!z.Convert.isNull(q)){q.unit==Q.Unit.Pixel?ee+=q.width:(te+=q.width,ie.push(q));break}}if(0==ie.length)return;const re=C.grid.bodyWidth-ee;if(re>0){const E=re/te;for(const C of ie){const I=z.Convert.asInt(C.width*E);C.width=C.minWidth>I?C.minWidth:I,1==C.colSpan&&(C.column.width=C.width)}C.fractionRatio=E}else for(const C of ie)C.width=C.minWidth>0?C.minWidth:0,1==C.colSpan&&(C.column.width=C.width);let ne=0;for(let E=0;E<B;E++){let B;for(let Q=q-1;Q>=0;Q--){const q=null===(I=C.rows[Q])||void 0===I?void 0:I.cells[E];z.Convert.isNull(q)||(z.Convert.isNull(B)&&(B=q),q.left=ne)}z.Convert.isValue(B)&&(ne+=B.width)}}static adjustRowSpan(C,E=!1,I=0){var B,Q,te;if(C.rows.length<=I)return;const ie=null!==(Q=null===(B=C.rows[I])||void 0===B?void 0:B.cells)&&void 0!==Q?Q:[];if(z.Convert.isEmpty(ie)&&C.rows.length-1==I)return C.rows.splice(I,1),void this.adjustRowSpan(C,E,0);const re=[].concat(C.rows).splice(I+1);for(const C in ie){const B=ie[C];if((null==B?void 0:B.constructor.name)==GridCell.name)if(E&&0==I&&B.column instanceof ee.FrozenColumn){B.rowSpan=1;for(const E of re){const I=B.clone(E,B.column);E.cells[C]=I}}else try{null!==(te=B.rowSpan)&&void 0!==te||(B.rowSpan=1);let E=B.rowSpan;for(const I of re)if(!(z.Convert.isNull(I)||(E--,E>0))){if(z.Convert.isValue(I.cells[C]))break;B.rowSpan++}}catch(C){q.Log.error((()=>[C,[].concat(re)]))}}this.adjustRowSpan(C,E,I+1)}static adjustColSpan(C){var E,I,B,q;for(const Q of C.rows)for(const C of[].concat(null!==(E=null==Q?void 0:Q.cells)&&void 0!==E?E:[])){if(z.Convert.isNull(C))continue;let E=null!==(I=C.colSpan)&&void 0!==I?I:C.colSpan=1;if(E>1){let I=null!==(B=C.width)&&void 0!==B?B:C.column.width;for(let B=C.col+1;B<C.col+E;B++){const E=Q.cells[B];if(z.Convert.isValue(E)&&E.part!=C.part){C.colSpan=B-C.col,E.colSpan>1&&(E.colSpan-=B-E.col);break}I+=null!==(q=null==E?void 0:E.width)&&void 0!==q?q:0,delete Q.cells[B]}C.width=I}}}static adjustMatrix(C){const E=C.toMatrix().matrix;for(const C of E)for(const E of C){if(z.Convert.isNull(E))continue;const I=E.colSpan;if(I>1)for(let B=E.col+1;B<E.col+I;B++){const I=C[B];I!=E&&(I.row<E.row&&I.rowSpan>1&&(I.rowSpan=E.row-I.row+1),C[B]=E)}}}static createCaptionCell(C,E){if(z.Convert.isNull(E))return;let I=0,B=0;for(const z of E){if(0==z.visible)continue;const E=this.createTreeCell(C,z,z.captions,(C=>C.config.captionVisible),I,0,B);I+=E,B+=z.width}return I}static createRowCell(C,E,I=0,B=0,q=0){var Q;if(z.Convert.isEmpty(E))return;let ee=0;for(const B of E){if(0==B.visible)continue;const E=this.createTreeCell(C,B,null!==(Q=B.rows)&&void 0!==Q?Q:B.captions,(C=>z.Convert.isValue(C.config.field)||z.Convert.isValue(C.config.cellTemplate)||z.Convert.isEmpty(C.columns)),I,0,q);ee+=E,I+=E,q+=B.width}return ee}static createTreeCell(C,E,I,B,q=0,Q=0,ee=0){var te,re;if(0==E.visible)return 1;if(z.Convert.isNull(null==E?void 0:E.columns))return 1;let ne=0;const se=C.getRow(Q),oe=0==E.columns.filter((C=>C.visible)).length,ae=E.type==ie.ColumnTypes.Multi||z.Convert.isValue(E.captions);let le=0==ae&&(B(E)||oe)?this.createCell(E,se,q,ee,0):void 0;if(z.Convert.isValue(le)&&(le.colSpan=null!==(te=E.config.colSpan)&&void 0!==te?te:1,le.rowSpan=null!==(re=E.config.rowSpan)&&void 0!==re?re:1,le.width=le.colSpan>1?void 0:E.config.width),ae)return this.createMultiCell(C,E,I,q,Q,ee);if(z.Convert.isValue(E.columns)){for(const te of E.columns){if(0==te.visible)continue;const E=this.createTreeCell(C,te,I,B,q,z.Convert.isNull(le)?Q:Q+le.rowSpan,ee);ne+=E,q+=E,ee+=te.width}z.Convert.isValue(le)&&(le.colSpan=ne)}else z.Convert.isValue(le)&&(ne=1);return ne}static createMultiCell(C,E,I,B=0,Q=0,ee=0){let te=0;const ie=new Map,re=new Map;return E.columns.forEach((C=>{var E,I;if(0==C.visible)return;let B=null!==(E=C.caption)&&void 0!==E?E:"";ie.has(B)||ie.set(B,C),B+="."+(null!==(I=C.field)&&void 0!==I?I:""),ie.has(B)||ie.set(B,C)})),(I=this.adjustMergedVisible(I,E.columns,ie,E.captions)).forEach(((E,I)=>{const Q=C.getRow(I);let ne=B,se=ee;E.forEach(((C,E)=>{var ee;let oe=re.get(C);if(z.Convert.isNull(oe)){if(!ie.has(C))return void q.Log.warn((()=>`multi-cell : [${C}] 을 찾을 수 없습니다.`));{const z=ie.get(C);oe=this.createCell(z,Q,ne,se,I),oe.col=E+B,oe.colSpan=1,Q.cells[E+B]=oe,re.set(C,oe)}}else oe.row==I&&(oe.colSpan=(null!==(ee=oe.colSpan)&&void 0!==ee?ee:0)+1);ne+=1,te=Math.max(te,E+1)}))})),te}static adjustMergedVisible(C,E,I,B){return C=C.map((C=>C.map((C=>C)))),(B=B.map((C=>C.map((C=>I.has(C)?C:void 0))))).forEach((E=>{let I=-1;for(;(I=E.findIndex((C=>z.Convert.isNull(C))))>-1;)B.forEach((C=>C.splice(I,1))),C.forEach((C=>C.splice(I,1)))})),C}static createFilterCell(C,E,I=0,B=0,q=0){var Q,ee,te,ie;if(z.Convert.isEmpty(E))return;let re=0;for(const B of E){if(0==B.visible)continue;const E=this.createTreeCell(C,B,null!==(ie=null!==(te=null!==(ee=null!==(Q=B.filters)&&void 0!==Q?Q:B.headers)&&void 0!==ee?ee:B.footers)&&void 0!==te?te:B.rows)&&void 0!==ie?ie:B.captions,(C=>z.Convert.isValue(C.config.filter)),I,0,q);re+=E,I+=E,q+=B.width}return re}getRow(C){return GridLayout.ensureGridRow(this,C)}static ensureGridRow(C,E){var I;const B=null!==(I=C.rows[E])&&void 0!==I?I:C.rows[E]=new GridRow(C);return B.row=E,B}static splitGridCell(C,E,I){if(!z.Convert.isNull(this.ensureGridRow(C,E).cells[I]))for(let B=C.rows.length;B>E;B--){const E=this.ensureGridRow(C,B-1),q=E.cells[I];if(z.Convert.isValue(q)){delete E.cells[I];const z=this.ensureGridRow(C,B),Q=q.clone(z);z.cells[I]=Q}}}static createHeaderCell(C,E,I,B){let q=0,Q=0,ee=0;if(z.Convert.isNull(E)||0==E.length)return q;for(const B of E){if(0==B.visible)continue;const E=this.createTreeCell(C,B,I(B),(C=>z.Convert.isValue(C.totalHeaders)),Q,0,ee);q+=E,Q+=E,ee+=B.width}return GridLayout.createRenderCell(C,B),q}static createRenderCell(C,E){var I;const B=new Set;for(let q=0;q<C.rows.length;q++){let Q=C.rows[q];if(!z.Convert.isNull(Q))for(let q=0;q<Q.cells.length;q++){const ee=Q.cells[q];if(z.Convert.isNull(ee)||B.has(ee))continue;const te=ee.column,ie=E(te);let re=ee.row;const ne=ee.col;if(z.Convert.isValue(ie)){let E=0;for(const q of ie){if(z.Convert.isEmpty(q))continue;let Q;Q=this.ensureGridRow(C,re),E>0&&z.Convert.isValue(Q.cells[ne])&&this.splitGridCell(C,re,ne);const ie=this.createCell(te,Q,ne,ee.left,E);ie.render=q,ie.colSpan=null!==(I=q.colSpan)&&void 0!==I?I:ee.colSpan,ie.rowSpan=q.rowSpan,B.add(ie),re++,E++}}}}for(let E=0;E<C.rows.length;E++){let I=C.rows[E];if(!z.Convert.isNull(I))for(let E=0;E<I.cells.length;E++){const B=I.cells[E];if(z.Convert.isNull(B))continue;if(z.Convert.isValue(B.render))continue;const q=C.rows.filter((C=>{var I;return z.Convert.isValue(null===(I=C.cells[E])||void 0===I?void 0:I.render)})).map((C=>C.cells[E]));C.rows.forEach(((C,I)=>{const B=q[I];if(0==I&&z.Convert.isNull(B))return;z.Convert.isValue(B)&&B.clone(C);z.Convert.isValue(B)?C.cells[E]=B.clone(C):delete C.cells[E]}))}}for(let E=0;E<C.rows.length;E++){let I=C.rows[E];z.Convert.isNull(I)||(z.Convert.isEmpty(I.cells)||z.Convert.isNull(I.cells.find((C=>z.Convert.isValue(C)))))&&(C.rows.splice(E,1),C.rows.forEach(((C,E)=>C.row=E)))}}static createGroupCell(C,E,I){var B,q;let Q=0,ee=0,te=0;if(z.Convert.isNull(E)||0==E.length)return Q;for(const I of E){if(0==I.visible)continue;const E=this.createTreeCell(C,I,null!==(q=null!==(B=I.config.headers)&&void 0!==B?B:I.rows)&&void 0!==q?q:I.captions,(C=>z.Convert.isValue(C.totalHeaders)),ee,0,te);Q+=E,ee+=E,te+=I.width}return GridLayout.createRenderCell(C,I),Q}static createDefaultCell(C,E,I=0,B=0){var q;let Q=0;const ee=C.getRow(0);for(const te of E){if(0==te.visible)continue;const E=0==te.columns.filter((C=>C.visible)).length,re=te.type==ie.ColumnTypes.Multi||z.Convert.isValue(te.captions);let ne=0==re&&(te.visible||E)?this.createCell(te,ee,I,B,0):void 0;if(z.Convert.isValue(te.columns)&&0==E){const E=re?this.createMultiCell(C,te,null!==(q=te.rows)&&void 0!==q?q:te.captions,I,0,B):this.createDefaultCell(C,te.columns,I,B);z.Convert.isValue(ne)&&(ne.colSpan=E),Q+=E,I+=E}else Q++,I++;B+=te.width}return Q}static createColsView(C,E,I,B,q,ee=!1){z.Convert.isNull(E)&&(E=GridLayout.ensureDefaultLayout(E,C,I)),ee=E.stickyOverflow;let te=[],ie=[],re=[],se=!1;const oe=this.mergeRows(E.rows);let ae=0,le=E.fixedWidth+E.headWidth,ue=E.tailWidth,de=ee?0:E.stickyWidth,ce=0;for(const C of oe){if(z.Convert.isNull(C))continue;const I=C.width,oe=C.col;switch(C.outOfView=ne.Visible,C.part){case Q.PartType.Fixed:case Q.PartType.Head:this.appendCell(E,C,ie,!1);break;case Q.PartType.Tail:this.appendCell(E,C,re,!1);break;case Q.PartType.Sticky:case Q.PartType.Body:ee?oe<B?ce+=I:B<=oe&&ae+le+ue<=q&&(this.appendCell(E,C,te,!0),ae+=I):C.part==Q.PartType.Sticky?(oe<B?(this.appendCell(E,C,ie,!1),le+=I):0==se&&ae+le+ue+(de-I)<=q?(this.appendCell(E,C,te,!0),ae+=I):(this.appendCell(E,C,re,!1),ue+=I),de-=I):oe<B?ce+=I:(ae+le+ue+de<=q&&(this.appendCell(E,C,te,!0),ae+=I),ae+le+ue+de>=q&&(se=!0))}}ae=le;const he=ce+le,fe=ce+(q-ue);if(te=GridLayout.adjustColsViewCells(E,te.filter((C=>z.Convert.isValue(C))),he,fe),ie=GridLayout.adjustColsViewCells(E,ie.filter((C=>z.Convert.isValue(C)))),re=GridLayout.adjustColsViewCells(E,re.filter((C=>z.Convert.isValue(C)))),0==ee){const C=te.filter((C=>C.part==Q.PartType.Body));1==C.length&&C.forEach((C=>C.outOfView=ne.Visible))}const pe=[...ie,...te,...re];return pe.sort(((C,E)=>C.col-E.col)),{headCells:ie,bodyCells:te,tailCells:re,fullCells:pe,bodyWidth:q,scrollWidth:ae,tailWidth:ue,headWidth:le,stickyOverflow:ee,col:B}}static ensureDefaultLayout(C,E,I){if(z.Convert.isNull(C)){C=new GridLayout(E);let B=0,z=0;for(const E of I){if(0==E.visible)continue;const I=this.createTreeCell(C,E,E.captions,(C=>C.config.captionVisible),z,0,B);z+=I,B+=E.width}this.adjustLayout(E,C)}else C=C.clone();return C}static adjustColsViewCells_old(C,E,I=void 0,B=void 0){const q=[];for(const Q of E)if(!z.Convert.isNull(Q))for(let E=Q.col,ee=Q.col+Q.colSpan;E<ee;E++){C.rows.map((C=>C.cells[E])).filter((C=>z.Convert.isValue(C))).forEach((E=>{q.push(E);const ee=[E];if(E.rowSpan>1)for(let I=E.row+1,B=E.row+E.rowSpan;I<B;I++){const B=E.clone(this.ensureGridRow(C,I));B.left=Q.left,q.push(B),ee.push(B)}z.Convert.isNull(I)||z.Convert.isNull(B)||ee.forEach((C=>{if(B<C.left+C.width){const E=B-C.left;E>0?E/C.width<.9&&(C.outOfView=ne.Half):C.outOfView=ne.Hidden}else if(C.left<I){const E=I-C.left;E>0?E/C.width<.9&&(C.outOfView=ne.Half):C.outOfView=ne.Hidden}}))}))}return q}static adjustColsViewCells(C,E,I=void 0,B=void 0){var q,Q,ee,te;const ie=[];E.forEach((C=>ie[C.col]=C));const re=[];for(const ne of E){if((null==ne?void 0:ne.constructor.name)!=GridCell.name)continue;const E=C.rows.map((C=>C.cells[ne.col])).filter((C=>z.Convert.isValue(C)));for(let se of E)for(let E=se.col,oe=E+se.colSpan;E<oe;E++)for(let oe=se.row,ae=oe+se.rowSpan;oe<ae;oe++){const ae=se.clone(this.ensureGridRow(C,oe));ae.col=E,ae.width=null!==(Q=null===(q=ie[E])||void 0===q?void 0:q.width)&&void 0!==Q?Q:ne.width,ae.left=null!==(te=null===(ee=ie[E])||void 0===ee?void 0:ee.left)&&void 0!==te?te:ne.left,re.push(ae),z.Convert.isNull(I)||z.Convert.isNull(B)||calcOutOfView(ae)}}return re;function calcOutOfView(C){if(B<C.left+C.width){const E=B-C.left;E>0?E/C.width<.9&&(C.outOfView=ne.Half):C.outOfView=ne.Hidden}else if(C.left<I){const E=I-C.left;E>0?E/C.width<.9&&(C.outOfView=ne.Half):C.outOfView=ne.Hidden}}}clone(){const C=new GridLayout(this.grid);for(const E of this.rows)C.rows.push(E.clone(C));return GridLayout.adjustLayout(this.grid,C),C}static appendCell(C,E,I,B){if(B)I.push(E);else for(const B of C.rows){const C=B.cells[E.col];z.Convert.isNull(C)||I.push(C)}}static createDetailCell(C,E,I,B=0){let q;this.createDefaultCell(E,I);for(const I of E.rows){const E=I.cells;for(const I in E){const B=E[I];(null==B?void 0:B.constructor.name)==GridCell.name&&(B.part!=Q.PartType.Body&&B.part!=Q.PartType.Sticky||B.column instanceof te.GroupColumn||(z.Convert.isEmpty(q)?(q=B,q.column=new ee.DetailColumn(C,{part:"body"})):(q.colSpan+=B.colSpan,B.visible=!1)))}}}get findMap(){var C;return null!==(C=this._findMap)&&void 0!==C?C:this._findMap=new Map}findCell(C,E=void 0){if(this.findMap.has(C))return this.findMap.get(C);let I,B=!1;for(const q of this.rows){const Q=q.cells;for(const q in Q){const ee=Q[q];if((null==ee?void 0:ee.constructor.name)==GridCell.name){if(ee.column==C){if(this.findMap.set(C,ee),z.Convert.isNull(E))return ee;if(E)return I;B=!0}else if(B)return ee;I=ee}}}}toString(){var C,E,I,B,z,q,Q,ee;let te=[];for(const ie of this.rows){let re="";for(const te of ie.cells)re+=`[${null!==(Q=null!==(q=null!==(B=null!==(E=null===(C=null==te?void 0:te.column)||void 0===C?void 0:C.caption)&&void 0!==E?E:null===(I=null==te?void 0:te.column)||void 0===I?void 0:I.field)&&void 0!==B?B:null===(z=null==te?void 0:te.column)||void 0===z?void 0:z.constructor.name)&&void 0!==q?q:null==te?void 0:te.constructor.name)&&void 0!==Q?Q:""}, ${null!==(ee=null==te?void 0:te.renderIndex)&&void 0!==ee?ee:""}] `;te.push(re)}return te}}E.GridLayout=GridLayout;class GridRow{constructor(C){this._row=0,this._layout=C}clone(C){const E=new GridRow(C);return E._row=this.row,E._cells=this.cells.map((C=>C.clone(E))),E}get cells(){var C;return null!==(C=this._cells)&&void 0!==C?C:this._cells=[]}get row(){return this._row}set row(C){this._row=C}get layout(){return this._layout}get grid(){return this.layout.grid}get fixedWidth(){return this.layout.leftWidth}get scrollLeft(){return this.layout.scrollLeft}get bodyWidth(){return this.layout.bodyWidth}get partMap(){var C;return null!==(C=this._partMap)&&void 0!==C?C:this._partMap=new Map}get colsMap(){var C;return null!==(C=this._colsMap)&&void 0!==C?C:this._colsMap=new Map}getCells(C){let E=[];if(0==this.partMap.has(C)){for(const I in this.cells){const B=this.cells[I];(null==B?void 0:B.constructor.name)==GridCell.name&&((C==Q.PartType.Body?B.part==Q.PartType.Body||B.part==Q.PartType.Sticky:B.part==C)&&(E[I]=B))}this.partMap.set(C,E)}else E=this.partMap.get(C);if(C==Q.PartType.Body&&this.grid.virtualColumn){const C=this.grid.topCol;if(this.colsMap.has(C))E=this.colsMap.get(C);else{E=GridLayout.makeColsView(this.grid,this.layout,this.grid.wholeColumns,C,this.grid.bodyWidth,!1).fullCells.filter((C=>C.part==Q.PartType.Body||C.part==Q.PartType.Sticky)).map(((C,E)=>((C=C.clone()).index=E+1,C))).filter((C=>C.row==this.row)),this.colsMap.set(C,E)}}return E}}var ne;E.GridRow=GridRow,function(C){C[C.Visible=0]="Visible",C[C.Half=1]="Half",C[C.Hidden=2]="Hidden"}(ne||(E.OutOfView=ne={}));class GridCell{constructor(C,E){this._col=0,this._rowSpan=1,this._colSpan=1,this._mergeCol=1,this._mergeRow=1,this._column=E,this._gridRow=C,this._visible=E.visible}clone(C,E){const I=new GridCell(null!=C?C:this.gridRow,null!=E?E:this.column);return I._col=this._col,I._rowSpan=this._rowSpan,I._colSpan=this._colSpan,I._mergeCol=this._mergeCol,I._mergeRow=this._mergeRow,I._width=this._width,I._unit=this._unit,I._left=this._left,I._part=this._part,I._outOfView=this._outOfView,I._stickyLeft=this._stickyLeft,I._stickyRight=this._stickyRight,I._renderIndex=this._renderIndex,I._visible=this._visible,I._render=this._render,I._index=this._index,I}get gridRow(){return this._gridRow}get column(){return this._column}set column(C){this._column=C}get col(){return this._col}set col(C){this._col=C}get row(){return this._gridRow.row}get index(){var C;return null!==(C=this._index)&&void 0!==C?C:this._col}set index(C){this._index=C}get rowSpan(){var C;return null!==(C=this._rowSpan)&&void 0!==C?C:1}set rowSpan(C){this._rowSpan=C}get colSpan(){var C;return null!==(C=this._colSpan)&&void 0!==C?C:1}set colSpan(C){this._colSpan=C}get mergeCol(){return this._mergeCol}set mergeCol(C){this._mergeCol=C}get mergeColumn(){return this._mergeCol}get mergeRow(){return this._mergeRow}set mergeRow(C){this._mergeRow=C}get merge(){return this.mergeRow>1||this.mergeCol>1}get merged(){return 0==this.mergeRow||0==this.mergeCol}get width(){return this._width}set width(C){this._width=C}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get unit(){return this._unit}set unit(C){this._unit=C}get left(){return this._left}set left(C){this._left=C}get part(){return this._part}set part(C){this._part=C}get render(){return this._render}set render(C){this._render=C}get isSticky(){var C,E;return null!==(E=null===(C=this.column)||void 0===C?void 0:C.isSticky)&&void 0!==E&&E}get outOfView(){var C;return null!==(C=this._outOfView)&&void 0!==C?C:this._outOfView=ne.Visible}set outOfView(C){this._outOfView=C}get visible(){return this._visible}set visible(C){this._visible=C}get stickyLeft(){return this._stickyLeft}set stickyLeft(C){this._stickyLeft=C}get stickyRight(){return this._stickyRight}set stickyRight(C){this._stickyRight=C}get renderIndex(){var C;return null!==(C=this._renderIndex)&&void 0!==C?C:0}set renderIndex(C){this._renderIndex=C}}E.GridCell=GridCell;class GridMatrix{constructor(C){this._matrix=[],this._layout=C}get grid(){return this._layout.grid}get layout(){return this._layout}get fixedWidth(){return this.layout.fixedWidth}get headWidth(){return this.layout.headWidth}get tailWidth(){return this.layout.tailWidth}get bodyWidth(){return this.layout.bodyWidth}get stickyWidth(){return this.layout.stickyWidth}get leftWidth(){return this.layout.leftWidth}get rightWidth(){return this.layout.rightWidth}get centerWidth(){return this.grid.bodyWidth-this.leftWidth-this.rightWidth}get scrollWidth(){return this.bodyWidth+this.stickyWidth}get marginCol(){return this.grid.scrollPanel.scrollLeft}get matrix(){return this._matrix}getCell(C,E){var I;return null===(I=this._matrix[C])||void 0===I?void 0:I[E]}setCell(C,E,I){return this._matrix[C][E]=I,I}static toMatrix(C){var E;const I=new GridMatrix(C);for(const B of C.rows)for(const C in null!==(E=null==B?void 0:B.cells)&&void 0!==E?E:[]){const E=B.cells[C];if((null==E?void 0:E.constructor.name)==GridCell.name)for(let C=E.row;C<E.row+E.rowSpan;C++)for(let B=E.col;B<E.col+E.colSpan;B++){z.Convert.isNull(I.matrix[C])&&(I.matrix[C]=[]);const q=I.matrix[C][B];z.Convert.isValue(q)&&q.row<E.row&&q.rowSpan>1&&(q.rowSpan=E.row-q.row),I.matrix[C][B]=E}}return I}toString(){var C,E,I,B,z,q;let Q=[];for(const ee of this.matrix){let te="";for(const Q of ee)te+=`[${null!==(q=null!==(B=null!==(E=null===(C=null==Q?void 0:Q.column)||void 0===C?void 0:C.caption)&&void 0!==E?E:null===(I=null==Q?void 0:Q.column)||void 0===I?void 0:I.field)&&void 0!==B?B:null===(z=null==Q?void 0:Q.column)||void 0===z?void 0:z.constructor.name)&&void 0!==q?q:null==Q?void 0:Q.constructor.name}, ${null==Q?void 0:Q.renderIndex}] `;Q.push(te)}return Q}static toVisibleMatrix(C){const E=new GridMatrix(C);new Map;return E}}E.GridMatrix=GridMatrix;class GridLayouts{constructor(C,E=void 0,I=void 0){if(this._grid=C,z.Convert.isEmpty(E)){const E=C.config;this._layoutConfig={captionHeight:E.captionHeight,filterHeight:E.filterHeight,rowHeight:E.rowHeight,headerHeight:E.headerHeight,footerHeight:E.footerHeight,groupHeight:E.groupHeight},this._columns=I}else if(this._layoutConfig=E,z.Convert.isEmpty(I)){const z=new B.GridColumn(C,{captions:E.captions,rows:E.rows,headers:E.headers,footers:E.footers,filters:E.filters,columns:E.columns});z.columns.push(...I),this._columns=[z]}else this._columns=I}get grid(){return this._grid}get view(){return this.grid.view}get layoutConfig(){return this._layoutConfig}get rowsViewMap(){var C;return null!==(C=this._rowsViewMap)&&void 0!==C?C:this._rowsViewMap=new Map}get columns(){if(z.Convert.isEmpty(this._columns)){const C=this.grid,E=[].concat(C.fixedColumns).concat(C.headColumns).concat(C.scrollColumns).concat(C.tailColumns);this._columns=E.filter((C=>C.visible))}return this._columns}set columns(C){this._columns=C}groupLayout(C){var E;const I=null!==(E=this._groupLayoutMap)&&void 0!==E?E:this._groupLayoutMap=new Map;if(I.has(C))return I.get(C);const{header:B,footer:z}=GridLayout.makeGroupLayout(this.grid,this.columns,C);return I.set(C,{header:B,footer:z}),{header:B,footer:z}}get colsViewMap(){var C;return null!==(C=this._colsViewMap)&&void 0!==C?C:this._colsViewMap=new Map}colsView(C,E=void 0){if(this.colsViewMap.has(C))return this.colsViewMap.get(C);const I=GridLayout.makeColsView(this.grid,E,this.columns,C,this.grid.bodyWidth,!1);return this.colsViewMap.set(C,I),I}get defaultLayout(){var C;return null!==(C=this._defaultLayout)&&void 0!==C?C:this._defaultLayout=GridLayout.makeDefaultLayout(this.grid,this.columns)}get captionLayout(){var C;return null!==(C=this._captionLayout)&&void 0!==C?C:this._captionLayout=GridLayout.makeCaptionLayout(this.grid,this.columns)}get captionDepth(){return this.captionLayout.rows.length}get captionMatrix(){var C;return null!==(C=this._captionMatrix)&&void 0!==C?C:this._captionMatrix=GridMatrix.toMatrix(this.captionLayout)}get filterLayout(){var C;return null!==(C=this._filterLayout)&&void 0!==C?C:this._filterLayout=GridLayout.makeFilterLayout(this.grid,this.columns)}get headerLayout(){var C;return null!==(C=this._headerLayout)&&void 0!==C?C:this._headerLayout=GridLayout.makeHeaderLayout(this.grid,this.columns)}get headerDepth(){return this.headerLayout.rows.length}get footerLayout(){var C;return null!==(C=this._footerLayout)&&void 0!==C?C:this._footerLayout=GridLayout.makeFooterLayout(this.grid,this.columns)}get footerDepth(){return this.footerLayout.rows.length}get rowLayout(){var C;return null!==(C=this._rowLayout)&&void 0!==C?C:this._rowLayout=GridLayout.makeRowLayout(this.grid,this.columns)}get rowDepth(){return this.rowLayout.rows.length}get treeFooterLayout(){var C;return null!==(C=this._treeFooterLayout)&&void 0!==C?C:this._treeFooterLayout=GridLayout.makeTreeFooterLayout(this.grid,this.columns)}get treeFooterDepth(){return this.treeFooterLayout.rows.length}get rowMatrix(){var C;return null!==(C=this._rowMatrix)&&void 0!==C?C:this._rowMatrix=GridMatrix.toMatrix(this.rowLayout)}get detailLayout(){var C;return null!==(C=this._detailLayout)&&void 0!==C?C:this._detailLayout=GridLayout.makeDetailLayout(this.grid,this.columns)}get headerMatrix(){var C;return null!==(C=this._headerMatrix)&&void 0!==C?C:this._headerMatrix=GridMatrix.toMatrix(this.headerLayout)}get footerMatrix(){var C;return null!==(C=this._footerMatrix)&&void 0!==C?C:this._footerMatrix=GridMatrix.toMatrix(this.footerLayout)}get filterMatrix(){var C;return null!==(C=this._filterMatrix)&&void 0!==C?C:this._filterMatrix=GridMatrix.toMatrix(this._filterLayout)}adjustArray(C,E){var I;const B=C instanceof Array?C:[C],z=[];for(let C=0;C<E;C++)z.push(null!==(I=B[C])&&void 0!==I?I:B[0]);return z}static sum(C){return C.reduce(((C,E)=>C+E),0)}get rowHeight(){var C;return null!==(C=this._rowHeight)&&void 0!==C?C:this._rowHeight=this.adjustArray(this.layoutConfig.rowHeight,this.rowDepth)}get rowHeights(){var C;return null!==(C=this._rowHeights)&&void 0!==C?C:this._rowHeights=GridLayouts.sum(this.rowHeight)}get captionHeight(){var C;return null!==(C=this._captionHeight)&&void 0!==C?C:this._captionHeight=this.adjustArray(this.layoutConfig.captionHeight,this.captionDepth)}get captionHeights(){var C;return null!==(C=this._captionHeights)&&void 0!==C?C:this._captionHeights=GridLayouts.sum(this.captionHeight)}get headerHeight(){var C;return null!==(C=this._headerHeight)&&void 0!==C?C:this._headerHeight=this.adjustArray(this.layoutConfig.headerHeight,this.headerDepth)}get headerHeights(){var C;return null!==(C=this._headerHeights)&&void 0!==C?C:this._headerHeights=GridLayouts.sum(this.headerHeight)}get footerHeight(){var C;return null!==(C=this._footerHeight)&&void 0!==C?C:this._footerHeight=this.adjustArray(this.layoutConfig.footerHeight,this.footerDepth)}get footerHeights(){var C;return null!==(C=this._footerHeights)&&void 0!==C?C:this._footerHeights=GridLayouts.sum(this.footerHeight)}getLayout(C,E){var I;let B=!1,q=!1,Q=!1;switch(null==E?void 0:E.node.constructor.name){case re.ListNode.name:case re.TreeNode.name:break;case re.GroupNode.name:{const I=E.node.igroup.field,q=this.groupLayout(I).header;z.Convert.isValue(q.rows)&&(C=q,B=!0);break}case re.FooterNode.name:switch(null===(I=E.node.parent)||void 0===I?void 0:I.constructor.name){case re.GroupNode.name:{const I=E.node.parent.igroup.field,B=this.groupLayout(I).footer;z.Convert.isValue(B.rows)&&(C=B,q=!0);break}case re.TreeNode.name:{const E=this.treeFooterLayout;z.Convert.isValue(E.rows)&&(C=E,Q=!0);break}}break}return{layout:C,isGroupHeader:B,isGroupFooter:q,isTreeFooter:Q}}}E.GridLayouts=GridLayouts},3568:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.StatusPanel=E.LoadingPanel=E.HiddenPanel=E.PagerPanel=E.GroupPanel=E.ToolPanel=E.TitlePanel=E.GridPanel=E.ToolAlign=void 0;const z=I(4407),q=I(1163),Q=I(3119),ee=I(860),te=I(7078),ie=I(5260),re=I(2663),ne=I(6105);var se;!function(C){C.Left="left",C.Center="center",C.Right="right"}(se||(E.ToolAlign=se={}));class GridPanel extends z.Publisher{get tools(){return q.Convert.isNull(this._panelAlign)&&(this._panelAlign=this.getTools()),this._panelAlign}get grid(){return this._grid}get container(){return this._container}set container(C){this._container=C}getTools(){return new ee.PanelLayout(this.grid,{})}get renderable(){return!0}constructor(C,E){super(C),this._grid=C,this._class=E}render(C){return B(this,void 0,void 0,(function*(){let E=q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${te.SbCss.panel} ${this._class}' id='${this.name}'></div>`);this.container=E,q.Convert.isEmpty(this.tools.left)&&q.Convert.isEmpty(this.tools.center)&&q.Convert.isEmpty(this.tools.right)?E.css("display","none"):(E.css("display",""),q.Convert.isValue(this.tools.left)&&(yield this.renderToolAlign(E,this.tools.left,this.tools.leftFlex,"align-left")),q.Convert.isValue(this.tools.center)&&(yield this.renderToolAlign(E,this.tools.center,this.tools.centerFlex,"align-center")),q.Convert.isValue(this.tools.right)&&(yield this.renderToolAlign(E,this.tools.right,this.tools.rightFlex,"align-right")),this.grid.setEvent("panelClick","click",this.constructor.name,this.onEvent,E),this.grid.setEvent("panelClick","mousedown",this.constructor.name,this.onEvent,E),this.grid.setEvent("panelClick","mouseup",this.constructor.name,this.onEvent,E))}))}onEvent(C){ie.Log.debug((()=>C.type))}renderToolAlign(C,E,I,z){return B(this,void 0,void 0,(function*(){let B=q.JqUtils.adjustElement(C,`>div#${z}`,`<div id='${z}' class='${te.SbCss.tools} ${te.SbCss.align} ${te.SbCss.toClass(I.align)}'></div>`);if(q.Convert.isValue(I.flexGrow)||q.Convert.isValue(I.flexShrink)){const C=`${q.Convert.isValue(I.flexGrow)?"flex-grow: "+I.flexGrow+"; ":""} ${q.Convert.isValue(I.flexShrink)?"flex-shrink: "+I.flexShrink+"; ":""}`;q.JqUtils.changeAttr(B,"style",C)}yield this.renderTools(B,E)}))}renderTools(C,E){return B(this,void 0,void 0,(function*(){if(!q.Convert.isEmpty(E))for(let I of E){let E=q.JqUtils.adjustElement(C,`>div#${I.name}`,`<div id='${I.name}' class='${te.SbCss.tool} ${te.SbCss.item} ${I.clazz}'></div>`);yield I.render(E)}}))}createStyle(C){return B(this,void 0,void 0,(function*(){}))}}E.GridPanel=GridPanel;E.TitlePanel=class TitlePanel extends GridPanel{constructor(C){super(C,te.SbCss.title)}getTools(){return new ee.PanelLayout(this.grid,this.grid.config.titleBar)}get renderable(){return!0}};E.ToolPanel=class ToolPanel extends GridPanel{constructor(C){super(C,te.SbCss.tool)}getTools(){return new ee.PanelLayout(this.grid,this.grid.config.toolBar)}get renderable(){return q.Convert.isValue(this.grid.config.toolBar)}};E.GroupPanel=class GroupPanel extends GridPanel{constructor(C){super(C,te.SbCss.group)}getTools(){return new ee.PanelLayout(this.grid,this.grid.config.groupBar)}get renderable(){return this.grid.config.groupable}};E.PagerPanel=class PagerPanel extends GridPanel{constructor(C){super(C,te.SbCss.pager)}getTools(){return new ee.PanelLayout(this.grid,this.grid.config.pagerBar)}get renderable(){return q.Convert.isValue(this.grid.config.pageable)&&q.Convert.isValue(this.grid.config.pagerBar)}};E.HiddenPanel=class HiddenPanel extends GridPanel{constructor(C){super(C,te.SbCss.hidden)}get renderable(){return!0}render(C){return B(this,void 0,void 0,(function*(){let E=q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${te.SbCss.panel} ${this._class}' id='${this.name}'></div>`);this.container=E}))}};E.LoadingPanel=class LoadingPanel extends GridPanel{constructor(C){super(C,te.SbCss.loading),this.onMouseWheel=C=>B(this,void 0,void 0,(function*(){return!1}))}get renderable(){return!0}get loading(){return this._loading}set loading(C){if(this._loading==C)return;if(this._loading=C,q.Convert.isNull(this.wrapper))return;const E=this;setTimeout((()=>{E.loading?q.JqUtils.removeClass(this.wrapper,te.SbCss.hidden):q.JqUtils.addClass(this.wrapper,te.SbCss.hidden)}),10)}render(C){let E=q.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${te.SbCss.panel} ${this._class}' id='${this.name}'></div>`);this.wrapper=q.Convert.isNull(this.grid.loadingTemplate)?q.JqUtils.adjustElement(E,">div.loader-wrap","<div class='loader-wrap'><div class='loader02'></div></div>"):q.JqUtils.adjustElement(E,">div.loader-wrap",`<div class='loader-wrap'>${this.grid.loadingTemplate(this.grid)}</div>`),this.loading?q.JqUtils.removeClass(this.wrapper,te.SbCss.hidden):q.JqUtils.addClass(this.wrapper,te.SbCss.hidden),this.grid.setEvent("scrollWheel","wheel",this.constructor.name,this.onMouseWheel,E[0])}};E.StatusPanel=class StatusPanel extends GridPanel{constructor(C){super(C,te.SbCss.status),this.mergeToolAggregates=C=>{if(q.Convert.isEmpty(C))return[];if(C instanceof Array){let E=[];for(const I of C){const C=this.mergeToolAggregates(I);q.Convert.isNull(C)||(E=E.concat(C))}return E}if(C instanceof Q.ToolStatus){const E=C.columnTemplate.aggregates;if(q.Convert.isEmpty(E))return[];return(E instanceof Array?E:[E]).filter((C=>q.Convert.isValue(C))).map((C=>(C.value=void 0,C)))}}}get renderable(){return q.Convert.isValue(this.grid.config.statusBar)}getTools(){var C;return this.panelAlign=null!==(C=this.panelAlign)&&void 0!==C?C:new ee.StatusPanelAlign(this.grid),this.panelAlign}doCommand(C,E){if(E.command==re.Commands.Selected){if(0==this.renderable)return!0;const C=this.aggregate();if(q.Convert.isNull(C))return;return this.updateToolsStatus(this.panelAlign.left,C),this.updateToolsStatus(this.panelAlign.center,C),this.updateToolsStatus(this.panelAlign.right,C),!0}return super.doCommand(C,E)}updateToolsStatus(C,E){if(!q.Convert.isNull(C)&&!q.Convert.isNull(E))for(const I of C)I instanceof Q.ToolStatus&&I.updateStatus(E)}aggregate(){const C=this.makeItem(),E=this.mergeAggregates();return ne.Aggregate.aggregates(C,E,!0)}makeItem(){const C=this.grid.selectManager,E=new Map;return C.selectedRows.forEach(((I,B)=>{const z=this.grid.view.keyMap.get(B),Q=Object.assign({},z.data);I.forEach((E=>{var I;if(0==C.isSelectedCell(z.key,E)){const C=q.Arrays.bfsSearch(this.grid.columns,(C=>C.name==E));q.Convert.isValue(null===(I=null==C?void 0:C.config)||void 0===I?void 0:I.field)&&delete Q[C.config.field]}})),E.set(z.key,Q)})),C.selectedCells.forEach(((C,I)=>{var B;const z=this.grid.view.keyMap.get(I).data,Q=null!==(B=E.get(I))&&void 0!==B?B:{};C.forEach((C=>{const E=q.Arrays.bfsSearch(this.grid.columns,(E=>C==E.name));Q[E.config.field]=z[E.config.field]})),E.set(I,Q)})),C.selectedColumns.forEach(((I,B)=>{const z=q.Arrays.bfsSearch(this.grid.columns,(C=>B==C.name));this.grid.rows.forEach((I=>{var Q;const ee=I.key;if(C.isSelectedCell(ee,B)){const C=null!==(Q=E.get(ee))&&void 0!==Q?Q:{},B=z.config.field;q.Convert.isValue(B)&&0==C.hasOwnProperty(B)&&(C[B]=z.getValue(I),E.set(ee,C))}}))})),q.Arrays.from(E.values())}mergeAggregates(){const C=this.mergeToolAggregates(this.panelAlign.left),E=this.mergeToolAggregates(this.panelAlign.center),I=this.mergeToolAggregates(this.panelAlign.right);return[].concat(C,E,I)}}},8956:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.GridSearch=E.PopUpContainer=E.Position=void 0;const z=I(1163),q=I(7078),Q=I(860),ee=I(273);var te;!function(C){C.Left="left",C.Center="center",C.Right="right",C.Top="top",C.Bottom="bottom"}(te||(E.Position=te={}));class PopUpContainer{constructor(C){this.grid=C}render(C,E){return z.JqUtils.adjustElement(this.grid.container,`>div.${q.SbCss.popup}${C}`,`<div class='${q.SbCss.popup} ${E}'></div>`)}getOffset(C,E){const I=C.offset(),B=C.outerWidth(),z=C.outerHeight(),q=E.x,Q=E.y;let ee,ie;switch(q){case te.Left:ee=I.left;break;case te.Right:ee=I.left+B;break;case te.Center:ee=I.left+B/2}switch(Q){case te.Top:ie=I.top;break;case te.Bottom:ie=I.top+z;break;case te.Center:ie=I.top+z/2}return{left:ee,top:ie}}move(C,E,I){const B=this.getOffset(I,E.appendToXy);this._move(C,E.popupXy,B)}_move(C,E,I){const B=C.outerWidth(),z=C.outerHeight(),q=E.x,Q=E.y,ee=this.grid.container.offset();let ie=I.left-ee.left;switch(q){case te.Left:break;case te.Right:ie+=B;break;case te.Center:ie-=B/2}let re=I.top-ee.top;switch(Q){case te.Top:break;case te.Bottom:re-=z;break;case te.Center:re-=z/2}C.css({top:re,left:ie})}static parsePopupConfig(C){return!0===C?PopUpContainer.parsePopupConfig({popupXy:{x:te.Center,y:te.Top},appendToXy:{x:te.Center,y:te.Top}}):!1!==C?{popupXy:z.Convert.default(C.popupXy,{x:te.Center,y:te.Center},PopUpContainer.parsePosition),appendToXy:z.Convert.default(C.appendToXy,{x:te.Center,y:te.Center},PopUpContainer.parsePosition),positionFunc:C.positionFunc}:void 0}static parsePosition(C){return{x:z.Convert.isValue(null==C?void 0:C.x)?z.Convert.parseEnum(te,C.x):te.Center,y:z.Convert.isValue(null==C?void 0:C.y)?z.Convert.parseEnum(te,C.y):te.Center}}}E.PopUpContainer=PopUpContainer;class GridSearch extends ee.Observer{get resource(){var C;return null!==(C=this._resource)&&void 0!==C?C:this._resource=this.grid.resource}get config(){var C;return null!==(C=this._config)&&void 0!==C?C:this._config=PopUpContainer.parsePopupConfig(!0)}get popupContainer(){var C;return null!==(C=this._popupContainer)&&void 0!==C?C:this._popupContainer=new PopUpContainer(this.grid)}constructor(C){super(C),this.isOpen=!1,this.grid=C,this.init()}render(C){if(z.Convert.isValue(C)&&(this.isOpen=C),!this.isOpen)return;const E=this.popupContainer.render(`.${q.SbCss.search}`,q.SbCss.search);return this.renderTitle(E),this.renderSearchArea(E),this.renderConditions(E),this.renderButtons(E),this.draggable(E),E}move(C){const E=this.grid.container.find(`.${q.SbCss.panel}.${q.SbCss.scroll}`);this.popupContainer.move(C,this.config,E)}renderTitle(C){z.JqUtils.adjustElement(C,`>span.${q.SbCss.title}`,`<span class='${q.SbCss.title}'>${this.resource.search_title}</span>`)}draggable(C){C.draggable({})}init(){this.caseSensitive=!1,this.wholeWord=!1,this.isBackward=!1}renderSearchArea(C){const E=z.JqUtils.adjustElement(C,`>div.${q.SbCss.area}.${q.SbCss.search}`,`<div class='${q.SbCss.area} ${q.SbCss.search}'></div>`),I=(z.JqUtils.adjustElement(E,">span",`<span>${this.resource.search_find}:</span>`),z.JqUtils.adjustElement(E,">input",'<input type="text"/>'));I[0].focus({preventScroll:!0}),this.grid.setEvent("search","keydown","SearchKeyDown",(E=>("ENTER"===E.key.toUpperCase()&&(this._search(),I[0].focus()),"ESCAPE"===E.key.toUpperCase()&&(this.cancel(C),this.returnFocus()),!1)),I),this.jqInput=I}renderConditions(C){const E=z.JqUtils.adjustElement(C,`>div.${q.SbCss.area}.${q.SbCss.condition}`,`<div class='${q.SbCss.area} ${q.SbCss.condition}'></div>`);let I=z.JqUtils.adjustElement(E,`>div.${q.SbCss.area}.${q.SbCss.area}1`,`<div class='${q.SbCss.area} ${q.SbCss.area}1'></div>`),B=z.JqUtils.adjustElement(I,">label[for='CheckIgnoreCase']",`<label for='CheckIgnoreCase'>${this.resource.serach_caseSensitive}</label>`),Q=z.JqUtils.adjustElement(I,">#CheckCaseSensitive","<input type='checkbox' id='CheckCaseSensitive'/>");this.grid.setEvent("GridSearch","change","CaseSensitive",(C=>{this.caseSensitive=Q.is(":checked")}),Q),I=z.JqUtils.adjustElement(E,`>div.${q.SbCss.area}.${q.SbCss.area}2`,`<div class='${q.SbCss.area} ${q.SbCss.area}2'></div>`),B=z.JqUtils.adjustElement(I,">label[for='CheckWholeWord']",`<label for='CheckWholeWord'>${this.resource.search_wholeWord}</label>`);const ee=z.JqUtils.adjustElement(I,">#CheckWholeWord","<input type='checkbox' id='CheckWholeWord'/>");this.grid.setEvent("GridSearch","change","WholeWord",(C=>{this.wholeWord=ee.is(":checked")}),ee),I=z.JqUtils.adjustElement(E,`>div.${q.SbCss.area}.${q.SbCss.area}3`,`<div class='${q.SbCss.area} ${q.SbCss.area}3'></div>`),B=z.JqUtils.adjustElement(I,">label[for='CheckBackward']",`<label for='CheckBackward'>${this.resource.search_backward}</label>`);const te=z.JqUtils.adjustElement(I,">#CheckBackward","<input type='checkbox' id='CheckBackward'/>");this.grid.setEvent("GridSearch","change","Backward",(C=>{this.isBackward=te.is(":checked")}),te)}renderButtons(C){const E=z.JqUtils.adjustElement(C,`>div.${q.SbCss.area}.${q.SbCss.button}`,`<div class='${q.SbCss.area} ${q.SbCss.button}'></div>`),I=z.JqUtils.adjustElement(E,`>button.${q.SbCss.button}.${q.SbCss.search}`,`<button class='${q.SbCss.button} ${q.SbCss.search}' type='button'>${this.resource.search_find}</button>`);this.grid.setEvent("GridSearch","click","searchButton",(()=>{this._search()}),I);const B=z.JqUtils.adjustElement(E,`>button.${q.SbCss.button}.${q.SbCss.cancel}`,`<button class='${q.SbCss.button} ${q.SbCss.cancel}' type='button'>${this.resource.search_cancel}</button>`);this.grid.setEvent("GridSearch","click","cancelButton",(()=>{this.cancel(C),this.returnFocus()}),B)}cancel(C){(C=null!=C?C:this.grid.container.find(`.${q.SbCss.popup}.${q.SbCss.search}`)).remove(),this.isOpen=!1,this.init()}returnFocus(){this.grid.container[0].focus({preventScroll:!0})}_search(){return B(this,void 0,void 0,(function*(){const C=this.jqInput.val().toString();if(z.Convert.isEmpty(C))return;const E={search:C,ignoreCase:!this.caseSensitive,wholeWord:this.wholeWord,backward:this.isBackward};this.search(E,!0)}))}search(C,E=!0){return B(this,void 0,void 0,(function*(){const I=yield this.getFocusInfo();if(z.Convert.isNull(I))return;const B=yield this.grid.findRows(C.search,I,C.ignoreCase,C.wholeWord,C.backward);if(!z.Convert.isNull(B)){if(E){const C=yield this.convertFocus(B);this.moveFocus(C)}return B}}))}moveFocus(C){return B(this,void 0,void 0,(function*(){const E=this.grid.focusManager;yield E.moveFocus(C)}))}getTopRow(C,E,I){return B(this,void 0,void 0,(function*(){const B=(this.grid.virtualRow?yield this.grid.viewport.calcRows(I):this.grid.rowsView).currRows;for(-1===E&&(z.Convert.isEmpty(B)||B[B.length-1].rowIndex<C.rowIndex)&&(E=1);yield this._needReload(C,E,I);)I+=E,this.grid.rowCount<=I&&(I=0);return I}))}_needReload(C,E,I){var z;return B(this,void 0,void 0,(function*(){const B=yield this.grid.viewport.calcRows(I),q=B.currRows,Q=q.findIndex((E=>{var I;return(null===(I=E.rowItem)||void 0===I?void 0:I.rowIndex)===C.rowIndex}));let ee=Q<0;if(!ee&&1===E){const C=q[Q],I=q[Q+E];ee=(null===(z=null==I?void 0:I.rowItem)||void 0===z?void 0:z.isSticky)||q[q.length-1]==I?I.top+I.rowHeight.height>B.scrollHeight:C.top+C.rowHeight.height>B.scrollHeight}return ee}))}getFocusInfo(){return B(this,void 0,void 0,(function*(){const C=this.grid.focusManager.focus;return z.Convert.isEmpty(C)||C.panelType!==Q.PanelType.Body?yield this.emptyFocus():{rowIndex:C.rowItem.rowIndex,column:C.column}}))}emptyFocus(){return B(this,void 0,void 0,(function*(){const C=this.grid.topRow,E=this.grid.topCol;return{rowIndex:C,column:z.Arrays.bfsSearch(this.grid.wholeColumns,(C=>C.index===E||C.columns))}}))}convertFocus(C){return B(this,void 0,void 0,(function*(){return{rowItem:yield this.grid.view.getRow(C.rowIndex),column:C.column,panelType:Q.PanelType.Body}}))}getResource(C){const E=this.grid.resource;if(C===E.search_title)return E.search_title}static parseGridSearchOption(C){return"string"==typeof C?GridSearch.parseGridSearchOption({search:C}):{search:z.Convert.default(C.search,void 0),ignoreCase:z.Convert.default(C.ignoreCase,!1),wholeWord:z.Convert.default(C.wholeWord,!1),backward:z.Convert.default(C.backward,!1)}}}E.GridSearch=GridSearch},9797:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.RowItem=E.GridView=void 0;const z=I(194),q=I(2288),Q=I(2663),ee=I(3746),te=I(1163),ie=I(5369),re=I(3354),ne=I(5165),se=I(5260),oe=I(6258),ae=I(6105),le=I(7392),ue=I(5060),de=I(3119),ce=I(5774);class GridView extends ee.DataView{constructor(C){(C=oe.GridParser.parseConfig(C)).dataSource instanceof z.DataSource?super(C.dataSource):super(void 0),this._updateIndex=0,this._setConfig(C),this.dataSource.pageOnly=this.pageRow}setConfig(C){(C=oe.GridParser.parseConfig(C)).dataSource instanceof z.DataSource&&(super.publisher=C.dataSource),this._setConfig(C),this.clearRows(),this.dataSource.pageOnly=this.pageRow}_setConfig(C){this._config=C,C.dataSource instanceof z.DataSource?this.dataSource.setConfig(C.dataSource.config):this.dataSource.setConfig(C.dataSource),this.dataSource.onPrepareRequest=(C,E)=>GridView.prepareRequest(this,this.config,C,E),1==this._config.groupable&&te.Convert.isNull(this.dataConfig.groups)&&(this.dataConfig.groups=[])}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new te.Lock}static prepareRequest(C,E,I,B){var z,q;te.Convert.isValue(null==I?void 0:I.groups)&&I.groups.forEach((C=>{C.showFooter=!1,te.Arrays.bfsAction(te.Arrays.asArray(E.columns),(E=>{var I,B;let z;if(E.groups instanceof Array&&(z=C.field==E.field?E.groups:E.groups.filter((E=>{var I;return"*"==E.group||(null===(I=E.group)||void 0===I?void 0:I.split(",").map((C=>C.trim())).indexOf(C.field))>=0}))),(null===(I=E.groupTitle)||void 0===I?void 0:I.aggregates)instanceof Array){const I={group:C.field,field:C.field,aggregates:[].concat(E.groupTitle.aggregates)};z=(null!=z?z:[]).concat(I)}if(te.Convert.isValue(z)){const E=null!==(B=C.aggregates)&&void 0!==B?B:C.aggregates=[];for(const I of z)if(!te.Convert.isEmpty(I.aggregates)){for(const C of I.aggregates)E.some((E=>ae.Aggregate.aggregateEquals(E,C)))||E.push(C);te.Convert.isValue(I.footer)&&(C.showFooter=!0)}}return E.columns}))})),0==E.virtualRow&&(B.pageNo=C.pageNo),te.Convert.isValue(null===(z=I.tree)||void 0===z?void 0:z.parent)&&te.Convert.isValue(null===(q=I.tree)||void 0===q?void 0:q.master)&&(B.parentField=I.tree.parent)}get config(){return this._config}get dataConfig(){return this.dataSource.config}get pageSize(){return this.dataSource.pageSize}set pageSize(C){this.setPageSize(C)}get viewMode(){return this.virtualRow?q.ViewMode.Flow:this.config.viewMode}get topRow(){var C;return null!==(C=this._topRow)&&void 0!==C?C:this._topRow=0}set topRow(C){(this.config.virtualRow||0==this.dataSource.isPaging)&&(C=Math.min(Math.max(C,0),this.rowCount)),this._topRow=C,this._pageNo=this.virtualRow&&this.isPaging?Math.trunc(C/this.dataSource.pageSize):this._pageNo}get topCol(){var C;return null!==(C=this._topCol)&&void 0!==C?C:this._topCol=0}set topCol(C){C=Math.max(C,0),this._topCol=C}get serverPaging(){return this.dataConfig.serverPaging}get virtualColumn(){return!0===this.config.virtualColumn}get virtualRow(){return!0===this.config.virtualRow}get pageRow(){return!1===this.virtualRow}set virtualRow(C){this.config.virtualRow!=C&&(this.config.virtualRow,this.dataSource.loader.clearRows(),this.clearRows(),this.fireCommandAsync(this,new ne.RefreshCommand))}get pageNo(){var C;return null!==(C=this._pageNo)&&void 0!==C?C:this._pageNo=0}get loader(){return this.dataSource.loader}get rows(){var C;return null!==(C=this._rows)&&void 0!==C?C:this._rows=[]}get openCount(){var C;return null!==(C=this._openCount)&&void 0!==C?C:this._openCount=0}set openCount(C){this._openCount=C}get rowCount(){var C;return this.listMode?this.virtualRow||0==this.dataSource.isPaging?this.loader.nodeCount:this.dataSource.getPageSize(this.dataSource.request,this.pageNo):(null!==(C=this.openCount)&&void 0!==C?C:0)+this.dataSource.loader.nodeCount}get visibleCount(){var C;return null!==(C=this._visibleCount)&&void 0!==C?C:this.rowCount}get total(){return this.dataSource.total}get adjustedTotal(){return this.dataSource.adjustedTotal}get listMode(){var C;return(null===(C=this.loader)||void 0===C?void 0:C.constructor.name)===ue.ListLoader.name}get isPaging(){return this.dataSource.isPaging}get pagerMode(){let C=de.PagerMode.Page;return C=(this.listMode,this.virtualRow?de.PagerMode.Row:this.isPaging?de.PagerMode.Page:de.PagerMode.Row),C}get stickyKeys(){var C;return null!==(C=this._stickyKeys)&&void 0!==C?C:this._stickyKeys=new Set}get checkKeys(){var C;return null!==(C=this._checkKeys)&&void 0!==C?C:this._checkKeys=new Set}get selectKeys(){var C;return null!==(C=this._selectKeys)&&void 0!==C?C:this._selectKeys=new Set}get radioKey(){return this._radioKey}set radioKey(C){this._radioKey=C}get invisibleKeys(){var C;return null!==(C=this._invisibleKeys)&&void 0!==C?C:this._invisibleKeys=new Set}get stickyRowsMap(){var C;return null!==(C=this._stickyRowsMap)&&void 0!==C?C:this._stickyRowsMap=new Map}get editKeyMap(){var C;return null!==(C=this._editKeyMap)&&void 0!==C?C:this._editKeyMap=new Map}get loadingKeys(){var C;return null!==(C=this._loadingKeys)&&void 0!==C?C:this._loadingKeys=new Set}get stickyRow(){var C;return null!==(C=this.config.stickyRow)&&void 0!==C&&C}get stickyFooter(){var C;return null!==(C=this.config.stickyFooter)&&void 0!==C&&C}get stickyHeader(){var C;return null!==(C=this.config.stickyHeader)&&void 0!==C&&C}get stickyInsert(){var C;return null!==(C=this.config.stickyInsert)&&void 0!==C&&C}get stickyUpdate(){var C;return null!==(C=this.config.stickyUpdate)&&void 0!==C&&C}get stickyDelete(){var C;return null!==(C=this.config.stickyDelete)&&void 0!==C&&C}get stickyModify(){var C;return null!==(C=this._stickyModify)&&void 0!==C?C:this._stickyModify=this.stickyInsert||this.stickyDelete||this.stickyUpdate}isEdit(C,E=void 0){return te.Convert.isNull(C)?(this.editKeyMap.clear(),!1):te.Convert.isNull(E)?this.editKeyMap.has(C.key):(!0===E?this.editKeyMap.set(C.key,{data:te.Convert.cloneData(C.data)}):this.editKeyMap.delete(C.key),E)}isVisible(C,E=void 0){return!te.Convert.isNull(C)&&(te.Convert.isNull(E)?0==this.invisibleKeys.has(C.key)&&this.rowVisible(C):(!1===E?this.invisibleKeys.add(C.key):this.invisibleKeys.delete(C.key),E))}isLoading(C,E){if(te.Convert.isNull(E))return this.loadingKeys.has(C);const I=this.loadingKeys.size;!0===E?this.loadingKeys.add(C):this.loadingKeys.delete(C),I!=this.loadingKeys.size&&this.fireCommandAsync(this,new ie.LoadingCommand(this.loadingKeys.size>0))}clearEdit(){this.editKeyMap.clear()}get detailContextMap(){var C;return null!==(C=this._detailContextMap)&&void 0!==C?C:this._detailContextMap=new Map}get detailTemplateMap(){var C;return null!==(C=this._detailTemplateMap)&&void 0!==C?C:this._detailTemplateMap=new Map}get detailInitMap(){var C;return null!==(C=this._detailInitMap)&&void 0!==C?C:this._detailInitMap=new Map}static getSetMap(C,E,I,B){if(B||te.Convert.isValue(I))te.Convert.isNull(I)?C.delete(E):C.set(E,I);else if(te.Convert.isNull(I))return C.get(E);return I}detailContext(C,E,I){return GridView.getSetMap(this.detailContextMap,C,E,I)}detailInit(C,E,I){return GridView.getSetMap(this.detailInitMap,C,E,I)}detailTemplate(C,E,I){const B="string"==typeof E?te.Utils.createTemplate(E):E;return GridView.getSetMap(this.detailTemplateMap,C,B,I)}getStickyRows(C=!1,E=!1){const I=new Set;if(C)for(const C of this.editKeyMap.keys()){if(this.stickyKeys.has(C))continue;const E=this.map(C);te.Convert.isNull(E)||I.add(E.key)}if(E){const C=this.dataSource.getModifiedKeys(this.stickyInsert,this.stickyUpdate,this.stickyDelete);for(const E of C){if(this.stickyKeys.has(E))continue;const C=this.map(E);te.Convert.isNull(C)||I.add(C.key)}}for(const C of this.stickyKeys){const E=this.map(C);te.Convert.isNull(E)||I.add(E.key)}const B=te.Arrays.from(I.keys()).map((C=>this.map(C)));return ae.Sorting.sort(B,le.SortDir.Asc,(C=>C.node.treeIndex)),B}isEditRow(C){var E;return null!==(E=this.editKeyMap.has(C))&&void 0!==E&&E}keysToRows(C){const E=[];for(const I of C){const C=this.map(I);te.Convert.isNull(C)||E.push(C)}return E}getSelectedKeys(){return te.Arrays.from(this.selectKeys.keys())}getSelectedRows(){return this.keysToRows(this.selectKeys.keys())}getCheckedRows(){return this.keysToRows(this.checkKeys.keys())}getCheckedKeys(){return te.Arrays.from(this.checkKeys.keys())}isStickyModified(C){if(0==this.stickyModify)return!1;const E=this.dataSource.deleteMap.has(C),I=this.dataSource.insertMap.has(C),B=!!this.stickyUpdate&&this.dataSource.updateMap.has(C);return this.stickyInsert&&I&&!E||this.stickyDelete&&E&&!I||B&&!I&&!E}isStickyRow(C){return this.stickyKeys.has(C)}isCheckRow(C,E=void 0){if(te.Convert.isNull(E))return this.checkKeys.has(C);const I=this.map(C);1==E?(this.checkKeys.has(C)||this.checkKeys.add(C),I.data[re.FixedFields.check]=!0):(this.checkKeys.has(C)&&this.checkKeys.delete(C),delete I.data[re.FixedFields.check])}isSelectRow(C,E=void 0){if(te.Convert.isNull(E))return this.selectKeys.has(C);1==E?this.selectKeys.has(C)||this.selectKeys.add(C):this.selectKeys.has(C)&&this.selectKeys.delete(C)}isRadioRow(C,E=void 0){if(te.Convert.isNull(E))return this.radioKey===C;this.radioKey=1==E?C:void 0}addStickyRow(C){const E=C.key;this.stickyKeys.has(E)||this.isStickyModified(E)||(this.stickyKeys.add(C.key),this.addStickyRowsMap(C),this.adjustStickyRows(C))}addStickyRowsMap(C){let E=C.parent;for(;te.Convert.isValue(E);){const I=E.key;0==this.stickyRowsMap.has(I)&&this.stickyRowsMap.set(I,[]);const B=this.stickyRowsMap.get(I);0==B.some((E=>E.key==C.key))&&B.push(C),E=E.parent}}adjustStickyRows(C){let E=C.parent;for(;te.Convert.isValue(E);)0==E.isOpen&&(this.rows.splice(E.rowIndex),se.Log.debug((()=>["adjustStickyRows",E,[].concat(this.rows)]))),E=E.parent}removeStickyRow(C){const E=C.key;if(0==this.stickyKeys.has(E))return;this.stickyKeys.delete(E);let I=C.parent;for(;te.Convert.isValue(I);){const E=I.key;if(this.stickyRowsMap.has(E)){const I=this.stickyRowsMap.get(E),B=I.indexOf(C);B>=0&&(I.splice(B,1),te.Convert.isEmpty(I)&&this.stickyRowsMap.delete(E))}I=I.parent}this.adjustStickyRows(C)}get keyMap(){var C;return null!==(C=this._keyMap)&&void 0!==C?C:this._keyMap=new Map}get heightMap(){var C;return null!==(C=this._heightMap)&&void 0!==C?C:this._heightMap=new Map}map(C,E){if(!te.Convert.isNull(C))return te.Convert.isNull(E)?this.keyMap.get(C):(this.keyMap.set(C,E),E)}search(){return B(this,void 0,void 0,(function*(){const C=this.dataSource.changeLoader();se.Log.debug((()=>["GridView.search.changeLoader",C])),se.Log.time("GridView.search"),yield this.dataSource.search(),C||te.Convert.isEmpty(this.loader.nodes)?(this.clearRows(this.pageOnly),yield this.ensureRows(!1)):(this.openCount=GridView.reorderRows(this.rows,0,this.rowCount,this.dataConfig.groups,this.dataConfig.orders,!(this.dataSource.loader instanceof ue.ListLoader)),0==this.rows.length&&(yield this.ensureRows(!0))),this.calcRows(),se.Log.timeEnd("GridView.search"),this.fireCommandAsync(this,new ne.RefreshCommand)}))}setPageNo(C){var E,I;return B(this,void 0,void 0,(function*(){if(this.dataSource.changed&&("function"==typeof(null===(E=this.dataConfig.ajax)||void 0===E?void 0:E.update)||te.Convert.isValue(null===(I=this.dataConfig.ajax)||void 0===I?void 0:I.update.url)))return yield this.dataSource.save(),this._pageNo=C,void this.reload();this.pageNo==C&&this.topRow==C*this.pageSize||this.pagerMode==de.PagerMode.Row&&this.virtualRow&&C*this.pageSize>this.visibleCount||(this._pageNo=C,this.topRow=this.virtualRow?C*this.pageSize:0,yield this.loadPage(C,0==this.virtualRow),this.fireCommandAsync(this,new ne.RefreshCommand))}))}setPageSize(C){this.pageSize!=C&&(this.dataSource.pageSize=C,this.clearRows(),this.fireCommandAsync(this,new ne.RefreshCommand))}loadPage(C,E){var I,z;return B(this,void 0,void 0,(function*(){if(0==E&&0==this.total)return;const B=this.topRow;try{this.isLoading("",!0),this.beginUpdate();this.viewMode;C=this.dataSource.adjustPageNo(C);const Q=this.dataSource.hasPage(C),ee=yield this.dataSource.loadView(C,q.ViewMode.Page);{E&&this.clearRows(!0);const re=this.virtualRow&&null!==(z=null===(I=this.dataSource.getPageMap())||void 0===I?void 0:I.pageToFromTo(C,q.ViewMode.Page).from)&&void 0!==z?z:0;if(this.assignRows(void 0,ee,re),0==this.dataConfig.lazyLoading&&this.pageOnly&&0==this.listMode){let C,E=0;const I=te.Convert.isValue(this.dataConfig.calculations);for(;te.Convert.isValue(C=yield this.getRow(E++,!0));)I&&this.calcFields(C,!1)}this.config.virtualRow?this._topRow=B:this.topRow=0,0==Q&&this.fireCommandAsync(this,ie.LoadedCommand.create(this.dataSource.request,C,[...ee.map((C=>C.box.data))]))}}finally{this.endUpdate(),this.isLoading("",!1)}}))}ensureRowsByKeys(C){return B(this,void 0,void 0,(function*(){if(te.Convert.isValue(C)){const E=C[C.length-1].key;let I,B=C[0].index,z=-1;for(;te.Convert.isValue(I=yield this.getRow(B++));)if(I.key==E){if(z=I.node.level,I.node instanceof re.ParentNode==0)break}else if(0<=z&&z<=I.node.level)break}}))}doCommand(C,E){return E.command===Q.Commands.Rebuild&&this.rebuild(E),super.doCommand(C,E)}rebuild(C){se.Log.debug((()=>[this.name+".rebuild"]));const E=oe.GridParser.parseConfig(this.config);this._setConfig(E),this.fireCommandAsync(this,new ne.RefreshCommand)}rebuildColumns(){var C;return B(this,void 0,void 0,(function*(){0==this.rowCount&&(yield this.prepareRows());const E=null!==(C=te.Arrays.asArray(this.config.columns))&&void 0!==C?C:[];let I=0;for(const C in this.rows){const B=this.rows[C],q=null==B?void 0:B.data;for(const C in q){if(C==z.DataSource._keyName)continue;if(E.some((E=>E.field==C)))continue;const I=q[C],B={field:C,dataType:typeof I,type:ce.ColumnTypes.Text};E.push(B)}if(I++>=10)break}this.config.columns=E}))}save(C){return B(this,void 0,void 0,(function*(){C=null!=C?C:this.dataSource.getSaveData(),te.Convert.isNull(C)||te.Convert.isEmpty(C.inserted)&&te.Convert.isEmpty(C.deleted)&&te.Convert.isEmpty(C.updated)?se.Log.info("저장할 데이터가 없습니다."):(yield this.dataSource.save(C),yield this.reload(),this.fireCommandAsync(this,new ne.RefreshCommand))}))}clearRows(C=!1){se.Log.debug((()=>"clearRows")),this.rows.splice(0),this.keyMap.clear(),this.editKeyMap.clear(),this.checkKeys.clear(),this.invisibleKeys.clear(),this.radioKey=void 0,this.detailContextMap.clear(),this.detailTemplateMap.clear(),this.detailInitMap.clear(),this.stickyKeys.clear(),this.stickyRowsMap.clear(),this._openCount=0,0==C&&(this._pageNo=0,this._topRow=0,this._topCol=0)}reload(C){var E;return B(this,void 0,void 0,(function*(){se.Log.debug((()=>"gridView.reload"));const I=null!==(E=null==C?void 0:C.reset)&&void 0!==E&&E;this.clearRows(0==I),this.dataSource.reload(),yield this.prepareRows(0==I)}))}prepareRows(C=!0){return B(this,void 0,void 0,(function*(){if(C){if(this.rowCount>0&&this.rows.length>0)return;if(te.Convert.isValue(this.total)&&this.rows.length>0)return}this.beginUpdate(),yield this.loadPage(this.pageNo,0==C),yield this.ensureRows(!0),this.endUpdate()}))}ensureRows(C=!0){return B(this,void 0,void 0,(function*(){if(this.openCount=0,this.virtualRow){this.beginUpdate();let C=0;this.pageOnly?this.pageSize:this.rowCount;if(this.listMode){if(yield this.getRow(C,!0),this.dataSource.config.pageRange==le.PageRange.Whole)for(;te.Convert.isValue(yield this.getRow(C++,!1)););}else for(;te.Convert.isValue(yield this.getRow(C++,!0)););this.endUpdate()}else yield this.loadPage(this.pageNo,0==C);this.stickyRowsMap.clear(),this.stickyKeys.size>0&&(yield this.ensureStickyRows(this.rows)),this.fireCommandAsync(this,new ne.RowChangeCommand)}))}rowEditable(C){var E;return"function"!=typeof this.config.rowEditable||(null===(E=this.config.rowEditable(null==C?void 0:C.data,C))||void 0===E||E)}rowVisible(C){var E;return"function"!=typeof this.config.rowVisible||(null===(E=this.config.rowVisible(null==C?void 0:C.data,C))||void 0===E||E)}ensureStickyRows(C){var E,I;return B(this,void 0,void 0,(function*(){for(const B in C){const z=C[B];if(!(z.node instanceof re.ParentNode))continue;if((null!==(I=null===(E=z.items)||void 0===E?void 0:E.length)&&void 0!==I?I:0)>0)continue;let q=yield this.dataSource.loader.getRows(z.node,0,!0);if(!te.Convert.isEmpty(q)){for(let C=0,E=q.length;C<E;C++){if(te.Convert.isNull(q[C]))continue;const E=q[C],I=RowItem.create(this,z,E,C);I.isSticky&&this.addStickyRowsMap(I)}yield this.ensureStickyRows(z.items)}}}))}loadItems(C){for(const E in C){const I=C[E];if(te.Convert.isEmpty(I.items)){const C=I.node;if(C instanceof re.ParentNode){const E=[].concat(C.nodes);C.hasFooter&&E.push(C.footer);for(const C of E){const E=RowItem.create(this,I,C,this.rows.length);I.items.push(E)}this.loadItems(I.items)}}}}loadNodes(C,E){se.Log.debug((()=>[`loadNodes : ${this.rows.length} + ${C.length}`]));let I=C.length;for(let B=0;B<C.length;B++){const z=C[B],q=RowItem.create(this,E,z,this.rows.length);if(q.rowIndex=this.rows.length,this.rows.push(q),z instanceof re.ParentNode&&z.isOpen){q.isOpen=!0;const C=[].concat(z.nodes);z.hasFooter&&C.push(z.footer);let E=this.loadNodes(C,q);q.internalOpenCount=E,I+=E}}return I}getRow(C,E=!1){return B(this,void 0,void 0,(function*(){yield this.lock.acquire();try{if(null!=C||(C=0),te.Convert.isValue(this.rowCount)&&C>=this.rowCount&&0!=this.rowCount)return;let I=this.rows[C];if(te.Convert.isNull(I)){if((te.Convert.isNull(this.total)||this.total>0)&&(te.Convert.isEmpty(this.rows)||C<this.rowCount))try{this.isLoading("",!0),I=yield this.findRow(C,E&&te.Convert.isValue(this.rowCount))}finally{this.isLoading("",!1)}te.Convert.isValue(I)&&(this.rows[C]=I,yield this.adjustParentNode(I,C),this.map(I.key,I))}else 0==this.dataConfig.lazyLoading&&0==this.listMode&&(yield this.adjustParentNode(I,C));return I}finally{yield this.lock.release()}}))}adjustParentNode(C,E){return B(this,void 0,void 0,(function*(){if((null==C?void 0:C.node)instanceof re.ParentNode)if(C.level!=C.node.level);else if(C.isParentsOpen&&0==this.dataConfig.lazyLoading&&(C.node.isOpen&&C.isClose||C.isOpen&&0==C.itemCount))C.isOpen=!1,yield this.openRowItem(C);else if(C.isClose&&0==C.openCount){const I=C.stickyRows;I.length>0&&(this.openCount+=I.length,GridView.insertStickyRows(this.rows,C,I,E+1))}}))}findRow(C,E=!1){var I,z;return B(this,void 0,void 0,(function*(){if(te.Convert.isEmpty(C))return void se.Log.warn((()=>"rowIndex is empty"));let B=this.findPrevRow(C);if(te.Convert.isNull(B)){const I=0;let B=yield this.dataSource.loader.getRows(void 0,I+C,E);if(te.Convert.isNull(B)||0==B.length)return;return this.assignRows(void 0,B,C)}let q=C-B.rowIndex,Q=q-1;for(;te.Convert.isValue(B);){if(B.isOpen){let C=B.itemCount;if(te.Convert.isNull(C))break;if(C>Q)break;te.Convert.isValue(B.parent)&&te.Convert.isValue(B.itemCount)&&B.itemCount!=B.items.length&&(q-=B.itemCount-B.items.length)}else if(B.isSticky)B.level==B.node.level?null!==(z=null===(I=B.parent)||void 0===I?void 0:I.isClose)&&void 0!==z&&z&&(B=B.parent):B.level<B.node.level&&(B=B.parent);else{const C=B.stickyRows;if(C.length>Q)return C[Q]}Q=B.node.index+q,B=B.parent}const ee=this.dataSource.loader.hasRows(null==B?void 0:B.node,Q),re=yield this.dataSource.loader.getRows(null==B?void 0:B.node,Q,E),ne=this.assignRows(B,re,C);return 0==ee.hasPage&&this.fireCommandAsync(this,ie.LoadedCommand.create(this.dataSource.request,ee.pageNo,[...re.map((C=>C.box.data))])),ne}))}static insertStickyRows(C,E,I,B){const z=I.length;E.internalOpenCount=z;const q=C.splice(B);for(let q=0;q<z;q++){const z=I[q];z.parent=E,z.rowIndex=q+B,C[q+B]=z}for(const E in q){const I=q[E];I.rowIndex+=z,C[I.rowIndex]=I}}assignRows(C,E,I){for(let B=0,z=E.length;B<z;B++){const z=E[B];if(te.Convert.isNull(z))continue;let q=B+I;const Q=RowItem.create(this,C,z,q);this.rows[q]=Q}this.calcRows();return this.rows[I]}findPrevRow(C){var E;let I;const B=this.dataConfig.pageSize;for(let E=1;E<B&&!(C-E<0)&&(I=this._rows[C-E],!te.Convert.isValue(I));E++);if(te.Convert.isNull(I))for(const B of this.rows.keys()){if(C<B)break;I=null!==(E=this.rows[B])&&void 0!==E?E:I}return I}get toggleRowLock(){var C;return null!==(C=this._toggleRowLock)&&void 0!==C?C:this._toggleRowLock=new te.Lock}toggleRow(C,E){return B(this,void 0,void 0,(function*(){let I=this.map(C);if(te.Convert.isNull(I))return!1;try{if(yield this.toggleRowLock.acquire(),I.loading)return!1;I=this.map(C);const B=I.rowIndex;I.loading=!0,null!=E||(E=!I.isOpen);let z=E?yield this.openRowItem(I):yield this.closeRowItem(I);if(I.isOpen&&0==this.virtualRow){let C=B+1,E=C+I.openCount;for(;te.Convert.isValue(yield this.getRow(C++))&&C<E;);}return this.fireCommandAsync(this,new ne.RowChangeCommand),z}finally{yield this.toggleRowLock.release(),I=this.map(C),te.Convert.isValue(I)&&(I.loading=!1),this.fireCommandAsync(this,new ne.RefreshCommand)}}))}toggleDetail(C,E){return B(this,void 0,void 0,(function*(){let I=this.map(C);if(te.Convert.isNull(I))return!1;null!=E||(E=!I.isDetail),I.isDetail=E,this.fireCommandAsync(this,new ne.RowChangeCommand),this.fireCommandAsync(this,new ne.RefreshCommand)}))}toggleStickyRow(C){let E=this.map(C);return!te.Convert.isNull(E)&&(E.isSticky=!E.isSticky,this.fireCommandAsync(this,new ne.RowChangeCommand),this.fireCommandAsync(this,new ne.RowChangeCommand),!0)}toggleStickyRows(C,E){for(const I of C){let C=this.map(I);te.Convert.isNull(C)||(C.isSticky=null!=E?E:!C.isSticky)}return this.fireCommandAsync(this,new ne.RowChangeCommand),E}openRow(C){return B(this,void 0,void 0,(function*(){let E=yield this.getRow(C);if(te.Convert.isNull(E)||E.isOpen)return!1;let I=yield this.openRowItem(E);return this.fireCommandAsync(this,new ne.RowChangeCommand),this.fireCommandAsync(this,new ne.RefreshCommand({rowStart:C,rowEnd:!0===I?void 0:C})),I}))}get openRowItemLock(){var C;return null!==(C=this._openRowItemLock)&&void 0!==C?C:this._openRowItemLock=new te.Lock}openRowItem(C){return B(this,void 0,void 0,(function*(){try{if(yield this.openRowItemLock.acquire(),te.Convert.isNull(C)||C.isOpen)return!1;if(C.node instanceof re.ParentNode==0)return!1;if(0==C.isParentsOpen)return!1;let E=C.node;if(te.Convert.isNull(E))return!1;C.rowIndex;if(C.isOpen=!0,C.openCount>C.stickyRows.length)return;let I=this.openCount,B=yield this.getOpenCount(C);if(0==B)return E.isLeaf=!0,C.isOpen=!1,E.nodeCount=0,!1;if(C.openCount==B)return!1;const z=C.openCount;C.openCount=B,I+=B-z,this.openCount=I;let q=this.rows.splice(C.rowIndex+1);for(let E in q){let I=q[E];te.Convert.isNull(I)||0<z&&te.Convert.asInt(E)<z||(I.rowIndex+=B-z,I.rowNo+=B-z-(C.visible?0:1),this.rows[I.rowIndex]=I)}return te.Convert.isValue(C.items)&&this.setOpenRowItem(C.rowIndex,C.items),this.calcRowNo(),!0}finally{yield this.openRowItemLock.release()}}))}setOpenRowItem(C,E){for(let I=0,B=E.length;I<B&&(C++,!te.Convert.isValue(this.rows[C]));I++){const B=E[I];this.rows[C]=B,B.rowIndex=C,B.isOpen&&te.Convert.isValue(B.items)&&(C=this.setOpenRowItem(C,B.items))}return C}get pageOnly(){return 0==this.config.virtualRow}getOpenCount(C){return B(this,void 0,void 0,(function*(){if(C.node instanceof re.ParentNode){let E=C.itemCount;te.Convert.isNull(E)&&(yield this.dataSource.loader.getRows(C.node,0,!1),E=C.itemCount);for(const I of C.items.keys()){const B=C.items[I];te.Convert.isNull(B)||(E+=B.isOpen?yield this.getOpenCount(B):B.openCount)}return E}return 0}))}getOpenRows(C){return B(this,void 0,void 0,(function*(){C.rowIndex;const E=[];return C.node instanceof re.ParentNode&&te.Arrays.bfsAction(C.items,(C=>(E.push(C),C.isOpen?C.items:C.stickyRows))),E}))}closeRow(C){return B(this,void 0,void 0,(function*(){let E=yield this.getRow(C),I=yield this.closeRowItem(E);return this.fireCommandAsync(this,new ne.RefreshCommand({rowStart:C})),I}))}closeRowItem(C){return B(this,void 0,void 0,(function*(){if(te.Convert.isNull(C)||C.isClose)return!1;if(C.node instanceof re.ParentNode==0)return!1;if(0==C.isParentsOpen)return!1;const E=C.rowIndex;let I=C.openCount;const B=C.stickyRows,z=B.length;if(C.isOpen=!1,C.openCount==z)return!1;C.openCount;C.openCount=z;this.rowCount;this.openCount-=I-z;let q=this.rows.splice(C.rowIndex+1);const Q=E+I;GridView.insertStickyRows(this.rows,C,B,C.rowIndex+1);let ee=E+z+1;for(let C in q){let E=q[C];if(te.Convert.isNull(E))continue;if(E.rowIndex<=Q){E.isSticky;continue}const B=ee+te.Convert.asInt(C)-I;E.rowNo+=B-E.rowIndex,E.rowIndex=B,this.rows[E.rowIndex]=E}return this.calcRowNo(),this.fireCommandAsync(this,C.isOpen?new ne.OpenCommand(C.rowIndex):new ne.CloseCommand(C.rowIndex)),!0}))}loadRows(){return B(this,void 0,void 0,(function*(){se.Log.time("loadRows");let C=0,E=yield this.getRow(C);for(;te.Convert.isValue(E);)C++,E=yield this.getRow(C);se.Log.debug((()=>"loadRows end")),this.fireCommandAsync(this,new ne.RefreshCommand),se.Log.timeEnd("loadRows")}))}static reorderRows(C,E,I,B,z,q){if(te.Convert.isNull(C)||0==C.length)return;if(C.length<I)return C.splice(0),0;se.Log.debug((()=>["reorderRows",[].concat(C)]));const Q=C.filter((C=>te.Convert.isValue(C)&&te.Convert.isNull(C.parent)));se.Log.time("reorderItems"),this.reorderItems(Q,Q.length,B,z),se.Log.timeEnd("reorderItems"),se.Log.debug((()=>["sampLevelItems",Q]));let ee=-1;C.splice(0);return se.Log.time("reorderRows"),te.Arrays.dfsAction(Q,(function reorderRowsTree(E){if(ee++,te.Convert.isNull(E))return C[ee]=void 0,[];if(E.rowIndex=ee,C[ee]=E,E.level==E.node.level&&E.isOpen&&E.itemCount==E.items.length&&E.isParentsOpen)return E.items;if(E.isClose){const I=E.stickyRows;return I.length>0&&(se.Log.debug((()=>["insertStickyRows",I])),GridView.insertStickyRows(C,E,I,ee+1),ee+=I.length),[]}return E.items.splice(0),E.internalOpenCount=0,[]})),se.Log.debug((()=>["reorderRows.after",[].concat(C)])),se.Log.timeEnd("reorderRows"),q?this.calcOpenCount(Q)-Q.length:0}static calcOpenCount(C){let E=C.length;for(const I of C)if(!te.Convert.isNull(I))if(I.isClose){const C=I.stickyRows.length;I.internalOpenCount=C,E+=C}else I.internalOpenCount=this.calcOpenCount(I.items),E+=I.openCount;return E}static reorderItems(C,E,I,B){if(te.Convert.isNull(C)||0==C.length)return;if(C.length<E)return void C.splice(0);const z={field:"__originIndex__",dir:le.SortDir.Asc};B=[].concat(B).concat(z),C.sort(((C,E)=>C.node.index-E.node.index));for(const E in C){const z=C[E];te.Convert.isNull(z)||te.Convert.isEmpty(z.items)||this.reorderItems(z.items,z.itemCount,I,B)}}static getNode(C){return C.node instanceof re.FooterNode?C.node.parent:C.node}static getParentNodes(C){const E=[C];let I=C.parent;for(;te.Convert.isValue(I);)E.push(I),I=I.parent;return E}calcFields(C,E=!1){if(!te.Convert.isNull(C)&&0!=C.node.calcFields)for(const I of this.dataConfig.calculations){const B=null==I?void 0:I.field,z=null==I?void 0:I.eval;if(te.Convert.isEmpty(B)||te.Convert.isNull(z))continue;if(0==E&&C.calc.hasOwnProperty(B))continue;const q=ae.Aggregate.calcFields(I,C.data);C.data[B]!==q&&C.node.setData(q,B),C.calc[B]=q}}calcRows(){return B(this,void 0,void 0,(function*(){this.dataSource.loader.calcAggregates(),this.calcRowNo()}))}calcRowNo(){var C,E,I;let B,z=0,Q=this.isPaging&&0==this.virtualRow&&this.listMode?null===(E=null===(C=this.dataSource.getPageMap())||void 0===C?void 0:C.pageToFromTo(this.pageNo,q.ViewMode.Page))||void 0===E?void 0:E.from:0;const ee=this.rowCount;for(;z<ee;)B=this.rows[z],te.Convert.isValue(B)&&(B.rowIndex=z),(null===(I=null==B?void 0:B.visible)||void 0===I||I)&&this.rowVisible(B)&&(te.Convert.isValue(B)&&(B.rowNo=Q),Q++),z++;this._visibleCount=Q}getValue(C,E=void 0){var I;return null===(I=this.rows[C])||void 0===I?void 0:I.getValue(E)}_setValue({key:C,value:E,field:I}){const B=this.map(C);if(te.Convert.isNull(B))return;te.Convert.isEmpty(I)&&(E=te.Convert.mergeData(E,B.data));const z=this.sameValue({key:C,value:E,field:I})?void 0:{key:C,undoValue:this.getValue(B.rowIndex,I),redoValue:E,field:I};return te.Convert.isValue(z)&&B.setValue(E,I)&&this.calcFields(B,!0),z}sameValue(C){var E;const I=null===(E=this.map(C.key))||void 0===E?void 0:E.getValue(C.field);if(te.Convert.isValue(C.field))return I==C.value;const B=new Set;for(const C in I)B.add(C);for(const E in C.value)B.add(E);for(const E of B.values())if(I[E]!=C.value[E])return!1;return!0}setValue(C){const E=this._setValue(C);return te.Convert.isValue(E)&&this.calcRows(),E}setValues(C){if(te.Convert.isEmpty(C))return[];const E=[];for(const I in C){const B=C[I],z=this._setValue(B);te.Convert.isValue(z)&&E.push(z)}return te.Convert.isValue(E)&&this.calcRows(),E}insertValues(C,E,I=!1){return B(this,void 0,void 0,(function*(){if(te.Convert.isEmpty(E))return[];const B=[];this.beginUpdate();for(const q in E){const Q=E[q],ee=te.Convert.isValue(C)?z.InsertTo.Child:z.InsertTo.Last,ie=yield this.insertRowItem(C,Q.key,Q.value,ee,I);I?B.push({key:Q.key,value:Q.value}):B.push({key:ie.key,value:ie.box})}return this.endUpdate(),B}))}get updateIndex(){return this._updateIndex}beginUpdate(){this._updateIndex++,this.dataSource.beginUpdate()}endUpdate(){this._updateIndex--,this._updateIndex<0&&(this._updateIndex=0),this.dataSource.endUpdate(),this._updateIndex>0||this.calcRows()}insertToRowItem(C,E){switch(C){case z.InsertTo.Before:this.rows.splice(E.rowIndex,0,E),this.adjustRowIndex(E.rowIndex+1);break;case z.InsertTo.After:this.rows.splice(E.rowIndex+1,0,E),this.adjustRowIndex(E.rowIndex+1);break;case z.InsertTo.Last:this.rows[E.rowIndex]=E;break;case z.InsertTo.First:this.rows.splice(0,0,E),E.rowIndex=0,this.adjustRowIndex(1);break;case z.InsertTo.Child:this.rows.splice(E.rowIndex,0,E),this.adjustRowIndex(E.rowIndex+1)}}adjustRowIndex(C){let E;for(;te.Convert.isValue(E=this.rows[C]);)E.rowIndex=C,C++}ensureRowData(C,E){var I,B;let z;return te.Convert.isValue(E)?z=E.data:(null==C?void 0:C.node)instanceof re.ParentNode?z=C.node.nodes[C.node.nodes.length-1]:null===(I=this.rows[this.rows.length-1])||void 0===I||I.data,z=te.Convert.cloneData(z),(null===(B=this.dataConfig.schema)||void 0===B?void 0:B.add)&&(z=this.dataConfig.schema.add(z)),z}insertRowItem(C,E,I,q,Q=!1){var ee,ie;return B(this,void 0,void 0,(function*(){if(Q)return yield this.removeRowItem(C,E,I,q,!1);this.beginUpdate();let B=this.map(E);const ne=te.Convert.isEmpty(C)?null==B?void 0:B.parent:this.map(C),se=null!==(ie=null===(ee=null==ne?void 0:ne.node)||void 0===ee?void 0:ee.nodeCount)&&void 0!==ie?ie:this.rowCount;let oe=(I=null!=I?I:this.ensureRowData(ne,B))instanceof re.DataBox?I:yield this.dataSource.newBox(null!=I?I:null==B?void 0:B.data);const ae=yield this.dataSource.insertNode(null==ne?void 0:ne.node,null==B?void 0:B.node,oe,this.pageNo,q,Q);if(te.Convert.isValue(B)&&(this.config.hideDeleted||this.dataSource.removeDeleted)&&(B.visible=!0),0==this.dataSource.insertMap.has(oe.key)){const C=this.map(oe.key);if(te.Convert.isValue(C))return C.visible=!0,this.endUpdate(),C}let le=null==B?void 0:B.rowIndex;switch(q){case z.InsertTo.Before:le=null!=le?le:0;break;case z.InsertTo.After:le=te.Convert.isNull(le)?0:le;break;case z.InsertTo.First:le=0;break;case z.InsertTo.Child:case z.InsertTo.Last:le=se+(te.Convert.isValue(ne)?ne.rowIndex+1:0)}te.Convert.isValue(ne)&&(ne.items.splice(ae.index,0,void 0),ne.openCount+=1,this.openCount+=1);let ue=RowItem.create(this,ne,ae,le);return this.insertToRowItem(q,ue),ue.resetLevel(),ue.visible=!0,this.endUpdate(),ue}))}removeRowItem(C,E,I,z,q=!1){var Q;return B(this,void 0,void 0,(function*(){if(q)return yield this.insertRowItem(C,E,null!=I?I:null===(Q=this.map(E))||void 0===Q?void 0:Q.box,z,!1);if(this.dataSource.deleteMap.has(E))return;const B=this.map(E),ee=te.Convert.isEmpty(C)?null==B?void 0:B.parent:this.map(C);if(te.Convert.isNull(B)&&te.Convert.isNull(ee))return;this.editKeyMap.has(B.key)&&this.editKeyMap.delete(B.key);let ie=null!=I?I:null==B?void 0:B.box;if(ie instanceof re.DataBox==0)return;this.beginUpdate();const ne=B.rowIndex,se=this.dataSource.getPageNo(ie);yield this.dataSource.removeNode(null==ee?void 0:ee.node,B.node,ie,se,z,q);if(this.config.hideDeleted&&(B.visible=!1),0==this.dataSource.removeDeleted&&this.dataSource.deleteMap.has(E)){const C=this.rows[ne+1];return this.endUpdate(),C}return this.keyMap.delete(E),this.rows.splice(ne,1),this.isStickyModified(E)&&(B.isSticky=!1),this.endUpdate(),this.rows[ne]}))}getGroupByField(C,E=!0){return B(this,void 0,void 0,(function*(){return yield this.dataSource.getGroupByField(C,E)}))}moveToRow(C,E,I){return B(this,void 0,void 0,(function*(){if(C.rowIndex==E.rowIndex+(I?0:1))return;this.topRow;this.rows.splice(0),this.dataSource.moveToNode(C.node,E.node,I);this.fireCommandAsync(this,new ne.RowChangeCommand),yield this.ensureRows(!0)}))}getGroupColumn(C){const E=this.config.columns instanceof Array?this.config.columns:[this.config.columns];return te.Arrays.bfsSearch(E,(E=>E.field==C||E.columns))}}E.GridView=GridView;class RowItem{constructor(C,E,I,B){if(this._openCount=0,this.toString=()=>this.constructor.name+": "+(this.node instanceof re.GroupNode?this.node.data:this.node instanceof re.FooterNode?this.node.data.data:this.node.data),this._view=C,this._parent=E,this._node=I,this.rowIndex=B,this.isDetail=C.config.detailAutoOpen,te.Convert.isEmpty(I.key))throw"key is empty";C.map(I.key,this),te.Convert.isValue(E)&&te.Convert.isValue(I)&&(E.items[I.index]=this)}static create(C,E,I,B){var z,q;let Q=new RowItem(C,E,I,B);if(I instanceof re.GroupNode){const E=I.igroup.field,B=C.getGroupColumn(E),ee=null===(q=null===(z=null==B?void 0:B.groupTitle)||void 0===z?void 0:z.visible)||void 0===q||q;Q.visible=ee}return C.config.hideDeleted&&C.dataSource.deleteMap.has(I.key)&&(Q.visible=!1),Q}get view(){return this._view}get status(){return this.view.dataSource.getStatus(this.node.box)}get isSelect(){var C;return null===(C=this._view)||void 0===C?void 0:C.isSelectRow(this.key)}set isSelect(C){var E;null===(E=this._view)||void 0===E||E.isSelectRow(this.key,C)}get isOpen(){var C;return this.node instanceof re.ParentNode&&(null!==(C=this._isOpen)&&void 0!==C?C:this._isOpen=!1)}set isOpen(C){this._isOpen!=C&&(this._isOpen=C,this.node instanceof re.ParentNode&&(this.node.isOpen=C))}get isParentsOpen(){let C=!0,E=this.parent;for(;C&&te.Convert.isValue(E);)C=E.isOpen,E=E.parent;return C}get detailContext(){return this.view.detailContext(this.key)}set detailContext(C){this.view.detailContext(this.key,C,!0)}get detailTemplate(){return this.view.detailTemplate(this.key)}set detailTemplate(C){this.view.detailTemplate(this.key,C,!0)}get detailInit(){return this.view.detailInit(this.key)}set detailInit(C){this.view.detailInit(this.key,C,!0)}get isClose(){return!this.isOpen}get isEdit(){return this.view.isEdit(this)}set isEdit(C){this.view.isEdit(this,C)}get isDetail(){var C;return null!==(C=this._isDetail)&&void 0!==C?C:this._isDetail=!1}set isDetail(C){this._isDetail=C}get box(){return this.node.box}get data(){var C;return null===(C=this.node)||void 0===C?void 0:C.data}get originData(){var C;return null===(C=this.node)||void 0===C?void 0:C.originData}get calc(){var C;return null===(C=this.node)||void 0===C?void 0:C.calc}get node(){return this._node}get temp(){var C;return this.isEdit?null===(C=this.view.editKeyMap.get(this.key))||void 0===C?void 0:C.data:void 0}get columnTemps(){var C,E;return this.isEdit?null!==(E=null===(C=this.view.editKeyMap.get(this.key))||void 0===C?void 0:C.columnTemp)&&void 0!==E?E:this.view.editKeyMap.get(this.key).columnTemp={}:void 0}get visible(){return this.view.isVisible(this)}set visible(C){this.view.isVisible(this,C)}get rowIndex(){return this._rowIndex}set rowIndex(C){this._rowIndex=C}get rowNo(){var C;return null!==(C=this._rowNo)&&void 0!==C?C:this._rowIndex}set rowNo(C){this._rowNo=C}get index(){var C;return null===(C=this.node)||void 0===C?void 0:C.index}get key(){var C;return null===(C=this.node)||void 0===C?void 0:C.key}get itemCount(){const C=this.node;return C instanceof re.ParentNode&&te.Convert.isValue(C.nodeCount)?C.nodeCount+(C.nodeCount>0&&C.hasFooter?1:0):void 0}get openCount(){var C;return null!==(C=this._openCount)&&void 0!==C?C:this._openCount=0}set openCount(C){var E,I;if(this._openCount==C)return;let B=this.parent;if(this._openCount=C,te.Convert.isValue(B)){if(B.isClose)return void(B.openCount=B.stickyRows.length);let C=null!==(E=B.itemCount)&&void 0!==E?E:0;for(const E in B.items){C+=null!==(I=B.items[E].openCount)&&void 0!==I?I:0}B.openCount=C}}get internalOpenCount(){return this._openCount}set internalOpenCount(C){this._openCount=C}get parent(){return this._parent}set parent(C){var E;if(this._parent!=C){if(this===C)throw"parent is this";this._level=(null!==(E=null==C?void 0:C.level)&&void 0!==E?E:-1)+1,this._parent=C}}get items(){var C;return null!==(C=this._items)&&void 0!==C?C:this._items=[]}get level(){var C,E,I;return null!==(C=this._level)&&void 0!==C?C:this._level=(null!==(I=null===(E=this.parent)||void 0===E?void 0:E.level)&&void 0!==I?I:-1)+1}get rowHeight(){var C,E;return null!==(E=null===(C=this.view.heightMap.get(this.key))||void 0===C?void 0:C.height)&&void 0!==E?E:0}get detailHeight(){var C;return this.isDetail?null===(C=this.view.heightMap.get(this.key))||void 0===C?void 0:C.detail:0}get height(){var C,E;const I=this.view.heightMap.get(this.key);return(null!==(C=null==I?void 0:I.height)&&void 0!==C?C:0)+(this.isDetail&&null!==(E=null==I?void 0:I.detail)&&void 0!==E?E:0)}get reorderable(){return 0==(this.node instanceof re.GroupNode||this.node instanceof re.FooterNode)}resetLevel(){this._level=void 0}isDroppable(C){let E=te.Convert.isValue(C)&&C.node instanceof re.FooterNode==0;if(E&&C.node instanceof re.ParentNode){const I=this.node;let B=C.node;for(;te.Convert.isValue(B=B.parent);)if(B==I){E=!1;break}if(E&&C.node instanceof re.GroupNode){const I=[].concat(this.view.dataConfig.groups).reverse()[0];E=C.node.igroup.field==I.field}}return E}setHeight(C,E){var I;let B=!1,z=!1;const q=null!==(I=this.view.heightMap.get(this.key))&&void 0!==I?I:{height:void 0,detail:void 0,total:void 0};return te.Convert.isValue(C)&&(B=q.height!=C,B&&(q.height=C)),te.Convert.isValue(E)&&(z=q.detail!=E,z&&(q.detail=E)),this.view.heightMap.set(this.key,q),B||z}get isSticky(){return this.view.isStickyRow(this.key)||this.view.stickyUpdate&&this.view.dataSource.isUpdated(this.key)||this.view.stickyInsert&&this.view.dataSource.isInserted(this.key)||this.view.stickyDelete&&this.view.dataSource.isDeleted(this.key)}set isSticky(C){1==C?this._view.addStickyRow(this):this._view.removeStickyRow(this)}get isCheck(){var C;return null===(C=this._view)||void 0===C?void 0:C.isCheckRow(this.key)}set isCheck(C){var E;null===(E=this._view)||void 0===E||E.isCheckRow(this.key,C)}get isRadio(){var C;return null===(C=this._view)||void 0===C?void 0:C.isRadioRow(this.key)}set isRadio(C){var E;null===(E=this._view)||void 0===E||E.isRadioRow(this.key,C)}getValue(C=void 0){var E,I;return te.Convert.isEmpty(C)?this.data:(null===(E=this.data)||void 0===E?void 0:E.hasOwnProperty(C))?this.data[C]:(null===(I=this.calc)||void 0===I?void 0:I.hasOwnProperty(C))?this.calc[C]:void 0}setValue(C,E=void 0){if(this.view.editKeyMap.has(this.key)){const I=this.view.editKeyMap.get(this.key),B=null==I?void 0:I.data;if(te.Convert.isEmpty(E))for(const E in null!=C?C:{})B[E]=C[E];else B[E]=C}return this.node.setData(C,E)}get stickyRows(){var C;const E=null!==(C=this._view.stickyRowsMap.get(this.key))&&void 0!==C?C:[];for(const C of[].concat(E)){if(this._view.stickyKeys.has(C.key))continue;const I=E.findIndex((E=>E==C));I>=0&&E.splice(I,1)}return ae.Sorting.sort(E,le.SortDir.Asc,(C=>C.node.treeIndex)),E}get cssClass(){var C;return null!==(C=this._cssClass)&&void 0!==C?C:this._cssClass=[]}setTemp(C,E){0!=this.isEdit&&(this.temp[C]=E)}get loading(){return this.view.isLoading(this.key)}set loading(C){this.view.isLoading(this.key,C)}get isLeaf(){var C;return this.node instanceof re.TreeNode?null===(C=this.node)||void 0===C?void 0:C.isLeaf:this.node instanceof re.GroupItem}get isFocus(){var C;return null!==(C=this._isFocus)&&void 0!==C?C:this._isFocus=!1}set isFocus(C){this._isFocus=C}}E.RowItem=RowItem,RowItem._gIndex=0},860:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.StatusPanelAlign=E.CaptionRender=E.PanelLayout=E.LayoutFlex=E.PanelFactory=E.getDefaultPanges=E.PanelType=void 0;const z=I(1163),q=I(7721),Q=I(3568),ee=I(1355),te=I(3119),ie=I(5177),re=I(7078);var ne;!function(C){C.Title="title",C.Tool="tool",C.Group="group",C.Pager="pager",C.Scroll="scroll",C.Hidden="hidden",C.Loading="loading",C.Status="status",C.Caption="caption",C.Filter="filter",C.Header="header",C.Body="body",C.Footer="footer"}(ne||(E.PanelType=ne={}));const se=[ne.Hidden,ne.Title,ne.Tool,ne.Group,ne.Scroll,ne.Pager,ne.Status,ne.Loading];E.getDefaultPanges=function getDefaultPanges(){return se};E.PanelFactory=class PanelFactory{static getDefaultPanels(){return se}static create(C,E){switch(E){case ne.Title:return new Q.TitlePanel(C);case ne.Tool:return new Q.ToolPanel(C);case ne.Group:return new Q.GroupPanel(C);case ne.Scroll:return new ee.ScrollPanel(C);case ne.Pager:return new Q.PagerPanel(C);case ne.Hidden:return new Q.HiddenPanel(C);case ne.Status:return new Q.StatusPanel(C);case ne.Filter:return new ee.FilterPanel(C);case ne.Loading:return new Q.LoadingPanel(C);default:return new Q.GridPanel(C,"")}}};class LayoutFlex{get grid(){return this._grid}get leftFlex(){var C,E,I,B;return z.Convert.isNull(this._leftFlex)&&(this._leftFlex={flexGrow:null===(C=this.config.leftFlex)||void 0===C?void 0:C.flexGrow,flexShrink:null===(E=this.config.leftFlex)||void 0===E?void 0:E.flexShrink,align:null!==(B=null===(I=this.config.leftFlex)||void 0===I?void 0:I.align)&&void 0!==B?B:q.TextAlign.Left}),this._leftFlex}get centerFlex(){var C,E,I,B;return z.Convert.isNull(this._centerFlex)&&(this._centerFlex={flexGrow:null===(C=this.config.centerFlex)||void 0===C?void 0:C.flexGrow,flexShrink:null===(E=this.config.centerFlex)||void 0===E?void 0:E.flexShrink,align:null!==(B=null===(I=this.config.centerFlex)||void 0===I?void 0:I.align)&&void 0!==B?B:q.TextAlign.Center}),this._centerFlex}get rightFlex(){var C,E,I,B;return z.Convert.isNull(this._rightFlex)&&(this._rightFlex={flexGrow:null===(C=this.config.rightFlex)||void 0===C?void 0:C.flexGrow,flexShrink:null===(E=this.config.rightFlex)||void 0===E?void 0:E.flexShrink,align:null!==(B=null===(I=this.config.rightFlex)||void 0===I?void 0:I.align)&&void 0!==B?B:q.TextAlign.Right}),this._rightFlex}get config(){var C;return null!==(C=this._config)&&void 0!==C?C:this._config={}}constructor(C,E){this._grid=C,this._config=E}}E.LayoutFlex=LayoutFlex;class PanelLayout extends LayoutFlex{constructor(C,E){super(C,E)}get left(){var C;return null!==(C=this._left)&&void 0!==C?C:this._left=PanelLayout.ensureTools(this.grid,this.config.left)}get center(){var C;return null!==(C=this._center)&&void 0!==C?C:this._center=PanelLayout.ensureTools(this.grid,this.config.center)}get right(){var C;return null!==(C=this._right)&&void 0!==C?C:this._right=PanelLayout.ensureTools(this.grid,this.config.right)}static ensureTools(C,E){const I=new Array;if(0==z.Convert.isNull(E))for(let B of E)"function"==typeof B?I.push(new te.ToolCustom(C,B)):I.push(ie.ToolFactory.create(C,B));return I}}E.PanelLayout=PanelLayout;E.CaptionRender=class CaptionRender extends LayoutFlex{constructor(C,E){super(C,E)}render(C,E){return B(this,void 0,void 0,(function*(){const I=new Set;yield this.renderToolAlign(C,this.config.left,this.config.leftFlex,"align-left",E,I),yield this.renderToolAlign(C,this.config.center,this.config.centerFlex,"align-center",E,I),yield this.renderToolAlign(C,this.config.right,this.config.rightFlex,"align-right",E,I),z.JqUtils.movetoTrash(this.grid.trashCan,C,I)}))}renderToolAlign(C,E,I,q,Q,ee){return B(this,void 0,void 0,(function*(){if(z.Convert.isEmpty(E))return void z.JqUtils.removeElement(C,`>div#${q}`);let B=z.JqUtils.adjustElement(C,`>div#${q}`,`<div id='${q}' class='${re.SbCss.tools} ${re.SbCss.align} ${re.SbCss.toClass(I.align)}'></div>`,void 0,ee);if(z.Convert.isValue(I.flexGrow)||z.Convert.isValue(I.flexShrink)){const C=`${z.Convert.isValue(I.flexGrow)?"flex-grow: "+I.flexGrow+"; ":""} ${z.Convert.isValue(I.flexShrink)?"flex-shrink: "+I.flexShrink+"; ":""}`;z.JqUtils.changeAttr(B,"style",C)}const te=new Set;for(const C of E.keys()){const I=E[C];Q(B,I,C,te)}z.JqUtils.movetoTrash(this.grid.trashCan,B,te)}))}};E.StatusPanelAlign=class StatusPanelAlign extends PanelLayout{constructor(C){super(C,void 0),this.__config=this.grid.config.statusBar}get left(){if(z.Convert.isNull(this._left)&&(this._left=new Array,0==z.Convert.isNull(this.__config.left)&&this.__config.left instanceof Array))for(let C of this.__config.left)"string"==typeof C?this._left.push(ie.ToolFactory.create(this._grid,C)):this._left.push(new te.ToolStatus(this._grid,C));return this._left}get center(){if(z.Convert.isNull(this._center)&&(this._center=new Array,0==z.Convert.isNull(this.__config.center)&&this.__config.center instanceof Array))for(let C of this.__config.center)"string"==typeof C?this._center.push(ie.ToolFactory.create(this._grid,C)):this._center.push(new te.ToolStatus(this._grid,C));return this._center}get right(){if(z.Convert.isNull(this._right)&&(this._right=new Array,0==z.Convert.isNull(this.__config.right)&&this.__config.right instanceof Array))for(let C of this.__config.right)"string"==typeof C?this._right.push(ie.ToolFactory.create(this._grid,C)):this._right.push(new te.ToolStatus(this._grid,C));return this._right}}},6409:function(C,E,I){"use strict";var B=I(4692),z=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.DataDraggableMode=E.DataDroppable=E.RowReorder=E.ColumnReorder=void 0;const q=I(5774),Q=I(7721),ee=I(8964),te=I(5260),ie=I(1163),re=I(860),ne=I(6312),se=I(7078),oe=I(5165),ae=I(194),le=I(5369),ue=I(8788);E.ColumnReorder=class ColumnReorder{get grid(){return this._grid}get jqTargetCol(){return this._jqTargetCol}set jqTargetCol(C){this._jqTargetCol=C}get jqFromCol(){return this._jqFromCol}set jqFromCol(C){this._jqFromCol=C}get isBefore(){return this._isBefore}set isBefore(C){this._isBefore=C}constructor(C){this._grid=C}get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.reorderable.column}renderReorderIndicator(C){ie.JqUtils.adjustElement(C,`>div.${se.SbCss.reorder_indicator}.${se.SbCss.col}`,`<div class='${se.SbCss.reorder_indicator} ${se.SbCss.col}'></div>`)}renderFrozenIndicator(C){const E=this.grid.container.offset(),I=ie.JqUtils.adjustElement(C,`>div.${se.SbCss.icon}.${se.SbCss.reorder_head}`,`<div class='${se.SbCss.icon} ${se.SbCss.reorder_head}'></div>`);this.moveFrozenColumn(C,I,E);const B=ie.JqUtils.adjustElement(C,`>div.${se.SbCss.icon}.${se.SbCss.reorder_tail}`,`<div class='${se.SbCss.icon} ${se.SbCss.reorder_tail}'></div>`);this.moveFrozenColumn(C,B,E)}addDroppableColumn(C){const E=this.grid.getColumn(C);ie.Convert.isNull(E)||E.part===Q.PartType.Fixed||E instanceof ee.GroupColumn||C.droppable({over:(C,E)=>{this.over(B(C.target))}})}over(C){const E=this.grid.getColumn(C);ie.Convert.isNull(E)||E.part===Q.PartType.Fixed||E instanceof ee.GroupColumn||(this.jqTargetCol=C)}drop(){if(ie.Convert.isNull(this.jqFromCol)||ie.Convert.isNull(this.jqTargetCol))return;const C=this.grid.getColumn(this.jqFromCol),E=this.grid.getColumn(this.jqTargetCol);this.moveColumn(this.getColumn(C),this.getColumn(E),this.isBefore,this.grid.captionLayout),this.clear()}getColumn(C){return this.isMulti(C)?C.parent:C}isOver(C,E,I){const B=C.left+C.width,z=C.top+C.height;return!(C.left<=E&&E<=B&&C.top<=I&&I<=z)}clear(){this.jqFromCol=void 0,this.jqTargetCol=void 0,this.isBefore=void 0}addDraggableColumn(C){const E=this.grid.getColumn(C);if(ie.Convert.isNull(E)||E.part===Q.PartType.Fixed||E instanceof ee.GroupColumn)return;const I=this.grid.container.find(`.${se.SbCss.caption}.${se.SbCss.panel}`),B=I.find(` .${se.SbCss.reorder_indicator}.${se.SbCss.col}`),z=this.grid.container.offset();null==C||C.draggable({start:(E,I)=>{let q=E.pageX;this.dragStart(C,q,B,z)},drag:(E,q)=>{if(!ie.Convert.isNull(this.jqTargetCol)&&!ie.Convert.isNull(this.jqFromCol)&&this.jqTargetCol!=C)if(this.isOver({width:I.outerWidth(),height:I.outerHeight(),top:I.offset().top,left:I.offset().left},E.pageX,E.pageY))B.css("opacity","0");else{if(this.setMoveTopColTimer(q.helper,I),!this.isDescendant())return this.excludeDroppable()?(this.jqTargetCol=void 0,void B.css("opacity","0")):void this.moveIndicator(this.jqTargetCol,E.pageX,B,z);this.jqTargetCol=void 0}},stop:(C,E)=>{this.isOver({width:I.outerWidth(),height:I.outerHeight(),top:I.offset().top,left:I.offset().left},C.pageX,C.pageY)||this.drop(),B.css("opacity","0"),clearInterval(this.moveTopColTimer)},helper:(E,B)=>{const z=ie.JqUtils.adjustElement(I,`>span.${se.SbCss.draggable_helper}.${se.SbCss.col}`,`<span class='${se.SbCss.draggable_helper} ${se.SbCss.col}'>${null==C?void 0:C.text()}</span>`);return ie.JqUtils.adjustElement(z,`>span.${se.SbCss.icon}`,`<span class='${se.SbCss.icon}'></span>`),z},cursorAt:{top:15,left:25},refreshPositions:!0,containment:this.grid.container})}isTopColumn(C,E){const I=this.grid.captionLayout;return!(ie.Utils.findCellFromColumn(I,C).row>0)}isEdge(C,E,I){var B;const z=E.col+C;if(z<0||z>=I.length-1)return!0;const q=I[z],Q=null==q?void 0:q.column;if(Q instanceof ee.GroupColumn||Q instanceof ue.FrozenColumn)return!0;return!ie.Convert.isValue(Q)||(null===(B=E.column)||void 0===B?void 0:B.parent)!=Q.parent}getRoot(C){let E=C;for(;null==E?void 0:E.parent;)E=E.parent;return E}isMulti(C){const E=this.getRoot(C);return(null==E?void 0:E.type)==q.ColumnTypes.Multi||ie.Convert.isValue(null==E?void 0:E.captions)}getTargetCol(C,E){return document.elementFromPoint(C,E).closest(`.${se.SbCss.col}`)}setMoveTopColTimer(C,E){return z(this,void 0,void 0,(function*(){const I=yield this.isHoverFrozen(C,E);if(ie.Convert.isNull(I))return ie.Convert.isValue(this.moveTopColTimer)&&clearTimeout(this.moveTopColTimer),void(this.moveTopColTimer=void 0);ie.Convert.isNull(this.moveTopColTimer)&&(I>0?this.initTailFrozenBefore():this.initHeadFrozenNext(),this.moveTopColTimer=setInterval((()=>{this.isHoverFrozen(C,E)&&this.changeTopCol(I)}),this.option.scrollInterval))}))}isHoverFrozen(C,E){const I=this.getEdgePosition(-1,E),B=this.getEdgePosition(1,E),z=C.offset().left,q=z+C.outerWidth();let Q;return z<=I.position&&I.position<q&&(Q=-1),z<=B.position&&B.position<q&&(Q=1),Q}changeTopCol(C){return z(this,void 0,void 0,(function*(){const E=this.grid.topCol;if(1===C){const C=yield this.findBodyLast(E);(ie.Convert.isNull(C)||(null==C?void 0:C.outOfView)>0)&&(this.grid.topCol+=1)}else if(-1===C){const C=yield this.findBodyFirst(E);ie.Convert.isNull(C)&&(this.grid.topCol-=1)}}))}initHeadFrozenNext(){const C=this.grid.headColumns.at(-1);this.bodyFirstIndex=C.index+1}initTailFrozenBefore(){const C=this.grid.tailColumns[0];this.bodyLastIndex=C.index-1,this.initHeadFrozenNext();const E=this.grid.topCol;this.bodyFirstIndex>E&&(this.grid.topCol=this.bodyFirstIndex)}findBodyLast(C){return z(this,void 0,void 0,(function*(){return(yield this.grid.viewport.calcCols(C,!0,this.grid.captionLayout)).fullCells.find((C=>(null==C?void 0:C.column.index)==this.bodyLastIndex))}))}findBodyFirst(C){return z(this,void 0,void 0,(function*(){let E=(yield this.grid.viewport.calcCols(C,!0,this.grid.captionLayout)).fullCells.find((C=>(null==C?void 0:C.column.index)==this.bodyFirstIndex));return(null==E?void 0:E.part)===Q.PartType.Sticky&&(this.bodyFirstIndex+=1,E=yield this.findBodyFirst(C)),E}))}getTopCol(C,E,I){return z(this,void 0,void 0,(function*(){const B=yield this.grid.viewport.calcCols(C,!0);if(C<0||C>B.lastCol)return;const z=B.fullCells,q=z.findIndex((C=>C.column.index===I)),ee=z[q];return ie.Convert.isNull(ee)?yield this.getTopCol(C+E,E,I):ee.column.part===Q.PartType.Sticky?yield this.getTopCol(C,E,I-1):{nextTopCol:C,nextCell:ee}}))}getEdgePosition(C,E){var I;let B=(null===(I=this.grid.config.reorderable)||void 0===I?void 0:I.column)?this.grid.headColumns.at(-1):this.grid.fixedColumns.at(-1),z=ie.Utils.findCellFromColumn(this.grid.captionLayout,B);return{position:C>0?z.left+E.offset().left+this.grid.viewportWidth:z.left+E.offset().left,column:B}}isDescendant(){const C=this.grid.getColumn(this.jqFromCol),E=this.grid.getColumn(this.jqTargetCol),I=ie.Arrays.bfsSearch(null==C?void 0:C.columns,(C=>C==E||C.columns));return!!ie.Convert.isValue(I)}dragStart(C,E,I,B){const z=this.grid.getColumn(C);this.excludeDraggable(z)?this.jqFromCol=void 0:this.jqFromCol=C}excludeDraggable(C){return!!ie.Convert.isNull(C)||!(!this.isMulti(C)||this.isTopColumn(C))}excludeDroppable(){const C=this.grid.getColumn(this.jqTargetCol);if(this.excludeDraggable(C))return!0;const E=this.grid.getColumn(this.jqFromCol);return!(!this.isMulti(E)||this.isTopColumn(C))}moveFrozenColumn(C,E,I){const B=this.initFrozenIndicatorPosition(E,I);let q,ee;E.draggable({axis:"x",start:(C,I)=>{ee=E.position(),ie.Convert.isNull(q)&&(q=this.grid.container.find(`.${se.SbCss.caption}.${se.SbCss.panel} .${se.SbCss.reorder_indicator}.${se.SbCss.col}`)),q.css("opacity","1")},drag:(C,B)=>{const z=B.offset;E.css({top:z.top-I.top,left:z.left-I.left});let Q=this.getJqColByIndicatorPosition(E);if((null==Q?void 0:Q.length)<=0&&(Q=this.getJqColByIndicatorPosition(E,!1)),(null==Q?void 0:Q.length)<=0)return;let ee=C.pageX;this.moveIndicator(Q,ee,q,I)},stop:(C,I)=>z(this,void 0,void 0,(function*(){let C=this.getJqColByIndicatorPosition(E);if(C.length<=0&&(C=this.getJqColByIndicatorPosition(E,!1)),C.length<=0)return void E.css({left:ee.left,top:ee.top});if(C.length<=0)return void te.Log.debug((()=>["Can not find JqCol ",E[0].getBoundingClientRect()]));let I=this.grid.getColumn(C);for(;null==I?void 0:I.parent;)I=I.parent;(E.hasClass(se.SbCss.reorder_head)&&I.part===Q.PartType.Tail||E.hasClass(se.SbCss.reorder_tail)&&I.part===Q.PartType.Head)&&(I=E.hasClass(se.SbCss.reorder_head)?this.grid.viewportColumns[this.grid.viewportColumns.length-1]:this.grid.viewportColumns.length>0?this.grid.viewportColumns[0]:this.grid.headColumns[this.grid.headColumns.length-1]),ie.Convert.isNull(I)?E.css({left:ee.left,top:ee.top}):(yield this.moveColumn(B,I,this.isBefore,this.grid.captionLayout),q.css("opacity","0"),this.clear())})),helper:(E,I)=>{const B=ie.JqUtils.adjustElement(C,`>span.${se.SbCss.reorder_helper}`,`<span class='${se.SbCss.reorder_helper}'></span>`),z=this.grid.container.find(`.${se.SbCss.scroll_body}`);return B.height(z.height()),B}})}initFrozenIndicatorPosition(C,E){let I;if(C.hasClass(se.SbCss.reorder_head)){const C=this.grid.headColumns;I=C[C.length-1]}else if(C.hasClass(se.SbCss.reorder_tail)){I=this.grid.tailColumns[0]}const B=this.grid.getContainer(void 0,I,re.PanelType.Caption);return ie.Convert.isValue(B)&&this.moveIndicator(B,B.offset().left,C,E,!1),I}getJqColByIndicatorPosition(C,E=!0){const I=C[0].getBoundingClientRect(),B=document.elementFromPoint(I.x+(E?-5:I.width+5),I.y+I.height+20);return ne.SBGrid3.$(B).closest(`.${se.SbCss.col}`)}moveIndicator(C,E,I,B,z=!0){let q=C.offset();if(ie.Convert.isNull(q))return;let Q=q.left-1.5-1,ee=C.outerWidth(),te=Q+ee/2,re=q.top,ne=E<te;ne||(Q+=ee+1);const se=this.grid.getColumn(C);I.css("opacity",1),I.css({left:Q-B.left,top:re-B.top}),this.isBefore=ne;const oe=this.getHight(se);z&&I.css("height",oe)}getHight(C){var E;const I=ie.Utils.findCellFromColumn(this.grid.captionLayout,C);if(ie.Convert.isNull(I))return;let B=this.getCellHeights(this.grid.captionHeight,I);if(ie.Convert.isValue(C.columns)){const z=this.grid.captionLayout.rows;for(let q=I.row+1;q<z.length;q++){const Q=z[q].cells[I.col];(null===(E=null==Q?void 0:Q.column)||void 0===E?void 0:E.parent)==C&&(B+=this.getHight(Q.column))}}return B}getCellHeights(C,E){var I;let B=0;for(let z=E.row,q=E.row+E.rowSpan;z<q;z++)B+=null!==(I=C[z])&&void 0!==I?I:C[0];return B}moveColumn(C,E,I,B){var Q;return z(this,void 0,void 0,(function*(){(null===(Q=null==C?void 0:C.config)||void 0===Q?void 0:Q.type)==q.ColumnTypes.Frozen&&ie.Convert.isValue(null==E?void 0:E.parent)||(te.Log.debug((()=>[C.config.caption,"-----\x3e",E.config.caption,I?"앞":"뒤"])),yield this.grid.moveToColumn(C,E,I))}))}static cancelDrag(C){const E=C.find(`>span.${se.SbCss.draggable_helper}`);E.length<1||E.remove()}};class RowReorder{get jqTargetRow(){return this._jqTargetRow}set jqTargetRow(C){this._jqTargetRow=C}get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=this.grid.config.reorderable.row}constructor(C){this.isDataDroppableOn=!1,this.grid=C}renderReorderIndicator(C){const E=ie.JqUtils.adjustElement(C,`>div.${se.SbCss.reorder_indicator}.${se.SbCss.row}`,`<div class='${se.SbCss.reorder_indicator} ${se.SbCss.row}'></div>`),I=C.outerWidth();E.width(I)}addDraggableRow(C){return z(this,void 0,void 0,(function*(){const E=this.grid.getColumn(C);if(ie.Convert.isNull(E))return;const I=yield this.grid.getRowItem(C);if(0==(null==I?void 0:I.reorderable))return;const B=this.grid.container.find(`.${se.SbCss.body}.${se.SbCss.panel}`),q=B.find(` .${se.SbCss.reorder_indicator}.${se.SbCss.row}`),Q=this.grid.container.offset();C.draggable({start:(E,I)=>{void 0!==this.option&&(this.dragStart(C),this.toggleIndicator(q,1))},drag:(C,E)=>z(this,void 0,void 0,(function*(){if(this.isOver({width:B.outerWidth(),height:B.outerHeight(),top:B.offset().top,left:B.offset().left},C.pageX,C.pageY,E.helper.outerHeight())){if(!this.isDataDroppableOn){let C=E.helper.find(`.${se.SbCss.icon}`);C.addClass(se.SbCss.cancel_red),C.removeClass(se.SbCss.rowreorder)}return void this.toggleIndicator(q,0)}let I=E.helper.find(`.${se.SbCss.icon}`);if(I.addClass(se.SbCss.rowreorder),I.removeClass(se.SbCss.cancel_red),void 0===this.option)return;this.setMoveTopRowTimer(E.helper,B);const z=E.helper,Q=E.offset.top+z.outerHeight()/2;this._moveIndicator(z,Q)})),stop:(E,z)=>{var ee;const te=this.isOver({width:B.outerWidth(),height:B.outerHeight(),top:B.offset().top,left:B.offset().left},E.pageX,E.pageY,z.helper.outerHeight()),ie=(z.helper[0].getBoundingClientRect(),I.isCheck?this.grid.view.rows.filter((C=>C.isCheck)):[I]);if(!te){const C=z.helper,E=z.offset.top+C.outerHeight()/2;(null===(ee=this.grid.config.reorderable)||void 0===ee?void 0:ee.row)&&this._drop(ie,this.isBefore(E,Q.top))}this.toggleIndicator(q,0),this.removeMovingClassToTarget(C),clearTimeout(this.moveTopRowTimer)},helper:(E,I)=>(this.addMovingClassToTarget(C),this.makeHelper(B,C)),cursorAt:{top:0,left:0}})}))}_moveIndicator(C,E,I=!0){return z(this,void 0,void 0,(function*(){const B=C[0].getBoundingClientRect(),z=B.top,q=B.left,Q=C.outerHeight()/2,ee=this.getTargetRow(C,z,q,Q);if(ie.Convert.isNull(ee))return;this.jqTargetRow=ee;const te=this.grid.container.find(`.${se.SbCss.body}.${se.SbCss.panel}`).find(` .${se.SbCss.reorder_indicator}.${se.SbCss.row}`);if(I){if(!(yield this.isDroppable()))return void this.toggleIndicator(te,0)}this.toggleIndicator(te,1),this.moveIndicator(te,E,this.jqTargetRow,this.grid.container.offset())}))}deleteRows(C){return z(this,void 0,void 0,(function*(){if(ie.Convert.isValue(C)){if(this.grid.config.dataDraggable.mode===de.move)for(let E=0;E<C.length;E++)yield this.grid.deleteRowCommand(new oe.DeleteRowCommand(C[E].key));this.grid.fireCommandAsync(this.grid,new oe.RefreshCommand)}}))}static hasParent(C,E){for(;C.parentElement;){if(C.parentElement.isEqualNode(E))return!0;C=C.parentElement}return!1}isDroppableZone(C){const E=this.grid.config.dataDraggable.target;let I=!1;if(ie.Convert.isValue(E)){let B;for(B of E){C.is(B),ne.SBGrid3.$(B).find(C).length;if(C.is(B)||ne.SBGrid3.$(B).find(C).length>0){I=!0;break}}}else{const E=C.find(`.${se.SbCss.panel}.${se.SbCss.body}`);ie.Convert.isValue(E)&&(I=!0)}return I}isSameGrid(C,E){ie.Convert.isNull(C)&&(C=document.elementsFromPoint(E.left,E.top));const I=this.grid.container.find(`.${se.SbCss.panel}.${se.SbCss.panel}`),B=null==C?void 0:C.find((C=>{var E;return null===(E=C.closest(`.${se.SbCss.panel}.${se.SbCss.panel}`))||void 0===E?void 0:E.isSameNode(I[0])}));return ie.Convert.isValue(B)}isOver(C,E,I,B){const z=C.left+C.width,q=C.top+C.height;return!(C.left<=E&&E<=z&&C.top-B<=I&&I<=q)}makeHelper(C,E){const I=ie.JqUtils.adjustElement(C,`>div.${se.SbCss.draggable_helper}.${se.SbCss.rowreorder}`,`<div class='${se.SbCss.draggable_helper} ${se.SbCss.rowreorder}'></div>`),B=ie.JqUtils.adjustElement(I,">div","<div></div>"),z=(ie.JqUtils.adjustElement(B,`>span.${se.SbCss.icon}.${se.SbCss.rowreorder}`,`<span class='${se.SbCss.icon} ${se.SbCss.rowreorder}'></span>`),E.closest(`.${se.SbCss.row}`).data("selector")),q=C.find(`.${se.SbCss.part}.${se.SbCss.head} .${z},.${se.SbCss.part}.${se.SbCss.body} .${z},.${se.SbCss.part}.${se.SbCss.tail} .${z}`),Q=q.clone();B.append(Q);const ee=this.grid.getRowItem(E);if((ee.isCheck?this.grid.view.rows.filter((C=>C.isCheck)):[ee]).length>1){ie.JqUtils.adjustElement(I,">span",`<span style='font-size>+${q.length-1}</span>`)}return ie.Convert.isValue(this.grid.config.dataDraggable)&&this.dataDraggable(I,ee),I}dataDraggable(C,E){C.data("callbacks",{over:E=>{if(this.isDroppableZone(E)){this.isDataDroppableOn=!0;const E=C.find(`span.${se.SbCss.icon}`);return E.removeClass(se.SbCss.cancel_red),E.addClass(se.SbCss.rowreorder),!0}return!1},drop:C=>{if(!this.isDroppableZone(C))return;return(E.isCheck?this.grid.view.rows.filter((C=>C.isCheck)):[E]).map((C=>ie.Convert.cloneData(C.data)))},result:C=>{C.then((C=>z(this,void 0,void 0,(function*(){let I=E.isCheck?this.grid.view.rows.filter((C=>C.isCheck)):[E];ie.Convert.isValue(C)&&(I=I.filter((E=>{const I=C.find((C=>ie.Convert.isSame(E.data,C)));return ie.Convert.isEmpty(I)}))),yield this.deleteRows(I),this.isDataDroppableOn=!1,this.jqTargetRow=void 0}))))},out:()=>{this.isDataDroppableOn=!1}})}getTargetRow(C,E,I,B){const z=document.elementFromPoint(I-10,E+B),q=null==z?void 0:z.closest(`.${se.SbCss.row}`);return ie.Convert.isValue(q)?ne.SBGrid3.$(q):void 0}toggleIndicator(C,E){if(ie.Convert.isNull(C)){C=this.grid.container.find(`.${se.SbCss.body}.${se.SbCss.panel}`).find(` .${se.SbCss.reorder_indicator}.${se.SbCss.row}`)}C.css("opacity",E)}dragStart(C){const E=C.closest(`.${se.SbCss.row}`);this.srcRowItem=this.grid.getRowItem(E)}addMovingClassToTarget(C){const E=C.closest(`.${se.SbCss.row}`).data("selector");this.grid.container.find(`.${se.SbCss.body}.${se.SbCss.panel}`).find(`.${se.SbCss.row}.${E}`).addClass(se.SbCss.moving)}removeMovingClassToTarget(C){const E=C.closest(`.${se.SbCss.row}`).data("selector");this.grid.container.find(`.${se.SbCss.body}.${se.SbCss.panel}`).find(`.${se.SbCss.row}.${E}`).removeClass(se.SbCss.moving)}isBefore(C,E){const I=this.jqTargetRow.offset(),B=this.jqTargetRow.outerHeight()/2;return C-E<I.top-E+B/2}_drop(C,E){return z(this,void 0,void 0,(function*(){if(ie.Convert.isNull(this.srcRowItem)||ie.Convert.isNull(this.jqTargetRow))return;if(!(yield this.isDroppable()))return;let I,B=yield this.grid.getRowItem(this.jqTargetRow);for(let z=0;z<(null==C?void 0:C.length);z++)0!==z&&(E=!1,B=this.grid.view.keyMap.get(I)),yield this.grid.moveToRow(C[z],B,E),I=C[z].key;this.clear()}))}clear(){this.srcRowItem=void 0,this.jqTargetRow=void 0}moveIndicator(C,E,I,B){return z(this,void 0,void 0,(function*(){const z=I.offset(),q=I.outerHeight(),Q=z.top-1,ee=this.isBefore(E,B.top)?Q-B.top:Q+q-B.top;C.css({top:ee})}))}isDroppable(){return z(this,void 0,void 0,(function*(){if(ie.Convert.isNull(this.jqTargetRow))return;let C=yield this.grid.getRowItem(this.jqTargetRow);if(ie.Convert.isNull(this.srcRowItem))return!1;if(this.srcRowItem==C)return!1;return this.srcRowItem.isDroppable(C)}))}_isDroppable(C,E){return!ie.Convert.isNull(C)&&(C!=E&&C.isDroppable(E))}setMoveTopRowTimer(C,E){return z(this,void 0,void 0,(function*(){const I=yield this.isHoverBodyEdge(C,E);if(ie.Convert.isNull(I))return ie.Convert.isValue(this.moveTopRowTimer)&&clearTimeout(this.moveTopRowTimer),void(this.moveTopRowTimer=void 0);ie.Convert.isNull(this.moveTopRowTimer)&&(this.interval=I.interval,this.moveTopRowTimer=setInterval((()=>{const I=this.isHoverBodyEdge(C,E);ie.Convert.isNull(I)||(this.interval!==I.interval?(clearInterval(this.moveTopRowTimer),this.moveTopRowTimer=void 0,this.setMoveTopRowTimer(C,E)):this.changeTopRow(I.state))}),this.interval))}))}isHoverBodyEdge(C,E){var I,B;const z=E.offset().top,q=E.offset().top+E.outerHeight(),Q=C.offset().top,ee=C.offset().top+C.outerHeight()/2,te=C.offset().top+C.outerHeight();let ie;const re=null!==(B=null===(I=this.option)||void 0===I?void 0:I.scrollInterval)&&void 0!==B?B:120;return Q<z&&z<ee?ie={state:-1,interval:re}:ee<z&&z<te&&(ie={state:-1,interval:.45*re}),ee<q&&q<te?ie={state:1,interval:re}:Q<q&&q<ee&&(ie={state:1,interval:.45*re}),ie}changeTopRow(C){return z(this,void 0,void 0,(function*(){const E=this.grid.topRow;if(-1===C&&0===E)return;const I=yield this.grid.viewport.calcRows(E);if(1===C){const C=this.grid.adjustedTotal-1,E=I.currRows.find((E=>E.rowIndex===C));(ie.Convert.isNull(E)||I.scrollHeight<E.top+E.rowHeight.height)&&(this.grid.topRow+=1)}else if(-1===C){const C=I.currRows.find((C=>0===C.rowIndex));ie.Convert.isNull(C)&&(this.grid.topRow+=-1)}}))}static parseDataDraggable(C){if(!0===C)return this.parseDataDraggable({mode:de.move});if(!1!==C)if("string"==typeof C)this.parseDataDraggable({mode:ie.Convert.parseEnum(de,C)});else if(Object.prototype.hasOwnProperty.call(C,"mode"))return{mode:ie.Convert.default(C.mode,de.move,(()=>"string"==typeof C.mode?ie.Convert.parseEnum(de,C.mode):C.mode)),target:ie.Convert.default(C.target,void 0,(()=>this.parseSelectorToElementArray(C.target)))}}static parseSelectorToElementArray(C){return"string"==typeof C?[ne.SBGrid3.$(C)[0]]:C instanceof HTMLElement?[C]:C instanceof Array?C.map((C=>"string"==typeof C?ne.SBGrid3.$(C)[0]:C)):void 0}static parseDataDroppable(C){return!0===C?this.parseDataDroppable({accept:void 0}):!1===C?void 0:{accept:C.accept}}}E.RowReorder=RowReorder;var de;E.DataDroppable=class DataDroppable{constructor(C){this.grid=C}addDataDroppableHandler(C){this.grid.config.dataDroppable;C.droppable({over:(C,E)=>{if(RowReorder.hasParent(E.draggable[0],this.grid.container[0]))return;const I=E.helper.data("callbacks");(null==I?void 0:I.over(this.grid.container))&&this.grid.setEvent("dataDroppable","mousemove","data-mousemove",(C=>{this.drag(E)}),this.grid.container)},drop:(E,I)=>{this.grid.rowReorder.toggleIndicator(void 0,0);if(!this.isAllowedDraggable(I.draggable))return;const B=I.helper.data("callbacks"),z=null==B?void 0:B.drop(this.grid.container);if(ie.Convert.isEmpty(z))return;const q=this.appendData(z);null==B||B.result(q),this.grid.setEvent("dataDroppable","mousemove","data-mousemove",void 0,C),this.grid.rowReorder.jqTargetRow=void 0},out:(E,I)=>{this.grid.setEvent("dataDroppable","mousemove","data-mousemove",void 0,C),this.grid.rowReorder.toggleIndicator(void 0,0);const B=I.helper.data("callbacks");null==B||B.out()}})}appendData(C){return z(this,void 0,void 0,(function*(){let E;const I=this.grid.config.dataDroppable;if(ie.Convert.isValue(I)){if(ie.Convert.isEmpty(C))return;E=yield this.insert(C)}return E}))}insert(C){return z(this,void 0,void 0,(function*(){const E=this.grid.rowReorder.jqTargetRow;let I,B=ie.Convert.isValue(E)?this.grid.rowReorder.isBefore(this.y,this.grid.container.offset().top):void 0,z=ie.Convert.isValue(E)?this.grid.getRowItem(E):void 0;for(let E=0;E<C.length;E++){const q=C[E],Q=this.grid.dataSource.keyMaker(q);this.isAcceptable(q)?this.duplecatedRow(Q)||(ie.Convert.isNull(z)?yield this.grid.insertRowItem(void 0,void 0,q,ae.InsertTo.First):B?yield this.grid.insertRowItem(void 0,z.key,q,ae.InsertTo.Before):yield this.grid.insertRowItem(void 0,z.key,q,ae.InsertTo.After),z=this.grid.view.keyMap.get(Q),B=!1):(null!=I?I:I=[]).push(q)}return I}))}isAcceptable(C){var E;const I=null===(E=this.grid.config.dataDroppable)||void 0===E?void 0:E.accept;return!ie.Convert.isValue(I)||"function"!=typeof I||I(C)}duplecatedRow(C){if(this.grid.view.keyMap.has(C)){const E=this.grid.view.keyMap.get(C);if(E.status===ae.DataStatus.Delete){const C=new le.UndeleteCommand([{key:E.key}]);this.grid.fireCommandAsync(this.grid,C)}return!0}return!1}isAllowedDraggable(C){const E=this.grid.container;return!RowReorder.hasParent(C[0],E[0])&&!!ie.Convert.isValue(this.grid.config.dataDroppable)}drag(C){const E=C.helper;this.y=E.offset().top+E.outerHeight()/2;this.grid.rowReorder._moveIndicator(E,this.y,!1)}},function(C){C.copy="copy",C.move="move"}(de||(E.DataDraggableMode=de={}))},2135:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.RowTemplate=E.RowCustom=E.RowButton=E.RowTool=E.RowCommandFactory=E.RowCommands=void 0;const z=I(273),q=I(5369),Q=I(5165),ee=I(1163),te=I(6258),ie=I(7078),re=I(860);var ne;!function(C){C.Edit="edit",C.Delete="delete",C.Update="update",C.Insert="insert",C.Append="append",C.Cancel="cancel",C.Custom="custom",C.Template="template"}(ne||(E.RowCommands=ne={}));class RowCommandFactory{static create(C,E,I,B){switch(C){case ne.Edit:return new Q.EditCommand(te.EditMode.inline,E,I);case ne.Delete:return new q.DeleteCommand([{key:E.key}]);case ne.Update:return RowCommandFactory.UpdateCommand(E,I.grid);case ne.Insert:return new Q.InsertRowCommand(E.key,B);case ne.Append:return new Q.AppendRowCommand(E.key,B);case ne.Cancel:return new q.CancelCommand}}static UpdateCommand(C,E){const I=C.temp,B=Object.keys(I),z=B.map((B=>(B=>ee.Convert.isValue(E.columnsMap.get(B))?{field:B,value:I[B],key:C.key}:void 0)(B))).filter((C=>ee.Convert.isValue(C)));return new q.UpdateCommand(z)}static createTool(C,E){if("function"==typeof E)return new RowCustom(C,E);switch(E){case ne.Edit:case ne.Delete:case ne.Update:case ne.Insert:case ne.Append:case ne.Cancel:return new RowButton(C,E);default:return new RowTemplate(C,E)}}static label(C,E){switch(C){case ne.Edit:return E.tool_edit;case ne.Delete:return E.tool_deleteRow;case ne.Update:return E.tool_update;case ne.Insert:return E.tool_insertRow;case ne.Append:return E.tool_appendRow;case ne.Cancel:return E.tool_cancel;default:return C}}}E.RowCommandFactory=RowCommandFactory;class RowTool extends z.Observer{get command(){return this._command}get clazz(){return this._command}get grid(){return this._grid}get resourceManager(){return this.grid.dataSource.resourceManager}constructor(C,E){super(C),this._command=E,this._grid=C}makeButton(C){return ee.JqUtils.adjustElement(C,`>input[type='button'].${ie.SbCss.toClass("command",this.command)}`,`<input type='button' class='${ie.SbCss.toClass("command",this.clazz)}'>`)}render(C,E,I){return B(this,void 0,void 0,(function*(){this.makeButton(C).val(RowCommandFactory.label(this.command,this.resourceManager.resource))}))}}E.RowTool=RowTool;class RowButton extends RowTool{render(C,E,I){return B(this,void 0,void 0,(function*(){const B=this.makeButton(C);B.val(RowCommandFactory.label(this.command,this.resourceManager.resource)),this.addEventListener(B,E,I)}))}addEventListener(C,E,I){this.grid.setEvent("RowButtonMousedown","mousedown",`${this._name}_${E.rowIndex}`,(C=>{var B;const z=null!==(B=E.temp)&&void 0!==B?B:E.data,q=ee.Convert.cloneData(z);switch(this.grid.focusManager.moveFocus({rowItem:E,column:I,panelType:re.PanelType.Body}),this.command){case ne.Update:case ne.Edit:case ne.Delete:case ne.Insert:case ne.Append:case ne.Cancel:this.fireCommandAsync(this,RowCommandFactory.create(this.command,E,I,q))}return this.command===ne.Update&&this.grid.view.clearEdit(),!1}),C),this.grid.setEvent("RowButtonDblclick","dblclick",`${this._name}_${E.rowIndex}`,(()=>!1),C),this.grid.setEvent("RowButtonMouseup","mouseup",`${this._name}_${E.rowIndex}`,(()=>!1),C)}}E.RowButton=RowButton;class RowCustom extends RowTool{constructor(C,E){super(C,ne.Custom),this._rowFunc=E}render(C,E,I){return B(this,void 0,void 0,(function*(){C.empty(),this._rowFunc(C.get(0),E,I)}))}}E.RowCustom=RowCustom;class RowTemplate extends RowTool{constructor(C,E){super(C,ne.Custom),this._template=ee.Utils.createTemplate(E)}render(C,E,I){return B(this,void 0,void 0,(function*(){C.empty();const I=this._template(E);ee.JqUtils.adjustHtml(C,I)}))}}E.RowTemplate=RowTemplate},6312:function(C,E,I){"use strict";var B,z=I(4692),q=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.SBGrid3=void 0,I(4692),I(4910),I(7596),I(2908),I(2108),I(5098),I(4199),I(1163),I(7078),I(2208),I(6938),I(3568),I(9797),I(1415),I(6409),I(6258),I(2562),I(7763),I(503),I(860),I(5565),I(1415),I(1355),I(3419),I(7443),I(121),I(2224),I(1038),I(2135),I(273),I(4407),I(7359),I(3746),I(913),I(2663),I(5369),I(5165),I(5369),I(5165),I(373),I(3354),I(413),I(194),I(2288),I(9299),I(512),I(7392),I(6105),I(5060),I(2351),I(6140),I(103),I(8964),I(8788),I(7721),I(2987),I(1009),I(5615),I(5774),I(6923),I(2154),I(3960),I(1095),I(1977),I(289),I(3849),I(150),I(2875),I(4732),I(4012),I(9996),I(6265),I(6700),I(5260),I(1163),I(5177),I(3119),I(5882),I(3580),I(4367),I(6936),I(6252),I(247),I(2948);const Q=I(2208),ee=I(1163),te=I(9797),ie=I(6258),re=I(7763),ne=I(5260),se=I(5369),oe=I(7359),ae=I(6936),le=I(3580),ue=I(5165),de=I(3419),ce=I(860),he=I(4507),fe=I(7152),pe=I(7721),me=I(2987),ge=I(5774),ve=I(8956);class SBGrid3{static get version(){return this._version}static get trialKey(){var C;if(!ee.Convert.isEmpty(this._trialKey)||"test"===SBGrid3.version||!(null===(C=SBGrid3.version)||void 0===C?void 0:C.includes(".PRODUCTION")))return this._trialKey}static get default(){return this._default}static set default(C){this.setDefaultConfig(C)}static setDefaultConfig(C){this._default=ie.GridParser.parseDefaultConfig(C)}static renderPages(C){try{const E=SBGrid3.$("<div role='row'/>");for(const C of this.pages.sort()){const I=C.replace(".html","").replace("./",""),B=`<span class='badge'><a href='${C}' target='${I}'>${I}</a> </span>&nbsp;`;E.append(B)}C.before(E)}catch(C){}}static get Handlebars(){return de.Handlebars}static createGrid(C){if(this.checkLicense(C)){const E=new Q.Grid(C);return E.refresh(),E}}static getGrid(C){return SBGrid3.$(C).data("grid")}static toggleRow(C,E){return q(this,void 0,void 0,(function*(){if(ee.Convert.isNull(C))throw"grid is null";return yield C.toggleRow(E)}))}static getRow_Index(C,E){return q(this,void 0,void 0,(function*(){return yield C.view.getRow(E)}))}static getRowKey(C,E){var I;return q(this,void 0,void 0,(function*(){return null===(I=yield this.getRow_Index(C,E))||void 0===I?void 0:I.key}))}static getRow(C,E){return C.view.map(E)}static getRowByIndex(C,E){return C.rows[E]}static getRowData(C,E){return this.getRow(C,E).data}static getFocused(C){return C.focusManager.focus}static getFocusedColumn(C){var E;return null===(E=this.getFocused(C))||void 0===E?void 0:E.column}static getFocusedRow(C){var E;return null===(E=this.getFocused(C))||void 0===E?void 0:E.rowItem}static getFocusedKey(C){var E,I;return null===(I=null===(E=this.getFocused(C))||void 0===E?void 0:E.rowItem)||void 0===I?void 0:I.key}static getFocusedValue(C,E){const I=this.getFocusedRow(C);if(!ee.Convert.isNull(I))return I.getValue(E)}static getSelectedKeys(C){return C.view.getSelectedKeys()}static getSelectedRows(C){return C.view.getSelectedRows()}static getCheckedRows(C){return C.view.getCheckedRows()}static findRows(C,E){const I=[];return ee.Convert.isNull(E)||C.rows.forEach((C=>{ee.Convert.isNull(C)||1==E(C.data,C)&&I.push(C)})),I}static findData(C,E){const I=[];return ee.Convert.isNull(E)||C.rows.forEach((C=>{ee.Convert.isNull(C)||1==E(C.data,C)&&I.push(C.data)})),I}static getCheckedKeys(C){return C.view.getCheckedKeys()}static setCheckedKeys(C,E,I=void 0){C.toggleCheckRows(E,I)}static getStickyKeys(C){return ee.Arrays.from(C.view.stickyKeys)}static setStickyKeys(C,E,I=void 0){C.toggleStickyRows(E,I)}static getRadioRow(C){return C.view.map(C.view.radioKey)}static getRadioKey(C){return C.view.radioKey}static setRadioKey(C,E){C.view.radioKey=E,C.refresh()}static getRangedRows(C){return C.getRangedRows()}static getRangedKeys(C){return C.getRangedKeys()}static getRangedColumns(C,E){return C.getRangedColumns(E)}static getAllItems(C){return C.loader.getAllItems()}static showDetail(C,E,I,B){const z=this.getRow(C,E);ee.Convert.isValue(z)?(z.detailTemplate=I,z.detailInit=B,z.detailContext=void 0,C.toggleDetail(E,!0)):ne.Log.error(`SBGrid3.showDetail : [${E}] not found!`)}static hideDetail(C,E){C.toggleDetail(E,!1)}static getValue(C,E,I){var B,z,q;return ee.Convert.isValue(I)?null===(z=null===(B=this.getRow(C,E))||void 0===B?void 0:B.data)||void 0===z?void 0:z[I]:null===(q=this.getRow(C,E))||void 0===q?void 0:q.data}static setValue(C,E,I,B){return q(this,void 0,void 0,(function*(){yield this.setValues(C,[{key:E,value:I,field:B}])}))}static setValues(C,E){C.fireCommandAsync(C,new se.UpdateCommand(E))}static editable(C,E){C.editable(E)}static rowEditable(C,E,I){if(C.config.editable.mode!==ie.EditMode.inline)return;if((I=null==I||I)&&C.view.editKeyMap.size>0)return;const B=C.view.map(E);ee.Convert.isNull(B)?ne.Log.warn((()=>`[${E}] : not found`)):(B.isEdit=I,C.refresh())}static getRowItem(C,E){const I=C.view.map(E);if(!ee.Convert.isNull(I))return I;ne.Log.warn((()=>`[${E}] : not found`))}static rowVisible(C,E,I){const B=E instanceof Array?E:[E];if(ee.Convert.isEmpty(I))for(const E of B){const I=this.getRowItem(C,E);return null==I?void 0:I.visible}for(const E of B){const B=this.getRowItem(C,E);ee.Convert.isValue(B)&&(B.visible=I)}return ee.Convert.isValue(B)&&(C.view.calcRowNo(),C.refresh()),I}static columnEditable(C,E,I,B){B=null==B||B,I=I instanceof Array?I[0]:I;const z=C.view.map(E);if(ee.Convert.isNull(z))ne.Log.warn((()=>`[${E}] : not found`));else{if(ee.Convert.isValue(I)&&B){const E=C.focusManager;0==E.isFocused(z,I,ce.PanelType.Body)&&(E.focus={rowItem:z,column:I,panelType:ce.PanelType.Body,cell:ee.Utils.findCellFromColumn(C.rowLayout,I)})}z.isEdit=B,C.scrollIntoView(z,I),C.fireCommandAsync(C,new ue.RefreshCommand({rowStart:z.rowIndex,rowEnd:z.rowIndex,colStart:I.index,colEnd:I.index}))}}static columnVisible(C,E,I=!1){E=E instanceof Array?E[0]:E,ee.Convert.isNull(E)||C.columnVisible([{column:E,visible:I}])}static setCaption(C,E,I){E=E instanceof Array?E[0]:E,ee.Convert.isNull(E)||E.caption!=I&&(E.caption=I,C.refresh())}static moveToColumn(C,E,I,B){E=E instanceof Array?E[0]:E,I=I instanceof Array?I[0]:I,C.moveToColumn(E,I,B)}static setColumnSize(C,E,I){E=E instanceof Array?E[0]:E,ee.Convert.isNull(E)||C.setColumnSize(E,I)}static scrollInfoView(C,E,I){I=I instanceof Array?I[0]:I,ee.Convert.isNull(I)||C.scrollIntoView(E,I)}static validateGrid(C,E=void 0){const I=[];E=E instanceof te.RowItem?E:C.view.map(E);return(ee.Convert.isValue(E)?C.view.rows.slice(E.rowIndex):C.view.rows).forEach((E=>{const B=ee.Arrays.bfsSearch(C.visibleColumns,(C=>{var I;return!(!C.visible||(null===(I=C.isValid(E))||void 0===I?void 0:I.state)===de.ValidationState.Valid)||C.columns}));ee.Convert.isValue(B)&&I.push(E.key)})),I}static validateRow(C,E){const I=[],B=C.view.keyMap.get(E);if(!ee.Convert.isNull(B))return ee.Arrays.bfsAction(C.wholeColumns,(C=>(C.isValid(B).state!==de.ValidationState.Valid&&I.push(C),C.columns))),I;ne.Log.warn((()=>`[${E}] : not found`))}static cancelEdit(C){var E;null===(E=C.focusManager)||void 0===E||E.cancelEdit()}static updateEdit(C){C.focusManager.update()}static findInvalid(C,E,I){var B,z;let q=null!==(z=null===(B=C.view.map(E))||void 0===B?void 0:B.rowIndex)&&void 0!==z?z:0;const Q={key:void 0,column:void 0,rowItem:void 0};if(ee.Convert.isNull(q))return Q;let te;for(;ee.Convert.isValue(te=SBGrid3.getRowByIndex(C,q));){const E=ee.Arrays.bfsSearch(C.visibleColumns,(C=>{var E,B;return!!((null!==(E=null==I?void 0:I.index)&&void 0!==E?E:0)<C.index&&C.visible&&(null===(B=C.isValid(te))||void 0===B?void 0:B.state)!==de.ValidationState.Valid)||C.columns}));if(ee.Convert.isValue(E))return{key:te.key,column:E,rowItem:te};q++,I=void 0}return Q}static getSaveData(C,E=!0,I=!0,B=!0){return C.dataSource.getSaveData(E,I,B)}static getClientData(C){return C.dataConfig.data}static setClientData(C,E){C.dataConfig.data=E,C.reload(new se.ReloadCommand(!0))}static clearSaveData(C){C.clearSaveData()}static setRowValue(C,E,I,B){if(ee.Convert.isValue(B)&&B>=0){const z=C.rows[B];if(ee.Convert.isEmpty(z))return;this.setValue(C,z.key,I,E)}else{const B=C.rows.map((C=>({key:C.key,value:I,field:E})));this.setValues(C,B)}C.refresh()}static clearRows(C){C.clearRows(),C.refresh()}static save(C){return q(this,void 0,void 0,(function*(){yield C.save()}))}static refresh(C){C.refresh()}static reload(C,E=!0){return q(this,void 0,void 0,(function*(){yield C.reload(new se.ReloadCommand(E))}))}static rebuild(C){return q(this,void 0,void 0,(function*(){yield C.rebuild()}))}static setGridDefault(C){SBGrid3.default=C}static setResourceDefault(C,E=""){oe.ResourceManager.setDefault(C,E)}static setResourceMulti(C){oe.ResourceManager.setResourceMulti(C)}static setDefault(C,E){ee.Convert.isValue(C)&&this.setGridDefault(C),ee.Convert.isValue(E)&&this.setResourceDefault(E)}static setResource(C,E,I){C.resourceManager.setResource(E,I)}static listPersonalization(C){const E=new le.PersonalStorage(C);try{return E.listPersonalization()}catch(C){return[]}}static savePersonalization(C,E){const I=new le.PersonalStorage(C);try{return I.savePersonalization(E),!0}catch(C){return!1}}static resetPersonalization(C){const E=new le.PersonalStorage(C);try{return E.removePersonalization(E.key),!0}catch(C){return!1}}static removePersonalization(C,E){const I=new le.PersonalStorage(C);try{return I.removePersonalization(E),!0}catch(C){return!1}}static setPersonalization(C,E){const I=new le.PersonalStorage(C);try{return I.setPersonalization(E),!0}catch(C){return!1}}static getPersonalConfig(C){return le.PersonalStorage.getPersnalConfig(C)}static mergePersonalConfig(C,E){return Q.Grid.mergePersonalConfig(C,E)}static excelExport(C,E){return q(this,void 0,void 0,(function*(){const I=new ae.ExcelExport(C,E),B=new ee.default,z=ee.Utils.ensureName("excel");C.setEvent("excel","keydown",z,(C=>{"Escape"===C.key&&B.cancel()}),C.container),yield I.export(B.token),C.setEvent("excel","keydown",z,void 0,C.container)}))}static excelImport(C,E,I){return q(this,void 0,void 0,(function*(){let B;switch(E.name.split(".").at(-1)){case"csv":B=new fe.CsvImport(C,I);break;case"xlsx":B=new he.ExcelImport(C,I)}if(!ee.Convert.isValue(B))throw"not supported file "+E.name;B.excelImport(E)}))}static addRow(C,E,I){return q(this,void 0,void 0,(function*(){yield C.addRowCommand(new ue.AddRowCommand(E,I))}))}static insertRow(C,E,I){return q(this,void 0,void 0,(function*(){yield C.insertRowCommand(new ue.InsertRowCommand(E,I))}))}static appendRow(C,E,I){return q(this,void 0,void 0,(function*(){yield C.appendRowCommand(new ue.AppendRowCommand(E,I))}))}static addRows(C,E,I){return q(this,void 0,void 0,(function*(){yield C.addRowsCommand(new ue.AddRowsCommand(E,I))}))}static bulkAppend(C,E){C.bulkAppend(E)}static deleteRow(C,E){return q(this,void 0,void 0,(function*(){yield C.deleteRowCommand(new ue.DeleteRowCommand(E))}))}static deleteRows(C,E){return q(this,void 0,void 0,(function*(){ee.Convert.isEmpty(E)||(yield C.deleteRowsCommand(new ue.DeleteRowsCommand(E)))}))}static undeleteRow(C,E){return q(this,void 0,void 0,(function*(){yield C.undeleteRowCommand(new ue.UndeleteRowCommand(E))}))}static fireCommand(C,E){return C.fireCommand(C,E)}static fireCommandAsync(C,E){return q(this,void 0,void 0,(function*(){yield C.fireCommandAsync(C,E)}))}static setTheme(C,E){C.setTheme(E)}static isMobile(C,E){C.isMobile=E,C.refresh()}static setSelect(C,E,I=!0){C.dataSource.config.ajax.select=E,I&&C.reload(new se.ReloadCommand(!0))}static checkLicense(C){if(ee.Convert.isValue(this.trialKey)){const E=ee.Crypto.decrypt(this.trialKey,CRYPTO_KEY,256),[I,B]=E.split("|"),[z,q]=I.split("_");if("3.24.04.22.0"!==B)return!1;if("2024-12-21"!==q)return!1;if(!function(C){const E=new Date,I=E.getMonth()+1;return!(Number(E.getFullYear().toString()+(I<10?`0${I}`:I)+(E.getDate()<10?`0${E.getDate()}`:E.getDate()))>Number(C))}(q.replace(/-/g,"")))return ne.Log.error("사용기간이 만료되었습니다. 라이센스를 재발급받으시기 바랍니다."),this.showExpirationMessage(C),!1}return!0}static showExpirationMessage(C){const E=C.width,I=C.height;let B=C.container;if(ee.Convert.isNull(B))return;("string"==typeof B||B instanceof HTMLElement)&&(B=SBGrid3.$(B)),B.css({border:"1px solid #cecece","box-sizing":"border-box",width:E,height:I});const z=ee.JqUtils.adjustElement(B,"div.popup-text",'<div class="popup-text">'),q=ee.JqUtils.adjustElement(z,"div.popup-text-result-wrap",'<div class="popup-text-result-wrap">');ee.JqUtils.adjustElement(q,"div.sbgrid-trial-check",'<div class="sbgrid-trial-check">');const Q=ee.JqUtils.adjustElement(q,"div.sbgrid-text",'<div class="sbgrid-text">');return ee.JqUtils.adjustHtml(Q,"사용기간이 만료되었습니다.<br> 라이센스를 재발급받으시기 바랍니다."),!0}static showLoading(C,E=!0){C.showLoading(E)}static setSize(C,E,I){C.setSize(E,I)}static autoFit(C,E,I,B,z){var q,Q;if(E=E instanceof Array?E[0]:E,ee.Convert.isNull(E))return;if(0==E.visible)return;if(E.part===pe.PartType.Fixed)return;if(E.type===ge.ColumnTypes.Frozen)return;let te=null===(Q=null===(q=null==C?void 0:C.scrollPanel)||void 0===q?void 0:q.captionPanel)||void 0===Q?void 0:Q.columnResize;if(ee.Convert.isNull(te)){te=new me.ColumnResize(C);let E={mode:me.ResizeMode.GuideLine,minWidth:B,maxWidth:z,autoFit:"string"==typeof I?[I]:I};const q=me.ResizeOptionParser.parseResizeOption(E);te.option=q}te.autoFit(E)}static moveFocus(C,E,I){if(I=I instanceof Array?I[0]:I,ee.Convert.isNull(C)||ee.Convert.isNull(E)||ee.Convert.isNull(I))return;const B=null==C?void 0:C.focusManager;null==B||B.focus;E instanceof te.RowItem==0&&(E=C.view.map(E));null==B||B.moveFocus({rowItem:E,column:I,panelType:ce.PanelType.Body})}static sort(C,E){C.sort(E)}static sortData(C,E){C.sortData(E)}static getColumnByField(C,E){return ee.Arrays.bfsSearchAll((E=>ee.Convert.isNull(E)?C.wholeColumns:E.columns),(C=>C.field===E))}static getColumn(C,E){return ee.Arrays.bfsSearchAll((E=>ee.Convert.isNull(E)?C.wholeColumns:E.columns),(C=>C.index===E))}static getColumns(C){return C.columns}static getWholeColumns(C){return C.wholeColumns}static insertColumn(C,E,I=-1){return C.insertColumn(E,I)}static removeColumn(C,E){C.removeColumn(E)}static search(C,E,I){return q(this,void 0,void 0,(function*(){const B=ve.GridSearch.parseGridSearchOption(E),z=new ve.GridSearch(C);return yield z.search(B,null!=I&&I)}))}static setPageSize(C,E){ee.Convert.isEmpty(E)||E<0?ne.Log.warn((()=>`pageSize(${E}) 값이 비어 있거나 0보다 작습니다.`)):C.pageSize=E}static getPageSize(C){return C.pageSize}static getLabel(C,E,I){const B=this.getRow(C,E);if(ee.Convert.isNull(B))return void ne.Log.debug("row not found "+E);const z=this.getColumnByField(C,I);if(!ee.Convert.isEmpty(z))return z[0].getCellLabel(B);ne.Log.debug("column not found "+I)}}E.SBGrid3=SBGrid3,B=SBGrid3,SBGrid3._version="3.24.04.22.0",SBGrid3.$=z,SBGrid3.isNode=!globalThis.window,SBGrid3.LogLevel="test"==B.version?ne.LogLevels.Debug:ne.LogLevels.Warn,SBGrid3.Log=ne.Log,SBGrid3.trace=ne.Log.trace,SBGrid3.debug=ne.Log.debug,SBGrid3.info=ne.Log.info,SBGrid3.warn=ne.Log.warn,SBGrid3.error=ne.Log.error,SBGrid3.pages=["./autoBind.html","./big.html","./columns.html","./city.html","./clipboard.html","./checkColumn.html","./columnType.html","./colSpan.html","./detail.html","./faq.html","./filter.html","./filter2.html","./merge.html","./multi.html","./navi.html","./lazy.html","./status.html","./server.html","./select.html","./sticky.html","./test.html","./tree.html","./validation.html","./wordwrap.html","./zip.html","./combo.html","./excelTest.html","./moveTest.html","./maskTest.html"],globalThis.SBGrid3=SBGrid3,SBGrid3._default=ie.GridParser.parseDefaultConfig(new re.GridDefault,!1),SBGrid3._default=ie.GridParser.parseConfig(SBGrid3.default)},7078:(C,E)=>{"use strict";var I;Object.defineProperty(E,"__esModule",{value:!0}),E.SbCss=void 0;class SbCss{static toClass(...C){const E=C.join(this.seperator);return""==E?"":this.prefix+this.seperator+E}}E.SbCss=SbCss,I=SbCss,SbCss.prefix="sbgrid",SbCss.seperator="-",SbCss.grid=I.toClass("grid"),SbCss.empty=I.toClass("empty"),SbCss.scroll=I.toClass("scroll"),SbCss.panel=I.toClass("panel"),SbCss.part=I.toClass("part"),SbCss.align=I.toClass("align"),SbCss.tools=I.toClass("tools"),SbCss.tool=I.toClass("tool"),SbCss.item=I.toClass("item"),SbCss.pager=I.toClass("pager"),SbCss.scroll_vert=I.toClass("scroll","vert"),SbCss.scroll_body=I.toClass("scroll","body"),SbCss.scrollh=I.toClass("scrollh"),SbCss.scrollbar=I.toClass("scrollbar"),SbCss.scrollv=I.toClass("scrollv"),SbCss.body=I.toClass("body"),SbCss.left=I.toClass("left"),SbCss.center=I.toClass("center"),SbCss.right=I.toClass("right"),SbCss.area=I.toClass("area"),SbCss.thead=I.toClass("thead"),SbCss.tbody=I.toClass("tbody"),SbCss.tfoot=I.toClass("tfoot"),SbCss.row=I.toClass("row"),SbCss.col=I.toClass("col"),SbCss.cell=I.toClass("cell"),SbCss.gap=I.toClass("gap"),SbCss.caption=I.toClass("caption"),SbCss.header=I.toClass("header"),SbCss.footer=I.toClass("footer"),SbCss.fixed=I.toClass("fixed"),SbCss.variable=I.toClass("variable"),SbCss.head=I.toClass("head"),SbCss.tail=I.toClass("tail"),SbCss.group=I.toClass("group"),SbCss.fixed_height=I.toClass("fixed","height"),SbCss.alternate=I.toClass("alternate"),SbCss.tree=I.toClass("tree"),SbCss.title=I.toClass("title"),SbCss.custom=I.toClass("custom"),SbCss.hidden=I.toClass("hidden"),SbCss.merge=I.toClass("merge"),SbCss.merge_row=I.toClass("merge-row"),SbCss.merge_col=I.toClass("merge-col"),SbCss.merged=I.toClass("merged"),SbCss.level=I.toClass("level"),SbCss.level_first=I.toClass("level","first"),SbCss.level_next=I.toClass("level","next"),SbCss.focused=I.toClass("focused"),SbCss.pined=I.toClass("pined"),SbCss.selecting=I.toClass("selecting"),SbCss.unselected=I.toClass("unselected"),SbCss.selected=I.toClass("selected"),SbCss.sticky=I.toClass("sticky"),SbCss.detail=I.toClass("detail"),SbCss.checked=I.toClass("checked"),SbCss.halfCheck=I.toClass("half"),SbCss.dropdown=I.toClass("dropdown"),SbCss.option=I.toClass("option"),SbCss.unchecked=I.toClass("unchecked"),SbCss.rowno=I.toClass("rowno"),SbCss.edit=I.toClass("edit"),SbCss.column=I.toClass("column"),SbCss.icon=I.toClass("icon"),SbCss.input=I.toClass("input"),SbCss.loading=I.toClass("loading"),SbCss.folder=I.toClass("folder"),SbCss.asc=I.toClass("asc"),SbCss.desc=I.toClass("desc"),SbCss.open=I.toClass("open"),SbCss.close=I.toClass("close"),SbCss.leaf=I.toClass("leaf"),SbCss.indicator=I.toClass("indicator"),SbCss.hover=I.toClass("hover"),SbCss.hovered=I.toClass("hovered"),SbCss.text=I.toClass("text"),SbCss.space=I.toClass("space"),SbCss.page=I.toClass("page"),SbCss.current=I.toClass("current"),SbCss.disabled=I.toClass("disabled"),SbCss.add=I.toClass("add"),SbCss.addTop=I.toClass("add","top"),SbCss.field=I.toClass("field"),SbCss.popup=I.toClass("popup"),SbCss.submit=I.toClass("submit"),SbCss.cancel=I.toClass("cancel"),SbCss.cancel_red=I.toClass("cancel-red"),SbCss.refresh=I.toClass("refresh"),SbCss.reload=I.toClass("reload"),SbCss.delete=I.toClass("delete"),SbCss.undelete=I.toClass("undelete"),SbCss.update=I.toClass("update"),SbCss.insert=I.toClass("insert"),SbCss.append=I.toClass("append"),SbCss.grouping=I.toClass("grouping"),SbCss.order=I.toClass("order"),SbCss.sort=I.toClass("sort"),SbCss.no=I.toClass("no"),SbCss.draggable_helper=I.toClass("draggable","helper"),SbCss.check=I.toClass("check"),SbCss.checkbox=I.toClass("checkbox"),SbCss.checkboxGroup=I.toClass("checkboxgroup"),SbCss.combobox=I.toClass("combobox"),SbCss.comboInner=I.toClass("combo","inner"),SbCss.comboButton=I.toClass("combo","button"),SbCss.comboButtonIcon=I.toClass("combo","button","icon"),SbCss.comboValueText=I.toClass("combo","value","text"),SbCss.comboPopup=I.toClass("combo","popup"),SbCss.comboPopupItems=I.toClass("popup","items"),SbCss.comboPopupItem=I.toClass("popup","item"),SbCss.comboItemSelected=I.toClass("combo","item","selected"),SbCss.radio=I.toClass("radio"),SbCss.radio_icon=I.toClass("radio","icon"),SbCss.wrap_radio=I.toClass("wrap","radio"),SbCss.radioGroup=I.toClass("radiogroup"),SbCss.multiText=I.toClass("multiText"),SbCss.rowcheck=I.toClass("rowcheck"),SbCss.first=I.toClass("first"),SbCss.prev=I.toClass("prev"),SbCss.next=I.toClass("next"),SbCss.last=I.toClass("last"),SbCss.save=I.toClass("save"),SbCss.resize_indicator=I.toClass("resize","indicator"),SbCss.resize_helper=I.toClass("resize","helper"),SbCss.reorder_indicator=I.toClass("reorder","indicator"),SbCss.reorder_head=I.toClass("reorder","head"),SbCss.reorder_tail=I.toClass("reorder","tail"),SbCss.reorder_helper=I.toClass("reorder","helper"),SbCss.undo=I.toClass("undo"),SbCss.redo=I.toClass("redo"),SbCss.valid=I.toClass("valid"),SbCss.invalid=I.toClass("invalid"),SbCss.tooltip=I.toClass("tooltip"),SbCss.frozen=I.toClass("frozen"),SbCss.status=I.toClass("status"),SbCss.filter=I.toClass("filter"),SbCss.menu=I.toClass("menu"),SbCss.condition=I.toClass("condition"),SbCss.operator=I.toClass("operator"),SbCss.join=I.toClass("join"),SbCss.value=I.toClass("value"),SbCss.values=I.toClass("values"),SbCss.checkable=I.toClass("checkable"),SbCss.search=I.toClass("search"),SbCss.summary=I.toClass("summary"),SbCss.autoComplete=I.toClass("autocomplete"),SbCss.autoComplete_list=I.toClass("autocomplete-list"),SbCss.confirm=I.toClass("confirm"),SbCss.filled=I.toClass("filled"),SbCss.and=I.toClass("and"),SbCss.or=I.toClass("or"),SbCss.none=I.toClass("none"),SbCss.command=I.toClass("command"),SbCss.button=I.toClass("button"),SbCss.copy_top=I.toClass("copy-top"),SbCss.copy_bottom=I.toClass("copy-bottom"),SbCss.copy_left=I.toClass("copy-left"),SbCss.copy_right=I.toClass("copy-right"),SbCss.fillHandle=I.toClass("fill-handle"),SbCss.fillHandle_top=I.toClass("fill-handle-top"),SbCss.fillHandle_bottom=I.toClass("fill-handle-bottom"),SbCss.fillHandle_left=I.toClass("fill-handle-left"),SbCss.fillHandle_right=I.toClass("fill-handle-right"),SbCss.menu_group=I.toClass("menu-group"),SbCss.menu_seperator=I.toClass("seperator"),SbCss.wrapPopup=I.toClass("wrap","popup"),SbCss.comboItemEmpty=I.toClass("combo","item","empty"),SbCss.angleBottom=I.toClass("angle","bottom"),SbCss.context_menu=I.toClass("context-menu"),SbCss.rowreorder=I.toClass("rowreorder"),SbCss.moving=I.toClass("moving"),SbCss.place_holder=I.toClass("place","holder"),SbCss.template=I.toClass("template"),SbCss.excel=I.toClass("excel"),SbCss.csv=I.toClass("csv"),SbCss.floatingEditBox=I.toClass("floating","edit","box"),SbCss.page_input=I.toClass("page","input"),SbCss.pager_combo=I.toClass("pager","combo"),SbCss.page_size=I.toClass("page","size"),SbCss.delimiter=I.toClass("delimiter"),SbCss.keyedit=I.toClass("keyedit")},1038:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.SbMScrollBar=void 0;const z=I(1163),q=I(6312),Q=I(7078);E.SbMScrollBar=class SbMScrollBar{constructor(C){this._snapAmout=0,this._scrollAnti=!1,this.mCSB_scrollTools=".mCSB_scrollTools",this.mCSB_container=".mCSB_container",this.mCS_no_scrollbar=".mCS_no_scrollbar",this._grid=C}get grid(){return this._grid}sanpAmount(){return this._snapAmout}get scrollAnti(){return this._scrollAnti}set scrollAnti(C){this._scrollAnti=C}isScrollBar(C){let E=!1;return q.SBGrid3.$(C).find(this.mCSB_container).length>0&&(E=!0),E}update(C){q.SBGrid3.$(C).mCustomScrollbar("update",{callback:!1})}showHideScorllBar(C,E,I){const B=q.SBGrid3.$(C).closest(`.${Q.SbCss.panel}.${Q.SbCss.scroll}`);let z="calc(100%) 0px",ee=`calc(100% - ${this.grid.scrollbarSize}px) ${this.grid.scrollbarSize}px`;switch(E){case"y":I?B.css("grid-template-columns",ee):B.css("grid-template-columns",z);break;case"x":I?B.css("grid-template-rows",ee):B.css("grid-template-rows",z)}}setSize(C,E){if("y"==E){const I=this.grid.autoHeight&&this.grid.isPaging?this.grid.viewport.getPageHeight():this.grid.viewport.getScrollHeight();let B=q.SBGrid3.$(`.${Q.SbCss.panel}.${Q.SbCss.scroll}>.${Q.SbCss.scroll_body}>.${Q.SbCss.panel}.${Q.SbCss.body}>.${Q.SbCss.area}.${Q.SbCss.tbody}`,this.grid.container).height();0==B&&(B=this.grid.scrollPanel.viewportHeight);const z=q.SBGrid3.$(C).find(this.mCSB_scrollTools),ee=this.grid.virtualRow?z.height()+(I-B)+this.grid.rowHeights:z.height()+(I-B),te=q.SBGrid3.$(C).find(this.mCSB_container);this.grid.scrollPanel.bodyPanel.bodyHeight>=I?(te.css("height","0px"),this.showHideScorllBar(C,E,!1)):(te.css("height",ee),this.showHideScorllBar(C,E,!0))}else if("x"==E){let I="";if(this.grid.virtualColumn)I=q.SBGrid3.$(C).find(this.mCSB_scrollTools).width()+100*this.grid.scrollColumns.length+"px";else{const C=q.SBGrid3.$(`>.${Q.SbCss.scroll}.${Q.SbCss.panel}>.${Q.SbCss.scroll_body}>.${Q.SbCss.caption}>.${Q.SbCss.thead}>.${Q.SbCss.body}>.${Q.SbCss.scroll}>.${Q.SbCss.row}`,this.grid.container).find(`>.${Q.SbCss.col}`);let E=0;for(const I of z.Arrays.from(C)){const C=q.SBGrid3.$(I),B=C.data("cell");0==(null==B?void 0:B.row)&&(E+=z.Convert.asNumber(C.outerWidth())+z.Convert.asNumber(C.css("margin-left"))+z.Convert.asNumber(C.css("margin-right")))}if(E<=10)for(const C of this.grid.defaultLayout.rows[0].cells)E+=C.width;I=Math.floor(E/this.grid.viewportWidth*100)+"%"}q.SBGrid3.$(C).find(this.mCSB_container).css("width",I),100>=z.Convert.asInt(I.toString().replace("px","").replace("%",""))?(this.grid.topCol=this.grid.minTopCol,this.showHideScorllBar(C,E,!1)):this.showHideScorllBar(C,E,!0)}q.SBGrid3.$(C).hasClass("mCS_no_scrollbar")&&q.SBGrid3.$(C).mCustomScrollbar("update")}createScroll(C,E){var I,Q;let ee=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(C,E,I){this.func=ee,"boolean"!=typeof I&&((I=I||{}).passive=!1),this.func(C,E,I)};let te=170;this.grid.virtualColumn&&(te=5),"y"==E?(this.grid.config.virtualRow,this._snapAmout=6):this.grid.config.virtualColumn?this._snapAmout=100:this._snapAmout=30,null===(Q=null===(I=q.SBGrid3.$(C))||void 0===I?void 0:I.mCustomScrollbar)||void 0===Q||Q.call(I,{axis:E,theme:"3d-dark",scrollbarPosition:"inside",scrollInertia:te,autoDraggerLength:!0,autoExpandScrollbar:!0,alwaysShowScrollbar:0,snapAmount:this._snapAmout,scrollButtons:{enable:!0,scrollType:"stepless",tabindex:1,scrollAmount:this._snapAmout},keyboard:{enable:!0,scrollAmount:this._snapAmout,scrollType:"stepless"},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!0},callbacks:{whileScrolling:function(){"y"==E?gridScrollVertical():"x"==E&&gridScrollHorizantal()}}});const gridScrollVertical=()=>B(this,void 0,void 0,(function*(){if(1==this._scrollAnti)this.scrollAnti=!1;else{let E=Math.max(0,-z.Convert.asInt(q.SBGrid3.$(C).find(this.mCSB_container).css("top").replace("px","")));if(this.grid.virtualRow){const E=q.SBGrid3.$(C).find(this.mCSB_container),I=q.SBGrid3.$(C).find(this.mCSB_scrollTools).height(),B=E.height(),Q=-z.Convert.asInt(E.css("top").replace("px","")),ee=B-I;let te=yield this.grid.getMaxTopRow();const ie=0==Q?0:Math.round(Q/(ee/te));if(this.grid.topRow==ie)return;this.grid.viewport.setScroll(void 0,ie)}else this.grid.viewport.setScroll(void 0,E)}this.scrollAnti=!1})),gridScrollHorizantal=()=>{const E=-z.Convert.asInt(q.SBGrid3.$(C).find(this.mCSB_container).css("left").replace("px",""));if(!(E>1.1*q.SBGrid3.$(C).find(this.mCSB_container).width()||E<0))if(this.grid.virtualColumn){const I=q.SBGrid3.$(C).find(this.mCSB_container).width()-q.SBGrid3.$(C).find(this.mCSB_scrollTools).width();let B=0==E?0:Math.round(E/(I/this.grid.scrollColumns.length));if(this.grid.topCol==B)return;this.grid.maxTopCol<B&&(B=this.grid.maxTopCol),0==B&&(B=this.grid.minTopCol),this.grid.viewport.setScroll(B,void 0)}else{const I=q.SBGrid3.$(C).find(this.mCSB_container).width();let B=0==E?0:Math.round(this.grid.scrollWidth*(E/I));this.grid.viewport.setScroll(B,void 0)}};q.SBGrid3.$(C).find(".mCSB_draggerRail").height(0),q.SBGrid3.$(C).on("wheel",(E=>{this.scrollBarEvent(E,C)})),q.SBGrid3.$(C).on("mouseover",(C=>{this.grid.scrollPanel.removeMenu(),this.grid.scrollPanel.removeComboPopupScrolling()}))}setScrollPos(C,E,I=!1){return B(this,void 0,void 0,(function*(){try{if(0==z.Convert.isNull(C)){const E=q.SBGrid3.$(`>.${Q.SbCss.scroll}>.${Q.SbCss.scrollh}`,this.grid.container);if(E.length>0){const I=E.find(".mCSB_container"),B=E.find(".mCSB_scrollTools").width(),z=I.width()-B;if(this.grid.virtualColumn){let I=Math.round(C*z/this.grid.scrollColumns.length);if(I>z)return;I/100<=this.grid.minTopCol&&(I=0),this.scrollTo(E,I,void 0,!1),this.grid.view.topCol=Math.round(C)}else{const E=q.SBGrid3.$(`>.${Q.SbCss.scroll}>.${Q.SbCss.scrollh}`,this.grid.container),I=E.find(".mCSB_container"),B=(E.find(".mCSB_scrollTools").width(),I.width());let z=0==C?0:B*(C/this.grid.scrollWidth);this.setScrolLeft(E,z),this.scrollTo(E,z,void 0,!1)}}}if(0==z.Convert.isNull(E)){const C=q.SBGrid3.$(`>.${Q.SbCss.scroll}>.${Q.SbCss.scrollv}`,this.grid.container);if(C.length>0)if(this.grid.virtualRow){const B=C.find(".mCSB_container"),z=C.find(".mCSB_scrollTools").height(),q=B.height(),Q=q-z;if(0==q)return;let ee=yield this.grid.getMaxTopRow();if(0==ee)return;let te=0==E?0:Math.round(E*Q/ee);B.css("top",-te+"px"),0==I&&this.scrollTo(C,void 0,te,!1)}else this.setScrollTop(C,E),this.scrollTo(C,void 0,E,!1)}}finally{}}))}scrollBarEvent(C,E){C.preventDefault();let I=0;var B=window.event||event;if(0!=B.deltaY){let C=z.Convert.asInt(q.SBGrid3.$(E).find(this.mCSB_container).css("top").replace("px","")),Q=z.Convert.asInt(B.wheelDeltaY/4);I+=2;let ee=C+I*Q;ee>0&&(ee=0),q.SBGrid3.$(E).find(this.mCSB_container).css("top",ee),this.grid.virtualRow?(z.Convert.isValue(this.scrollTimer)&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout((function(){q.SBGrid3.$(E).mCustomScrollbar("scrollTo",[ee,void 0],{timeout:0,scrollInertia:0}),this.scrollTimer=void 0,I=void 0}),1)):(q.SBGrid3.$(E).mCustomScrollbar("scrollTo",[ee,void 0],{timeout:0,scrollInertia:0}),this.scrollTimer,clearTimeout(this.scrollTimer))}if(0!=B.deltaX){let C=z.Convert.asInt(q.SBGrid3.$(E).find(this.mCSB_container).css("left").replace("px","")),I=z.Convert.asInt(B.wheelDeltaX);I>0&&(I-=20),I<0&&(I+=20);let Q=C-I;Q>=0&&(Q=0),z.Convert.isValue(this.scrollBarleftTimer)&&clearTimeout(this.scrollBarleftTimer),this.scrollBarleftTimer=setTimeout((()=>{q.SBGrid3.$(E).find(this.mCSB_container).css("left",Q),q.SBGrid3.$(E).mCustomScrollbar("update"),this.scrollBarleftTimer}),1)}}setScrollTop(C,E){q.SBGrid3.$(C).find(this.mCSB_container).css("top",E)}setScrolLeft(C,E){q.SBGrid3.$(C).find(this.mCSB_container).css("left",E)}getScrollTop(C){if(z.Convert.isValue(C)){var E=z.Convert.asInt(q.SBGrid3.$(C).find(this.mCSB_container).css("top").replace("px",""));return E>0?-E:E}return 0}getScrollLeft(C){return z.Convert.isValue(C)?z.Convert.asInt(q.SBGrid3.$(C).find(this.mCSB_container).css("left").replace("px","")):0}scrollTo(C,E,I,B){(isNaN(E)||E===1/0)&&(E=0),(isNaN(I)||I===1/0)&&(I=0);const Q=q.SBGrid3.$(C);0!=Q.length&&0!=Q.is(":visible")&&(z.Convert.isValue(B)&&0==B?Q.length>0&&Q.mCustomScrollbar("scrollTo",[-I,-E],{timeout:0,scrollInertia:0,callbacks:!1}):Q.mCustomScrollbar("scrollTo",[-I,-E],{timeout:0,scrollInertia:17}))}}},9823:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.SbScrollBar=void 0;const z=I(1163),q=I(6312),Q=I(7078);E.SbScrollBar=class SbScrollBar{constructor(C){this._scrollAnti=!1,this._inThumbDragging=!1,this._grid=C}get grid(){return this._grid}get scrollAnti(){return this._scrollAnti}set scrollAnti(C){this._scrollAnti=C}isScrollBar(C){return q.SBGrid3.$(`.${Q.SbCss.scrollbar}`,C).length>0}update(C,E){this.updateEvent(C,E)}showHideScorllBar(C,E,I){const B=q.SBGrid3.$(`>.${Q.SbCss.panel}.${Q.SbCss.scroll}`,this.grid.container);let z="calc(100%) 0px",ee=`calc(100% - ${this.grid.scrollbarSize}px) ${this.grid.scrollbarSize}px`;switch(E){case"y":I?B.css("grid-template-columns")==ee||B.css("grid-template-columns",ee):B.css("grid-template-columns")==z||B.css("grid-template-columns",z);break;case"x":I?B.css("grid-template-rows")==ee||B.css("grid-template-rows",ee):B.css("grid-template-rows")==z||B.css("grid-template-rows",z)}}getScrollbar(C){return z.JqUtils.adjustElement(C,`.${Q.SbCss.scrollbar}`,`<span class='${Q.SbCss.scrollbar}'></span`)}setSize(C,E){switch(E){case"x":{let I="";I=(this.grid.virtualColumn,Math.floor(this.grid.scrollWidth/this.grid.viewportWidth*100)+"%"),100>=z.Convert.asInt(I.toString().replace("px","").replace("%",""))?(this.grid.topCol=this.grid.minTopCol,this.showHideScorllBar(C,E,!1)):this.showHideScorllBar(C,E,!0);const B=this.getScrollbar(C).get(0);if(B.style.width==I)return;B.style.width=I;break}case"y":{const I=this.grid.autoHeight&&this.grid.isPaging?this.grid.viewport.getPageHeight():this.grid.viewport.getScrollHeight();let B=q.SBGrid3.$(`.${Q.SbCss.panel}.${Q.SbCss.scroll}>.${Q.SbCss.scroll_body}>.${Q.SbCss.panel}.${Q.SbCss.body}>.${Q.SbCss.area}.${Q.SbCss.tbody}`,this.grid.container).height();0==B&&(B=this.grid.scrollPanel.viewportHeight);const z=C,ee=(this.grid.virtualRow?z.height()+(I-B)+this.grid.rowHeights:z.height()+(I-B))+"px",te=this.getScrollbar(C).get(0);this.grid.scrollPanel.bodyPanel.bodyHeight>=I?(te.style.height="0px",this.showHideScorllBar(C,E,!1)):(te.style.height!=ee&&(te.style.height=ee),this.showHideScorllBar(C,E,!0));break}}}createScroll(C,E){switch(E){case"x":z.JqUtils.adjustElement(C,`.${Q.SbCss.scrollbar}`,`<span class='${Q.SbCss.scrollbar}' style='height:0.1px;'></span`);this.updateEvent(C,E);break;case"y":z.JqUtils.adjustElement(C,`.${Q.SbCss.scrollbar}`,`<span class='${Q.SbCss.scrollbar}' style='width:0.1px;'></span`);this.updateEvent(C,E);break}}updateEvent(C,E){const I=this,removeMenu=()=>{this.grid.scrollPanel.removeMenu(),this.grid.scrollPanel.removeComboPopupScrolling()};switch(E){case"x":this.grid.setEvent("scroll_horz","scroll","scroll_horz",(E=>I.horizontalScrollEvent(E,C)),C),this.grid.setEvent("scroll_horz","mousedown","scroll_horz",(E=>I.scrollbarMousedown(E,C,"x")),C,!0),this.grid.setEvent("scroll_horz","mouseup","scroll_horz",(C=>I._inThumbDragging=!1),C,!0),this.grid.setEvent("scroll_horz","mouseover","scroll_horz",removeMenu,C,!0);break;case"y":this.grid.setEvent("scroll_vert","scroll","scroll_vert",(E=>I.verticalScrollEvent(E,C)),C),this.grid.setEvent("scroll_vert","mousedown","scroll_vert",(E=>I.scrollbarMousedown(E,C,"y")),C,!0),this.grid.setEvent("scroll_vert","mouseup","scroll_vert",(C=>I._inThumbDragging=!1),C,!0),this.grid.setEvent("scroll_vert","mouseover","scroll_vert",removeMenu,C,!0)}}setScrollTop(C,E){var I;if(0==this.inThumbDragging&&(null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0)>0){E=Math.abs(E);const I=C.get(0);if(I.scrollTop!=E)return I.scrollTop=E,!0}return!1}getScrollTop(C){if(z.Convert.isValue(C)){const E=C.scrollTop();return E>0?-E:E}return 0}setScrolLeft(C,E){var I;if(0==this.inThumbDragging&&(null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0)>0){E=Math.abs(E);const I=C.get(0);if(I.scrollLeft!=E)return I.scrollLeft=E,!0}return!1}getScrollLeft(C){if(z.Convert.isValue(C)){return-C.scrollLeft()}return 0}scrollTo(C,E,I,B){(isNaN(E)||E===1/0)&&(E=0),(isNaN(I)||I===1/0)&&(I=0);const q=C;if(0==q.length)return;if(0==q.is(":visible"))return;let Q=!1;z.Convert.isValue(E)&&(Q=this.setScrolLeft(C,E)||Q),z.Convert.isValue(I)&&(Q=this.setScrollTop(C,I)||Q)}verticalScrollEvent(C,E){return B(this,void 0,void 0,(function*(){if(1==this._scrollAnti)this.scrollAnti=!1;else{const C=E.get(0),I=C.scrollTop,B=C.scrollHeight-C.clientHeight;if(this.grid.virtualRow){let C=yield this.grid.getMaxTopRow();const E=0==I?0:Math.round(I/(B/C));if(this.grid.topRow==E)return;this.grid.viewport.setScroll(void 0,E)}else this.grid.viewport.setScroll(void 0,I)}this.scrollAnti=!1}))}horizontalScrollEvent(C,E){return B(this,void 0,void 0,(function*(){const I=q.SBGrid3.$(`>.${Q.SbCss.scroll}>.${Q.SbCss.scrollh}`,this.grid.container);if(I.length>0){const B=I.get(0),z=B.scrollWidth-B.clientWidth,q=B.scrollLeft;if(this.grid.virtualColumn){const I=this.grid.maxTopCol-this.grid.minTopCol,B=q/z*I+this.grid.minTopCol,Q=this.grid.topCol,ee=(this.inThumbDragging?0:Math.abs(B-Q))<.1?Math.round(B):B<Q?Math.round(B)-1:Math.round(B)+1;C.preventDefault();const te=(ee-this.grid.minTopCol)/I*z;0==this.inThumbDragging&&this.setScrolLeft(E,te),yield this.grid.viewport.setScroll(ee,void 0)}else{const C=q/z*(this.grid.scrollWidth-this.grid.viewportWidth);this.grid.viewport.setScroll(C,void 0)}}return!1}))}get inThumbDragging(){return this._inThumbDragging}scrollbarMousedown(C,E,I){return B(this,void 0,void 0,(function*(){const B=E.get(0),z="y"==I,q=z?C.offsetY:C.offsetX,Q=z?B.scrollTop:B.scrollLeft,ee=z?B.clientHeight:B.clientWidth,te=ee/(z?B.scrollHeight:B.scrollWidth),ie=20<q&&q<20+Q*te+(ee-40)*te;return this._inThumbDragging=ie,!1}))}setScrollPos(C,E,I=!1){return B(this,void 0,void 0,(function*(){try{if(0==z.Convert.isNull(C)){const E=q.SBGrid3.$(`>.${Q.SbCss.scroll}>.${Q.SbCss.scrollh}`,this.grid.container);if(E.length>0){const I=E.get(0),B=(I.scrollWidth,I.clientWidth,I.scrollWidth-I.clientWidth);if(this.grid.virtualColumn){const I=this.grid.maxTopCol-this.grid.minTopCol,z=(C-this.grid.minTopCol)/I*B;0==this.inThumbDragging&&this.setScrolLeft(E,z)}else{const I=this.grid.scrollWidth-this.grid.viewportWidth,z=C/I*B;this.grid.viewport.setScroll(C,void 0),this.setScrolLeft(E,z)}}}if(0==z.Convert.isNull(E)){const C=q.SBGrid3.$(`>.${Q.SbCss.scroll}>.${Q.SbCss.scrollv}`,this.grid.container);if(C.length>0){const I=C.get(0),B=I.scrollHeight-I.clientHeight;if(this.grid.virtualRow){let I=yield this.grid.getMaxTopRow();const z=0==E?0:E/I*B;this.setScrollTop(C,z)}else this.setScrollTop(C,E)}}}finally{}}))}}},1355:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.FilterPanel=E.FooterPanel=E.HeaderPanel=E.RowsPanel=E.BodyPanel=E.CaptionPanel=E.LayoutPanel=E.ScrollPanel=E.ScrollPart=void 0;const z=I(1163),q=I(6938),Q=I(103),ee=I(3568),te=I(3354),ie=I(5260),re=I(913),ne=I(6312),se=I(7078),oe=I(2663),ae=I(7721),le=I(860),ue=I(2987),de=I(3119),ce=I(3419),he=I(6252),fe=I(5882),pe=I(6409),me=I(194),ge=I(9823);var ve;!function(C){C.None="none",C.Thumb="thumb",C.Prev="prev",C.Next="next"}(ve||(E.ScrollPart=ve={}));class ScrollPanel extends ee.GridPanel{constructor(C){super(C,se.SbCss.scroll),this.onClick=C=>{if(0!==C.button)return;const E=ne.SBGrid3.$(C.target);E.is(`.${se.SbCss.icon}.${se.SbCss.menu}`)||E.closest(`.popup.${se.SbCss.menu}`).length>0||this.removeMenu()},this.revmoeContextMenu=C=>{C.preventDefault(),null==ne.SBGrid3.$(C.target).closest("."+se.SbCss.context_menu).html()&&this.grid.container.find("."+se.SbCss.context_menu).remove()},this.removeMenu=()=>{this.revmoePopupMenu()},this.revmoePopupMenu=()=>{this.grid.container.find("."+se.SbCss.context_menu).remove(),this.grid.container.find("."+se.SbCss.menu_group).remove()},this.removeComboPopupScrolling=()=>{this.grid.container.find("."+se.SbCss.comboPopup).addClass(se.SbCss.hidden)},this.onContextMenu=C=>B(this,void 0,void 0,(function*(){C.preventDefault();let E=this.getCol(ne.SBGrid3.$(C.target));ne.SBGrid3.$(C.target);const I=this._grid.getColumn(E),B=yield this.grid.getRowItem(E);if(this.grid.focusManager.isFocused(B,I,le.PanelType.Body)&&I.isEdit(B))return;if(this.grid.container.find(`.${se.SbCss.context_menu}`).remove(),this.grid.container.find(`.${se.SbCss.menu_group}`).remove(),ne.SBGrid3.$(C.target).find(".mCSB_dragger").length>0)return;let q;const Q=ne.SBGrid3.$(C.target).closest("."+se.SbCss.panel+"."+se.SbCss.scroll);let ee;q=z.Convert.isValue(E)?z.JqUtils.adjustElement(Q,`>div.${se.SbCss.context_menu}.0`,`<div class='${se.SbCss.context_menu} ${se.SbCss.col}-0'></span>`):z.JqUtils.adjustElement(Q,`>div.${se.SbCss.context_menu}.${I.index}`,`<div class='${se.SbCss.context_menu} ${se.SbCss.col}-${I.index}'></span>`),ee=null==I||null==I.config.field?new fe.GridMenu(this._grid,fe.GridMenuParser.parse(this.grid.contextMenu),I,B):new fe.GridMenu(this._grid,fe.GridMenuParser.parse(I.contextMenu),I,B),ee.render(ne.SBGrid3.$(q),fe.MenuType.ContextMenu,void 0);let te=E.closest("."+se.SbCss.grid);this.grid.container.find(q).css("top",C.pageY-this.grid.container.offset().top),this.grid.container.find(q).css("left",C.pageX-this.grid.container.offset().left),this.grid.container.height()<this.grid.container.find(q).children().height()&&(q.children().css("height",this.grid.container.height()/2),q.children().css("overflow-y","scroll")),null!=I?(this.grid.container.height()+this.grid.container.offset().top<C.pageY+this.grid.container.find(q).children("span").height()&&this.grid.container.find(q).css("top",this.grid.container.height()-this.grid.container.find(q).children("span").height()-this.grid.container.find(`.${se.SbCss.scrollh}`).height()-5),this.grid.container.width()+this.grid.container.offset().left<E.offset().left+this.grid.container.find(q).width()+E.width()&&this.grid.container.find(q).css("left",te.width()-this.grid.container.find(q).width()-this.grid.container.find(`.${se.SbCss.scrollv}`).width())):(this.grid.container.height()+this.grid.container.offset().top<C.pageY+this.grid.container.find(q).children("span").height()&&this.grid.container.find(q).css("top",this.grid.container.height()-this.grid.container.find(q).children("span").height()-this.grid.container.find(`.${se.SbCss.scrollh}`).height()-5),this.grid.container.width()+this.grid.container.offset().left<C.pageX+this.grid.container.find(q).width()&&this.grid.container.find(q).css("left",te.width()-this.grid.container.find(q).width()-this.grid.container.find(`.${se.SbCss.scrollv}`).width()))})),this.onScrollVert=C=>{z.Convert.isValue(this.scrollTimer)&&clearTimeout(this.scrollTimer);const E=this;this.scrollTimer=setTimeout((function(){E.doScrollVert(C),this.scrollTimer=void 0}),0)},this.doScrollVert=C=>{try{let E=ne.SBGrid3.$(C.target),I=z.Convert.asInt(E.scrollTop());this.grid.viewport.setScroll(void 0,I)}finally{}},this.onScrollHorz=C=>{z.Convert.isValue(this.scrollTimer)&&clearTimeout(this.scrollTimer);const E=this;this.scrollTimer=setTimeout((function(){E.doScrollHorz(C),this.scrollTimer=void 0}),0)},this.doScrollHorz=C=>{try{let E=ne.SBGrid3.$(C.target),I=E.scrollLeft(),B=ne.SBGrid3.$(`>.${se.SbCss.scrollbar}`,E).width();if(ie.Log.debug((()=>[this.grid.name+"_onScrollHorz",I,C])),this.grid.virtualColumn){let C=I/B*(this.grid.scrollColumns.length+this.grid.viewportColumns.length);C=Math.min(this.grid.scrollColumns.length-this.grid.viewportColumns.length+this.grid.fixedColumns.length+1,z.Convert.asInt(C)),this.grid.viewport.setScroll(C,void 0)}else I=Math.trunc(this.grid.scrollWidth/B*I),this.grid.viewport.setScroll(I,void 0)}finally{}}}get captionPanel(){var C;return null!==(C=this._captionPanel)&&void 0!==C?C:this._captionPanel=new CaptionPanel(this.grid)}get headerPanel(){var C;return null!==(C=this._headerPanel)&&void 0!==C?C:this._headerPanel=new HeaderPanel(this.grid)}get bodyPanel(){var C;return null!==(C=this._bodyPanel)&&void 0!==C?C:this._bodyPanel=new BodyPanel(this.grid)}get footerPanel(){var C;return null!==(C=this._footerPanel)&&void 0!==C?C:this._footerPanel=new FooterPanel(this.grid)}get filterPanel(){var C;return null!==(C=this._filterPanel)&&void 0!==C?C:this._filterPanel=new FilterPanel(this.grid)}get sbScrollbar(){var C;return null!==(C=this._sbScrollbar)&&void 0!==C?C:this._sbScrollbar=new ge.SbScrollBar(this.grid)}get scrollLeft(){var C;return null!==(C=this._scrollLeft)&&void 0!==C?C:this._scrollLeft=0}set scrollLeft(C){const E=Math.max(0,Math.min(C,this.grid.scrollWidth-this.grid.viewportWidth));this._scrollLeft!=E&&(this._scrollLeft=E,this.grid.styleScroll.set(`>.${se.SbCss.scroll}>.${se.SbCss.scroll_body}>.${se.SbCss.panel}>div>.${se.SbCss.body}>.${se.SbCss.scroll}`,{"margin-left":-this.scrollLeft+"px"}),this.grid.applyStyle())}get scrollTop(){var C;return null!==(C=this._scrollTop)&&void 0!==C?C:this._scrollTop=0}set scrollTop(C){if(C=Math.max(C,0),this._scrollTop==C)return;this.grid.viewport.getRowScrollInfo(C).then((C=>this.grid.view.topRow=C.index));const E=this.scrollHeight,I=this.viewportHeight;C=E-C>I?C:E-I,this._scrollTop=Math.max(C,0),this.grid.styleScroll.set(`>.${se.SbCss.scroll}>.${se.SbCss.scroll_body}>.${se.SbCss.panel}.${se.SbCss.body}>.${se.SbCss.tbody}>.${se.SbCss.part}>.${se.SbCss.scroll}`,{"margin-top":-this.scrollTop+"px"}),this.grid.applyStyle()}set internalScrollTop(C){this._scrollTop=C}set internalScrollLeft(C){this._scrollLeft=C}get rowsView(){return this.bodyPanel.rowsView}get viewportHeight(){var C;return null!==(C=this.bodyPanel.bodyHeight)&&void 0!==C?C:this.grid.container.height()}get scrollHeight(){return this.bodyPanel.scrollHeight}layoutPanel(C,E=!1){return B(this,void 0,void 0,(function*(){let I=z.JqUtils.adjustElement(C,`>div.${se.SbCss.panel}.${se.SbCss.scroll}`,`<div class='${se.SbCss.panel} ${se.SbCss.scroll}'></div>`),B=z.JqUtils.adjustElement(I,">div",`<div class='${se.SbCss.scroll_body}'></div>`);return E&&this.renderScrollbar(I),B}))}render(C){var E;return B(this,void 0,void 0,(function*(){const I=yield this.layoutPanel(C,!0);this.captionPanel.render(I),this.grid.config.filterable===he.FilterMode.Row&&(yield this.filterPanel.render(I)),this.grid.hasHeader&&(yield this.headerPanel.render(I)),this.bodyPanel.layoutPanel(I),this.grid.hasFooter&&(yield this.footerPanel.render(I)),yield this.grid.view.prepareRows(!0),yield this.bodyPanel.render(I),this.grid.selectManager.addEventHandler(I),null===(E=this.grid.tooltip)||void 0===E||E.addEventHandler(I),this.grid.focusManager.initFocusManager(I),z.Convert.isValue(this.grid.contextMenu)&&this.addEventHandler(I)}))}addEventHandler(C){this.grid.setEvent("scrollPanel","contextmenu","contextmenu",(C=>this.onContextMenu(C)),C),this.grid.setEvent("scrollPanel","click","click",(C=>this.onClick(C)),this.grid.container)}getCol(C){var E;if(0!=(null!==(E=null==C?void 0:C.length)&&void 0!==E?E:0))return C.closest(`.${se.SbCss.col}`)}adjustScrollSize(){const C=ne.SBGrid3.$(`>.${se.SbCss.scroll}>.${se.SbCss.scrollv}`,this.grid.container),E=ne.SBGrid3.$(`>.${se.SbCss.scroll}>.${se.SbCss.scrollh}`,this.grid.container);this.sbScrollbar.setSize(E,"x"),this.sbScrollbar.setSize(C,"y"),this.sbScrollbar.setSize(E,"x"),this.bodyPanel.setBodyHeight()}createStyle(C){return B(this,void 0,void 0,(function*(){let E=ne.SBGrid3.$(`>div.${se.SbCss.panel}.${se.SbCss.scroll}`,C);yield this.captionPanel.createStyle(E),yield this.filterPanel.createStyle(E),yield this.headerPanel.createStyle(E),yield this.bodyPanel.createStyle(E),yield this.footerPanel.createStyle(E),this.grid.styleScroll.set(`>.${se.SbCss.scroll}>.${se.SbCss.scroll_body}>.${se.SbCss.panel}>div>.${se.SbCss.body}>.${se.SbCss.scroll}`,{"margin-left":-this.scrollLeft+"px"}),this.grid.styleScroll.set(`>.${se.SbCss.scroll}>.${se.SbCss.scroll_body}>.${se.SbCss.panel}.${se.SbCss.body}>.${se.SbCss.tbody}>.${se.SbCss.part}>.${se.SbCss.scroll}`,{"margin-top":-this.scrollTop+"px"})}))}renderScrollbar(C){const E=z.JqUtils.adjustElement(C,`>div.${se.SbCss.scrollh}`,`<div  class='${se.SbCss.scrollh}'></div>`),I=z.JqUtils.adjustElement(C,`>div.${se.SbCss.scrollv}`,`<div  class='${se.SbCss.scrollv}'></div>`);this.sbScrollbar.isScrollBar(I)?this.sbScrollbar.update(I,"y"):this.sbScrollbar.createScroll(I,"y"),this.sbScrollbar.isScrollBar(E)?this.sbScrollbar.update(E,"x"):this.sbScrollbar.createScroll(E,"x")}doCommand(C,E){return E.command!==oe.Commands.Reload?super.doCommand(C,E):(this.reload(E),!0)}canCommand(C,E){"object"==typeof E&&E.command;return super.canCommand(C,E)}getContainer(C,E,I){let B;switch(I){case le.PanelType.Body:if(B=this._bodyPanel.tbody.getContainer(C,E),z.Convert.isNull(B))return;0==B.length&&(B=this._bodyPanel.thead.getContainer(C,E)),0==B.length&&(B=this._bodyPanel.tfoot.getContainer(C,E));break;case le.PanelType.Caption:B=this._captionPanel.getContainer(E);break;case le.PanelType.Header:B=this._headerPanel.getContainer(E);break;case le.PanelType.Footer:B=this._footerPanel.getContainer(E);break;case le.PanelType.Filter:B=this._filterPanel.getContainer(E)}return B}reload(C){ie.Log.debug((()=>"scrollPanel.reload")),this._captionPanel=new CaptionPanel(this.grid),this._bodyPanel=new BodyPanel(this.grid),this._footerPanel=new FooterPanel(this.grid)}doScroll(C){try{if(this.removeMenu(),this.removeComboPopupScrolling(),z.Convert.isValue(this.wheelTimer)&&clearTimeout(this.wheelTimer),z.Convert.isNull(this.scrollCommand))this.scrollCommand=C;else{if(Math.abs(C.scrollY)>20)return;this.scrollCommand.scrollX+=C.scrollX,this.scrollCommand.scrollY+=C.scrollY}const E=this;this.wheelTimer=setTimeout((function(){E._doScroll(E.scrollCommand),E.wheelTimer=void 0,E.scrollCommand=void 0}),2)}finally{}return!1}setScrollPos(C,E,I=!1){return B(this,void 0,void 0,(function*(){yield this.sbScrollbar.setScrollPos(C,E,I)}))}_doScroll(C){try{if(0!=C.scrollY)if(0==this.grid.config.virtualRow){const E=ne.SBGrid3.$(`>.${se.SbCss.scroll}>.${se.SbCss.scrollv}`,this.grid.container),I=Math.trunc(C.scrollY),B=this.sbScrollbar.getScrollTop(E);let z=B-I*(this.grid.config.wheelDelta+10);z>0&&(z=0),this.sbScrollbar.scrollTo(E,void 0,z,!0)}else{const E=ne.SBGrid3.$(`>.${se.SbCss.scroll}>.${se.SbCss.scrollv}`,this.grid.container),I=Math.trunc(C.scrollY),B=this.sbScrollbar.getScrollTop(E);let z=B-I*this.grid.config.wheelDelta;z>=0&&(z=0,this.grid.topRow=0),this.sbScrollbar.scrollTo(E,void 0,z,!0)}else if(0!=C.scrollX)if(0==this.grid.virtualColumn){const E=ne.SBGrid3.$(`>.${se.SbCss.scroll}>.${se.SbCss.scrollh}`,this.grid.container),I=Math.trunc(C.scrollX);let B=0;const z=this.sbScrollbar.getScrollLeft(E);B=z+I,z+I>0&&(B=0),this.sbScrollbar.scrollTo(E,-B,void 0,!0)}else{const E=ne.SBGrid3.$(`>.${se.SbCss.scroll}>.${se.SbCss.scrollh}`,this.grid.container),I=Math.trunc(C.scrollX),B=this.sbScrollbar.getScrollLeft(E);let z=B+I;B+I>0&&(z=0),this.sbScrollbar.scrollTo(E,-z,void 0,!0)}}finally{}}addClass(C,E,I,B=void 0){switch(E){case le.PanelType.Caption:return this.captionPanel.addClass(C,I,B);case le.PanelType.Filter:return this.filterPanel.addClass(C,I,B);case le.PanelType.Header:return this.headerPanel.addClass(C,I,B);case le.PanelType.Body:return this.bodyPanel.addClass(C,I,B);case le.PanelType.Footer:return this.footerPanel.addClass(C,I,B)}}removeClass(C,E,I,B=void 0){switch(E){case le.PanelType.Caption:return this.captionPanel.removeClass(C,I,B);case le.PanelType.Filter:return this.filterPanel.removeClass(C,I,B);case le.PanelType.Header:return this.headerPanel.removeClass(C,I,B);case le.PanelType.Body:return this.bodyPanel.removeClass(C,I,B);case le.PanelType.Footer:return this.footerPanel.removeClass(C,I,B)}}get panels(){var C;return null!==(C=this._panels)&&void 0!==C?C:this._panels=[]}}E.ScrollPanel=ScrollPanel;class LayoutPanel extends ee.GridPanel{constructor(C,E){super(C,E)}get layout(){}get cells(){return this.getFullCells(this.layout)}render(C){return B(this,void 0,void 0,(function*(){let E=z.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${se.SbCss.panel} ${this._class}' id='${this.name}' role='rowgroup'></div>`);yield this.renderParts(E,`${this._class}`)}))}renderParts(C,E){var I,z,q;return B(this,void 0,void 0,(function*(){if(0==(null!==(q=null===(z=null===(I=this.layout)||void 0===I?void 0:I.rows)||void 0===z?void 0:z.length)&&void 0!==q?q:0))return;yield this.renderPart(C,ae.PartType.Fixed,se.SbCss.fixed),yield this.renderPart(C,ae.PartType.Head,se.SbCss.head),yield this.renderPart(C,ae.PartType.Body,se.SbCss.body),yield this.renderPart(C,ae.PartType.Tail,se.SbCss.tail)}))}renderPart(C,E,I){return B(this,void 0,void 0,(function*(){let B=this.makePart(C,E,I);return yield this.renderColumns(B,E,I),B}))}getRowParentCss(C,E){return`>.${se.SbCss.panel}.${se.SbCss.scroll}>.${se.SbCss.scroll_body}>.${se.SbCss.panel}.${C}>.${se.SbCss.area}>.${E}>.${se.SbCss.scroll}`}makePart(C,E,I){let B=z.JqUtils.adjustElement(C,`>div.${I}`,`<div class='${se.SbCss.part} ${I}'></div>`);const q=this.grid.defaultLayout.rows[0].getCells(E);let Q=`${se.SbCss.scroll}`,ee=z.JqUtils.adjustElement(B,`>div.${se.SbCss.scroll}`,`<div class='${Q}'></div>`);return z.JqUtils.changeClass(ee,Q),z.Convert.isEmpty(q)&&ee.empty(),!this.grid.config.freezable||E!=ae.PartType.Head&&E!=ae.PartType.Tail||B.addClass(se.SbCss.frozen),ee}renderColumns(C,E,I){return B(this,void 0,void 0,(function*(){}))}createStyle(C){return B(this,void 0,void 0,(function*(){const E=this.cells,I=C.width();let B=0;const Q=`.${se.SbCss.scroll_body} > .${se.SbCss.panel} > .${se.SbCss.area} > .${se.SbCss.part}`;if(E.some((C=>C.unit!=ae.Unit.Pixel))){let C=0,ee=0;for(const I in E){const B=E[I];z.Convert.isNull(B)||B.constructor.name!=q.GridCell.name||(B.unit==ae.Unit.Pixel?C+=B.width:ee+=B.width)}const te=this.splitPart(E);B=(I-C)/ee,this.grid.style.set(Q+`.${se.SbCss.fixed}`,{width:this.calcPartWidth(te.fixed,B)+"px"}),this.grid.style.set(Q+`.${se.SbCss.head}`,{width:this.calcPartWidth(te.head,B)+"px"}),this.grid.style.set(Q+`.${se.SbCss.body}`,{width:this.calcPartWidth(te.body,B)+"px"}),this.grid.style.set(Q+`.${se.SbCss.tail}`,{width:this.calcPartWidth(te.tail,B)+"px"})}else this.grid.style.set(Q+`.${se.SbCss.fixed}`,{width:void 0}),this.grid.style.set(Q+`.${se.SbCss.head}`,{width:void 0}),this.grid.style.set(Q+`.${se.SbCss.body}`,{width:void 0}),this.grid.style.set(Q+`.${se.SbCss.tail}`,{width:void 0});yield this.createStylePart(C,ae.PartType.Fixed,se.SbCss.fixed,B),yield this.createStylePart(C,ae.PartType.Head,se.SbCss.head,B),yield this.createStylePart(C,ae.PartType.Body,se.SbCss.body,B),yield this.createStylePart(C,ae.PartType.Tail,se.SbCss.tail,B)}))}createStylePart(C,E,I,z){return B(this,void 0,void 0,(function*(){}))}getElement(C,E){throw new Error("Method not implemented.")}getCell(C,E=void 0){throw new Error("Method not implemented.")}addClass(C,E,I=void 0){const B=this.getElement(E,I);return z.JqUtils.addClass(B,C),B}removeClass(C,E,I=void 0){const B=this.getElement(E,I);return z.JqUtils.removeClass(B,C),B}calcRenderClass(C,E,I,B){const q=E[I.row],Q=null==q?void 0:q.cssClass;let ee="";return z.Convert.isValue(Q)&&(ee+=" "+("function"==typeof Q?Q(B()):Q)),z.Convert.isValue(null==q?void 0:q.align)?ee+=` ${se.SbCss.toClass(q.align)}`:ee+=` ${se.SbCss.toClass(C.config.align)}`,ee}unit(C){return C===ae.Unit.Pixel?"px":"fr"}getFullCells(C){var E;const I=[];for(const B in null!==(E=null==C?void 0:C.rows)&&void 0!==E?E:[]){const E=C.rows[B];for(const C in E.cells){const B=E.cells[C];z.Convert.isNull(null==B?void 0:B.column)||(I[B.column.index]=B)}}return I}splitPart(C){const E={fixed:[],head:[],body:[],tail:[]};for(const I in C){const B=C[I];if(!z.Convert.isNull(B)&&B.constructor.name==q.GridCell.name)switch(B.part){case ae.PartType.Fixed:E.fixed.push(B);break;case ae.PartType.Head:E.head.push(B);break;case ae.PartType.Sticky:case ae.PartType.Body:E.body.push(B);break;case ae.PartType.Tail:E.tail.push(B)}}return E}calcPartWidth(C,E){var I;let B=0;for(const Q in C){const ee=C[Q];if(!z.Convert.isNull(ee)&&ee.constructor.name==q.GridCell.name)if(ee.unit===ae.Unit.Pixel)B+=ee.width;else B+=E>0?ee.width*E:null!==(I=ee.column.minWidth)&&void 0!==I?I:0}return B}getLayout(C){let E=this.layout,I=!1,B=!1,q=!1;if((null==C?void 0:C.node)instanceof te.GroupNode){const B=C.node.igroup.field,q=this.grid.groupLayout(B).header;z.Convert.isValue(q.rows)&&(E=q,I=!0)}else if((null==C?void 0:C.node)instanceof te.FooterNode)if(C.node.parent instanceof te.GroupNode){const I=C.node.parent.igroup.field,q=this.grid.groupLayout(I).footer;z.Convert.isValue(q.rows)&&(E=q,B=!0)}else if(C.node.parent instanceof te.TreeNode){const C=this.grid.treeFooterLayout;z.Convert.isValue(C.rows)&&(E=C,q=!0)}return{layout:E,isGroupHeader:I,isGroupFooter:B,isTreeFooter:q}}}E.LayoutPanel=LayoutPanel;class CaptionPanel extends LayoutPanel{constructor(C){super(C,se.SbCss.caption),this.grid.scrollPanel.panels.push(this)}get columnResize(){var C,E,I;return null!==(C=this._columnResize)&&void 0!==C?C:z.Convert.isValue(null===(I=null===(E=this.grid)||void 0===E?void 0:E.config)||void 0===I?void 0:I.resizable)?this._columnResize=new ue.ColumnResize(this.grid):void 0}get columnReorder(){var C;return null!==(C=this._columnReorder)&&void 0!==C?C:this._columnReorder=new pe.ColumnReorder(this.grid)}get layout(){return this.grid.captionLayout}renderParts(C,E){const I=Object.create(null,{renderParts:{get:()=>super.renderParts}});var q;return B(this,void 0,void 0,(function*(){let B=z.JqUtils.adjustElement(C,`>div.${se.SbCss.thead}`,`<div class='${se.SbCss.area} ${se.SbCss.thead}' ></div>`);yield I.renderParts.call(this,B,E),null===(q=this.columnResize)||void 0===q||q.renderIndecator(C),this.grid.config.reorderable.column&&(this.columnReorder.renderReorderIndicator(C),this.grid.config.freezable&&this.columnReorder.renderFrozenIndicator(C))}))}renderColumns(C,E,I){var Q,ee,te;return B(this,void 0,void 0,(function*(){let I=z.JqUtils.adjustElement(C,`>div.${se.SbCss.row}.${se.SbCss.caption}`,`<div class='${se.SbCss.row} ${se.SbCss.caption}' role='row'></div>`);if(0==(null!==(te=null===(ee=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===ee?void 0:ee.length)&&void 0!==te?te:0))return I;const B=this.layout,ie=new Set;for(const C of B.rows){const B=null==C?void 0:C.getCells(E);if(!z.Convert.isEmpty(B))for(const C of B){if(z.Convert.isNull(C)||C.constructor.name!=q.GridCell.name)continue;const E=C.column,{colSelector:B,colClass:Q}=this.makeColClass(E,C);ie.add(B);let ee=z.JqUtils.adjustElement(I,`>span.${B}`,`<span class='${Q}' role='columnheader'></span>`);z.JqUtils.changeClass(ee,Q),ee.data("col",C.col),ee.data("column",E),ee.data("cell",C),z.JqUtils.changeDataset(ee,"selector",B),yield E.renderCaption(ee),this.grid.config.reorderable.column&&(this.columnReorder.addDraggableColumn(ee),this.columnReorder.addDroppableColumn(ee)),!0===this.grid.config.groupable&&de.ToolGroup.addDraggableHandler(ee,this.grid)}}return z.JqUtils.movetoTrash(this.grid.trashCan,I,ie),I}))}makeColClass(C,E,I){let B=`${se.SbCss.col}-${E.row+1}-${E.col}`,q=`${B} ${se.SbCss.col}`;return 0==z.Convert.isWhite(C.config.captionCss)&&(q+=` ${C.config.captionCss}`),C.part==ae.PartType.Sticky&&(q+=` ${se.SbCss.sticky}`),0==C.width&&(q+=` ${se.SbCss.hidden}`),q+=this.grid.selectManager.makeSelectClass(I,C,E,this.grid.captionLayout,le.PanelType.Caption),{colSelector:B,colClass:q}}createStylePart(C,E,I,Q){var ee,te,ie,re,ne,oe,le,ue;return B(this,void 0,void 0,(function*(){if(0==(null!==(ie=null===(te=null===(ee=this.layout)||void 0===ee?void 0:ee.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return;let C;const B=[],de=this.layout,ce=null===(re=de.rows[0])||void 0===re?void 0:re.cells[(null===(ne=de.rows[0])||void 0===ne?void 0:ne.cells.length)-1];if(z.Convert.isNull(ce))return;ce.col,ce.colSpan;const he=this.grid.defaultLayout.stickyOverflow,fe=this.getRowParentCss(se.SbCss.caption,I);for(const I of de.rows){const B=null==I?void 0:I.getCells(E);if(!z.Convert.isEmpty(B))for(const E of B){if(z.Convert.isNull(E)||E.constructor.name!=q.GridCell.name)continue;const I=E.column;z.Convert.isNull(C)&&(C=E.index-1);const B=`${se.SbCss.col}-${E.row+1}-${E.col}`,Q=null!==(oe=E.colSpan)&&void 0!==oe?oe:0,ee=null!==(le=E.rowSpan)&&void 0!==le?le:0,te={"grid-column":`${E.index-C}${Q>1?" / span "+Q:""}`,"grid-row":`${E.row+1}${ee>1?" / span "+ee:""}`};0==he&&I.part==ae.PartType.Sticky&&(te.position="sticky",te.left=E.stickyLeft+"px",te.right=E.stickyRight+"px",te["z-index"]=E.col+1),this.grid.style.set(`${fe}>.${se.SbCss.row}.${se.SbCss.caption}>.${se.SbCss.col}.${B}`,te)}}for(const C of this.grid.defaultLayout.rows){const I=null==C?void 0:C.getCells(E);if(!z.Convert.isEmpty(I))for(const C of I){if(z.Convert.isNull(C)||C.constructor.name!=q.GridCell.name)continue;let E="";E=C.unit==ae.Unit.Pixel?C.width+this.unit(C.unit):C.width<C.minWidth?C.minWidth+"px":C.maxWidth<C.width?C.maxWidth+"px":Q>0?`minmax(${C.minWidth+this.unit(ae.Unit.Pixel)}, ${C.width+this.unit(C.unit)})`:(null!==(ue=C.minWidth)&&void 0!==ue?ue:0)+this.unit(ae.Unit.Pixel),B[C.col]=E}}const pe=this.getRowParentCss(se.SbCss.header,I),me=this.getRowParentCss(se.SbCss.footer,I),ge=this.getRowParentCss(se.SbCss.filter,I),ve=this.getRowParentCss(se.SbCss.body,I),ye=z.Convert.isValue(B)?B.join(" "):"none";this.grid.style.set(`${fe}>.${se.SbCss.row}.${se.SbCss.caption}`,{display:"grid","grid-auto-rows":this.grid.captionHeight.map((C=>`minmax(${C}px, ${C}px)`)).join(" "),"grid-template-columns":ye}),this.grid.style.set(`${pe}>.${se.SbCss.row}.${se.SbCss.header}`,{display:"grid","grid-auto-rows":this.grid.headerHeight.map((C=>`minmax(${C}px, ${C}px)`)).join(" "),"grid-template-columns":ye}),this.grid.style.set(`${ve}>.${se.SbCss.row}`,{display:"grid","grid-auto-rows":this.grid.rowHeight.map((C=>`minmax(${C}px, ${this.grid.fixedRows?C+"px":"auto"})`)).join(" "),"grid-template-columns":ye}),this.grid.style.set(`${ve}>.${se.SbCss.row}.${se.SbCss.variable}`,{"max-height":`${this.grid.config.maxRowHeight}px`}),this.grid.style.set(`${ve}>.${se.SbCss.row}.${se.SbCss.detail}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.detailHeight}px, ${this.grid.fixedRows?this.grid.config.detailHeight+"px":"auto"})`,"grid-template-columns":ye}),this.grid.style.set(`${ve}>.${se.SbCss.row}.${se.SbCss.variable}.${se.SbCss.detail}`,{"max-height":`${this.grid.config.maxDetailHeight}px`}),this.grid.style.set(`${ve}>.${se.SbCss.row}.${se.SbCss.tree}.${se.SbCss.footer}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.groupHeight}px, ${this.grid.config.groupHeight+"px"})`,"grid-template-columns":ye}),z.Convert.isValue(this.grid.dataConfig.groups)&&(this.grid.style.set(`${ve}>.${se.SbCss.row}.${se.SbCss.group}.${se.SbCss.header}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.groupHeight}px, ${this.grid.config.groupHeight+"px"})`,"grid-template-columns":ye}),this.grid.style.set(`${ve}>.${se.SbCss.row}.${se.SbCss.group}.${se.SbCss.footer}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.groupHeight}px, ${this.grid.config.groupHeight+"px"})`,"grid-template-columns":ye})),this.grid.style.set(`${me}>.${se.SbCss.row}`,{display:"grid","grid-auto-rows":this.grid.footerHeight.map((C=>`minmax(${C}px, ${C}px)`)).join(" "),"grid-template-columns":ye}),this.grid.style.set(`${ge}>.${se.SbCss.row}`,{display:"grid","grid-auto-rows":`minmax(${this.grid.config.filterHeight}px, ${this.grid.config.filterHeight+"px"})`,"grid-template-columns":ye})}))}getContainer(C){const E=z.Utils.findCellFromColumn(this.grid.captionLayout,C);if(z.Convert.isNull(E))return;const I=ne.SBGrid3.$(`.${se.SbCss.part}${z.Convert.isNull(E)?"":"."+se.SbCss.toClass(E.part==ae.PartType.Sticky?le.PanelType.Body:E.part)} div.${se.SbCss.row}.${se.SbCss.caption}`,this.grid.container),{colSelector:B}=this.makeColClass(C,E);return ne.SBGrid3.$(`.${B}`,I)}getCell(C,E=void 0){return this.grid.captionLayout.findCell(C)}getElement(C,E){const I=ne.SBGrid3.$(`> .${se.SbCss.panel}.${se.SbCss.scroll} > .${se.SbCss.scroll_body} > .${se.SbCss.caption} > .${se.SbCss.area} > .${se.SbCss.part} > .${se.SbCss.scroll} > .${se.SbCss.row}`,this.grid.container),B=this.getCell(C);return z.Convert.isNull(B)?I:ne.SBGrid3.$(`> .${se.SbCss.col}-${B.row+1}-${B.col}`,I)}doCommand(C,E){return E.command!==oe.Commands.Escape?super.doCommand(C,E):(this.doCancelDrag(E),!0)}doCancelDrag(C){const E=ne.SBGrid3.$(`div.${se.SbCss.panel}.${se.SbCss.caption}`,this.grid.container);pe.ColumnReorder.cancelDrag(E)}}E.CaptionPanel=CaptionPanel;class BodyPanel extends LayoutPanel{constructor(C){super(C,se.SbCss.body),this.onMouseWheel=C=>B(this,void 0,void 0,(function*(){if(C.originalEvent instanceof WheelEvent){let E=Math.trunc(C.originalEvent.deltaY/50),I=Math.trunc(C.originalEvent.deltaX);if(this.grid.virtualRow){if(E<0&&0==this.grid.topRow)return!0;if(E>0&&this.grid.topRow==(yield this.grid.getMaxTopRow()))return!0}else{if(E<0&&0==this.grid.scrollPanel.scrollTop)return!0;if(E>0&&Math.round(this.grid.scrollPanel.scrollTop+this.grid.scrollPanel.viewportHeight)>=this.grid.scrollPanel.scrollHeight)return!0}C.preventDefault(),this.grid.fireCommandAsync(this,new re.ScrollCommand(-I,E))}return!1})),this.onMouseMove=C=>{},this.onMouseDown=C=>{},this.grid.scrollPanel.panels.push(this)}get jqPanel(){return this._jqPanel}get thead(){var C;return null!==(C=this._headerPanel)&&void 0!==C?C:this._headerPanel=new RowsPanel(this.grid,se.SbCss.thead,(()=>this.rowsView.headers),!0,!1)}get tbody(){var C;return null!==(C=this._rowsPanel)&&void 0!==C?C:this._rowsPanel=new RowsPanel(this.grid,se.SbCss.tbody,(()=>this.rowsView.currRows),!1,!0)}get tfoot(){var C;return null!==(C=this._footerPanel)&&void 0!==C?C:this._footerPanel=new RowsPanel(this.grid,se.SbCss.tfoot,(()=>this.rowsView.footers),!0,!1)}get rowsView(){var C;return null!==(C=this._rowsView)&&void 0!==C?C:this._rowsView={}}get rows(){return[].concat(this._rowsView.prevRows).concat(this._rowsView.currRows).concat(this._rowsView.nextRows)}get bodyHeight(){var C;return z.Convert.isValue(this._bodyHeight)?this._bodyHeight:null===(C=this.jqPanel)||void 0===C?void 0:C.height()}set bodyHeight(C){this._bodyHeight=C}setBodyHeight(C=void 0){var E,I,B;return this._bodyHeight=null!=C?C:null!==(I=null===(E=this.jqPanel)||void 0===E?void 0:E.is(":visible"))&&void 0!==I&&I?null===(B=this.jqPanel)||void 0===B?void 0:B.height():void 0}get scrollHeight(){return this.tbody.scrollHeight}get rowsPanel(){return this._rowsPanel}get layout(){return this.grid.rowLayout}layoutPanel(C){return z.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${se.SbCss.panel} ${this._class}' id='${this.name}'></div>`)}get dataDroppable(){var C;return null!==(C=this._dataDroppable)&&void 0!==C?C:this._dataDroppable=z.Convert.isValue(this.grid.config.dataDroppable)?new pe.DataDroppable(this.grid):void 0}render(C){var E,I;return B(this,void 0,void 0,(function*(){const B=this._jqPanel=this.layoutPanel(C);null===(E=this.grid.rowReorder)||void 0===E||E.renderReorderIndicator(B),null===(I=this.dataDroppable)||void 0===I||I.addDataDroppableHandler(B),this.grid.autoHeight&&(this._bodyHeight=Math.min(this._bodyHeight,this.rowsView.rowHeights)),yield this.ensureRowsView(),yield this.thead.render(B),yield this.tbody.render(B),yield this.tfoot.render(B),this.grid.autoHeight&&(this._bodyHeight=Math.min(this._bodyHeight,this.rowsView.rowHeights)),this.grid.setEvent("scrollWheel","wheel",this.constructor.name,this.onMouseWheel,B[0])}))}createStylePart(C,E,I,q){var Q,ee,te,ie,re;return B(this,void 0,void 0,(function*(){if(0==(null!==(te=null===(ee=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===ee?void 0:ee.length)&&void 0!==te?te:0))return;const C=z.Convert.isValue(this.grid.dataConfig.groups),B=this.grid.defaultLayout.stickyOverflow;if(yield this.createRowStyle(this.layout,E,I,"",0,0,B),C){const C=this.grid.dataConfig.groups;for(let z=0;z<(null!==(ie=C.length)&&void 0!==ie?ie:0);z++){const q=C[z].field,{header:Q,footer:ee}=this.grid.groupLayout(q);yield this.createRowStyle(Q,E,I,"."+se.SbCss.group+"."+se.SbCss.header+"."+se.SbCss.toClass(q),C.length,z,B),yield this.createRowStyle(ee,E,I,"."+se.SbCss.group+"."+se.SbCss.footer+"."+se.SbCss.toClass(q),C.length,z,B)}}z.Convert.isValue(null===(re=this.grid.dataConfig.tree)||void 0===re?void 0:re.aggregates)&&(yield this.createRowStyle(this.grid.treeFooterLayout,E,I,"."+se.SbCss.tree+"."+se.SbCss.footer,0,0,B)),z.Convert.isValue(this.grid.detailTemplate)&&(yield this.createRowStyle(this.grid.detailLayout,E,I,"."+se.SbCss.detail,0,0,B))}))}createRowStyle(C,E,I,Q,ee,te,ie){var re,ne,oe,ae;return B(this,void 0,void 0,(function*(){const B=null===(re=C.rows[0])||void 0===re?void 0:re.cells[(null===(ne=C.rows[0])||void 0===ne?void 0:ne.cells.length)-1];if(z.Convert.isNull(B))return;B.col,B.colSpan;let ee,te;const le=this.getRowParentCss(se.SbCss.body,I);for(const I of C.rows){const C=null==I?void 0:I.getCells(E);if(z.Convert.isEmpty(C))continue;let B;for(const E of C){if(z.Convert.isNull(E)||E.constructor.name!=q.GridCell.name)continue;z.Convert.isNull(ee)&&(ee=E.index-1,te=ee);const C=E.column,I=`${se.SbCss.col}-${E.row+1}-${E.col}`,re=null!==(oe=E.colSpan)&&void 0!==oe?oe:0,ne=null!==(ae=E.rowSpan)&&void 0!==ae?ae:0;te=Math.max(te,E.col);const ue={"grid-column":`${E.index-ee}${re>1?" / span "+re:""}`,"grid-row":`${E.row+1}${ne>1?" / span "+ne:""}`};0==ie&&C.isSticky&&(ue.position="sticky",ue.left=E.stickyLeft+"px",ue.right=E.stickyRight+"px",ue["z-index"]=E.col+1),B=E,this.grid.style.set(`${le}>.${se.SbCss.row}${Q}>.${se.SbCss.col}.${I}`,ue)}}return{firstCol:ee,lastCol:te}}))}createStyle(C){const E=Object.create(null,{createStyle:{get:()=>super.createStyle}});return B(this,void 0,void 0,(function*(){yield E.createStyle.call(this,C),this.createStyleStickyRow(C,this.rowsView.currRows)}))}createStyleStickyRow(C,E){var I,B;if(0==this.grid.config.stickyRow)return;if(1==this.grid.virtualRow)return;if(z.Convert.isNull(E))return;const q=null===(I=this.layout.rows[0])||void 0===I?void 0:I.cells[(null===(B=this.layout.rows[0])||void 0===B?void 0:B.cells.length)-1];if(z.Convert.isNull(q))return;let Q=q.col+q.colSpan;this.grid.config.stickyFooter;let ee=0,te=0;const ie=new Map,re=[];for(const C of E){const E=null==C?void 0:C.rowItem;if(z.Convert.isNull(E))continue;const I=makeRowName(this.tbody.name,E);if(this._rowsView.stickyKeys.has(C.rowItem.key)){ie.set(I,{top:te+"px",position:"sticky"});te+=this.grid.viewport.getItemHeight(C.rowItem).height,re.push(C.rowItem)}}Q+=re.length;for(const C of[].concat(re).reverse()){const E=makeRowName(this.tbody.name,C),I=ie.get(E);I.bottom=ee+"px",I["z-index"]=Q--,ie.set(E,I);ee+=this.grid.viewport.getItemHeight(C).height}function makeRowPrefix(C){return`#${C} > .${se.SbCss.part} > .${se.SbCss.scroll} > .${se.SbCss.row}-`}function makeRowName(C,E){return makeRowPrefix(C)+`${E.rowIndex}`}!function adjustStickyStyle(C,E){const I=makeRowPrefix(C),B=E.keys;for(const C of B)C.includes(I)&&E.delete(C);for(const C of ie.keys())E.set(C,ie.get(C))}(this.tbody.name,this.grid.styleScroll)}ensureRowsView(C=void 0){return B(this,void 0,void 0,(function*(){z.Convert.isNull(C)&&(C=this.bodyHeight),this._rowsView=yield this.grid.viewport.makeRows()}))}getCell(C,E=void 0){if(z.Convert.isNull(C))return null;switch(null==E?void 0:E.node.constructor.name){case te.GroupItem.name:case te.ListNode.name:case te.TreeNode.name:return this.grid.rowLayout.findCell(C);case te.GroupNode.name:const{header:I}=this.grid.groupLayout(E.node.igroup.field);return I.findCell(C);case te.FooterNode.name:const B=E.node.parent;if(B instanceof te.GroupNode){const{footer:E}=this.grid.groupLayout(B.igroup.field);return E.findCell(C)}return this.grid.treeFooterLayout.findCell(C)}}getElement(C,E){const I=ne.SBGrid3.$(`> .${se.SbCss.panel}.${se.SbCss.scroll} > .${se.SbCss.scroll_body} > .${se.SbCss.body} > .${se.SbCss.area} > .${se.SbCss.part} > .${se.SbCss.scroll} > .${se.SbCss.row}-${E.rowIndex}`,this.grid.container),B=this.getCell(C,E);return z.Convert.isNull(B)?I:ne.SBGrid3.$(`> .${se.SbCss.col}-${B.row+1}-${B.col}`,I)}}E.BodyPanel=BodyPanel;class RowsPanel extends LayoutPanel{constructor(C,E,I,z,q){super(C,E),this.detailScroll=C=>!1,this.detailWheel=C=>B(this,void 0,void 0,(function*(){if(C.originalEvent instanceof WheelEvent){ne.SBGrid3.$(C.target);Math.trunc(C.originalEvent.deltaY/50),Math.trunc(C.originalEvent.deltaX);if(this.isScrollable(C.currentTarget,C.originalEvent).vertical)return!1;C.stopPropagation()}return!0})),this.isScrollable=function(C,E){return{vertical:C.scrollHeight>C.clientHeight&&(E.deltaY>0?C.scrollTop+C.clientHeight+RowsPanel.wheelScrollThreshold<C.scrollHeight:C.scrollTop>0),horizontal:C.scrollWidth>C.clientWidth&&(E.deltaX>0?C.scrollLeft+C.clientWidth+RowsPanel.wheelScrollThreshold<C.scrollWidth:C.scrollLeft>0)}},this._view=I,this._ignoreRange=z,this._isBody=q}get scrollHeight(){return this._scrollHeight}get viewportHeight(){return this._height}get layout(){return this.grid.rowLayout}get isBody(){return this._isBody}get jqPanel(){return this._jqPanel}render(C){var E;return B(this,void 0,void 0,(function*(){let I=z.JqUtils.adjustElement(C,`>div#${this.name}`,`<div class='${se.SbCss.area} ${this._class}' id='${this.name}'></div>`);this._jqPanel=I,z.Convert.isEmpty(null===(E=this.layout)||void 0===E?void 0:E.rows)||(yield this.renderRows(I,this._view(),this._ignoreRange),this._height=I.height())}))}renderRows(C,E,I){var q,Q,ee,te;return B(this,void 0,void 0,(function*(){if(z.Convert.isEmpty(null===(Q=null===(q=this.layout.rows)||void 0===q?void 0:q[0])||void 0===Q?void 0:Q.cells))return;if(z.Convert.isEmpty(E))return C.empty(),void(this.isBody&&0==(null!==(ee=this.grid.total)&&void 0!==ee?ee:0)&&(this.renderEmptyRows(C,!1),this._scrollHeight=0));this.renderEmptyRows(C,!0);const B=[{part:ae.PartType.Fixed,clazz:se.SbCss.fixed,container:this.makePart(C,ae.PartType.Fixed,se.SbCss.fixed)},{part:ae.PartType.Head,clazz:se.SbCss.head,container:this.makePart(C,ae.PartType.Head,se.SbCss.head)},{part:ae.PartType.Body,clazz:se.SbCss.body,container:this.makePart(C,ae.PartType.Body,se.SbCss.body)},{part:ae.PartType.Tail,clazz:se.SbCss.tail,container:this.makePart(C,ae.PartType.Tail,se.SbCss.tail)}],re=this.grid.refreshCommand,oe=new Set;let le=!1;const ue=this.grid.fixedRows;let de=0;for(const q of E){const E=null==q?void 0:q.rowItem;if(z.Convert.isNull(E)){ie.Log.warn((()=>"rowItem is null"));break}const Q=q.merge,ee=this.makeRowClass(E),ae=this.makeRowClass(E,!0),ce=null!==(te=q.rowHeight)&&void 0!==te?te:{total:0,height:0,detail:0};oe.add(ee.rowSelector),0==z.Convert.isNull(ae)&&oe.add(ae.rowSelector);let he=0,fe=0,pe=!1;if(0==I&&0==z.Convert.between(null==re?void 0:re.rowStart,E.rowIndex,null==re?void 0:re.rowEnd)){const E=ne.SBGrid3.$(`>.${se.SbCss.part}>.${se.SbCss.scroll}>.${ee.rowSelector}`,C);E.length>0&&(E.each(((C,E)=>{he=Math.max(he,ne.SBGrid3.$(E).height())})),he=Math.min(z.Convert.asInt(he),this.grid.config.maxRowHeight),pe=!0)}if(0==pe){this.grid.dataSource.hasCalcFields&&this.grid.view.calcFields(E);for(const C of B){const{height:I,detail:B,total:z}=yield this.renderRow(E,C.container,de,q.rowHeight,C.clazz,C.part,Q,re,ee,ae);he=Math.max(he,I),fe=Math.max(fe,B)}he>0&&(he=Math.min(z.Convert.asInt(he),this.grid.config.maxRowHeight)),fe>0&&(fe=Math.min(z.Convert.asInt(fe),this.grid.config.maxDetailHeight))}if(0==ue&&(he>0||fe>0)){if(le=!0,ce.height<=he){ce.height=he,this.grid.setRowHeight(E,he,void 0);for(const C of B){const E=ne.SBGrid3.$(`>.${ee.rowSelector}`,C.container);E.height(he),he==this.grid.config.maxRowHeight?z.JqUtils.addClass(E,se.SbCss.scroll):z.JqUtils.removeClass(E,se.SbCss.scroll)}}if(ce.detail<=fe){ce.detail=fe,this.grid.setRowHeight(E,void 0,fe);for(const C of B){const E=ne.SBGrid3.$(`>.${ae.rowSelector}`,C.container);E.height(fe),fe==this.grid.config.maxDetailHeight?z.JqUtils.addClass(E,se.SbCss.scroll):z.JqUtils.removeClass(E,se.SbCss.scroll)}}ce.total=ce.height+ce.detail}de+=ce.total}const ce=`${se.SbCss.last}`;oe.add(ce);for(const C of B){const E=z.JqUtils.adjustElement(C.container,`>div.${ce}`,`<div class='${se.SbCss.row} ${se.SbCss.last}' data-selector='${ce}' />`);z.JqUtils.changeDataset(E,"selector",ce),E.css("transform",""),C.container.get(0).appendChild(E.get(0)),this.renderLastRowColumns(E,C.part)}for(const C of B)z.JqUtils.movetoTrash(this.grid.trashCan,C.container,oe);if(this._scrollHeight=de,(!this.grid.fixedRows||0!=this.grid.mergeRow)&&(this.renderMerge(E,C),le)){let C=0;for(const I of E)I.rowHeight.total=I.rowHeight.height+I.rowHeight.detail,I.top=C,C+=I.rowHeight.total;this.grid.calcRowHeights()}}))}renderLastRowColumns(C,E){var I,Q,ee;return B(this,void 0,void 0,(function*(){let B=C;if(0==(null!==(ee=null===(Q=null===(I=this.layout)||void 0===I?void 0:I.rows)||void 0===Q?void 0:Q.length)&&void 0!==ee?ee:0))return B;const te=this.layout,ie=new Set;for(const C of te.rows){const I=null==C?void 0:C.getCells(E);if(!z.Convert.isEmpty(I))for(const C of I){if(z.Convert.isNull(C)||C.constructor.name!=q.GridCell.name)continue;const E=C.column,{colSelector:I,colClass:Q}=this.makeColClassLastRow(E,C);ie.add(I);let ee=z.JqUtils.adjustElement(B,`>span.${I}`,`<span class='${Q}' role='columnheader'></span>`);z.JqUtils.changeClass(ee,Q),ee.data("col",C.col),ee.data("column",E),ee.data("cell",C),z.JqUtils.changeDataset(ee,"selector",I)}}return z.JqUtils.movetoTrash(this.grid.trashCan,B,ie),B}))}makeColClassLastRow(C,E){let I=`${se.SbCss.col}-${E.row+1}-${E.col}`,B=`${I} ${se.SbCss.col}`;return 0==z.Convert.isWhite(C.config.captionCss)&&(B+=` ${C.config.captionCss}`),C.part==ae.PartType.Sticky&&(B+=` ${se.SbCss.sticky}`),0==C.width&&(B+=` ${se.SbCss.hidden}`),{colSelector:I,colClass:B}}renderEmptyRows(C,E){const I=new Set,B=z.JqUtils.adjustElement(C,`>span.${se.SbCss.empty}`,`<span class='${se.SbCss.empty}'></span>`,void 0,I);if(E)B.remove();else{if(z.Convert.isEmpty(this.grid.emptyTemplate)){const C=`<div class="search-result"><span class="search-result-wrap"><span class="sbgrid-icon sbgrid-search"></span><span class="sbgrid-text">${this.grid.emptyMessage}</span></span></div>`;z.JqUtils.adjustHtml(B,C)}else{const C=this.grid.emptyTemplate(this.grid);z.JqUtils.adjustHtml(B,C)}z.JqUtils.movetoTrash(this.grid.trashCan,C,I)}}renderMerge(C,E){var I;const B=C.map((C=>C.rowHeight));for(let Q=0,ee=C.length;Q<ee;Q++){const ee=C[Q];if(z.Convert.isNull(ee.rowItem))continue;const te=null===(I=ee.rowItem)||void 0===I?void 0:I.rowIndex,ie=`>div>.${se.SbCss.scroll}>.${se.SbCss.row}-${te}>.${se.SbCss.col}.${se.SbCss.merge}`,re=ne.SBGrid3.$(ie,E);if(re.length>0)for(let E=0,I=re.length;E<I;E++){const I=ne.SBGrid3.$(re[E]),ee=I.data("cell");if(!z.Convert.isNull(ee)&&ee.constructor.name==q.GridCell.name&&ee.mergeRow>1){let E=0;for(let I=Q,z=Q+ee.mergeRow;I<z&&!(I>=C.length);I++)E+=B[I].height;const z=I.outerHeight(!0)-I.height();I.height(E-z)}}}}renderRow(C,E,I,q,Q,ee,ie,re,ne,se){var oe,ae,le;return B(this,void 0,void 0,(function*(){const I={height:null!==(oe=null==q?void 0:q.height)&&void 0!==oe?oe:0,detail:null!==(ae=null==q?void 0:q.detail)&&void 0!==ae?ae:0,total:null!==(le=null==q?void 0:q.total)&&void 0!==le?le:0};let B=C.rowIndex;const{layout:ue,isGroupHeader:de,isGroupFooter:ce,isTreeFooter:he}=this.getLayout(C);if(0==ue.rows[0].getCells(ee).length)return I;let fe=z.JqUtils.adjustElement(E,`>div.${ne.rowSelector}`,`<div class='${Q} ${ne.rowClass}' role='row' aria-rowindex='${B+1}'></div>`,(C=>C.data("row")>B));if(z.JqUtils.changeDataset(fe,"selector",ne.rowSelector),fe.data("row",B),fe.data("rowItem",C),0==this.grid.fixedRows&&z.Convert.isValue(fe.css("height"))&&fe.css("height",""),z.JqUtils.changeClass(fe,ne.rowClass),0==C.visible)return fe.empty(),I;if(this.grid.fixedRows)yield this.renderCols(ue,ee,ie,C,re,fe,B,de,ce,he);else{yield this.renderCols(ue,ee,ie,C,re,fe,B,de,ce,he);let E=z.Convert.asInt(fe.height());C.node instanceof te.GroupNode||C.node instanceof te.FooterNode||(E<=q.height?(fe.height(q.height),E=q.height):E>this.grid.config.maxRowHeight&&(fe.height(this.grid.config.maxRowHeight),E=this.grid.config.maxRowHeight)),I.height=E}return this.grid.hasDetail&&(yield this.renderRowDetail(q,E,se,B,C,ee,I)),I.total=I.height+I.detail,I}))}renderRowDetail(C,E,I,q,Q,ee,ie){return B(this,void 0,void 0,(function*(){if(this.grid.hasDetail){let B=this.grid.detailHeight;const re=z.JqUtils.adjustElement(E,`>.${I.rowSelector}`,`<div class='${I.rowClass}' role='row' aria-rowindex='${q+1}'></div>`,(C=>C.data("row")>q));if(Q.node instanceof te.GroupNode)z.JqUtils.addClass(re,se.SbCss.hidden);else if(z.JqUtils.changeDataset(re,"selector",I.rowSelector),re.css("height",this.grid.fixedRows&&Q.isDetail?B:""),re.data("row",q),z.JqUtils.changeClass(re,I.rowClass),Q.isDetail&&(yield this.renderColsDetail(ee,Q,re),ie.detail=this.grid.fixedRows?0:re.height()),0==this.grid.fixedRows&&Q.isDetail){let E=z.Convert.asInt(re.height());E<=C.detail?(re.height(C.detail),E=C.detail):E>this.grid.config.maxDetailHeight&&(re.height(this.grid.config.maxDetailHeight),E=this.grid.config.maxDetailHeight),ie.detail=E}}else ie.detail=0}))}renderCols(C,E,I,Q,ee,te,ie,re,oe,le){return B(this,void 0,void 0,(function*(){const B=new Set;let ue;for(const de of C.rows){const C=null==de?void 0:de.getCells(E);if(z.Convert.isEmpty(C))continue;if(z.Convert.isNull(ue))for(const E of C)if(!z.Convert.isNull(E)&&E.constructor.name==q.GridCell.name){ue=E.col;break}const ce=E!=ae.PartType.Fixed&&(this.grid.mergeColumn||this.grid.mergeRow)?this.grid.viewport.makeMerge(C,Q,I):C;for(const C of ce){if(z.Convert.isNull(C)||C.constructor.name!=q.GridCell.name)continue;const E=C.column,{colSelector:I,colClass:de}=this.makeColClass(Q,E,C);B.add(I);const ce=E.index;let he=ne.SBGrid3.$(`>span.${I}`,te);if(he.length>0&&(z.Convert.isValue(null==ee?void 0:ee.colStart)&&ee.colStart>ce||z.Convert.isValue(null==ee?void 0:ee.colEnd)&&ce>ee.colEnd||z.Convert.isValue(null==ee?void 0:ee.cols)&&ee.cols.indexOf(ce)<0))0==this.grid.fixedRows&&he.css("height","");else{if(C.mergeRow>1&&he.css("height",""),he=z.JqUtils.adjustElement(te,`>span.${I}`,`<span class='${de}' role='gridcell' aria-colindex='${E.colIndex}'></span>`),z.JqUtils.changeClass(he,de),he.data("col",E.index),he.data("row",ie),he.data("column",E),he.data("cell",C),z.JqUtils.changeDataset(he,"selector",I),C.column.mergeRow&&C.mergeRow>1||C.column.mergeColumn&&C.mergeCol>1){if(this.grid.fixedRows){const E=he.outerHeight(!0)-he.outerHeight();he.css("height",this.grid.viewport.getItemHeight(Q).height*C.mergeRow-E)}switch(he.css("grid-area",`${C.row+1} / ${C.col-ue+1} / span ${C.rowSpan} / span ${C.colSpan+C.mergeCol-1}`),he.css("flex-direction","column"),E.valign){case ae.VertAlign.Top:he.css("justify-content","flex-start");break;case ae.VertAlign.Center:he.css("justify-content","center");break;case ae.VertAlign.Bottom:he.css("justify-content","flex-end");break;default:he.css("justify-content","center")}}else if(he.css("height",""),0==this.grid.fixedRows)switch(E.valign){case ae.VertAlign.Top:he.css("justify-content","flex-start");break;case ae.VertAlign.Center:he.css("justify-content","center");break;case ae.VertAlign.Bottom:he.css("justify-content","flex-end");break;default:he.css("justify-content","center")}he.hasClass(se.SbCss.fillHandle)&&this.grid.selectManager.addFillHandlerEvent(he),1==ee.onlyLayout&&he.children().length>0||(re?yield E.renderGroupHeader(he,Q,C):oe?yield E.renderGroupFooter(he,Q,C):le?yield E.renderTreeFooter(he,Q,C):Q.isEdit&&0==C.merge&&E.isEdit(Q)?yield E.renderEdit(he,Q,C):yield E.renderCell(he,Q,C))}}}z.JqUtils.movetoTrash(this.grid.trashCan,te,B)}))}renderColsDetail(C,E,I){return B(this,void 0,void 0,(function*(){const B=new Set,Q=this.grid.detailLayout.rows;for(const ee of Q){const Q=null==ee?void 0:ee.getCells(C);if(!z.Convert.isEmpty(Q))for(const C in Q){const ee=Q[C];if(ee.constructor.name!=q.GridCell.name)continue;if(z.Convert.isNull(ee)||0==ee.visible)continue;const te=ee.column,{colSelector:ie,colClass:re}=this.makeColClass(E,te,ee);B.add(ie);let ne=z.JqUtils.adjustElement(I,`>span.${ie}`,`<span class='${re}' ></span>`);if(z.JqUtils.changeClass(ne,re),z.JqUtils.changeDataset(ne,"selector",ie),z.Convert.isValue(te)){I.data("rowItem",E);const C=yield te.renderDetail(ne,E,ee);this.grid.setEvent("detailScroll","scroll","detailScroll-"+E.rowIndex,this.detailScroll,C),this.grid.setEvent("detailWheel","wheel","detailScroll-"+E.rowIndex,this.detailWheel,C)}}}z.JqUtils.movetoTrash(this.grid.trashCan,I,B)}))}moveToHidden(C){z.Convert.isNull(C)||C.length>0&&this.grid.hiddenPanel.container.append(C)}static getCellFromColumn(C,E){for(const I of C.rows){let C=I.cells;for(const I of C)if(E==(null==I?void 0:I.column))return I}}getContainer(C,E=void 0){const{layout:I}=this.getLayout(C),{rowSelector:B}=this.makeRowClass(C),q=ne.SBGrid3.$(`.${B}`,this.grid.container);if(z.Convert.isValue(E)){const B=RowsPanel.getCellFromColumn(I,E);if(z.Convert.isNull(B))return;const{colSelector:Q}=this.makeColClass(C,E,B);return ne.SBGrid3.$(`.${Q}`,q)}return q}makeColClass(C,E,I){var B,q,ee;const ie=I.mergeRow>1||I.mergeCol>1,re=0===I.mergeRow||0===I.mergeCol,ne=`${se.SbCss.col}-${I.row+1}-${I.col}${ie?"-"+se.SbCss.merge:""}`,oe=this.getLayout(C).layout;let ue=`${se.SbCss.col} ${ne} ${se.SbCss.toClass(E.type)}`+(E.part==ae.PartType.Sticky?" "+se.SbCss.sticky:"")+(0==E.width?` ${se.SbCss.hidden}`:"")+(ie?"":" "+this.grid.selectManager.makeSelectClass(C,E,I,oe,le.PanelType.Body));if(re)ue+=` ${se.SbCss.merged}`;else if(ie&&(ue+=` ${se.SbCss.merge} ${I.mergeRow>1?se.SbCss.merge_row:se.SbCss.merge_col}`,z.Convert.isValue(this.grid.alternateCss))){const E=(null!==(B=null==C?void 0:C.rowNo)&&void 0!==B?B:0)%(this.grid.alternateCss.length+1);E>0&&(ue+=` ${se.SbCss.alternate} ${se.SbCss.alternate}-${E} ${this.grid.alternateCss[E-1]}`)}if(ue+=this.getColCss(C,E.config,I),ue+=I.visible?"":` ${se.SbCss.hidden}`,ue+=(null===(q=E.isValid(C))||void 0===q?void 0:q.state)!=ce.ValidationState.Valid?" "+se.SbCss.invalid:"",C.node instanceof te.GroupNode){const B=C.node.igroup,{headers:q,groups:ee}=E.getGroup(B.field);ue+=this.calcRenderClass(E,q,I,(()=>Q.GridColumn.makeGroupData(B.aggregates,ee,C)));const te=ee.find((C=>C.field==B.field));z.Convert.isValue(te)&&z.Convert.isValue(te.headerCss)&&(ue+=" "+te.headerCss)}else if(C.node instanceof te.FooterNode){const B=C.node;if(B.parent instanceof te.TreeNode){ue+=this.calcRenderClass(E,E.treeFooters,I,(()=>Q.GridColumn.makeTreeData(B.aggregates,E.config.tree,C.parent)));const q=E.config.tree;z.Convert.isValue(q)&&z.Convert.isValue(q.footerCss)&&(ue+=" "+q.footerCss)}else if(B.parent instanceof te.GroupNode){const q=B.parent.igroup,{footers:ee,groups:te}=E.getGroup(q.field);ue+=this.calcRenderClass(E,ee,I,(()=>Q.GridColumn.makeGroupData(B.aggregates,te,C.parent)));const ie=te.find((C=>C.field==q.field));z.Convert.isValue(ie)&&z.Convert.isValue(ie.footerCss)&&(ue+=" "+ie.footerCss)}}return ue+=E.makeColClass(C,I),z.Convert.isValue(E.align)&&ue.indexOf(se.SbCss.left)<0&&ue.indexOf(se.SbCss.center)<0&&ue.indexOf(se.SbCss.right)<0&&(ue+=` ${se.SbCss.toClass(null!==(ee=E.align)&&void 0!==ee?ee:"")}`),{colSelector:ne,colClass:ue}}getColCss(C,E,I){let B="";return I.merged||("function"==typeof E.colCss?B+=" "+E.colCss(C.data,I,C):0==z.Convert.isWhite(E.colCss)&&(B+=" "+E.colCss)),B}static makeRowSelector(C,E=!1){return`${se.SbCss.row}-${C.rowIndex}${E?"-detail":""}`}makeRowClass(C,E=!1){var I;const B=RowsPanel.makeRowSelector(C,E);let q=`${se.SbCss.row} ${B} ${this.grid.fixedRows?se.SbCss.fixed:se.SbCss.variable} ${E?se.SbCss.detail:""}`;if((null==C?void 0:C.status)!=me.DataStatus.Normal&&(q+=` ${se.SbCss.toClass(null==C?void 0:C.status)}`),(null==C?void 0:C.node)instanceof te.GroupNode){const E=C.node.igroup.field;q+=` ${se.SbCss.group} ${se.SbCss.header} ${se.SbCss.toClass(E)} ${se.SbCss.level}-${C.node.level}`}else(null==C?void 0:C.node)instanceof te.TreeNode?q+=` ${se.SbCss.tree} ${se.SbCss.header} ${se.SbCss.level}-${C.node.level}`:(null==C?void 0:C.node)instanceof te.FooterNode?(q+=(null==C?void 0:C.node.parent)instanceof te.GroupNode?` ${se.SbCss.group} ${se.SbCss.footer} ${se.SbCss.toClass(null==C?void 0:C.node.parent.igroup.field)}`:` ${se.SbCss.tree} ${se.SbCss.footer}`,q+=` ${se.SbCss.level}-${C.node.level-1}`):((null==C?void 0:C.isSticky)&&(q+=` ${se.SbCss.sticky}`),(null==C?void 0:C.isSelect)&&(q+=` ${se.SbCss.selected}`),(null==C?void 0:C.isCheck)&&(q+=` ${se.SbCss.checked}`),(null==C?void 0:C.cssClass.length)>0&&(q+=" "+(null==C?void 0:C.cssClass.join(" "))),(null==C?void 0:C.isEdit)&&(q+=` ${se.SbCss.edit}`),"function"==typeof this.grid.config.rowCss?q+=" "+this.grid.config.rowCss(null==C?void 0:C.data,C):0==z.Convert.isWhite(this.grid.config.rowCss)&&(q+=" "+this.grid.config.rowCss),E&&1!=(null==C?void 0:C.isDetail)&&(q+=` ${se.SbCss.hidden}`),z.Convert.isNull(C)&&(q+=` ${se.SbCss.hidden}`));if(z.Convert.isValue(this.grid.alternateCss)){const E=(null!==(I=null==C?void 0:C.rowIndex)&&void 0!==I?I:0)%(this.grid.alternateCss.length+1);E>0&&(q+=` ${se.SbCss.alternate} ${se.SbCss.alternate}-${E} ${this.grid.alternateCss[E-1]}`)}return{rowSelector:B,rowClass:q}}}E.RowsPanel=RowsPanel,RowsPanel.wheelScrollThreshold=3;class HeaderPanel extends LayoutPanel{constructor(C){super(C,se.SbCss.header),this.grid.hasHeader&&this.grid.scrollPanel.panels.push(this)}get layout(){return this.grid.headerLayout}renderParts(C,E){const I=Object.create(null,{renderParts:{get:()=>super.renderParts}});return B(this,void 0,void 0,(function*(){let B=z.JqUtils.adjustElement(C,`>div.${se.SbCss.thead}`,`<div class='${se.SbCss.area} ${se.SbCss.thead}' ></div>`);I.renderParts.call(this,B,E)}))}makeColClass(C,E){var I,B;const q=`${se.SbCss.col}-${E.row+1}-${E.col}`;let ee=q;return z.Convert.isValue(null===(B=null===(I=C.config)||void 0===I?void 0:I.total)||void 0===B?void 0:B.headerCss)&&(ee+=" "+C.config.total.headerCss),z.Convert.isValue(C.totalHeaders[E.row])&&(ee+=this.calcRenderClass(C,C.totalHeaders,E,(()=>{var E;return Q.GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(E=C.config.total)||void 0===E?void 0:E.aggregates)}))),C.part==ae.PartType.Sticky&&(ee+=" "+se.SbCss.sticky),0==C.width&&(ee+=` ${se.SbCss.hidden}`),ee+=this.grid.selectManager.makeSelectClass(void 0,C,E,this.grid.headerLayout,le.PanelType.Header),{colSelector:q,colClass:ee}}renderColumns(C,E,I){var Q,ee,te;return B(this,void 0,void 0,(function*(){let I=z.JqUtils.adjustElement(C,`>div.${se.SbCss.row}.${se.SbCss.header}`,`<div class='${se.SbCss.row} ${se.SbCss.header}'></div>`);if(0==(null!==(te=null===(ee=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===ee?void 0:ee.length)&&void 0!==te?te:0))return I;const B=this.layout,ie=new Set;for(const C of B.rows){const B=null==C?void 0:C.getCells(E);if(!z.Convert.isEmpty(B))for(const C of B){if(z.Convert.isNull(C)||C.constructor.name!=q.GridCell.name)continue;const E=C.column,{colSelector:B,colClass:Q}=this.makeColClass(E,C);ie.add(B);let ee=z.JqUtils.adjustElement(I,`>span.${B}`,`<span class='col ${Q}'></span>`);z.JqUtils.changeClass(ee,`${se.SbCss.col} ${Q}`),ee.data("col",C.col),ee.data("column",E),ee.data("cell",C),z.JqUtils.changeDataset(ee,"selector",B),yield E.renderHeader(ee,C)}}return z.JqUtils.movetoTrash(this.grid.trashCan,I,ie),I}))}createStylePart(C,E,I,Q){var ee,te,ie,re,ne;return B(this,void 0,void 0,(function*(){if(0==(null!==(ie=null===(te=null===(ee=this.layout)||void 0===ee?void 0:ee.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return;let C;const B=this.layout,Q=this.getRowParentCss(se.SbCss.header,I),oe=B.stickyOverflow;for(const I of B.rows){const B=null==I?void 0:I.getCells(E);if(!z.Convert.isEmpty(B))for(const E of B){if(z.Convert.isNull(E)||E.constructor.name!=q.GridCell.name)continue;const I=E.column;z.Convert.isNull(C)&&(C=E.index-1);const B=`${se.SbCss.col}-${E.row+1}-${E.col}`,ee=null!==(re=E.colSpan)&&void 0!==re?re:0,te=null!==(ne=E.rowSpan)&&void 0!==ne?ne:0,ie={"grid-column":`${E.index-C}${ee>1?" / span "+ee:""}`,"grid-row":`${E.row+1}${te>1?" / span "+te:""}`};0==oe&&I.part==ae.PartType.Sticky&&(ie.position="sticky",ie.left=E.stickyLeft+"px",ie.right=E.stickyRight+"px"),this.grid.style.set(`${Q}>.${se.SbCss.row}.${se.SbCss.header}>.${se.SbCss.col}.${B}`,ie)}}}))}getCell(C,E=void 0){return z.Convert.isNull(C)?null:this.grid.headerLayout.findCell(C)}getElement(C,E){const I=ne.SBGrid3.$(`> .${se.SbCss.panel}.${se.SbCss.scroll} > .${se.SbCss.scroll_body} > .${se.SbCss.header} > .${se.SbCss.area} > .${se.SbCss.part} > .${se.SbCss.scroll} > .${se.SbCss.row}-${E.rowIndex}`,this.grid.container),B=this.getCell(C);return z.Convert.isNull(B)?I:ne.SBGrid3.$(`> .${se.SbCss.col}-${B.row+1}-${B.col}`,I)}getContainer(C){const E=ne.SBGrid3.$(`div.${se.SbCss.row}.${se.SbCss.header}`,this.grid.container),I=z.Utils.findCellFromColumn(this.grid.headerLayout,C),{colSelector:B}=this.makeColClass(C,I);return ne.SBGrid3.$(`.${B}`,E)}}E.HeaderPanel=HeaderPanel;class FooterPanel extends LayoutPanel{constructor(C){super(C,se.SbCss.footer),this.grid.hasFooter&&this.grid.scrollPanel.panels.push(this)}get layout(){return this.grid.footerLayout}renderParts(C,E){const I=Object.create(null,{renderParts:{get:()=>super.renderParts}});return B(this,void 0,void 0,(function*(){let B=z.JqUtils.adjustElement(C,`>div.${se.SbCss.tfoot}`,`<div class='${se.SbCss.area} ${se.SbCss.tfoot}' ></div>`);I.renderParts.call(this,B,E)}))}makeColClass(C,E){var I,B;const q=`${se.SbCss.col}-${E.row+1}-${E.col}`;let ee=q;return z.Convert.isValue(null===(B=null===(I=C.config)||void 0===I?void 0:I.total)||void 0===B?void 0:B.footerCss)&&(ee+=" "+C.config.total.footerCss),z.Convert.isValue(C.totalFooters[E.row])&&(ee+=this.calcRenderClass(C,C.totalFooters,E,(()=>{var E;return Q.GridColumn.makeAggregateData(this.grid.dataConfig.aggregates,null===(E=C.config.total)||void 0===E?void 0:E.aggregates)}))),C.part==ae.PartType.Sticky&&(ee+=" "+se.SbCss.sticky),0==C.width&&(ee+=` ${se.SbCss.hidden}`),ee+=this.grid.selectManager.makeSelectClass(void 0,C,E,this.grid.footerLayout,le.PanelType.Footer),{colSelector:q,colClass:ee}}renderColumns(C,E,I){var Q,ee,te;return B(this,void 0,void 0,(function*(){let I=z.JqUtils.adjustElement(C,`>div.${se.SbCss.row}.${se.SbCss.footer}`,`<div class='${se.SbCss.row} ${se.SbCss.footer}'></div>`);if(0==(null!==(te=null===(ee=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===ee?void 0:ee.length)&&void 0!==te?te:0))return I;const B=this.layout,ie=new Set;for(const C of B.rows){const B=null==C?void 0:C.getCells(E);if(!z.Convert.isEmpty(B))for(const C of B){if(z.Convert.isNull(C)||C.constructor.name!=q.GridCell.name)continue;const E=C.column,{colSelector:B,colClass:Q}=this.makeColClass(E,C);ie.add(B);let ee=z.JqUtils.adjustElement(I,`>span.${B}`,`<span class='col ${Q}'></span>`);z.JqUtils.changeClass(ee,`${se.SbCss.col} ${Q}`),ee.data("col",C.col),ee.data("column",E),ee.data("cell",C),z.JqUtils.changeDataset(ee,"selector",B),yield E.renderFooter(ee,C)}}return z.JqUtils.movetoTrash(this.grid.trashCan,I,ie),I}))}createStylePart(C,E,I,Q){var ee,te,ie,re,ne;return B(this,void 0,void 0,(function*(){if(0==(null!==(ie=null===(te=null===(ee=this.layout)||void 0===ee?void 0:ee.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return;let C;const B=this.layout,Q=this.getRowParentCss(se.SbCss.footer,I),oe=B.stickyOverflow;for(const I of B.rows){const B=null==I?void 0:I.getCells(E);if(!z.Convert.isEmpty(B))for(const E of B){if(z.Convert.isNull(E)||E.constructor.name!=q.GridCell.name)continue;const I=E.column;z.Convert.isNull(C)&&(C=E.index-1);const B=`${se.SbCss.col}-${E.row+1}-${E.col}`,ee=null!==(re=E.colSpan)&&void 0!==re?re:0,te=null!==(ne=E.rowSpan)&&void 0!==ne?ne:0,ie={"grid-column":`${E.index-C}${ee>1?" / span "+ee:""}`,"grid-row":`${E.row+1}${te>1?" / span "+te:""}`};0==oe&&I.part==ae.PartType.Sticky&&(ie.position="sticky",ie.left=E.stickyLeft+"px",ie.right=E.stickyRight+"px"),this.grid.style.set(`${Q}>.${se.SbCss.row}.${se.SbCss.footer}>.${se.SbCss.col}.${B}`,ie)}}}))}getCell(C,E=void 0){return z.Convert.isNull(C)?null:this.grid.footerLayout.findCell(C)}getElement(C,E){const I=ne.SBGrid3.$(`> .${se.SbCss.panel}.${se.SbCss.scroll} > .${se.SbCss.scroll_body} > .${se.SbCss.footer} > .${se.SbCss.area} > .${se.SbCss.part} > .${se.SbCss.scroll} > .${se.SbCss.row}-${E.rowIndex}`,this.grid.container),B=this.getCell(C);return z.Convert.isNull(B)?I:ne.SBGrid3.$(`> .${se.SbCss.col}-${B.row+1}-${B.col}`,I)}getContainer(C){const E=ne.SBGrid3.$(`div.${se.SbCss.row}.${se.SbCss.footer}`,this.grid.container),I=z.Utils.findCellFromColumn(this.grid.footerLayout,C),{colSelector:B}=this.makeColClass(C,I);return ne.SBGrid3.$(`.${B}`,E)}}E.FooterPanel=FooterPanel;class FilterPanel extends LayoutPanel{constructor(C){super(C,se.SbCss.filter),this.grid.config.filterable===he.FilterMode.Row&&this.grid.scrollPanel.panels.push(this)}get layout(){return this.grid.filterLayout}renderParts(C,E){const I=Object.create(null,{renderParts:{get:()=>super.renderParts}});return B(this,void 0,void 0,(function*(){let B=z.JqUtils.adjustElement(C,`>div.${se.SbCss.tbody}`,`<div class='${se.SbCss.area} ${se.SbCss.tbody}' ></div>`);I.renderParts.call(this,B,E)}))}renderColumns(C,E,I){var Q,ee,te;return B(this,void 0,void 0,(function*(){let I=z.JqUtils.adjustElement(C,`>div.${se.SbCss.row}.${se.SbCss.filter}`,`<div class='${se.SbCss.row} ${se.SbCss.filter}'></div>`);if(0==(null!==(te=null===(ee=null===(Q=this.layout)||void 0===Q?void 0:Q.rows)||void 0===ee?void 0:ee.length)&&void 0!==te?te:0))return I;const B=this.layout,ie=new Set;for(const C of B.rows){const B=null==C?void 0:C.getCells(E);if(!z.Convert.isEmpty(B))for(const C of B){if(z.Convert.isNull(C)||C.constructor.name!=q.GridCell.name)continue;const E=C.column,{colSelector:B,colClass:Q}=this.makeColClass(E,C);ie.add(B);let ee=z.JqUtils.adjustElement(I,`>span.${B}`,`<span class='${Q}'></span>`);z.JqUtils.changeClass(ee,Q),ee.data("col",C.col),ee.data("column",E),ee.data("cell",C),z.JqUtils.changeDataset(ee,"selector",B),E.part!==ae.PartType.Fixed&&E.renderFilterColumn(ee)}}return z.JqUtils.movetoTrash(this.grid.trashCan,I,ie),I}))}makeColClass(C,E,I){const B=`${se.SbCss.col}-${E.row+1}-${E.col}`;let z=`${B} ${se.SbCss.col}`;return C.part==ae.PartType.Sticky&&(z+=` ${se.SbCss.sticky}`),0==C.width&&(z+=` ${se.SbCss.hidden}`),z+=this.grid.selectManager.makeSelectClass(I,C,E,this.grid.captionLayout,le.PanelType.Filter),{colSelector:B,colClass:z}}createStylePart(C,E,I,Q){var ee,te,ie,re,ne,oe;return B(this,void 0,void 0,(function*(){if(0==(null!==(ie=null===(te=null===(ee=this.layout)||void 0===ee?void 0:ee.rows)||void 0===te?void 0:te.length)&&void 0!==ie?ie:0))return;let C;const B=[],le=this.layout,ue=this.getRowParentCss(se.SbCss.filter,I),de=le.stickyOverflow;for(const I of le.rows){const ee=null==I?void 0:I.getCells(E);if(!z.Convert.isEmpty(ee))for(const E of ee){if(z.Convert.isNull(E)||E.constructor.name!=q.GridCell.name)continue;const I=E.column;z.Convert.isNull(C)&&(C=E.index-1);const ee=`${se.SbCss.col}-${E.row+1}-${E.col}`,te=null!==(re=E.colSpan)&&void 0!==re?re:0,ie=null!==(ne=E.rowSpan)&&void 0!==ne?ne:0,le={"grid-column":`${E.index-C}${te>1?" / span "+te:""}`,"grid-row":`${E.row+1}${ie>1?" / span "+ie:""}`};0==de&&I.part==ae.PartType.Sticky&&(le.position="sticky",le.left=E.stickyLeft+"px",le.right=E.stickyRight+"px"),this.grid.style.set(`${ue}>.${se.SbCss.row}.${se.SbCss.filter}>.${se.SbCss.col}.${ee}`,le),B[I.index]=E.unit==ae.Unit.Pixel||Q>0?E.width+this.unit(E.unit):(null!==(oe=E.column.minWidth)&&void 0!==oe?oe:0)+this.unit(ae.Unit.Pixel)}}}))}getCell(C,E=void 0){return z.Convert.isNull(C)?null:this.grid.filterLayout.findCell(C)}getElement(C,E){const I=ne.SBGrid3.$(`> .${se.SbCss.panel}.${se.SbCss.scroll} > .${se.SbCss.scroll_body} > .${se.SbCss.filter} > .${se.SbCss.area} > .${se.SbCss.part} > .${se.SbCss.scroll} > .${se.SbCss.row}-${E.rowIndex}`,this.grid.container),B=this.getCell(C);return z.Convert.isNull(B)?I:ne.SBGrid3.$(`> .${se.SbCss.col}-${B.row+1}-${B.col}`,I)}getContainer(C){const E=ne.SBGrid3.$(`div.${se.SbCss.row}.${se.SbCss.filter}`,this.grid.container),I=z.Utils.findCellFromColumn(this.grid.filterLayout,C),{colSelector:B}=this.makeColClass(C,I);return ne.SBGrid3.$(`.${B}`,E)}set isEdit(C){this._isEdit=C}get isEdit(){var C,E;if(this.grid.config.filterable===he.FilterMode.Menu)return!1;const I=(null===(E=null===(C=this.grid.focusManager)||void 0===C?void 0:C.focus)||void 0===E?void 0:E.panelType)===le.PanelType.Filter,B=this.isActiveElementInFilter();return I&&B}isActiveElementInFilter(){const C=document.activeElement;return z.Convert.isValue(C.closest(`.${se.SbCss.panel}.${se.SbCss.filter}`))}doCommand(C,E){return E.command===oe.Commands.EditFilter?(this.doFilterEdit(),!1):super.doCommand(C,E)}doFilterEdit(){var C;const E=null===(C=this.grid.focusManager)||void 0===C?void 0:C.focus;if(z.Convert.isNull(E))return;if((null==E?void 0:E.panelType)!==le.PanelType.Filter)return;const I=this.getContainer(E.column);z.Convert.isNull(I)||E.column.filterRenderer.renderFilterColumn(I,!0)}}E.FilterPanel=FilterPanel},5565:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.CopyRange=E.HoverType=E.SelectOptionParser=E.SelectMode=E.SelectType=E.SelectManager=void 0;const z=I(273),q=I(2663),Q=I(5165),ee=I(3354),te=I(5260),ie=I(1163),re=I(5774),ne=I(2224),se=I(6938),oe=I(9797),ae=I(860),le=I(6312),ue=I(7078),de=I(5882),ce=I(7721);class SelectManager extends z.Observer{constructor(C){super(C),this._isMouseDown=!1,this.mouseDown=C=>B(this,void 0,void 0,(function*(){if(this.isMouseDown)return;const E=this.getCol(le.SBGrid3.$(C.target)),I=this.getPanelType(E),B=yield this.grid.getRowItem(E),z=this.grid.getColumn(E);2===C.button&&this.isSelectedCell(null==B?void 0:B.key,null==z?void 0:z.name)||this._mouseDown(B,z,I,C.ctrlKey)})),this._mouseDown=(C,E,I,z)=>B(this,void 0,void 0,(function*(){if(!this.isMouseDown&&!ie.Convert.isNull(E)&&(ie.Convert.isValue(this.copyRange)&&(this.copyRange.fillOriginRange=void 0),z?this.sendClearRefreshEvent(!1):this.sendClearRefreshEvent(),!ie.Convert.isValue(C)||0!=E.selectable(C))){switch(I){case ae.PanelType.Body:this._bodyMouseDown(C,E,z);break;case ae.PanelType.Header:case ae.PanelType.Footer:this.totalMouseDown(E,I);break;case ae.PanelType.Caption:this.captionMouseDown(E)}this.isMouseDown=!0,this.sendRefreshCommand()}})),this.captionMouseDown=C=>{!1!==this.option.columnSelect&&(this.tempSelectType=he.Col,this.addTempCols(C),this._firstColumn=C,this._firstRowItem=void 0,this.prevRowItem=void 0)},this.totalMouseDown=(C,E)=>B(this,void 0,void 0,(function*(){this.tempSelectType=he.Cell,this.tempCells.set(E,new Set([C.name])),this.isMouseDown=!0,this._firstColumn=C,this.prevColumn=C,this.sendRefreshCommand()})),this.bodyMouseMove=C=>B(this,void 0,void 0,(function*(){var E;if(!this.isMouseDown)return;if(1!==C.which)return void(this.isMouseDown=!1);const I=this.getCol(le.SBGrid3.$(C.target)),B=this.getPanelType(I);if(ie.Convert.isNull(B))return;if(B==ae.PanelType.Header||B==ae.PanelType.Footer)return void this.totalMouseMove(C,B);if(ie.Convert.isNull(this._firstRowItem))return;const z=yield this.grid.getRowItem(I),q=this.grid.getColumn(I);(null===(E=this.copyRange)||void 0===E?void 0:E.fillHandleMove)?this.fillHandleMove(z,q,C.clientX,C.clientY):this._bodyMouseMove(z,q)})),this._bodyMouseMove=(C,E)=>B(this,void 0,void 0,(function*(){if(!(ie.Convert.isNull(C)||ie.Convert.isNull(E)||E.config.type==re.ColumnTypes.Frozen||0==E.selectable(C)||this.prevRowItem===C&&this.prevColumn===E)){switch(this.tempCells.clear(),this.tempRows.clear(),this.tempSelectType){case he.Cell:yield this.calcSelectedColumns(this._firstRowItem,this._firstColumn,C,E,((C,E)=>{var I;let B=null!==(I=this.tempCells.get(C.key))&&void 0!==I?I:new Set;E.selectable(C)&&(B.add(E.name),this.tempCells.set(C.key,B))}));break;case he.Row:yield this.calcSelectedRows(this._firstRowItem,C)}this.prevRowItem=C,this.prevColumn=E,this.sendRefreshCommand()}})),this.totalMouseMove=(C,E)=>B(this,void 0,void 0,(function*(){if(!this.isMouseDown)return;const I=this.getCol(le.SBGrid3.$(C.target)),B=this.grid.getColumn(I);ie.Convert.isNull(B)||B.config.type==re.ColumnTypes.Frozen||0!=B.selectable(void 0)&&this.prevColumn!==B&&(this.tempCells.clear(),this.tempRows.clear(),yield this.calcSelectedColumns(void 0,this._firstColumn,void 0,B,((C,I)=>{var B;let z=null!==(B=this.tempCells.get(E))&&void 0!==B?B:new Set;z.add(I.name),this.tempCells.set(E,z)})),this.prevColumn=B,this.sendRefreshCommand())})),this.bodyMouseUp=()=>B(this,void 0,void 0,(function*(){var C,E;this.isMouseDown&&(yield this.addTempToSelect(),this.isMouseDown=!1,(null===(C=this.copyRange)||void 0===C?void 0:C.fillHandleMove)&&(yield this.fillCells()),null===(E=this.copyRange)||void 0===E||E.createFillOriginRange(),yield this.sendRefreshCommand(),this.fireCommandAsync(this,new Q.SelectedCommand),this.refreshRange={})})),this.headerMouseMove=C=>{if(!this.isMouseDown)return;const E=this.getCol(le.SBGrid3.$(C.target)),I=null==E?void 0:E.data("column");ie.Convert.isNull(I)||this.prevColumn!==I&&(this.tempCols.clear(),this.calcSelectedColumns(void 0,this._firstColumn,void 0,I,((C,E)=>{})),this.prevColumn=I,this.fireCommandAsync(this,new Q.RefreshCommand))},this.refreshRange={},this.grid=C}get gridMenu(){return new de.GridMenu(this.grid,[],void 0,void 0)}get selectedRows(){var C;return null!==(C=this._selectedRows)&&void 0!==C?C:this._selectedRows=new Map}get selectedColumns(){var C;return null!==(C=this._selectedColumns)&&void 0!==C?C:this._selectedColumns=new Map}get selectedCells(){var C;return null!==(C=this._selectedCells)&&void 0!==C?C:this._selectedCells=new Map}get option(){var C;return null!==(C=this._option)&&void 0!==C?C:this._option=ie.Convert.isValue(this.grid.config.selectable)?this.grid.config.selectable:void 0}set option(C){this._option=C}get tempCells(){var C;return null!==(C=this._tempCells)&&void 0!==C?C:this._tempCells=new Map}get tempRows(){var C;return null!==(C=this._tempRows)&&void 0!==C?C:this._tempRows=new Set}get tempCols(){var C;return null!==(C=this._tempCols)&&void 0!==C?C:this._tempCols=new Set}get grid(){return this._grid}set grid(C){this._grid=C}get tempSelectType(){return this._tempSelectType}set tempSelectType(C){this._tempSelectType=C}get copyRange(){var C;return null!==(C=this._copyRange)&&void 0!==C?C:this.grid.config.copyable?this._copyRange=new CopyRange(this):void 0}get isMouseDown(){return this._isMouseDown}set isMouseDown(C){this._isMouseDown=C}copy(){return B(this,void 0,void 0,(function*(){if(this.grid.config.copyable&&this.grid.config.selectable)try{ie.Convert.isValue(this.copyRange.fillOriginRange)?this.copyRange.copyRangeList=[this.copyRange.fillOriginRange]:this.copyRange.makeCopyRangeList(),new ne.Clipboard(this.grid).copy(this.copyRange.copyRangeList)}catch(C){if("범위 지정이 잘못되었습니다."!=C)throw C;alert(C)}finally{this.fireCommandAsync(this,new Q.RefreshCommand)}}))}paste(){var C;return B(this,void 0,void 0,(function*(){if(!this.grid.config.copyable)return;if(!this.grid.config.editable)return;if(this.grid.view.editKeyMap.size>0)return;const E=new ne.Clipboard(this.grid),I=this.copyRange.makeColumnByRows(),B=this.copyRange.makeSelectRange(I);yield E.paste(B),null===(C=this.copyRange)||void 0===C||C.createFillOriginRange()}))}addEventHandler(C){this.option&&(this.grid.setEvent("SelectManager","mouseup","SelectMouseUp",(C=>this.bodyMouseUp()),this.grid.container),1!=this.option.rowSelect&&!0!==this.option.columnSelect&&this.option.cellSelect!==he.Row&&this.option.cellSelect!==he.Cell&&this.option.cellSelect!==he.Col||this.grid.setEvent("SelectManager","mousedown","SelectMouseDown",(C=>this.mouseDown(C)),C),this.option.selectMode===fe.Multi&&this.grid.setEvent("SelectManager","mousemove","SelectMouseMove",(C=>this.bodyMouseMove(C)),C)),this.addHoverHandler(C)}addHoverHandler(C){this.grid.config.hover&&(this.jqHover=ie.JqUtils.adjustElement(C,`> div.${ue.SbCss.hover}`,`<div class='${ue.SbCss.hover}'></div>`),this.grid.setEvent("Hover","mousemove","HoverMouseMove",(C=>this.hover(C)),C),this.grid.setEvent("Hover","mouseout","HoverMouseOut",(C=>{this.hideHover()}),C))}hideHover(){var C;null===(C=this.jqHover)||void 0===C||C.css("opacity",0)}hover(C){return B(this,void 0,void 0,(function*(){let E,I,B=this.getRow(le.SBGrid3.$(C.target)),z=this.getCol(le.SBGrid3.$(C.target)),q=0,Q=0,ee=le.SBGrid3.$(C.currentTarget).offset();switch(this.grid.config.hover){case pe.Row:let C=yield this.grid.getRowItem(z);if(ie.Convert.isNull(C))return;q=this.grid.fixedWidth+this.grid.headWidth+this.grid.viewportWidth+this.grid.tailWidth,Q=this.grid.getItemHeight(C).height,I=(null==B?void 0:B.offset().top)-ee.top,E=`translateY(${I}px)`;break;case pe.Col:break;case pe.Cell:if(ie.Convert.isNull(z)||z.length<=0)return;if(z.hasClass(ue.SbCss.frozen))return;let te=z.offset(),re=te.left-ee.left;q=z.outerWidth(!0);const ne=this.adjustHoverWidthAndLeft(z);ie.Convert.isValue(ne)&&(q=ne.width,re=ne.left-ee.left),I=te.top-ee.top,Q=z.outerHeight(!0),E=`translate(${re}px,${I}px)`}this.jqHover.width()!=q&&this.jqHover.width(q),this.jqHover.height()!=Q&&this.jqHover.height(Q),this.jqHover.css({opacity:1}),ie.Convert.isValue(E)&&this.jqHover.css({transform:E})}))}adjustHoverWidthAndLeft(C){const E=C.offset(),I=this.grid.headWidth>0?this.grid.fixedWidth+this.grid.headWidth+this.grid.container.offset().left:0,B=E.left,z=C.outerWidth();if(I>B&&B+z-3>I)return{left:I,width:B+z-I};const q=this.grid.tailWidth>0?I+this.grid.viewportWidth:0;if(B<q&&q<B+z)return{left:B,width:q-E.left};const Q=this.grid.container.find(`.${ue.SbCss.body}.${ue.SbCss.panel}`),ee=Q.offset().left+Q.outerWidth();return ee<B+z?{left:B,width:ee-B}:void 0}getCol(C){var E;if(0!=(null!==(E=null==C?void 0:C.length)&&void 0!==E?E:0))return C.closest(`.${ue.SbCss.col}`)}getRow(C){var E;if(0!=(null!==(E=null==C?void 0:C.length)&&void 0!==E?E:0))return C.closest(`.${ue.SbCss.row}`)}switchRange(C,E){return C>E?[E,C]:[C,E]}addTempToSelect(){var C,E,I,z;return B(this,void 0,void 0,(function*(){switch(this.tempSelectType){case he.Row:let B=!this.isSelectedRow(null===(C=this._firstRowItem)||void 0===C?void 0:C.key);this.selectRows(this.tempRows,B);break;case he.Col:let q=!this.isSelectedColumn(null===(E=this._firstColumn)||void 0===E?void 0:E.name);this.selectColumns(this.tempCols,q);break;case he.Cell:let Q=!this.isSelectedCell(null===(I=this._firstRowItem)||void 0===I?void 0:I.key,null===(z=this._firstColumn)||void 0===z?void 0:z.name);this.selectCells(this.tempCells,Q)}this.tempCells.clear(),this.tempRows.clear(),this.tempCols.clear()}))}isTemporaryCell(C,E){var I;let B=!1;switch(this.tempSelectType){case he.Row:B=!!this.tempRows.has(C);break;case he.Col:B=!!this.tempCols.has(E);break;case he.Cell:B=!!(null===(I=this.tempCells.get(C))||void 0===I?void 0:I.has(E));break;default:B=!1}return B}selectRow(C){return B(this,void 0,void 0,(function*(){return this.option.selectMode===fe.Single&&this.clear(),this.fireCommandAsync(this,new Q.RefreshCommand({rowStart:C.rowIndex,rowEnd:C.rowIndex})),this.selectRows(new Set([C.key]),!0),!0}))}selectRows(C,E=!0){C.forEach((C=>{E?this.addSelectedRow(C):this.removeSelectedRow(C)}))}clear(){this.selectedRows.forEach(((C,E)=>this.removeSelectedRow(E))),this.selectedRows.clear(),this.selectedColumns.clear(),this.selectedCells.clear(),this.tempRows.clear(),this.tempCells.clear(),this.tempCols.clear()}isSelectedRow(C){return this.selectedRows.has(C)}removeSelectedRow(C){this.selectedRows.delete(C);let E=this.grid.view.keyMap.get(C);ie.Convert.isValue(E)&&(E.isSelect=!1)}addSelectedRow(C){const E=new Set;let I=this.grid.view.keyMap.get(C);ie.Convert.isValue(I)&&(I.isSelect=!0),this.grid.columns.forEach((C=>{C.selectable(I)||E.add(C.name)})),this.selectedRows.set(C,E)}selectColumns(C,E){C.forEach((C=>{E?this.addSelectedColumn(C):this.removeSelectedColumn(C)}))}addSelectedColumn(C,E){this.selectedColumns.set(C,new Set),te.Log.debug((()=>["-----\x3e add column",C]))}removeSelectedColumn(C){this.selectedColumns.delete(C),te.Log.debug((()=>["---------\x3eremoved column >> ",C]))}isSelectedCell(C,E){var I,B,z;let q=!1;return this.selectedRows.has(C)&&(q=!(null===(I=this.selectedRows.get(C))||void 0===I?void 0:I.has(E))),!1===q&&this.selectedColumns.has(E)&&(q=!(null===(B=this.selectedColumns.get(E))||void 0===B?void 0:B.has(C))),!1===q&&this.selectedCells.has(C)&&(q=null===(z=this.selectedCells.get(C))||void 0===z?void 0:z.has(E)),q}isSelectedColumn(C){return this.selectedColumns.has(C)}selectCells(C,E=!0){C.forEach(((C,I)=>{C.forEach((C=>{E?this.addSelectedCell(I,C):this.removeSelectedCell(I,C)}))}))}addSelectedCell(C,E){var I,B;if(null===(I=this.selectedRows.get(C))||void 0===I?void 0:I.has(E)){this.selectedRows.get(C).delete(E)}else if(null===(B=this.selectedColumns.get(E))||void 0===B?void 0:B.has(C)){this.selectedColumns.get(E).delete(C)}else{let I=this.selectedCells.get(C);I=null!=I?I:new Set,I.add(E),this.selectedCells.set(C,I)}}removeSelectedCell(C,E){if(this.selectedCells.has(C)){this.selectedCells.get(C).delete(E)}if(this.selectedRows.has(C)){this.selectedRows.get(C).add(E)}if(this.selectedColumns.has(E)){this.selectedColumns.get(E).add(C)}}getSelectedRows(){return ie.Arrays.from(this.selectedRows.keys())}get prevRowItem(){return this._prevRowItem}set prevRowItem(C){this._prevRowItem=C}get prevColumn(){return this._prevColumn}set prevColumn(C){this._prevColumn=C}adjustTempSelectType(C){const E=C.type===re.ColumnTypes.RowNo?he.Row:he.Cell;switch(this.tempSelectType=void 0,E){case he.Cell:this.option.cellSelect!=he.None&&(this.tempSelectType=ie.Convert.parseEnum(he,this.option.cellSelect));break;case he.Row:this.option.rowSelect&&(this.tempSelectType=he.Row)}}_bodyMouseDown(C,E,I){if(!ie.Convert.isNull(C)){switch(this.adjustTempSelectType(E),this.tempSelectType){case he.Row:this.tempRows.add(C.key);break;case he.Cell:this.tempCells.set(C.key,new Set([E.name]));break;case he.Col:this.addTempCols(E)}this.isMouseDown=!0,this._firstRowItem=C,this._firstColumn=E,this.prevRowItem=C,this.prevColumn=E,this.sendRefreshCommand()}}getPanelType(C){const E=C.closest(`.${ue.SbCss.panel}`);return E.length<1?void 0:E.hasClass(ue.SbCss.body)?ae.PanelType.Body:E.hasClass(ue.SbCss.header)?ae.PanelType.Header:E.hasClass(ue.SbCss.footer)?ae.PanelType.Footer:E.hasClass(ue.SbCss.caption)?ae.PanelType.Caption:void 0}adjustRefreshRange(C){const E=this.grid.view.keyMap;this._firstRowItem=E.get(C.rowStart),this.prevRowItem=E.get(C.rowEnd),this._firstColumn=ie.Utils.findGridColumnByName(C.colStart,this.grid.columns),this.prevColumn=ie.Utils.findGridColumnByName(C.colEnd,this.grid.columns)}calcSelectedRows(C,E){return B(this,void 0,void 0,(function*(){let[I,B]=this.switchRange(C.rowIndex,E.rowIndex);for(let C=I;C<=B;C++){let E=yield this.grid.view.getRow(C);this.tempRows.add(E.key)}}))}calcSelectedColumns(C,E,I,z,q){return B(this,void 0,void 0,(function*(){const B=this.tempSelectType===he.Cell?this.grid.rowLayout:this.grid.captionLayout,Q=B.rows.length-1;let{startCell:ee,endCell:te}=SelectManager.findStartEndCell(B,E,z);if(!ie.Convert.isNull(ee)&&!ie.Convert.isNull(te))if(C==I){let E=Math.min(ee.row,te.row),I=Math.min(ee.col,te.col),z=Math.max(ee.row+ee.rowSpan,te.row+te.rowSpan)-1,Q=Math.max(ee.col+ee.colSpan,te.col+te.colSpan)-1;({minRow:E,maxRow:z,minCol:I,maxCol:Q}=SelectManager.calcMinMax(B,E,z,I,Q)),SelectManager.generateCells(B,C,E,z,I,Q,q)}else{const E=SelectManager.calcMinMax(B,0,Q,Math.min(ee.col,te.col),Math.max(ee.col+ee.colSpan,te.col+te.colSpan)-1),z=C.rowIndex>I.rowIndex;if(null!=C){let I=z?0:ee.row,te=z?ee.row:Q,ie=E.minCol,re=E.maxCol;({minRow:I,maxRow:te,minCol:ie,maxCol:re}=SelectManager.calcMinMax(B,I,te,ie,re)),SelectManager.generateCells(B,C,I,te,ie,re,q)}if(C.rowIndex!=I.rowIndex){const z=E.minRow,Q=E.maxRow,ee=E.minCol,te=E.maxCol,ie=Math.min(C.rowIndex,I.rowIndex)+1,re=Math.max(C.rowIndex,I.rowIndex)-1;for(let C=ie;C<=re;C++){let E=yield this.grid.view.getRow(C);SelectManager.generateCells(B,E,z,Q,ee,te,q)}}if(null!=I){let C=z?te.row:0,ee=z?Q:te.row,ie=E.minCol,re=E.maxCol;({minRow:C,maxRow:ee,minCol:ie,maxCol:re}=SelectManager.calcMinMax(B,C,ee,ie,re)),SelectManager.generateCells(B,I,C,ee,ie,re,q)}}}))}static calcMinMax(C,E,I,B,z){const q=se.GridMatrix.toMatrix(C);for(let C=E;C<=I;C++)for(let Q=B;Q<=z;){let ee=q.getCell(C,Q);if(ee.col+ee.colSpan-1>=Q)if(ee.col<B)Q=B=ee.col;else{if(ee.row<E){C=(E=ee.row)-1;break}ee.col+ee.colSpan-1>z&&(z=ee.col+ee.colSpan-1),ee.row+ee.rowSpan-1>I&&(I=ee.row+ee.rowSpan-1),Q+=ee.colSpan}else Q++}return{minRow:E,maxRow:I,minCol:B,maxCol:z}}static generateCells(C,E,I,B,z,q,Q){var ee,te;for(let re=I;re<=B;re++){const I=null===(ee=C.rows[re])||void 0===ee?void 0:ee.cells;if(ie.Convert.isNull(I))break;for(let C=z;C<=q;){let B=I[C];C+=null!==(te=null==B?void 0:B.colSpan)&&void 0!==te?te:1,ie.Convert.isNull(B)||Q(E,B.column)}}}static findStartEndCell(C,E,I){let B,z,q=0;for(const Q of C.rows){const C=Q.cells;for(const Q in C){const ee=C[Q];if(!ie.Convert.isNull(ee)&&(ee.column===E&&ie.Convert.isNull(B)&&(B=ee,q++),ee.column===I&&ie.Convert.isNull(z)&&(z=ee,q++),q>=2))break}if(q>=2)break}return{startCell:B,endCell:z}}addTempCols(C){var E;(null===(E=C.columns)||void 0===E?void 0:E.length)>0?C.columns.forEach((C=>{this.addTempCols(C)})):this.prevColumn=C,this.tempCols.add(C.name)}sendRefreshCommand(){return B(this,void 0,void 0,(function*(){yield this.calcSelectedColumns(this._firstRowItem,this._firstColumn,this.prevRowItem,this.prevColumn,((C,E)=>{var I,B,z,q,Q,ee,te,ie,re,ne;switch(this.tempSelectType){case he.Col:this.refreshRange.colStart=Math.min(null!==(I=this.refreshRange.colStart)&&void 0!==I?I:E.index,E.index),this.refreshRange.colEnd=Math.max(null!==(B=this.refreshRange.colEnd)&&void 0!==B?B:E.index,E.index);break;case he.Row:this.refreshRange.rowStart=Math.min(null!==(z=this.refreshRange.rowStart)&&void 0!==z?z:C.rowIndex,C.rowIndex),this.refreshRange.rowEnd=Math.max(null!==(q=this.refreshRange.rowEnd)&&void 0!==q?q:C.rowIndex,C.rowIndex),this.refreshRange.colStart=void 0,this.refreshRange.colEnd=void 0;break;case he.Cell:this.refreshRange.rowStart=Math.min(null!==(ee=null===(Q=this.refreshRange)||void 0===Q?void 0:Q.rowStart)&&void 0!==ee?ee:null==C?void 0:C.rowIndex,null==C?void 0:C.rowIndex),this.refreshRange.rowEnd=Math.max(null!==(ie=null===(te=this.refreshRange)||void 0===te?void 0:te.rowEnd)&&void 0!==ie?ie:null==C?void 0:C.rowIndex,null==C?void 0:C.rowIndex),this.refreshRange.colStart=Math.min(null!==(re=this.refreshRange.colStart)&&void 0!==re?re:E.index,E.index),this.refreshRange.colEnd=Math.max(null!==(ne=this.refreshRange.colEnd)&&void 0!==ne?ne:E.index,E.index)}})),this.refreshRange.onlyLayout=!0,this.fireCommandAsync(this,new Q.RefreshCommand(this.refreshRange))}))}sendClearRefreshEvent(C=!0){const E=ie.Convert.isValue(this.selectedRows)||ie.Convert.isValue(this.selectedCells)&&ie.Convert.isEmpty(this.selectedColumns),I=ie.Convert.isValue(this.selectedColumns)&&ie.Convert.isNull(this.selectedRows)&&ie.Convert.isNull(this.selectedCells);let B={};if(I)this.selectedColumns.forEach(((C,E)=>{var I,z;const q=ie.Arrays.bfsSearch(this.grid.columns,(C=>C.name==E||C.columns));ie.Convert.isValue(q)&&(B.colStart=Math.min(null!==(I=B.colStart)&&void 0!==I?I:q.index,q.index),B.colEnd=Math.max(null!==(z=B.colEnd)&&void 0!==z?z:q.index,q.index))}));else if(E){[...this.selectedRows.keys(),...this.selectedCells.keys()].forEach((C=>{var E,I;const z=this.grid.view.keyMap.get(C);B.rowStart=Math.min(null!==(E=B.rowStart)&&void 0!==E?E:null==z?void 0:z.rowIndex,null==z?void 0:z.rowIndex),B.rowEnd=Math.max(null!==(I=B.rowEnd)&&void 0!==I?I:null==z?void 0:z.rowIndex,null==z?void 0:z.rowIndex)}))}B.onlyLayout=!0,!0===C&&this.clear(),ie.Convert.isValue(B)&&this.fireCommandAsync(this,new Q.RefreshCommand(B))}makeEdgeClass(C,E,I,B,z,q,Q){var re,ne,se;if(ie.Convert.isEmpty(C))return"";let oe;for(const le of C){const C=q===ae.PanelType.Body?null==E?void 0:E.key:q;try{if(le.type===he.Row&&!1===le.cellMap.has(C))continue;if(le.type===he.Cell&&(!le.cellMap.has(C)||!1===(null===(re=le.cellMap.get(C))||void 0===re?void 0:re.has(I.name))))continue}catch(C){te.Log.error([le,C]);continue}const ue=ie.Utils.findGridColumnByName(le.colStart,this.grid.columns),de=ie.Utils.findGridColumnByName(le.colEnd,this.grid.columns),ce=this.grid.view.keyMap,fe=null===(ne=ce.get(le.rowStart))||void 0===ne?void 0:ne.rowIndex,pe=null===(se=ce.get(le.rowEnd))||void 0===se?void 0:se.rowIndex,me=q===ae.PanelType.Header||q===ae.PanelType.Footer||(null==E?void 0:E.node)instanceof ee.GroupNode;let{startCell:ge,endCell:ve}=SelectManager.findStartEndCell(z,ue,de);if(ie.Convert.isNull(ge)||ie.Convert.isNull(ve))return Q(void 0);let ye=Math.min(ge.row,ve.row),be=Math.min(ge.col,ve.col),Ce=me?z.rows.length-1:Math.max(ge.row+ge.rowSpan,ve.row+ve.rowSpan)-1,we=Math.max(ge.col+ge.colSpan,ve.col+ve.colSpan)-1;ye<=B.row&&B.row<=Ce&&be<=B.col&&B.col<=we&&(oe=fe==pe?{Top:B.row==ye,Bottom:B.row==Ce||B.row+B.rowSpan-1==Ce,Left:B.col==be,Right:B.col==we||B.col+B.colSpan-1==we}:fe==E.rowIndex?{Top:B.row==ye,Bottom:!1,Left:B.col==be,Right:B.col==we||B.col+B.colSpan-1==we}:pe==E.rowIndex?{Top:!1,Bottom:B.row==Ce||B.row+B.rowSpan-1==Ce,Left:B.col==be,Right:B.col==we||B.col+B.colSpan-1==we}:{Top:!1,Bottom:!1,Left:B.col==be,Right:B.col==we||B.col+B.colSpan-1==we});break}return Q(oe)}cancelCopy(){var C;null===(C=this.copyRange)||void 0===C||C.clearCopyRanges(),this.fireCommandAsync(this,new Q.RefreshCommand({}))}selectAll(){var C;this.clear();const E=new Set(this.grid.view.keyMap.keys());this.selectRows(E,!0),null===(C=this.copyRange)||void 0===C||C.createFillOriginRange(),this.fireCommandAsync(this,new Q.RefreshCommand),this.fireCommandAsync(this,new Q.SelectedCommand),this.refreshRange={}}isFillHandleClick(C,E){if(!C.is(`.${ue.SbCss.col}.${ue.SbCss.fillHandle}`))return!1;const I=window.getComputedStyle(C[0],":after").getPropertyValue("border"),B=2*Math.ceil(Number.parseFloat(I)),z=1.5*Math.ceil(Number.parseFloat(C.css("border-width"))),q=E.offsetX+z,Q=E.offsetY+z,ee=C.outerWidth()-B,te=C.outerHeight()-B;return ee<=q&&q<=ee+B&&te<=Q&&Q<=te+B}get copyConfig(){var C;return null!==(C=this._copyConfig)&&void 0!==C?C:this._copyConfig=ie.Convert.isValue(this.grid.config.copyable)?this.grid.config.copyable:void 0}addFillHandlerEvent(C){var E;if(!(null===(E=this.copyConfig)||void 0===E?void 0:E.fill))return;const I=C;this.grid.setEvent("SelectManager","mousedown",this.name+"_fillHandler",(C=>B(this,void 0,void 0,(function*(){if(ie.Convert.isNull(this.copyRange.fillOriginRange))return;if(0==this.isFillHandleClick(I,C))return;this.cancelEdit(I),this.copyRange.fillHandleStart(),this.isMouseDown=!0;const E=this.grid.view.keyMap,B=this.copyRange.fillOriginRange,z=E.get(B.rowStart),q=E.get(B.rowEnd),Q=B.colStart,ee=B.colEnd;return this.refreshRange={rowStart:z.rowIndex,rowEnd:q.index,colStart:ie.Utils.findGridColumnByName(Q,this.grid.columns).index,colEnd:ie.Utils.findGridColumnByName(ee,this.grid.columns).index},!1}))),I)}cancelEdit(C){return B(this,void 0,void 0,(function*(){const E=this.grid.getColumn(C),I=yield this.grid.getRowItem(C);if(!ie.Convert.isNull(E)&&!ie.Convert.isNull(I)&&E.isEdit(I)){const C=new Q.EscapeCommand;this.fireCommandAsync(this,C)}}))}isFillHandler(C,E,I){var B;return(null===(B=this.copyConfig)||void 0===B?void 0:B.fill)&&this.copyRange.isFillHandler(C,E,I)}getCopyRangeClass(C,E,I,B,z){return ie.Convert.isNull(this.copyRange)?"":this.makeEdgeClass(this.copyRange.copyRangeList,C,E,I,B,z,(C=>{let E=[];return(null==C?void 0:C.Top)&&E.push(ue.SbCss.copy_top),(null==C?void 0:C.Bottom)&&E.push(ue.SbCss.copy_bottom),(null==C?void 0:C.Left)&&E.push(ue.SbCss.copy_left),(null==C?void 0:C.Right)&&E.push(ue.SbCss.copy_right),E.join(" ").toString()}))}getFillHandleRangeClass(C,E,I,B,z){var q;return ie.Convert.isNull(null===(q=this.copyRange)||void 0===q?void 0:q.fillOriginRange)?"":this.makeEdgeClass([this.copyRange.fillOriginRange],C,E,I,B,z,(C=>{if(ie.Convert.isEmpty(C))return"";let E=[];return(null==C?void 0:C.Top)&&E.push(ue.SbCss.fillHandle_top),(null==C?void 0:C.Bottom)&&E.push(ue.SbCss.fillHandle_bottom),(null==C?void 0:C.Left)&&E.push(ue.SbCss.fillHandle_left),(null==C?void 0:C.Right)&&E.push(ue.SbCss.fillHandle_right),E.join(" ").toString()}))}fillHandleMove(C,E,I,B){this.copyRange.adjustFillRange(C,E,this.prevRowItem,this.prevColumn,I,B),this.prevColumn=E,this.prevRowItem=C,this.sendRefreshCommand()}fillCells(){return B(this,void 0,void 0,(function*(){const C=this.copyRange.fillOriginRange,E=this.copyRange.copyRangeList;try{if(ie.Convert.isNull(C)||ie.Convert.isNull(E))return;this.clear();const I=new ne.Clipboard(this.grid);yield I.fillCells(C,E[0])}catch(C){te.Log.error(["fill handle move Exception ocurred",C])}finally{this.copyRange.fillHandleMove=!1,this.copyRange.copyRangeList=void 0,this.copyRange.fillOriginRange=void 0}}))}makeSelectClass(C,E,I,B,z){let q="";const Q=z===ae.PanelType.Body?null==C?void 0:C.key:z;if(ie.Convert.isValue(this.grid.config.selectable)&&(ie.Convert.isNull(C)||E.selectable(C))){q+=this.isTemporaryCell(Q,E.name)?` ${ue.SbCss.selecting}`:"";const ee=this.isSelectedCell(Q,E.name);z===ae.PanelType.Body?q+=C.isSelect&&!ee?` ${ue.SbCss.unselected}`:0==C.isSelect&&ee?` ${ue.SbCss.selected}`:"":q+=ee?` ${ue.SbCss.selected}`:"";const te=this.getCopyRangeClass(C,E,I,B,z);q+=ie.Convert.isValue(te)?` ${te}`:"";q+=` ${this.getFillHandleRangeClass(C,E,I,B,z)}`;this.isFillHandler(C,E,z)&&(q+=` ${ue.SbCss.fillHandle}`)}return q+=this.grid.focusManager.isFocused(C,E,z,I)?` ${ue.SbCss.focused} `:"",q}doCommand(C,E){if(!ie.Convert.isNull(this.option)){switch(E.command){case q.Commands.Escape:this.cancelCopy();break;case q.Commands.Select:this.doSelect(E);break;default:return super.doCommand(C,E)}return!0}}doSelect(C){var E,I,z,q,Q,ee;return B(this,void 0,void 0,(function*(){const B=null===(I=null===(E=this.grid.config)||void 0===E?void 0:E.navigatable)||void 0===I?void 0:I.syncSelect,te=null===(q=null===(z=this.option)||void 0===z?void 0:z.syncFocus)||void 0===q||q;if(!0===B||!0===te){switch(null===(ee=null===(Q=this.grid.config)||void 0===Q?void 0:Q.selectable)||void 0===ee?void 0:ee.cellSelect){case he.Row:case he.Cell:this.isMouseDown=!1,yield this._mouseDown(C.start.rowItem,C.start.column,ae.PanelType.Body,!1),yield this._bodyMouseMove(C.end.rowItem,C.end.column),yield this.bodyMouseUp();default:ie.Convert.isNull(C.start)&&ie.Convert.isNull(C.end)&&this.selectAll()}}}))}focusMoved(C){return B(this,void 0,void 0,(function*(){}))}canCopy(){if(!this.grid.config.copyable)return!1;let C=!0;try{ie.Convert.isValue(this.copyRange.fillOriginRange)?this.copyRange.copyRangeList=[this.copyRange.fillOriginRange]:(this.copyRange.makeCopyRangeList(),ie.Convert.isEmpty(this.copyRange.copyRangeList)&&(C=!1))}catch(E){C=!1}finally{return this.copyRange.clearCopyRanges(),C}}disconnect(){}}var he,fe,pe,me;E.SelectManager=SelectManager,function(C){C.Cell="cell",C.Row="row",C.Col="col",C.None="none"}(he||(E.SelectType=he={})),function(C){C.Single="single",C.Multi="multi"}(fe||(E.SelectMode=fe={}));class SelectOptionParser{static parseSelectable(C){var E,I,B,z,q,Q,ee;null===(E=le.SBGrid3.default)||void 0===E||E.selectable;const te=null===(I=le.SBGrid3.default)||void 0===I?void 0:I.defaultSelectable;return!0===C?te:!1===C?void 0:"string"==typeof C?SelectOptionParser.parseSelectable({selectMode:ie.Convert.parseEnum(fe,C)}):{selectMode:ie.Convert.default(C.selectMode,null!==(B=null==te?void 0:te.selectMode)&&void 0!==B?B:fe.Single,(C=>ie.Convert.parseEnum(fe,C))),rowSelect:ie.Convert.default(C.rowSelect,null===(z=null==te?void 0:te.rowSelect)||void 0===z||z),columnSelect:ie.Convert.default(C.columnSelect,null!==(q=null==te?void 0:te.columnSelect)&&void 0!==q&&q),cellSelect:ie.Convert.default(C.cellSelect,null==te?void 0:te.cellSelect,(C=>ie.Convert.parseEnum(he,C))),rowCheckable:ie.Convert.default(C.rowCheckable,null!==(Q=null==te?void 0:te.rowCheckable)&&void 0!==Q&&Q),syncFocus:ie.Convert.default(C.syncFocus,null===(ee=null==te?void 0:te.syncFocus)||void 0===ee||ee)}}}E.SelectOptionParser=SelectOptionParser,function(C){C.Cell="cell",C.Row="row",C.Col="col"}(pe||(E.HoverType=pe={})),function(C){C.x="x",C.y="y"}(me||(me={}));class CopyRange{constructor(C){this._fillHandleMove=!1,this.preX=0,this.preY=0,this._selectManager=C,this._grid=C.grid}get copyRangeList(){return this._copyRangeList}set copyRangeList(C){this._copyRangeList=C}get fillOriginRange(){return this._fillHandleOriginRange}set fillOriginRange(C){this._fillHandleOriginRange=C}get fillHandleMove(){return this._fillHandleMove}set fillHandleMove(C){this._fillHandleMove=C}createFillOriginRange(){const C=this.makeColumnByRows();try{this.validRange(C);(C.size>1||[...C.values()].some((C=>(null==C?void 0:C.length)>1)))&&this.validMultiRowSelectRange(C);const E=this.makeSelectRange(C);this.fillOriginRange=1===(null==E?void 0:E.length)?E[0]:void 0}catch(C){this._fillHandleOriginRange=void 0}}makeSelectRange(C){const E=[];let I;return CopyRange.sortColumns([...C.keys()],this._grid).forEach((B=>{I=null!=I?I:CopyRange.sortRows([...C.get(B)],this._grid);I.every((C=>ie.Convert.isNull(C)))&&(I=[...C.get(B)]),I.forEach((C=>{const I=this.searchRange(E,B,C);if(ie.Convert.isNull(I)){let I=this.createSelectRange(B,C);E.push(I)}else this.joinCell(I,C,B)}))})),E}adjustHiddenColumn(C){var E,I;this._grid.columns;const B=null===(E=C[0])||void 0===E?void 0:E.index,z=null===(I=C.at(-1))||void 0===I?void 0:I.index,q=this._grid.wholeColumns;for(let E=B+1;E<z;E++){const I=ie.Arrays.bfsSearch(q,(C=>C.index===E||C.columns));!1===(null==I?void 0:I.visible)&&C.push(I)}return CopyRange.sortColumns(C,this._grid)}joinCell(C,E,I){var B,z,q,Q,ee,te,re,ne;const se=E instanceof oe.RowItem?E.key:E,ae=this._grid.view.keyMap;switch(C.type){case he.Row:const oe=null!==(B=C.cellMap)&&void 0!==B?B:new Map;oe.set(se,void 0),C.cellMap=oe,C.rowStart=ae.get(C.rowStart).rowIndex>E.rowIndex?E.key:C.rowStart,C.rowEnd=ae.get(C.rowEnd).rowIndex<E.rowIndex?E.key:C.rowEnd;break;case he.Col:break;case he.Cell:const le=null!==(q=null===(z=C.cellMap)||void 0===z?void 0:z.get(se))&&void 0!==q?q:new Set;le.add(I.name);const ue=null!==(Q=C.cellMap)&&void 0!==Q?Q:new Map;ue.set(se,le),C.cellMap=ue,C.rowStart=(null===(ee=ae.get(C.rowStart))||void 0===ee?void 0:ee.rowIndex)>(null==E?void 0:E.rowIndex)?null==E?void 0:E.key:C.rowStart,C.rowEnd=(null===(te=ae.get(C.rowEnd))||void 0===te?void 0:te.rowIndex)<(null==E?void 0:E.rowIndex)?null==E?void 0:E.key:C.rowEnd,C.colStart=(null===(re=ie.Utils.findGridColumnByName(C.colStart,this._grid.wholeColumns))||void 0===re?void 0:re.index)>I.index?I.name:C.colStart,C.colEnd=(null===(ne=ie.Utils.findGridColumnByName(C.colEnd,this._grid.wholeColumns))||void 0===ne?void 0:ne.index)<=I.index?I.name:C.colEnd}return C}createSelectRange(C,E){let I;const B=E instanceof oe.RowItem?null==E?void 0:E.key:E;return I=void 0===C?{type:he.Row,cellMap:(new Map).set(B,void 0),rowStart:E instanceof oe.RowItem?B:void 0,rowEnd:E instanceof oe.RowItem?B:void 0,colStart:this._grid.columns[0].name,colEnd:this.findLastColumn(this._grid.columns[this._grid.columns.length-1]).name}:{type:he.Cell,cellMap:(new Map).set(B,(new Set).add(C.name)),rowStart:E instanceof oe.RowItem?B:void 0,rowEnd:E instanceof oe.RowItem?B:void 0,colStart:C.name,colEnd:C.name},I}makeColumnByRows(){const C=[...this._selectManager.selectedRows.keys()],E=this._selectManager.selectedCells,I=[...this._selectManager.selectedColumns.keys()],B=new Map,z=this._grid.view.keyMap;return C.forEach((C=>{var E;if(z.has(C)){const I=null!==(E=B.get(void 0))&&void 0!==E?E:[];I.includes(C)||I.push(C),B.set(void 0,I)}})),E.forEach(((C,E)=>{const I=this._grid.wholeColumns;C.forEach((C=>{var z;const q=ie.Arrays.bfsSearch(I,(E=>E.name===C||E.columns));if(ie.Convert.isValue(q)){const C=null!==(z=B.get(q))&&void 0!==z?z:[];C.includes(E)||C.push(E),B.set(q,C)}}))})),I.forEach((C=>B.set(ie.Utils.findGridColumnByName(C,this._grid.columns),void 0))),B}validRange(C){this._grid.view;const E=[...C.values()];let I=null==E?void 0:E.every((C=>{if(ie.Convert.isNull(C))throw"컬럼 선택 복사는 지원되지 않습니다.";return E.every((E=>C.length==E.length&&C.every(((C,I)=>C==E[I]))))}));if(!I)throw"범위 지정이 잘못되었습니다.";return I}validMultiRowSelectRange(C){const root=C=>ie.Convert.isValue(C.parent)?root(C.parent):C,isSelectedColumn=E=>!(!ie.Convert.isNull(E.field)&&!C.has(E))&&E.columns.every((C=>isSelectedColumn(C)));if(![...C.keys()].every((C=>{if(ie.Convert.isNull(C))return!0;const E=root(C);return isSelectedColumn(E)})))throw"멀티로우 선택 실패."}searchRange(C,E,I){const B=this._grid.view.keyMap;return C.find((C=>{const z=B.get(C.rowStart),q=B.get(C.rowEnd);let Q=!1;if(I instanceof oe.RowItem?Q=(null==z?void 0:z.rowIndex)<=(null==I?void 0:I.rowIndex)&&(null==I?void 0:I.rowIndex)<=(null==q?void 0:q.rowIndex)+1:"string"==typeof I&&(Q=!0),void 0===E)return C.type===he.Row&&Q;if(C.type!==he.Cell)return!1;if(Q){const I=ie.Utils.findGridColumnByName(C.colStart,this._grid.wholeColumns),B=ie.Utils.findGridColumnByName(C.colEnd,this._grid.wholeColumns);if(B==E)return!0;const z=ie.Utils.findCellFromColumn(this._grid.rowLayout,B),q=this._grid.rowLayout.toMatrix().getCell(z.row,z.col+z.colSpan);return I.index<=E.index&&q.column==E}return!1}))}findLastColumn(C){const E=C.columns;return ie.Convert.isValue(E)?this.findLastColumn(E[E.length-1]):C}makeCopyRangeList(){const C=this.makeColumnByRows();try{return this.validRange(C),this.copyRangeList=this.makeSelectRange(C),this.copyRangeList}catch(C){throw this.copyRangeList=void 0,C}}isFillHandler(C,E,I){var B,z;if(I!=ae.PanelType.Body)return!1;if(C.node instanceof ee.GroupNode)return!1;if(E.part===ce.PartType.Fixed)return!1;const q={rowKey:null===(B=this.fillOriginRange)||void 0===B?void 0:B.rowEnd,colName:null===(z=this.fillOriginRange)||void 0===z?void 0:z.colEnd};return(null==q?void 0:q.rowKey)===C.key&&(null==q?void 0:q.colName)===E.name}initRange(C,E,I){var B,z,q,Q;const ee=this._grid.view.keyMap,te=ie.Utils.findGridColumnByName(null===(B=this.fillOriginRange)||void 0===B?void 0:B.colStart,this._grid.columns),re=ee.get(null===(z=this.fillOriginRange)||void 0===z?void 0:z.rowStart);let ne,se;switch(C){case me.x:se=te.index===I.index?(null===(q=ie.Utils.findCellFromColumn(this._grid.rowLayout,te))||void 0===q?void 0:q.row)>(null===(Q=ie.Utils.findCellFromColumn(this._grid.rowLayout,I))||void 0===Q?void 0:Q.row):te.index>I.index,ne={type:this._selectManager.tempSelectType,rowStart:this.fillOriginRange.rowStart,rowEnd:this.fillOriginRange.rowEnd,colStart:se?I.name:this.fillOriginRange.colStart,colEnd:se?this.fillOriginRange.colEnd:I.name,axis:C};break;case me.y:se=re.index>E.index,ne={type:this._selectManager.tempSelectType,rowStart:se?E.key:this.fillOriginRange.rowStart,rowEnd:se?this.fillOriginRange.rowEnd:E.key,colStart:this.fillOriginRange.colStart,colEnd:this.fillOriginRange.colEnd,axis:C}}return ne}adjustFillRange(C,E,I,z,q,Q){return B(this,void 0,void 0,(function*(){const B=this._grid.view.keyMap,ee=this.getAxis(C,E,I,z,q,Q),te=this.initRange(ee,C,E),re=B.get(null==te?void 0:te.rowStart),ne=B.get(null==te?void 0:te.rowEnd),se=ie.Utils.findGridColumnByName(null==te?void 0:te.colStart,this._grid.columns),oe=ie.Utils.findGridColumnByName(null==te?void 0:te.colEnd,this._grid.columns);ie.Convert.isNull(se)||ie.Convert.isNull(oe)||(yield this._selectManager.calcSelectedColumns(re,se,ne,oe,((C,E)=>{this.joinCell(te,C,E)})),this.copyRangeList=[te])}))}getAxis(C,E,I,B,z,q){const Q=this.fillOriginRange;if(Q.type===he.Row)return me.y;if((()=>{if(Q.rowStart===Q.rowEnd&&Q.colStart===Q.colEnd)return!1;return[...Q.cellMap.values()].some((C=>[...C].some((C=>{const E=ie.Utils.findGridColumnByName(C,this._grid.wholeColumns);return ie.Convert.isValue(E.parent)||ie.Convert.isValue(E.columns)}))))})())return me.y;ie.Convert.isNull(this._copyRangeList)&&(this.preX=0,this.preY=0);const ee=Math.abs(this.preX-z),te=Math.abs(this.preY-q);return ee<20&&te<20||(this.axis=ee>te?me.x:me.y,this.preX=z,this.preY=q),this.axis}clearCopyRanges(){this.copyRangeList=[]}fillHandleStart(){this.copyRangeList=void 0,this.fillHandleMove=!0}static sortColumns(C,E){const I=C.sort(((C,I)=>{const B="string"==typeof C?ie.Utils.findGridColumnByName(C,E.wholeColumns):C,z="string"==typeof I?ie.Utils.findGridColumnByName(I,E.wholeColumns):I;let q=B.index,Q=z.index;if(q===Q){const C=ie.Utils.findCellFromColumn(E.rowLayout,B),I=ie.Utils.findCellFromColumn(E.rowLayout,z);q+=C.row,Q+=I.row}return q<Q?-1:q==Q?0:1}));return"string"==typeof I[0]?I.map((C=>ie.Utils.findGridColumnByName(C.toString(),E.wholeColumns))):I}static sortRows(C,E){const I=E.view.keyMap;return C.sort(((C,E)=>{var B,z;const q=null===(B=I.get(C))||void 0===B?void 0:B.rowIndex,Q=null===(z=I.get(E))||void 0===z?void 0:z.rowIndex;return q<Q?-1:q==Q?0:1})).map((C=>I.get(C)))}}E.CopyRange=CopyRange},121:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.CaptionContentRenderer=E.ValidationContentRenderer=E.ContentRenderer=E.TooltipCategory=E.Placement=E.Tooltip=void 0;const z=I(1163),q=I(7078),Q=I(6312),ee=I(860),te=I(3419);var ie,re,ne;E.Tooltip=class Tooltip{constructor(C){this._grid=C}addEventHandler(C){this._grid.setEvent("tooltip","mouseover","tooltip-hover",(C=>this.mouseover(C)),this._grid.container)}mouseover(C){return B(this,void 0,void 0,(function*(){if(this.hasInvalidEditingFocus())return;const E=Q.SBGrid3.$(C.target),I=this.findOptionByTarget(E);E.hasClass(q.SbCss.tooltip)||(z.Convert.isNull(I)?this.clearTooltips():yield this.renderAbsoluteTooltip(E,I))}))}renderAbsoluteTooltip(C,E){return B(this,void 0,void 0,(function*(){const I=E,B=C.closest(I.target);(z.Convert.isNull(this._lastTarget)||B[0]!=this._lastTarget)&&(this.clearTooltips(),this.render(this._grid.container,B,I),this._lastTarget=C[0])}))}renderRalativeTooltip(C,E,I){if(E.length<1)return;const B=this._grid.getColumn(E),z=this._grid.getRowItem(E);E.data("selector");return this.render(C,E,I,!0,z,B)}clearTooltips(){this._grid.container.find(`.${q.SbCss.tooltip}`).each(((C,E)=>{var I,B;const z=Q.SBGrid3.$(E),q=this.findOptionByTooltip(z),ee=null!==(B=null===(I=null==q?void 0:q.delay)||void 0===I?void 0:I.hide)&&void 0!==B?B:0;this.fadeout(z,ee)})),this._lastTarget=void 0}findOptionByTooltip(C){const E=C.data("rowSelector"),I=C.data("cellSelector"),B=this._grid.container.find(`.${q.SbCss.row}.${z.Convert.isValue(E)?+E:q.SbCss.caption}>.${q.SbCss.col}.${I}`);if(B.length<1)return;const Q=C.hasClass(re.Validation)?re.Validation:C.hasClass(re.Cell)?re.Cell:C.hasClass(re.Caption)?re.Caption:void 0;return this.findOptionByJqCol(B,Q)}findOptionByJqCol(C,E){const I=this._grid.getColumn(C).config.tooltip;return z.Convert.isValue(I)?I[E]:void 0}findOptionByTarget(C){const E=C.closest(`.${q.SbCss.col}`);if(z.Convert.isNull(E))return;const I=this.getTooltipConfig(E);if(z.Convert.isNull(I))return;const B=Object.entries(I);let Q=B.find((([E,I])=>C.is(null==I?void 0:I.target)));return z.Convert.isNull(Q)&&(Q=B.find((([C,I])=>E.is(null==I?void 0:I.target)))),z.Convert.isValue(Q)?Q[1]:void 0}getTooltipConfig(C){const E=this._grid.getColumn(C);if(z.Convert.isNull(E))return;return E.config.tooltip}static getTooltipSelector(C){switch(C){case re.Cell:return ContentRenderer.target;case re.Caption:return CaptionContentRenderer.target;case re.Validation:return ValidationContentRenderer.target}}static getTitleFunc(C){switch(C){case re.Cell:return ContentRenderer.defaultFunc;case re.Caption:return CaptionContentRenderer.defaultFunc;case re.Validation:return ValidationContentRenderer.defaultFunc}}renderValidationTooltip(){var C,E;const I=this._grid.focusManager.focus;if(z.Convert.isValue(I)&&I.panelType==ee.PanelType.Body&&(null===(C=null==I?void 0:I.column)||void 0===C?void 0:C.isEdit(I.rowItem))){const C=this._grid.getContainer(null==I?void 0:I.rowItem,null==I?void 0:I.column);if(z.Convert.isNull(C))return;const B=null===(E=null==I?void 0:I.column)||void 0===E?void 0:E.isValid(I.rowItem);if((null==B?void 0:B.state)===te.ValidationState.Valid)this.clearTooltips();else{let E=I.column.tooltip.validation;const B=C.data("selector"),z=C.closest(`.${q.SbCss.scroll}`).find(`.${q.SbCss.last}.${q.SbCss.row}>.${q.SbCss.col}.${B}`);this._grid.container.find(`.${q.SbCss.tooltip}`).remove();this.renderRalativeTooltip(z,C,E)}}else this.clearTooltips()}hasInvalidEditingFocus(){var C,E;const I=this._grid.focusManager.focus;if(z.Convert.isValue(I)&&I.panelType==ee.PanelType.Body&&(null===(C=null==I?void 0:I.column)||void 0===C?void 0:C.isEdit(I.rowItem))){const C=null===(E=null==I?void 0:I.column)||void 0===E?void 0:E.isValid(I.rowItem);if((null==C?void 0:C.state)!==te.ValidationState.Valid)return!0}return!1}render(C,E,I,B=!1,Q,ee){var te,ie;const ne=E.closest(`.${q.SbCss.col}`);if(z.Convert.isNull(ne))return;const se=ne.data("selector"),oe=E.closest(`.${q.SbCss.row}`),ae=oe.data("selector");z.Convert.isNull(ee)&&(ee=this._grid.getColumn(ne)),z.Convert.isNull(Q)&&oe.length>0&&(Q=this._grid.getRowItem(oe));const le=this.getContentRenderer(z.Convert.parseEnum(re,I.type),Q,ee,I);if(z.Convert.isNull(I.template)&&z.Convert.isEmpty(le.getTitle()))return;const ue=z.JqUtils.adjustElement(C,`.${q.SbCss.tooltip}.${I.type}.${se}${null!==(te="."+ae)&&void 0!==te?te:""}`,`<div class ='${q.SbCss.tooltip} ${I.type} ${se}${z.Convert.isValue(ae)?" "+ae:""}${B?" "+q.SbCss.fixed:""}'></div>`);return le.renderTitle(ue),B||ue.css("position","absolute"),this.setPosition(E,I,se,ae,B),ue.data("cellSelector",se),ue.data("rowSelector",ae),this.show(ue,null===(ie=I.delay)||void 0===ie?void 0:ie.show),ue}getContentRenderer(C,E,I,B){switch(C){case re.Cell:return new ContentRenderer(E,I,B);case re.Validation:return new ValidationContentRenderer(E,I,B);case re.Caption:return new CaptionContentRenderer(E,I,B)}}setPosition(C,E,I,B,Q){const ee=this._grid.container.find(`.${q.SbCss.tooltip}.${E.type}.${I}${z.Convert.isValue(B)?"."+B:""}${Q?"."+q.SbCss.fixed:""}`);let te=E.placement;z.Convert.isNull(ee.data("placement"))&&ee.attr("data-placement",E.placement);const ie=Q?C.closest(`.${q.SbCss.scroll}`).find(`.${q.SbCss.row}.${q.SbCss.last}>.${q.SbCss.col}.${I}`):this._grid.container,re=new PopupPosition(ie,this._grid).move(ee,C,te,!Q);ee.attr("data-placement",re)}setRalativePosition(C,E,I,B){const z=this._grid.container.find(`.${q.SbCss.tooltip}.${E.type}.${I}.${B}.${q.SbCss.fixed}`);let Q=E.placement;const ee=C.closest(`.${q.SbCss.scroll}`).find(`.${q.SbCss.row}.${q.SbCss.last}`);Q=new PopupPosition(ee,this._grid).move(z,C,Q,!1),z.attr("data-placement",Q)}setAbsolutePosition(C,E,I,B){var Q;const ee=this._grid.container.find(`.${q.SbCss.tooltip}.${E.type}.${I}${z.Convert.isValue(B)?"."+B:""}`);let te=null!==(Q=ee.data("placement"))&&void 0!==Q?Q:E.placement&&ee.attr("data-placement",E.placement);te!=new PopupPosition(this._grid.container,this._grid).move(ee,C,te,!0)&&ee.attr("data-placement",te)}show(C,E){const I=.001*E;I>0?(C.css("transition","opacity 0.1s ease-in-out"),C.css("transition-delay",I+"s"),C.addClass("show")):C.addClass("show")}fadeout(C,E){if(C.length<=0)return;const I=.001*E;if(I>0){C.css("transition","opacity 0.1s ease-in-out"),C.css("transition-delay",I+"s");const E=setTimeout((()=>{C.removeClass("show"),C.remove(),clearTimeout(E)}),I+1e3)}else C.remove()}},function(C){C.Top="top",C.Bottom="bottom",C.Left="left",C.Right="right"}(ie||(E.Placement=ie={})),function(C){C.Validation="validation",C.Cell="cell",C.Caption="caption"}(re||(E.TooltipCategory=re={}));class ContentRenderer{get template(){var C;return null!==(C=this._template)&&void 0!==C?C:z.Convert.isEmpty(this.option.template)?void 0:this._template=z.Utils.createTemplate(this.option.template)}constructor(C,E,I){this.rowItem=C,this.column=E,this.option=I}renderTitle(C){const E=z.JqUtils.adjustElement(C,` span.${q.SbCss.title}`,`<span class = '${q.SbCss.title}'></span>`);if(z.Convert.isValue(this.option.template))this.renderTempate(E,this.template);else{const C=this.option.title,I=typeof C,B="string"===I?null==C?void 0:C.toString():"function"===I?C(this.column,this.rowItem):void 0;E.text(B)}}renderTempate(C,E){const I=E(this.column.getTooltipData(this.rowItem));C.html(I)}getTitle(){const C=this.option.title,E=typeof C;return"string"===E?null==C?void 0:C.toString():"function"===E?C(this.column,this.rowItem):void 0}}E.ContentRenderer=ContentRenderer,ContentRenderer.defaultFunc=(C,E)=>C.getValue(E),ContentRenderer.target=".sbgrid-panel.sbgrid-body .sbgrid-row>.sbgrid-col";class ValidationContentRenderer extends ContentRenderer{renderTempate(C,E){const I=E(this.column.isValid(this.rowItem));C.html(I)}}E.ValidationContentRenderer=ValidationContentRenderer,ValidationContentRenderer.defaultFunc=(C,E)=>{var I;return null===(I=C.isValid(E))||void 0===I?void 0:I.message},ValidationContentRenderer.target=".sbgrid-invalid.sbgrid-indicator";class CaptionContentRenderer extends ContentRenderer{renderTempate(C,E){const I=E(this.column.config);C.html(I)}}E.CaptionContentRenderer=CaptionContentRenderer,CaptionContentRenderer.defaultFunc=(C,E)=>C.config.caption,CaptionContentRenderer.target=".sbgrid-panel.sbgrid-caption .sbgrid-row>.sbgrid-col",function(C){C.Left="left",C.Center="center",C.Right="right",C.Top="top",C.Bottom="bottom"}(ne||(ne={}));class PopupPosition{constructor(C,E){this.grid=E,this.container=C}move(C,E,I,B){let z,Q;switch(I){case ie.Top:z=ne.Top,Q=ne.Center;break;case ie.Bottom:z=ne.Bottom,Q=ne.Center;break;case ie.Left:z=ne.Center,Q=ne.Left;break;case ie.Right:z=ne.Center,Q=ne.Right}const ee=this.left(C,E,Q,B),te=this.top(C,E,z,B);if(C.css({left:ee,top:te}),!B){const z=this.container.closest(`.${q.SbCss.panel}.${q.SbCss.body}`),Q=z.offset(),ee=C.offset(),te=(null==ee?void 0:ee.top)<Q.top,re=C.offset().top+C.outerHeight()>Q.top+z.outerHeight();te&&re?this.move(C,E,I,B):te?(I=ie.Bottom,this.move(C,E,I,B)):re&&(I=ie.Top,this.move(C,E,I,B))}return I}left(C,E,I,B=!0){C.offset();const z=E.offset();let q=z.left;const Q=this.container.offset().left;let ee=E.outerWidth();const te=C.outerWidth();if(B){const C=this.grid.container.offset().left,E=this.grid.headWidth>0?C+this.grid.fixedWidth+this.grid.headWidth:0;z.left<E&&E<z.left+ee-3&&(ee=q+ee-E,q=E);const I=E+this.grid.viewportWidth;z.left<I&&I<z.left+ee-3&&(ee=I-q)}let ie=0;switch(I){case ne.Center:ie=B?q-Q+ee/2-te/2:ee/2-te/2;break;case ne.Left:ie=B?q-Q-te:-te;break;case ne.Right:ie=B?q-Q+ee:ee}return ie}top(C,E,I,B=!0){C.offset();const z=E.offset().top,q=E.outerHeight(),Q=C.outerHeight();let ee=0;const te=this.container.offset().top;switch(I){case ne.Top:ee=B?z-q-te:z-te-Q/2;break;case ne.Bottom:ee=B?z+q-te:z-te+Q/2+q;break;case ne.Center:ee=B?z-te:z-te+q/2}return ee}}},503:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.UndoPaging=E.UndoMoveToPart=E.UndoColumnVisible=E.UndoMoveRow=E.UndoMoveColumn=E.UndoGroup=E.UndoSort=E.UndoOrder=E.UndoCheckRows=E.UndoCheckRow=E.UndoStickyRows=E.UndoStickyRow=E.UndoCloseDetail=E.UndoOpenDetail=E.UndoToggleDetail=E.UndoCloseRow=E.UndoOpenRow=E.UndoToggleRow=E.UndoDelete=E.UndoInsertRows=E.UndoInsert=E.UndoUpdate=E.UndoColWidth=E.UndoScroll=E.UndoScope=E.UndoBase=E.UndoManager=void 0;const z=I(7392),q=I(1163),Q=I(2208),ee=I(194);E.UndoManager=class UndoManager{constructor(C){this._doing=!1,this._grid=C}get grid(){return this._grid}get doing(){var C;return null!==(C=this._doing)&&void 0!==C?C:this._doing=!1}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new q.Lock}get undoStack(){var C;return null!==(C=this._undoStack)&&void 0!==C?C:this._undoStack=new q.Stack}get redoStack(){var C;return null!==(C=this._redoStack)&&void 0!==C?C:this._redoStack=new q.Stack}clear(){this.undoStack.clear(),this.redoStack.clear()}_add(C){const E=this.undoStack.peek();C.overwrite&&(null==E?void 0:E.constructor.name)==C.constructor.name&&E.merge(C)||(this.redoStack.clear(),this.undoStack.push(C))}add(C){if(0==this.grid.config.undoable)return;if(this.doing)return;const E=C();this._add(E)}addScope(C,E){return B(this,void 0,void 0,(function*(){let I;try{this.grid.config.undoable&&0==this.doing&&(I=C(this.grid),I.acquire(this.grid),this._add(I));const B=E(this.grid);B instanceof Promise&&(yield B)}finally{null==I||I.release(this.grid)}}))}undo(){return B(this,void 0,void 0,(function*(){yield this.lock.acquire();try{const C=this.undoStack.pop();if(q.Convert.isNull(C))return!1;try{this._doing=!0;let E=C.undo(this.grid);for(;E instanceof Promise;)E=yield E;this.redoStack.push(C)}finally{this._doing=!1}}finally{yield this.lock.release()}return!0}))}redo(){return B(this,void 0,void 0,(function*(){yield this.lock.acquire();try{const C=this.redoStack.pop();if(q.Convert.isNull(C))return!1;try{this._doing=!0,this.undoStack.push(C);const E=C.redo(this.grid);E instanceof Promise&&(yield E)}finally{this._doing=!1}}finally{yield this.lock.release()}return!0}))}};class UndoBase{get overwrite(){return!1}merge(C){return!1}}E.UndoBase=UndoBase;class UndoScope extends UndoBase{}E.UndoScope=UndoScope;E.UndoScroll=class UndoScroll extends UndoBase{get overwrite(){return!0}constructor(C,E){super(),this.undoTop=C,this.redoTop=E}undo(C){C.topRow=this.undoTop}redo(C){C.topRow=this.redoTop}merge(C){return this.redoTop=C.redoTop,!0}};E.UndoColWidth=class UndoColWidth extends UndoBase{constructor(C,E,I,B){super(),this.column=C,this.undoWidth=E,this.redoWidth=I,this.syncRightColumn=B}undo(C){C.setColumnSize(this.column,this.undoWidth,this.syncRightColumn)}redo(C){C.setColumnSize(this.column,this.redoWidth,this.syncRightColumn)}};E.UndoUpdate=class UndoUpdate extends UndoBase{get overwrite(){return!0}get values(){var C;return null!==(C=this._values)&&void 0!==C?C:this._values=[]}constructor(C){super(),this._values=this.values.concat(C)}add(C){C instanceof Array?C.forEach((C=>this.values.push(C))):this.values.push(C)}undo(C){const E=this.values.map((C=>({key:C.key,value:C.undoValue,field:C.field})));C.view.setValues(E)}redo(C){const E=this.values.map((C=>({key:C.key,value:C.redoValue,field:C.field})));C.view.setValues(E)}merge(C){if(1!=this.values.length||1!=C.values.length)return!1;const E=this.values[0],I=C.values[0];return E.field==I.field&&(E.key==I.key&&(!q.Convert.isWhite(E.field)&&(E.redoValue=I.redoValue,!0)))}get length(){return this.values.length}};E.UndoInsert=class UndoInsert extends UndoBase{get overwrite(){return!0}get values(){var C;return null!==(C=this._values)&&void 0!==C?C:this._values=[]}constructor(C,E){super(),this._values=this.values.concat(E),this._parentKey=C}add(C){C instanceof Array?C.forEach((C=>this.values.push(C))):this.values.push(C)}undo(C){const E=this.values.map((C=>({key:C.key,value:C.value,field:C.field})));C.view.insertValues(this._parentKey,E,!0)}redo(C){const E=this.values.map((C=>({key:void 0,value:C.value,field:C.field})));C.view.insertValues(this._parentKey,E,!1)}get length(){return this.values.length}};E.UndoInsertRows=class UndoInsertRows extends UndoBase{constructor(C,E){super(),this.items=C,this.insertTo=E}undo(C){return B(this,void 0,void 0,(function*(){yield C.removeRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.undoKey,data:C.data})))).reverse())}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.insertRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.targetKey,data:C.data})))),this.insertTo)}))}};E.UndoDelete=class UndoDelete extends UndoBase{constructor(C){super(),this.items=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.insertRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.undoKey,data:C.data})))).reverse(),ee.InsertTo.Before)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.removeRowItems([].concat(this.items.map((C=>({parentKey:C.parentKey,targetKey:C.targetKey,data:C.data})))))}))}};E.UndoToggleRow=class UndoToggleRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.toggleRow(this.key)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.toggleRow(this.key)}))}};E.UndoOpenRow=class UndoOpenRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!1)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!0)}))}};E.UndoCloseRow=class UndoCloseRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!0)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.toggleRow(this.key,!1)}))}};E.UndoToggleDetail=class UndoToggleDetail extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key)}))}};E.UndoOpenDetail=class UndoOpenDetail extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!1)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!0)}))}};E.UndoCloseDetail=class UndoCloseDetail extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!0)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.toggleDetail(this.key,!1)}))}};E.UndoStickyRow=class UndoStickyRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){yield C.toggleStickyRow(this.key)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.toggleStickyRow(this.key)}))}};E.UndoStickyRows=class UndoStickyRows extends UndoBase{constructor(C,E){super(),this.keys=C,this.value=E}undo(C){return B(this,void 0,void 0,(function*(){const E=q.Convert.isNull(this.value)?void 0:!this.value;C.toggleStickyRows(this.keys,E)}))}redo(C){return B(this,void 0,void 0,(function*(){const E=q.Convert.isNull(this.value)?void 0:this.value;C.toggleStickyRows(this.keys,E)}))}};E.UndoCheckRow=class UndoCheckRow extends UndoBase{constructor(C){super(),this.key=C}undo(C){return B(this,void 0,void 0,(function*(){C.toggleCheckRow(this.key)}))}redo(C){return B(this,void 0,void 0,(function*(){C.toggleCheckRow(this.key)}))}};E.UndoCheckRows=class UndoCheckRows extends UndoBase{constructor(C,E){super(),this.keys=C,this.value=E}undo(C){return B(this,void 0,void 0,(function*(){const E=q.Convert.isNull(this.value)?void 0:!this.value;C.toggleCheckRows(this.keys,E)}))}redo(C){return B(this,void 0,void 0,(function*(){const E=q.Convert.isNull(this.value)?void 0:this.value;C.toggleCheckRows(this.keys,E)}))}};class UndoOrder extends UndoScope{constructor(){super(...arguments),this.orderMap=[]}acquire(C){C.dataSource.orderMap=this.orderMap}release(C){C.dataSource.orderMap=void 0}undo(C){for(const E of[].concat(this.orderMap).reverse()){const I=C.view.map(E.key);q.Convert.isNull(I)||(I.node.index=E.oldIndex)}}redo(C){}}E.UndoOrder=UndoOrder;E.UndoSort=class UndoSort extends UndoBase{constructor(C,E){super(),this.undoOrders=z.DataSourceParser.parseOrders(C),this.redoOrders=z.DataSourceParser.parseOrders(E)}undo(C){C.setSort(this.undoOrders)}redo(C){C.setSort(this.redoOrders)}};E.UndoGroup=class UndoGroup extends UndoBase{constructor(C,E){super(),this.undoGroups=z.DataSourceParser.parseGroups(C),this.redoGroups=z.DataSourceParser.parseGroups(E)}undo(C){return B(this,void 0,void 0,(function*(){yield C.setGroup(this.undoGroups)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.setGroup(this.redoGroups)}))}};E.UndoMoveColumn=class UndoMoveColumn extends UndoBase{constructor(C,E,I,B=!0){super(),this.wholeColumns=C,this.sourceColumn=E,this.targetColumn=I,this.isBefore=B,this.undoBefore=!1,this.undoColumn=Q.Grid.findLeftColumn(E,C),q.Convert.isNull(this.undoColumn)&&(this.undoColumn=Q.Grid.findRightColumn(E,C),q.Convert.isValue(this.undoColumn)?this.undoBefore=!0:(this.undoBefore=void 0,this.undoColumn=this.sourceColumn.parent))}undo(C){return B(this,void 0,void 0,(function*(){yield C.moveToColumn(this.sourceColumn,this.undoColumn,this.undoBefore)}))}redo(C){return B(this,void 0,void 0,(function*(){yield C.moveToColumn(this.sourceColumn,this.targetColumn,this.isBefore)}))}};E.UndoMoveRow=class UndoMoveRow extends UndoOrder{constructor(C,E,I){super(),this.sourceKey=C.key,this.targetKey=E.key,this.isBefore=I;const B=C.node,z=B.parent,Q=q.Convert.isNull(z)?C.view.dataSource.loader.nodes:z.nodes;Q.length>=2?B.index>0?(this.undoKey=Q[B.index-1].key,this.undoBefore=!1):(this.undoKey=Q[1].key,this.undoBefore=!0):(this.undoBefore=void 0,this.undoKey=null==z?void 0:z.key)}undo(C){return B(this,void 0,void 0,(function*(){const E=C.view.map(this.sourceKey),I=C.view.map(this.undoKey);yield C.moveToRow(E,I,this.undoBefore),this.assignOld(C)}))}redo(C){return B(this,void 0,void 0,(function*(){const E=C.view.map(this.sourceKey),I=C.view.map(this.targetKey);yield C.moveToRow(E,I,this.isBefore),this.assignNew(C)}))}release(C){super.release(C),this.assignNew(C)}assignNew(C){if(!q.Convert.isEmpty(this.orderMap))for(const E of this.orderMap){const I=C.dataSource.map(E.key);q.Convert.isNull(I)||(I.originIndex=E.newIndex)}}assignOld(C){if(!q.Convert.isEmpty(this.orderMap))for(const E of this.orderMap){const I=C.dataSource.map(E.key);q.Convert.isNull(I)||(I.originIndex=E.oldIndex)}}};E.UndoColumnVisible=class UndoColumnVisible extends UndoBase{constructor(C,E){super(),this.undoVisible=C,this.redoVisible=E}undo(C){C.columnVisible(this.undoVisible)}redo(C){C.columnVisible(this.redoVisible)}};E.UndoMoveToPart=class UndoMoveToPart extends UndoBase{constructor(C,E,I,B,z){super(),this.column=C,this.undoPart=E,this.redoPart=I,this.parent=B,this.index=z}undo(C){C.moveToPart(this.column,this.undoPart,this.parent,this.index,!0)}redo(C){C.moveToPart(this.column,this.redoPart,this.parent,this.index,!1)}};E.UndoPaging=class UndoPaging extends UndoBase{constructor(C,E){super(),this.undoPageNo=C,this.redoPageNo=E}undo(C){C.loadPage(this.undoPageNo)}redo(C){C.loadPage(this.redoPageNo)}}},3419:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ColumnValidator=E.InvalidError=E.DefaultMessages=E.FormTypes=E.ValidationState=E.Rules=E.KoreanInputWithSpaceValidator=E.KoreanInputValidator=E.BetweenValidator=E.ArrayValidator=E.StringValidator=E.BooleanValidator=E.DateValidator=E.NumberValidator=E.UrlValidator=E.EmailValidator=E.TypeValidator=E.MinLengthValidator=E.MaxLengthValidator=E.PatternValidator=E.CustomValidator=E.MaxValidator=E.MinValidator=E.RequiredValidator=E.Validator=E.Handlebars=void 0;const B=I(5260),z=I(1163);E.Handlebars=I(7596),E.Handlebars.registerHelper("get",(function(C,E){return C.get(E)})),E.Handlebars.registerHelper("switch",(function(C,E){return this.switch_value=C,this.switch_break=!1,E.fn(this)})),E.Handlebars.registerHelper("case",(function(C,E){if(C==this.switch_value)return this.switch_break=!0,E.fn(this)})),E.Handlebars.registerHelper("default",(function(C,E){if(0==this.switch_break)return C}));class Validator{getMessage(C,I){if((null==C?void 0:C.indexOf("{{"))>-1){const B=E.Handlebars.compile(C);C=B(I instanceof Array?{value1:I[0],value2:I[1]}:{value:I})}return C}}E.Validator=Validator;class RequiredValidator extends Validator{isValid(C,E){var I;return!z.Convert.isEmpty(E)?{state:Q.Valid}:{cause:C,state:Q.ValueMissing,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Required)}}}E.RequiredValidator=RequiredValidator;class MinValidator extends Validator{isValid(C,E){var I;const B=C.dataType,q=z.Convert.convertType(E,B)>=z.Convert.convertType(C.value,B);let ee;return ee=z.Convert.isEmpty(E)||q?{state:Q.Valid}:{cause:C,state:Q.RangeUnderflow,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Min,C.value)},ee}}E.MinValidator=MinValidator;class MaxValidator extends Validator{isValid(C,E){var I;const B=C.dataType,q=z.Convert.convertType(E,B)<=z.Convert.convertType(C.value,B);let ee;return ee=z.Convert.isEmpty(E)||q?{state:Q.Valid}:{cause:C,state:Q.RangeOverflow,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Max,C.value)},ee}}E.MaxValidator=MaxValidator;class CustomValidator extends Validator{isValid(C,E){var I;const B="function"==typeof C.rule?C.rule:"function"==typeof C.value?C.value:void 0;if(z.Convert.isNull(B))throw"invalid value . Custom rule must have Function value";let q;return q=B(E)?{state:Q.Valid}:{cause:C,state:Q.CustomError,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Custom,C.value)},q}}E.CustomValidator=CustomValidator;class PatternValidator extends Validator{isValid(C,E){var I;const q="string"==typeof C.value?new RegExp(C.value):C.value instanceof RegExp?C.value:void 0;if(z.Convert.isNull(q))throw B.Log.info(["invalid RegExp ",C.value]),"invalid RegExp "+C.value;const ee=q.test(E);let ie;return ie=z.Convert.isEmpty(E)||ee?{state:Q.Valid}:{state:Q.PatternMismatch,cause:C,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Pattern,C.value)},ie}}E.PatternValidator=PatternValidator;class MaxLengthValidator extends Validator{isValid(C,E){var I,B,q;const ee=(null!==(B=null===(I=z.Convert.convertType(E,z.DataType.String))||void 0===I?void 0:I.length)&&void 0!==B?B:0)<=z.Convert.asNumber(C.value);let ie={state:Q.Valid};return z.Convert.isValue(E)&&!ee&&(ie={state:Q.TooLong,cause:C,message:this.getMessage(null!==(q=C.message)&&void 0!==q?q:te.MaxLength,C.value)}),ie}}E.MaxLengthValidator=MaxLengthValidator;class MinLengthValidator extends Validator{isValid(C,E){var I,B,q;const ee=(null!==(B=null===(I=z.Convert.convertType(E,z.DataType.String))||void 0===I?void 0:I.length)&&void 0!==B?B:0)>=z.Convert.asNumber(C.value);let ie={state:Q.Valid};return z.Convert.isValue(E)&&!ee&&(ie={state:Q.TooShort,cause:C,message:this.getMessage(null!==(q=C.message)&&void 0!==q?q:te.MinLength,C.value)}),ie}}E.MinLengthValidator=MinLengthValidator;class TypeValidator extends Validator{isValid(C,E){const I=z.Convert.parseEnum(q,C.value.toString()),B=ColumnValidator.getValidator(I);if(z.Convert.isValue(B))return B.isValid(C,E)}}E.TypeValidator=TypeValidator;class EmailValidator extends Validator{isValid(C,E){var I;const B=ColumnValidator.getValidator(q.Pattern),z={rule:q.Pattern,value:EmailValidator.emailPattern,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Email,C.value)};return B.isValid(z,E)}}E.EmailValidator=EmailValidator,EmailValidator.emailPattern=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;class UrlValidator extends Validator{isValid(C,E){var I;const B=ColumnValidator.getValidator(q.Pattern),z={rule:q.Pattern,value:UrlValidator.urlPattern,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Url,C.value)};return B.isValid(z,E)}}E.UrlValidator=UrlValidator,UrlValidator.urlPattern=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/;class NumberValidator extends Validator{isValid(C,E){var I;const B=!isNaN(E)&&E!==1/0;let q={state:Q.Valid};return z.Convert.isValue(E)&&!B&&(q={state:Q.TypeMismatch,cause:C,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Type,C.value)}),q}}E.NumberValidator=NumberValidator;class DateValidator extends Validator{isValid(C,E){var I;const B=z.Convert.convertType(E,z.DataType.Date),q=!isNaN(B);let ee={state:Q.Valid};return z.Convert.isValue(E)&&!q&&(ee={state:Q.TypeMismatch,cause:C,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Type,C.value)}),ee}}E.DateValidator=DateValidator;E.BooleanValidator=class BooleanValidator extends Validator{isValid(C,E){var I;const B="boolean"==typeof z.Convert.convertType(E,z.DataType.Boolean);let q={state:Q.Valid};return B||(q={state:Q.TypeMismatch,cause:C,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Type,C.value)}),q}};E.StringValidator=class StringValidator extends Validator{isValid(C,E){var I;const B="string"==typeof z.Convert.convertType(E,z.DataType.String);let q={state:Q.Valid};return B||(q={state:Q.TypeMismatch,cause:C,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Type,C.value)}),q}};E.ArrayValidator=class ArrayValidator extends Validator{isValid(C,E){var I;const B=E instanceof Array;let z={state:Q.Valid};return B||(z={state:Q.TypeMismatch,cause:C,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Type,C.value)}),z}};class BetweenValidator extends Validator{isValid(C,E){var I;const B=C.value,q=z.Convert.convertType(B[0],z.DataType.Number),ee=z.Convert.convertType(B[1],z.DataType.Number),ie=z.Convert.convertType(E,z.DataType.Number),re=q<=ie&&ie<=ee;let ne={state:Q.Valid};return z.Convert.isValue(E)&&!re&&(ne={state:Q.RangeOverflow,cause:C,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.Between,C.value)}),ne}}E.BetweenValidator=BetweenValidator;class KoreanInputValidator extends Validator{isValid(C,E){var I;const B=ColumnValidator.getValidator(q.Pattern),z={rule:q.Pattern,value:KoreanInputValidator.pattern,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.KoreanInput,C.value)};return B.isValid(z,E)}}E.KoreanInputValidator=KoreanInputValidator,KoreanInputValidator.pattern=/^[ㄱ-ㅎㅏ-ㅣ가-힣]+$/;class KoreanInputWithSpaceValidator extends Validator{isValid(C,E){var I;const B=ColumnValidator.getValidator(q.Pattern),z={rule:q.KoreanInputWithSpace,value:KoreanInputWithSpaceValidator.pattern,message:this.getMessage(null!==(I=C.message)&&void 0!==I?I:te.KoreanInputWithSpace,C.value)};return B.isValid(z,E)}}var q,Q,ee,te;E.KoreanInputWithSpaceValidator=KoreanInputWithSpaceValidator,KoreanInputWithSpaceValidator.pattern=/^[ㄱ-ㅎㅏ-ㅣ가-힣\s]+$/,function(C){C.Required="required",C.Min="min",C.Max="max",C.Pattern="pattern",C.MaxLength="maxLength",C.MinLength="minLength",C.Custom="custom",C.Email="email",C.Between="between",C.Type="type",C.Url="url",C.KoreanInput="koreanInput",C.KoreanInputWithSpace="koreanInputWithSpace",C.Number="number",C.Date="date",C.None="none"}(q||(E.Rules=q={})),function(C){C[C.ValueMissing=0]="ValueMissing",C[C.PatternMismatch=1]="PatternMismatch",C[C.TooLong=2]="TooLong",C[C.TooShort=3]="TooShort",C[C.RangeOverflow=4]="RangeOverflow",C[C.RangeUnderflow=5]="RangeUnderflow",C[C.TypeMismatch=6]="TypeMismatch",C[C.CustomError=7]="CustomError",C[C.ConfigError=8]="ConfigError",C[C.Valid=9]="Valid"}(Q||(E.ValidationState=Q={})),function(C){C.Email="email",C.Url="url"}(ee||(E.FormTypes=ee={})),function(C){C.Required="빈 칸을 채우세요",C.Min="{{value}}이상의 값을 입력하세요",C.Max="{{value}}이하의 값을 입력하세요.",C.Pattern="잘못된 입력입니다.",C.MaxLength="{{value}}글자 이내로 입력하세요.",C.MinLength="{{value}}글자이상 입력하세요.",C.Email="이메일 형식으로 입력하세요.",C.Url="url 형식으로 입력하세요.",C.Between="{{value1}}과 {{value2}} 이내의 값을 입력하세요",C.Type="{{value}} 타입으로 입력하세요",C.Custom="커스텀에러 발생",C.KoreanInput="한글만 입력하세요",C.KoreanInputWithSpace="한글과 공백만 입력하세요",C.None="none"}(te||(E.DefaultMessages=te={}));class InvalidError extends Error{constructor(C,E){super(C),this.validator=E}}E.InvalidError=InvalidError;class ColumnValidator{static getValidator(C){var E;const I=null!==(E=ColumnValidator.validators)&&void 0!==E?E:ColumnValidator.validators=new Map;let B=I.get(C);if(z.Convert.isNull(B)){switch(C){case q.Required:B=new RequiredValidator;break;case q.Min:B=new MinValidator;break;case q.Max:B=new MaxValidator;break;case q.Type:B=new TypeValidator;break;case q.Number:B=new NumberValidator;break;case q.Date:B=new DateValidator;break;case q.Between:B=new BetweenValidator;break;case q.Email:B=new EmailValidator;break;case q.Url:B=new UrlValidator;break;case q.Pattern:B=new PatternValidator;break;case q.Custom:B=new CustomValidator;break;case q.MinLength:B=new MinLengthValidator;break;case q.MaxLength:B=new MaxLengthValidator;break;case q.KoreanInput:B=new KoreanInputValidator;break;case q.KoreanInputWithSpace:B=new KoreanInputWithSpaceValidator}if(!z.Convert.isValue(B))throw`'${C}' is not supported validator.`;I.set(C,B)}if(z.Convert.isNull(B))throw Error;return B}static isValid(C,E){let I;for(const ee of C){const C="function"==typeof ee.rule?q.Custom:ee.rule,te=ColumnValidator.getValidator(C);if(z.Convert.isNull(te))return void B.Log.debug(["validator not found >> ",te]);if(I=te.isValid(ee,E),I.state!==Q.Valid)break}return I}}E.ColumnValidator=ColumnValidator},2562:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.Viewport=void 0;const z=I(273),q=I(2663),Q=I(5060),ee=I(3354),te=I(1163),ie=I(9797),re=I(7721),ne=I(7078);class Viewport extends z.Observer{constructor(C){super(C),this._grid=C}get grid(){return this._grid}get view(){return this.grid.view}get config(){return this.grid.config}get dataConfig(){return this.grid.dataConfig}get isPaging(){return this.grid.isPaging}get lock(){var C;return null!==(C=this._lock)&&void 0!==C?C:this._lock=new te.Lock}get rowsViewMap(){return this.grid.layouts.rowsViewMap}get stickyRow(){var C;return null!==(C=this.config.stickyRow)&&void 0!==C&&C}get stickyFooter(){var C;return null!==(C=this.config.stickyFooter)&&void 0!==C&&C}get stickyHeader(){var C;return null!==(C=this.config.stickyHeader)&&void 0!==C&&C}get stickyEdit(){return this.config.stickyEdit}get stickyInsert(){return this.config.stickyInsert}get stickyUpdate(){return this.config.stickyUpdate}get stickyDelete(){return this.config.stickyDelete}get rowHeights(){var C;return null!==(C=this._rowHeights)&&void 0!==C?C:this._rowHeights=[]}get scrollPanel(){return this.grid.scrollPanel}get topRow(){return this.grid.topRow}set topRow(C){this.grid.topRow=C}get topCol(){return this.grid.topCol}set topCol(C){this.grid.topCol=C}get marginCol(){return this.grid.scrollPanel.scrollLeft}set marginCol(C){this.grid.scrollPanel.scrollLeft=C}clear(){this._rowHeights=[]}doCommand(C,E){switch(E.command){case q.Commands.Open:case q.Commands.Close:return this.clearRowHeights(E),!0;default:return super.doCommand(C,E)}return!0}clearRowHeights(C){this.rowHeights.splice(C.rowIndex)}calcCols(C,E=!0,I=void 0){var z;return B(this,void 0,void 0,(function*(){this.grid.bodyWidth,null==I?void 0:I.stickyOverflow;const E=this.grid.layouts.colsView(C,I);return E.lastCol=null===(z=E.fullCells[E.fullCells.length-1])||void 0===z?void 0:z.col,E}))}calcRows(C,E=!0){return B(this,void 0,void 0,(function*(){try{if(E&&this.rowsViewMap.has(C)){return this.rowsViewMap.get(C)}let I=this.scrollPanel.viewportHeight;this.grid.autoHeight&&(I=void 0);const B={currRows:[],prevRows:[],nextRows:[],headers:[],footers:[],stickyKeys:new Set,bodyHeight:I,scrollHeight:0,footerHeight:0,headerHeight:0,rowHeights:0,marginTop:this.scrollPanel.scrollTop};if(0===I)return B;if(yield this.makeCurrRows(B,C,I,E,!1),(this.stickyRow||this.stickyEdit||this.stickyInsert||this.stickyUpdate||this.stickyDelete)&&(I=yield this.makeStickyRows(B,I,E)),this.grid.virtualRow&&this.config.stickyHeader&&(I=yield this.makeStickyHeader(B,I,E)),this.grid.virtualRow&&this.config.stickyFooter&&(I=yield this.makeStickyFooter(B,I,E)),this.rowMergeable){let C=0;B.currRows.forEach(((E,I)=>{E.rowHeight=this.getItemHeight(E.rowItem),E.top=C,C+=E.rowHeight.total})),Viewport.makeMergeRow(B.currRows,this.grid.columns),Viewport.makeMergeRow(B.headers,this.grid.columns),Viewport.makeMergeRow(B.footers,this.grid.columns)}return B.headers.forEach((C=>B.headerHeight+=C.rowHeight.total)),B.footers.forEach((C=>B.footerHeight+=C.rowHeight.total)),B.currRows.forEach((C=>B.scrollHeight+=C.rowHeight.total)),B.rowHeights=B.currRows.reduce(((C,E)=>E.rowHeight.total+C),0),te.Convert.isEmpty(I)&&(B.bodyHeight=B.rowHeights+B.headerHeight+B.footerHeight),B.scrollHeight=B.bodyHeight-B.headerHeight-B.footerHeight,E&&this.rowsViewMap.set(C,B),B}finally{}}))}adjustMaxTopRow(C,E){return B(this,void 0,void 0,(function*(){if(C.rowHeights<C.scrollHeight){let I=E;for(I=0==this.grid.virtualRow&&this.isPaging?I%this.dataConfig.pageSize:I;!(I<=0||te.Convert.isEmpty(I));){I--;const E=yield this.calcRows(I);if(E.rowHeights>E.scrollHeight){I++;break}C=E}E=Math.max(I,0)}return{rowsView:C,topRow:E}}))}adjustMinTopRow(){return B(this,void 0,void 0,(function*(){let C=0;for(;C<this.grid.rowCount;C++){const E=this.grid.rows[C];if(te.Convert.isNull(E))break;if(0==E.isSticky)break}return C}))}makeRows(){return B(this,void 0,void 0,(function*(){const C=this.grid.virtualRow?this.grid.view.topRow:this.grid.pageNo*this.pageSize;let E=yield this.calcRows(C,this.grid.virtualRow);const I=yield this.adjustMaxTopRow(E,this.grid.topRow);for(const C of I.rowsView.currRows)te.Convert.isValue(C.rowItem)||(C.rowItem=yield this.grid.view.getRow(C.rowIndex,!1));return this.grid.view.topRow=I.topRow,I.rowsView}))}makeCurrRows(C,E,I,z,q){var Q,ee;return B(this,void 0,void 0,(function*(){let B=0;if(z&&te.Convert.isValue(I)){const z=0==this.grid.virtualRow&&this.isPaging,ee=z?this.grid.rows.length:this.grid.rowCount;for(E=z?E%this.dataConfig.pageSize:E;E<ee;E++){const ee=q||z?this.view.rows[E]:yield this.view.getRow(E,!1);if(0==(null===(Q=null==ee?void 0:ee.visible)||void 0===Q||Q))continue;const te={rowItem:ee,top:B,rowHeight:this.getItemHeight(ee),rowIndex:E};if(C.currRows.push(te),B+=te.rowHeight.total,B>I)break}}else for(const I in this.view.rows){const z=this.view.rows[I];if(te.Convert.isNull(z)||z.constructor.name!=ie.RowItem.name)break;if(0==(null===(ee=z.visible)||void 0===ee||ee))continue;E=z.rowIndex;const q={rowItem:z,top:B,rowHeight:this.getItemHeight(z),rowIndex:E};C.currRows.push(q),B+=q.rowHeight.total}}))}adjustCurrRows(C,E,I){var B,z;if(0==I||E<0)return E;let q=0;const Q=C.currRows.findIndex((C=>q>E||(q+=this.getItemHeight(C.rowItem).total,!1)));if(Q>=0){q=0;const ee=C.currRows.splice(Q);for(const E of ee.reverse())null!==(z=null===(B=null==E?void 0:E.rowItem)||void 0===B?void 0:B.isSticky)&&void 0!==z&&z&&(C.footers.splice(0,0,E),q+=this.getItemHeight(E.rowItem).total);q>0&&(E-=q,E=this.adjustCurrRows(C,E,I))}return E}static makeMergeRow(C,E){var I,B;const z=C.map((C=>({})));{if(te.Convert.isEmpty(C))return z;for(const q of E){if(!1===q.mergeRow)continue;const Q=null==q?void 0:q.field;if(te.Convert.isEmpty(Q))continue;let ie,re;for(let ne=0,se=C.length;ne<se;ne++){const oe=C[ne],ae=z[ne];if(te.Convert.isNull(oe.rowItem)||0==oe.rowItem.visible)continue;let le=getValue(oe.rowItem,q),ue=oe.rowItem.node.constructor.name,de=oe.rowItem.level;const ce=oe.rowItem.isSticky;if(0==q.groupTitleVisible&&ue==ee.FooterNode.name){const he=oe.rowItem.data,fe=null===(I=oe.rowItem.view.dataConfig.groups.map((C=>C.field)))||void 0===I?void 0:I.indexOf(q.field);fe>=0&&he.level>fe&&(ue=ee.GroupItem.name,le=he.data[q.field])}if(ae[Q]={rowSpan:1,value:le,node:ue,isDetail:oe.rowItem.isDetail,level:de,isSticky:ce},re==ue&&ie==le)for(let pe=ne-1;pe>=-1;pe--){const me=null===(B=z[pe])||void 0===B?void 0:B[Q];if(pe<0||ce||te.Convert.isNull(me)||me.isSticky!=ce||me.value!=le||me.node!=ue||me.level!=de||1==me.isDetail){z[pe+1][Q].rowSpan=ne-pe;break}z[pe+1][Q].rowSpan=0}ie=le,re=ue}}function getValue(C,E){return"function"==typeof E.mergeRow?E.mergeRow(C.data,C):E.getValue(C)}}for(const ge in z){const ve=z[ge];if(!te.Convert.isNull(ve)){for(const ye in ve){const be=ve[ye];ve[ye]=null==be?void 0:be.rowSpan}C[ge].merge=ve}}return z}makeMerge(C,E,I){const B=[];let z=C.map((C=>C.clone()));if(te.Convert.isNull(E)||!1===E.visible)return[];const q=E.node.constructor.name;if(q==ee.GroupNode.name)return z;if(this.grid.mergeRow)for(const C in z){const E=z[C];if(E.mergeCol>1||0==E.mergeCol||te.Convert.isNull(E.column))continue;const q=E.column,Q=null==q?void 0:q.field,ee=null==I?void 0:I[Q];if(q.mergeRow&&(0==ee||ee>1)&&(E.mergeRow=0,ee>1)){const C=E.clone();C.mergeRow=ee,B.push(C)}}return q==ee.FooterNode.name?z:(z=this.grid.mergeColumn?this.makeMergeCol(z,E):z,z.concat(B))}makeMergeCol(C,E){const I=C,B=[],z=[];let q;for(let C=0;C<I.length;){const Q=I[C],ee=null==Q?void 0:Q.column;if(te.Convert.isNull(ee)||te.Convert.isNull(ee.mergeColumn)||!1===ee.mergeColumn||Q.mergeRow>1||0==Q.mergeRow){z.push(void 0),q=void 0,C++;continue}const ie={col:C,value:"function"==typeof ee.mergeColumn?ee.mergeColumn(E.data,E):ee.getValue(E),colSpan:1,cell:Q};if(z.push(ie),te.Convert.isValue(q)&&q.value==ie.value){let C=1;ie.cell.mergeCol=0;for(let E=z.length-2;E>=-1;E--){const I=z[E];if(-1==E||te.Convert.isNull(I)||I.value!=ie.value){z[E+1].cell.mergeCol=0;const I=z[E+1].cell.clone();I.mergeCol=C,B.push(I);break}z[E+1].cell.mergeCol=0,C++}}q=ie,C+=Q.colSpan}return I.concat(B)}makeStickyHeader(C,E,I){return B(this,void 0,void 0,(function*(){const B=C.headers;if(0==this.config.stickyHeader)return E;if(this.grid.loader instanceof Q.ListLoader)return E;for(const E of C.currRows){if(te.Convert.isNull(E)||te.Convert.isNull(E.rowItem)||E.rowItem.isSticky)continue;let I=E.rowItem.parent;for(;te.Convert.isValue(I);)B.findIndex((C=>C.rowItem==I))<0&&C.currRows.findIndex((C=>C.rowItem==I))<0&&I.visible&&B.push({rowItem:I,rowHeight:this.getItemHeight(I)}),I=I.parent}return B.sort(Viewport.treeIndexHeaderCompare),te.Convert.isValue(E)&&(E-=B.filter((C=>0==C.rowItem.isSticky)).reduce(((C,E)=>C+this.getItemHeight(E.rowItem).total),0),E=this.adjustCurrRows(C,E,I)),E}))}makeStickyFooter(C,E,I){return B(this,void 0,void 0,(function*(){if(0==this.config.stickyFooter)return E;if(this.grid.loader instanceof Q.ListLoader)return E;const I=C.footers,B=new Set;for(const z of C.currRows.map((C=>C.rowItem))){if(te.Convert.isNull(z))continue;if(B.has(z.key))continue;let q=z;for(;te.Convert.isValue(q);){if(q.isOpen&&q.isParentsOpen){const z=q.node instanceof ee.ParentNode&&te.Convert.isValue(q.node.footer)?q.node:void 0;if(te.Convert.isValue(z)&&0==C.currRows.concat(I).some((C=>{var E;return(null===(E=C.rowItem)||void 0===E?void 0:E.key)===z.footer.key}))){const q=this.view.map(z.footer.key);if((null==q?void 0:q.node)instanceof ee.FooterNode){if(!(I.findIndex((C=>C.rowItem==q))<0))break;{let z=te.Convert.isValue(E)?E-this.getItemHeight(q).total:this.getItemHeight(q).total;const Q=C.currRows.findIndex((C=>C.top>z));if(I.push(this.getRowsMap(q)),Q>0){C.currRows.splice(Q).forEach((C=>{B.add(C.rowItem.key),C.rowItem.isSticky&&(this.addStickyFooter(I,C.rowItem),z+=C.rowHeight.total)}))}te.Convert.isValue(E)&&(E=z)}}}}q=q.parent}I.sort(Viewport.treeIndexFooterCompare)}return E}))}getRowsMap(C){return{rowItem:C,rowHeight:this.getItemHeight(C),rowIndex:C.rowIndex}}makeStickyRows(C,E,I){var z,q,Q,ee;return B(this,void 0,void 0,(function*(){if(te.Convert.isNull(C))return;const B=C.currRows,ie=C.headers,re=C.footers,ne=C.stickyKeys,se=[].concat(B),oe=[].concat(this.view.getStickyRows(this.stickyEdit,this.stickyInsert||this.stickyUpdate||this.stickyDelete)),ae=ie.length,le=null===(q=null===(z=se[0])||void 0===z?void 0:z.rowItem)||void 0===q?void 0:q.node.treeIndex,ue=null===(ee=null===(Q=se[se.length-1])||void 0===Q?void 0:Q.rowItem)||void 0===ee?void 0:ee.node.treeIndex;for(const z of oe){if(ne.add(z.key),B.some((C=>{var E;return(null===(E=null==C?void 0:C.rowItem)||void 0===E?void 0:E.key)==(null==z?void 0:z.key)})))continue;const q=z.node.treeIndex;if(te.Convert.isEmpty(le)||le>q)this.addStickyHeader(ie,z);else{if(!(ue<q))continue;this.addStickyFooter(re,z)}if(te.Convert.isValue(E)){if((E-=this.getItemHeight(z).total)<0)break;E=this.adjustCurrRows(C,E,I)}}return ae!=ie.length&&ie.sort(Viewport.treeIndexHeaderCompare),E}))}addStickyHeader(C,E){C.findIndex((C=>C.rowItem==E))<0&&C.push(this.getRowsMap(E))}addStickyFooter(C,E){C.findIndex((C=>C.rowItem==E))<0&&C.push(this.getRowsMap(E))}static treeIndexHeaderCompare(C,E){return C.rowItem.node.treeIndex==E.rowItem.node.treeIndex?0:C.rowItem.node.treeIndex>E.rowItem.node.treeIndex?1:-1}static treeIndexFooterCompare(C,E){const I=C.rowItem.node instanceof ee.FooterNode?C.rowItem.node.parent.level:C.rowItem.node.level;return(E.rowItem.node instanceof ee.FooterNode?E.rowItem.node.parent.level:E.rowItem.node.level)-I}calcRowHeights(){this.clear()}getItemHeight(C){var E,I;let B=0,z=0;if(te.Convert.isNull(C)){const C=this.grid.rowHeights;return{total:C,height:C,detail:z}}if(0==C.visible)return{detail:0,height:0,total:0};const q=C.node.constructor.name;if((null!==(E=C.rowHeight)&&void 0!==E?E:0)>0){const E=C.rowHeight,B=1==(null===(I=this.grid.rows[C.index])||void 0===I?void 0:I.isDetail)&&q!=ee.GroupNode.name&&q!=ee.FooterNode.name?this.grid.detailHeight:0;return{total:E+B,height:E,detail:B}}switch(q){case ee.GroupItem.name:case ee.ListNode.name:case ee.TreeNode.name:B=this.grid.rowHeights;break;case ee.GroupNode.name:const{header:E}=this.grid.groupLayout(C.node.igroup.field);B=E.rows.length*this.grid.groupHeight;break;case ee.FooterNode.name:const I=C.node.parent;if(I instanceof ee.GroupNode){const{footer:C}=this.grid.groupLayout(I.igroup.field);B=C.rows.length*this.grid.groupHeight}else{B=this.grid.treeFooterLayout.rows.length*this.grid.groupHeight}}return 1==C.isDetail&&q!=ee.GroupNode.name&&q!=ee.FooterNode.name?(C.setHeight(B,this.grid.detailHeight),z=this.grid.detailHeight):C.setHeight(B,void 0),{total:B+z,height:B,detail:z}}setRowHeight(C,E,I){const B=C.setHeight(E,I),z=C.rowIndex;return(B||te.Convert.isNull(this.rowHeights[z])&&te.Convert.isValue(E))&&(this.rowHeights.splice(z),this.rowHeights[z]=this.rowHeights[z-1]+E,this.rowsViewMap.clear()),B}get pageSize(){return this.dataConfig.pageSize}getPageHeight(C=void 0){null!=C||(C=this.grid.pageNo);const E=Math.min(this.grid.pageSize,this.grid.visibleCount);return this.getRowsHeight(0,E)}getScrollHeight(C=void 0,E=!1){let I=C;const B=this.config.virtualRow?te.Convert.isNull(I)?this.grid.visibleCount:this.grid.rows.length:null!=I?I:this.grid.rows.length;return this.getRowsHeight(0,B,E)}getRowsHeight(C,E,I=!1){var B,z;if(this.fixedHeight&&0==this.grid.hasDetail&&this.grid.loader instanceof Q.ListLoader){let B=this.grid.rowHeights*(E-C);return I&&this.grid.view.stickyKeys.size>0&&(B-=this.grid.rowHeights*this.grid.view.stickyKeys.size),B}let q=0,ee=0;for(const Q of this.grid.rows.keys()){if(Q<C)continue;if(E<=Q)break;const re=this.grid.rows[Q];te.Convert.isNull(re)||re instanceof ie.RowItem==0||0==(null===(B=re.visible)||void 0===B||B)||(I&&re.isSticky||(q+=null!==(z=this.getItemHeight(re).total)&&void 0!==z?z:0,ee++))}const re=E-C-ee;return q+this.grid.rowHeights*re}get fixedHeight(){return this.config.fixedRows}get rowMergeable(){return this.config.mergeRow}setScroll(C,E){return B(this,void 0,void 0,(function*(){this.grid.selectManager.hideHover(),te.Convert.isValue(E)&&E>=0&&(yield this.setScrollRow(E)),te.Convert.isValue(C)&&C>=0&&(yield this.setScrollCol(C))}))}setScrollRow(C){return B(this,void 0,void 0,(function*(){if(this.grid.virtualRow)this.topRow!=C&&(this.topRow=C);else{const E=yield this.getRowScrollInfo(C);this.grid.view.topRow=E.index,this.grid.scrollPanel.scrollTop=C}}))}setScrollCol(C){return B(this,void 0,void 0,(function*(){if(this.grid.virtualColumn)this.topCol!=C&&(this.topCol=C);else{const E=yield this.getColScrollInfo(C);this.scrollPanel.scrollLeft!==C&&this.grid.container.find(`> div.${ne.SbCss.filter}.${ne.SbCss.menu}`).remove(),this.grid.view.topCol=E.index,this.scrollPanel.scrollLeft=C}}))}getRowScrollInfo(C){var E;return B(this,void 0,void 0,(function*(){0==this.grid.rowCount&&(yield this.view.prepareRows());let I=0,B=0,z=0;for(const q=this.grid.rowCount;I<q;I++){const q=this.grid.rows[I];if(z=this.getItemHeight(q).total,B+=z,0==this.grid.virtualRow&&null!==(E=null==q?void 0:q.isSticky)&&void 0!==E&&E&&(C+=z),C<B)break}return{margin:B-C-z,total:B,index:I}}))}getColScrollInfo(C){var E;return B(this,void 0,void 0,(function*(){let I=0,B=0,z=0;const q=null===(E=this.grid.defaultLayout.rows[0])||void 0===E?void 0:E.getCells(re.PartType.Body);for(const E in q){const Q=q[E];if(I=Q.col,z=Q.width,B+=z,0==this.grid.virtualColumn&&Q.isSticky&&(C+=z),C<B)break}return{margin:B-C-z,total:B,index:I}}))}}E.Viewport=Viewport},9996:(C,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.DateUtil=void 0;class DateUtil{constructor(){this.format2=function(C,E){if(!this.valueOf())return" ";const I=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];let B,z=C;return E.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi,(function(C){switch(C){case"yyyy":return z.getFullYear();case"yy":return this.pad(z.getFullYear()%1e3,2);case"MM":return this.pad(z.getMonth()+1,2);case"dd":return this.pad(z.getDate(),2);case"E":return I[z.getDay()];case"HH":return this.pad(z.getHours(),2);case"hh":return this.pad((B=z.getHours()%12)?B:12,2);case"mm":return this.pad(z.getMinutes(),2);case"ss":return this.pad(z.getSeconds(),2);case"a/p":return z.getHours()<12?"오전":"오후";default:return C}}))}}static dateFormat(C,E,I){this.dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(C)||/\d/.test(C)||(E=C,C=void 0),C=C?new Date(C):new Date,isNaN(C))return"";"UTC:"==(E=String(this.masks[E]||E||this.masks.default)).slice(0,4)&&(E=E.slice(4),I=!0);const B=I?"getUTC":"get",z=C[B+"Date"](),q=C[B+"Day"](),Q=C[B+"Month"](),ee=C[B+"FullYear"](),te=C[B+"Hours"](),ie=C[B+"Minutes"](),re=C[B+"Seconds"](),ne=C[B+"Milliseconds"](),se=I?0:C.getTimezoneOffset(),oe={d:z,dd:this.pad(z),ddd:this.i18n.dayNames[q],dddd:this.i18n.dayNames[q+7],M:Q+1,MM:this.pad(Q+1),MMM:this.i18n.monthNames[Q],MMMM:this.i18n.monthNames[Q+12],yy:String(ee).slice(2),yyyy:ee,h:te%12||12,hh:this.pad(te%12||12),H:te,HH:this.pad(te),m:ie,mm:this.pad(ie),s:re,ss:this.pad(re),l:this.pad(ne,3),L:this.pad(ne>99?Math.round(ne/10):ne),t:te<12?"a":"p",tt:te<12?"am":"pm",T:te<12?"A":"P",TT:te<12?"AM":"PM",Z:I?"UTC":(String(C).match(this.timezone)||[""]).pop().replace(this.timezoneClip,""),o:(se>0?"-":"+")+this.pad(100*Math.floor(Math.abs(se)/60)+Math.abs(se)%60,4),S:["th","st","nd","rd"][z%10>3?0:z%100-z%10!=10?z%10:0]};return E.replace(this.token,(function(C){return C in oe?oe[C]:C.slice(1,C.length-1)}))}static format(C,E,I){return this.dateFormat(C,E,I)}}E.DateUtil=DateUtil,DateUtil.token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,DateUtil.timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,DateUtil.timezoneClip=/[^-+\dA-Z]/g,DateUtil.pad=function(C,E=0){for(C=String(C),E=E||2;C.length<E;)C="0"+C;return C},DateUtil.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},DateUtil.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}},5260:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Log=E.LogLevels=void 0;const B=I(6312);var z;!function(C){C[C.Trace=0]="Trace",C[C.Debug=1]="Debug",C[C.Info=2]="Info",C[C.Warn=3]="Warn",C[C.Error=4]="Error"}(z||(E.LogLevels=z={}));const q=new Map([[z.Trace,console.trace],[z.Debug,console.debug],[z.Info,console.info],[z.Warn,console.warn],[z.Error,console.error]]);class Log{static timeEnd(C){}static time(C){}static timeLog(C,...E){}static whoIsMyDaddy(){try{throw new Error}catch(C){const E=C.stack.match(/(\w+)@|at (\w+) \(/g)[2].match(/(\w+)@|at (\w+) \(/);return E[1]||E[2]}}}E.Log=Log,Log.log=(C,E)=>{var I,z;if(C>=B.SBGrid3.LogLevel){try{"development"==B.SBGrid3.version?null===(I=q.get(C))||void 0===I||I("string"==typeof E?E:"function"==typeof E?E():E,E):null===(z=q.get(C))||void 0===z||z("string"==typeof E?E:"function"==typeof E?E():E)}catch(C){}return!0}return!1},Log.trace=C=>Log.log(z.Trace,C),Log.debug=C=>Log.log(z.Debug,C),Log.info=C=>Log.log(z.Info,C),Log.warn=C=>Log.log(z.Warn,C),Log.error=C=>Log.log(z.Error,C)},6700:(C,E,I)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.NumericMask=E.DateMask=E.PhoneMask=E.Mask=E.MaskType=void 0;const B=I(1163);var z;I(5098),function(C){C.Phone="phone",C.Date="date",C.Numeric="numeric"}(z||(E.MaskType=z={}));class Mask{set definitions(C){this._definitions=C}get definitions(){return this._definitions}set column(C){this._column=C}get column(){return this._column}set alias(C){this._alias=C}get alias(){return this._alias}get config(){return this._config}get maskConfig(){return B.Convert.isNull(this._maskConfig)&&("string"==typeof this.column.config.mask?this._maskConfig={type:this.column.config.mask}:this._maskConfig=this.column.config.mask),this._maskConfig}constructor(C){this.column=C,this._config=this.parseConfig(this.maskConfig)}parseConfig(C){if(!B.Convert.isNull(C))return this.maskConfig.type=B.Convert.default(C.type,void 0),this.maskConfig.placeholder=B.Convert.default(C.placeholder,"_"),this.maskConfig.unMaskedValue=B.Convert.default(C.unMaskedValue,!1),this.maskConfig}static create(C){var E;switch("object"==typeof C.config.mask?null===(E=C.config.mask)||void 0===E?void 0:E.type:C.config.mask){case z.Phone:return new PhoneMask(C);case z.Date:return new DateMask(C);case z.Numeric:return new NumericMask(C)}}inputmask(C){const E=Object.assign(Object.assign({},this.maskConfig),{alias:this.alias,definitions:this.definitions,clearMaskOnLostFocus:!1,showMaskOnHover:!1,shiftPositions:!1});C.inputmask(E)}getEditValue(C){return B.Convert.isNull(this.config)?C.val():this.config.unMaskedValue?C.inputmask("unmaskedvalue"):C.val()}}E.Mask=Mask;class PhoneMask extends Mask{parseConfig(C){const E=super.parseConfig(C);return this.alias=B.Convert.default(C.alias,"999-9999-9999"),E}}E.PhoneMask=PhoneMask;class DateMask extends Mask{parseConfig(C){const E=super.parseConfig(C);return this.alias="datetime",E.inputFormat=B.Convert.default(C.inputFormat,"yyyy-mm-dd"),E.outputFormat=B.Convert.default(C.outputFormat,"yyyy-mm-dd"),E.autoUnmask=B.Convert.default(C.autoUnmask,!1),E}}E.DateMask=DateMask;class NumericMask extends Mask{parseConfig(C){const E=super.parseConfig(C);return this.alias=E.type,E.autoGroup=B.Convert.default(null==C?void 0:C.autoGroup,!1),E.groupSeparator=B.Convert.default(null==C?void 0:C.groupSeparator,""),E.digits=B.Convert.default(null==C?void 0:C.digits,"*"),E.allowMinus=B.Convert.default(null==C?void 0:C.allowMinus,!0),E.prefix=B.Convert.default(null==C?void 0:C.prefix,void 0),E.suffix=B.Convert.default(null==C?void 0:C.suffix,void 0),E}getEditValue(C){return B.Convert.isNull(this.config)?C.val():this.config.unMaskedValue?B.Convert.asFloat(C.inputmask("unmaskedvalue")):C.val()}}E.NumericMask=NumericMask},6265:(C,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.NumberUtil=void 0;class NumberUtil{static getIndex(C){return C.search(this.maskRegex)}static processMask(C="#.##"){const E={},I=C.length,B=this.getIndex(C);E.prefix=B>0?C.substring(0,B):"";const z=this.getIndex(C.split("").reverse().join("")),q=I-z,Q=C.substring(q,q+1),ee=q+("."===Q||","===Q?1:0);E.suffix=z>0?C.substring(ee,I):"",E.mask=C.substring(B,ee),E.maskHasNegativeSign="-"===E.mask.charAt(0),E.maskHasPositiveSign="+"===E.mask.charAt(0);let te=E.mask.match(this.notMaskRegex);E.decimal=te&&te[te.length-1]||".",E.separator=te&&te[1]&&te[0]||",";const ie=E.mask.split(E.decimal);return E.integer=ie[0],E.fraction=ie[1],E}static processValue(C,E,I){let B=!1;const z={value:C};C<0&&(B=!0,z.value=-z.value),z.sign=B?"-":"",z.value=Number(z.value).toFixed(E.fraction&&E.fraction.length),z.value=Number(z.value).toString();const q=E.fraction&&E.fraction.lastIndexOf("0");let[Q="0",ee=""]=z.value.split(".");return(!ee||ee&&ee.length<=q)&&(ee=q<0?"":Number("0."+ee).toFixed(q+1).replace("0.","")),z.integer=Q,z.fraction=ee,this.addSeparators(z,E),"0"!==z.result&&""!==z.result||(B=!1,z.sign=""),!B&&E.maskHasPositiveSign?z.sign="+":B&&E.maskHasPositiveSign?z.sign="-":B&&(z.sign=I&&I.enforceMaskSign&&!E.maskHasNegativeSign?"":"-"),z}static addSeparators(C,E){C.result="";const I=E.integer.split(E.separator),B=I.join(""),z=B&&B.indexOf("0");if(z>-1)for(;C.integer.length<B.length-z;)C.integer="0"+C.integer;else 0===Number(C.integer)&&(C.integer="");const q=I[1]&&I[I.length-1].length;if(q){const I=C.integer.length,B=I%q;for(let z=0;z<I;z++)C.result+=C.integer.charAt(z),!((z-B+1)%q)&&z<I-q&&(C.result+=E.separator)}else C.result=C.integer;return C.result+=E.fraction&&C.fraction?E.decimal+C.fraction:"",C}static format(C,E,I={enforceMaskSign:!1}){if(!E||isNaN(Number(C)))return C;E.indexOf(".")<0&&(E+=".");const B=NumberUtil.processMask(E),z=NumberUtil.processValue(C,B,I);return B.prefix+z.sign+z.result+B.suffix}}E.NumberUtil=NumberUtil,NumberUtil.maskRegex=/[0-9\-+#]/,NumberUtil.notMaskRegex=/[^\d\-+#]/g},1163:function(C,E,I){"use strict";var B=this&&this.__awaiter||function(C,E,I,B){return new(I||(I=Promise))((function(z,q){function fulfilled(C){try{step(B.next(C))}catch(C){q(C)}}function rejected(C){try{step(B.throw(C))}catch(C){q(C)}}function step(C){C.done?z(C.value):function adopt(C){return C instanceof I?C:new I((function(E){E(C)}))}(C.value).then(fulfilled,rejected)}step((B=B.apply(C,E||[])).next())}))};Object.defineProperty(E,"__esModule",{value:!0}),E.Crypto=E.CancellationToken=E.Lock=E.FuzzyMatcher=E.JqUtils=E.Queue=E.Stack=E.Arrays=E.Utils=E.Convert=E.DataType=void 0;const z=I(6312),q=I(9996),Q=I(5260),ee=I(6265),te=I(7078);var ie,re=I(7596);re.setDelimiter=function(...C){re.original_compile||(re.original_compile=re.compile);for(const E of C){const C=E.prefix.source,I=E.suffix.source;E.searchExp=new RegExp("("+C+")(.*?)("+I+")","ig"),E.prefixExp=new RegExp(C,"ig"),E.suffixExp=new RegExp(I,"ig")}re.compile=function(E){let I=E;for(const E of C)I=I.replace(E.searchExp,((C,I,B,z,q,Q)=>(I=I.replace(E.prefixExp,E.prefix.target))+B+(z=z.replace(E.suffixExp,E.suffix.target))));return re.original_compile(I)}},re.setDelimiter({prefix:{source:"`{{",target:"{{params "},suffix:{source:"}}`",target:"}}"}},{prefix:{source:'"{{',target:"{{params "},suffix:{source:'}}"',target:"}}"}},{prefix:{source:"'{{",target:"{{params "},suffix:{source:"}}'",target:"}}"}}),re.registerHelper("get",(function(C,E){return C.get(E)})),re.registerHelper("json",(function(C){return JSON.stringify(C)})),re.registerHelper("params",(function(...C){C.pop();let E=[];for(const I of C)E.push(JSON.stringify(I));return E.join(", ")})),function(C){C.String="string",C.Number="number",C.BigInt="bigint",C.Boolean="boolean",C.Date="date",C.Array="array",C.Any="any",C.Object="object"}(ie||(E.DataType=ie={}));class Convert{static repeat(C,E){let I=[];for(let B=0;B<C;B++)I.push(E(B));return I.join("")}static asText(C){return"string"==typeof C?C:"symbol"==typeof C?C.description:null==C?void 0:C.toString()}static asDate(C){return C instanceof Date?C:Convert.isEmpty(C)?void 0:"string"==typeof C?new Date(Date.parse(C)):new Date(C)}static asDateAs(C,E){if(C instanceof Date)return C;if(Convert.isEmpty(C))return E;const I="string"==typeof C?new Date(Date.parse(C)):new Date(C);return I instanceof Date&&0==isNaN(I.getTime())?I:E}static isEmpty(C){if(this.isNull(C))return!0;switch(typeof C){case"function":case"bigint":return!1;case"string":return""===C;case"number":return C===1/0||isNaN(C);case"object":if(C instanceof Array)return 0==C.length;if(C instanceof Map)return 0==C.size;if(C instanceof Set)return 0==C.size;if(C.constructor===Object)return 0==Object.keys(C).length;if(C instanceof Date)return isNaN(C.getTime())}return!1}static isWhite(C){return"string"==typeof C?""===C||""===C.trim():this.isEmpty(C)}static isValue(C){return!Convert.isEmpty(C)}static isNull(C){return null==C}static isSameValue(C,E){if(C===E)return!0;const I=typeof C;if(I!=typeof E)switch(I){case"bigint":return C==Convert.asBigInt(E);case"boolean":return Convert.asText(C)==Convert.asText(E);case"function":case"object":case"symbol":case"undefined":return C==E;case"number":return C==Convert.asNumber(E);case"string":return C==Convert.asText(E)}return!1}static isSame(C,E,I=!1){if(C===E)return!0;Convert.isNull(C)&&(C={}),Convert.isNull(E)&&(E={});for(const I in C)if(0==this.isSameValue(C[I],E[I]))return!1;if(I)for(const I in null!=E?E:{})if(0==this.isSameValue(C[I],E[I]))return!1;return!0}static asInt(C){return"number"==typeof C?Math.round(C):Math.round(Number.parseFloat(C))}static asBigInt(C){return"bigint"==typeof C?C:BigInt(C)}static asFloat(C){return"number"==typeof C?C:Number.parseFloat(C)}static asNumber(C){return"number"==typeof C?C:Number.parseFloat(C)}static asNumberAs(C,E){if(Convert.isEmpty(C))return E;if("number"==typeof C)return C;const I=Number.parseFloat(C);return isNaN(I)?E:I}static asBigIntAs(C,E){if(Convert.isEmpty(C))return E;if("bigint"==typeof C)return C;return BigInt(C)}static valueOf(C,E){var I;if((null!==(I=null==C?void 0:C.length)&&void 0!==I?I:0)<=E)throw`[${C}] : out of index(${E})`;return C[E]}static asBool(C){if("boolean"==typeof C)return C;if("string"==typeof C)switch(C.trim().toLowerCase()){case"":case"false":return!1;default:return!0}return Boolean(C)}static asStringArray(C,E){return Convert.isEmpty(C)&&Convert.isEmpty(E)?[]:"string"==typeof C?[C]:C instanceof Array&&Convert.isValue(C)?C:this.asStringArray(E,void 0)}static default(C,E,I){return this.isNull(C)?E:this.isNull(I)?C:I(C)}static parseEnum(C,E){if(Convert.isEmpty(E))return;let I=C[Object.keys(C).filter((I=>C[I].toString().toLowerCase()===E.toLowerCase()))[0]];if(Convert.isEmpty(I)){throw`'${E}' is invalid enum value ${C.constructor.name} [${Object.values(C)}]`}return I}static makeQueryString(C={},E){var I=[];for(let B in C)if(C.hasOwnProperty(B)){let z=E?E+"["+B+"]":B,q=C[B];I.push(null!==q&&"object"==typeof q?Convert.makeQueryString(q,z):encodeURIComponent(z)+"="+encodeURIComponent(q))}return I.join("&")}static arrayEqual(C,E,I){var B,z;if(Convert.isNull(C)&&Convert.isNull(E))return!0;let q=null!==(B=null==C?void 0:C.length)&&void 0!==B?B:0;if(q!=(null!==(z=null==E?void 0:E.length)&&void 0!==z?z:0))return!1;for(let B=0;B<q;B++)if(0==I(C[B],E[B]))return!1;return!0}static lpad(C,E,I){if(I.length>E)return Q.Log.warn((()=>"오류 : 채우고자 하는 문자열이 요청 길이보다 큽니다")),C;for(C+="",I+="";C.length<E;)C=I+C;return C=C.length>=E?C.substring(0,E):C}static rpad(C,E,I){if(I.length>E)return Q.Log.warn((()=>"오류 : 채우고자 하는 문자열이 요청 길이보다 큽니다")),C+"";for(C+="",I+="";C.length<E;)C+=I;return C=C.length>=E?C.substring(0,E):C}static testQueryString(){z.SBGrid3.Log.debug((()=>Convert.makeQueryString({foo:"hi there",bar:{blah:123,quux:[1,2,3]}})))}static formatValue(C,E,I=void 0,B){return Convert.isEmpty(I)?C:"*"==I&&0==Convert.isEmpty(C)?this.lpad("",C.toString().length,"*"):"function"==typeof I?I(C,E,B):"number"==typeof C?ee.NumberUtil.format(C,I):C instanceof Date?q.DateUtil.format(C,I,!1):Convert.isNull(C)?"":C}static mergeData(C,E=void 0){const I={};for(const E in null!=C?C:{})I[E]=C[E];for(const C in null!=E?E:{})I.hasOwnProperty(C)||(I[C]=E[C]);return I}static mergeArray(C,E){const I=new Set;if(Convert.isValue(C))for(const E in C)I.add(C[E]);if(Convert.isValue(E))for(const C in E)I.add(E[C]);return Arrays.from(I)}static cloneData(C){const E={};for(const I in null!=C?C:{})E[I]=C[I];return E}static between(C,E,I){return(null!=C?C:E)<=E&&E<=(null!=I?I:E)}static convertType(C,E,I=void 0){if(Convert.isEmpty(E))return C;if("function"==typeof E)return E(C);if(!Convert.isNull(C))switch(E){case ie.Array:return C instanceof Array?C:[...C];case ie.Boolean:return Convert.asBool(C);case ie.Date:return Convert.asDateAs(C,I);case ie.Number:return Convert.asNumberAs(C,I);case ie.BigInt:return Convert.asBigIntAs(C,I);case ie.String:return Convert.asText(C);default:return C}}}E.Convert=Convert;class Utils{static postData(C="",E={}){return B(this,void 0,void 0,(function*(){Q.Log.debug((()=>({f:"postData",url:C,payload:E})));const I=yield fetch(C,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json","access-control-allow-origin":"*","access-control-allow-credentials":"true"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(E)});return yield I.json()}))}static getData(C="",E={}){return B(this,void 0,void 0,(function*(){var I=Convert.makeQueryString(E);C=Convert.isEmpty(I)?C:C.replace("?","")+"?"+I;const B=yield fetch(C,{method:"GET",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json","access-control-allow-origin":"*","access-control-allow-credentials":"true"},redirect:"follow",referrerPolicy:"no-referrer"});return yield B.json()}))}static ensureName(C){let E=0;return this._nameMap.has(C)?(E=this._nameMap.get(C),E++,this._nameMap.set(C,E)):(E++,this._nameMap.set(C,E)),C+E}static setData(C,E,I){let B=C.findIndex((C=>I(C)));B<0?C.push(E):C[B]=E}static removeData(C,E){let I=C.findIndex((C=>E(C)));return I>=0&&C.splice(I),this}static prepareTemplate(C){if(!Convert.isEmpty(C)){if(C.startsWith("#")){const E=z.SBGrid3.$(C);if(0==E.length)return void Q.Log.error((()=>`[${C}] 를 찾을 수 없습니다.`));const I=E.html().trim();C=I}return C}}static parseTemplateParams(C){if(Convert.isEmpty(C))return[];return C.match(/(?<=\{\{)[\{]?(.*?)[\}]?(?=\}\})/g)}static createTemplate(C){if(C=this.prepareTemplate(C),!Convert.isNull(C))return re.compile(C)}static createTemplates(C){return Convert.isEmpty(C)?[]:C.map((C=>this.createTemplate(C)))}static findCellFromColumn(C,E){for(const I of null==C?void 0:C.rows){let C=null==I?void 0:I.cells;for(const I of C)if(E==(null==I?void 0:I.column))return I}}static findGridColumnByName(C,E){return Arrays.dfsSearch(E,(E=>(null==E?void 0:E.name)===C||(null==E?void 0:E.columns)))}static escapeString(C){const E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return C.replace(/[&<>"']/g,(C=>E[C]))}static unEscapeString(C){return"string"!=typeof C?C:C.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&#39;/g,"'")}}E.Utils=Utils,Utils._nameMap=new Map;class Arrays{static dfsAction(C,E){if(!Convert.isNull(E)&&!Convert.isEmpty(C)){var I=new Stack;for(let E=C.length-1;E>=0;E--)I.push(C[E]);for(;I.any();){let C=E(I.pop());if(!Convert.isNull(C)&&0!=C.length)for(let E=C.length-1;E>=0;E--)I.push(C[E])}}}static dfsActionAsync(C,E){return B(this,void 0,void 0,(function*(){if(!Convert.isNull(E)&&!Convert.isEmpty(C)){var I=new Stack;for(let E=C.length-1;E>=0;E--)I.push(C[E]);for(;I.any();){var B=I.pop();let C=yield E(B);if(!Convert.isNull(C)&&0!=C.length)for(let E=C.length-1;E>=0;E--)I.push(C[E])}}}))}static bfsAction(C,E){if(!Convert.isNull(E)&&!Convert.isEmpty(C)){var I=new Queue;for(let E=0,B=C.length;E<B;E++)I.push(C[E]);for(;I.any();){let C=E(I.pop());if(!Convert.isEmpty(C))for(let E=0,B=C.length;E<B;E++)I.push(C[E])}}}static bfsActionAsync(C,E){return B(this,void 0,void 0,(function*(){if(!Convert.isNull(E)&&!Convert.isEmpty(C)){var I=new Queue;for(let E=0,B=C.length;E<B;E++)I.push(C[E]);for(;I.any();){var B=I.pop();let C=yield E(B);if(!Convert.isNull(C)&&0!=C.length)for(let E=0,B=C.length;E<B;E++)I.push(C[E])}}}))}static bfsSearch(C,E){if(!Convert.isNull(E)&&!Convert.isEmpty(C)){var I=new Queue;for(let E=0,B=C.length;E<B;E++)I.push(C[E]);for(;I.any();){var B=I.pop();let C=E(B);if(!0===C)return B;if(C instanceof Array){if(0==C.length)continue;for(let E=0,B=C.length;E<B;E++)I.push(C[E])}}}}static bfsSearchAll(C,E){if(Convert.isNull(E)||Convert.isEmpty(C))throw"subItems == null || predicate == null";const I=[];let B=C(void 0);var z=new Queue;for(let C=0,E=B.length;C<E;C++)z.push(B[C]);for(;z.any();){var q=z.pop();if(!0===E(q)&&I.push(q),B=C(q),B instanceof Array){if(0==B.length)continue;for(let C=0,E=B.length;C<E;C++)z.push(B[C])}}return I}static dfsSearch(C,E){if(!Convert.isNull(E)&&!Convert.isEmpty(C)){var I=new Stack;for(let E=C.length-1;E>=0;E--)I.push(C[E]);for(;I.any();){var B=I.pop();let C=E(B);if(!0===C)return B;if(C instanceof Array){if(0==C.length)continue;for(let E=C.length-1;E>=0;E--)I.push(C[E])}}}}static arrayEquals(C,E){return C==E||Array.isArray(C)&&Array.isArray(E)&&C.length===E.length&&C.every(((C,I)=>C==E[I]))}static intervalAction(C,E){return B(this,void 0,void 0,(function*(){let I=0;const z=C.length;return new Promise(((q,Q)=>{let ee=setInterval((()=>B(this,void 0,void 0,(function*(){try{for(;I<z;I++){const B=C[I];let q=E(B,I,z);if(q instanceof Promise&&(q=yield q),!0===q)return void I++}clearInterval(ee),q()}catch(C){clearInterval(ee),Q(C)}}))),0)}))}))}static splitIterator(C,E){return B(this,void 0,void 0,(function*(){let I=0;return new Promise(((z,q)=>{let ee=setInterval((()=>B(this,void 0,void 0,(function*(){try{let B;for(;B=yield C(I);){let C=E(B instanceof Promise?yield B:B,I,length);if(C instanceof Promise&&(C=yield C),I++,!0===C)return}clearInterval(ee),z()}catch(C){Q.Log.warn(C),clearInterval(ee),q(C)}}))),0)}))}))}static from(C,E,I){if(Convert.isNull(window.Prototype))return Array.from(C);const B=[],z=Convert.isValue(E);if(C.hasOwnProperty("length")){const I=C;for(let C=0,q=I.length;C<q;C++){const q=I[C];B.push(z?E(q,C):q)}}else{let I=0;for(const q of C)B.push(z?E(q,I):q),I++}return B}static range(C,E,I){let B=[];const z=E+I;for(let I=E;I<z;I++){const E=C[I];Convert.isNull(E)||B.push(C[I])}return B}static asArray(C){return Convert.isNull(C)?[]:C instanceof Array?C:[C]}}E.Arrays=Arrays;class Stack{constructor(){this.data=[]}push(C){this.data.push(C)}pop(){return this.data.pop()}peek(){return this.data[this.data.length-1]}any(){return this.data.length>0}get list(){return this.data}clear(){this.data.splice(0)}}E.Stack=Stack;class Queue extends Stack{pop(){return this.data.shift()}}E.Queue=Queue;E.JqUtils=class JqUtils{static addClass(C,E){let I=!1;return(I=C.hasClass(E))||C.addClass(E),I}static removeClass(C,E){let I=!1;return(I=C.hasClass(E))&&C.removeClass(E),I}static adjustHtml(C,E){C.html()!=(E=Convert.asText(E))&&C.html(E)}static movetoTrash(C,E,I){if(Convert.isNull(E))return;const B=E.children();for(let E=0;E<B.length;E++){const z=B[E],q=z.dataset.selector;if("string"==typeof I){if(I==q)continue}else if(I.has(q))continue;z.style.display="none",C.push(z)}}static emptyTrash(C){var E,I;for(const B of C){const C=new Set(B.className.split(" "));if(C.has(te.SbCss.detail)&&C.has(te.SbCss.row)){const C=z.SBGrid3.$(B).data("rowItem");Convert.isValue(null===(E=null==C?void 0:C.detailContext)||void 0===E?void 0:E.container)&&z.SBGrid3.$(null===(I=null==C?void 0:C.detailContext)||void 0===I?void 0:I.container).detach()}z.SBGrid3.$(B).remove()}C.splice(0)}static disposeElement(C,E,I){if(Convert.isNull(E))return;if(Convert.isNull(E))return;const B=E.children();for(let E=0;E<B.length;E++){const z=B[E];I.findIndex((C=>C.isSameNode(z)))>=0||(z.style.display="none",C.push(z))}}static adjustElement(C,E,I,B=void 0,q=void 0){let Q=z.SBGrid3.$(E,C);if(0==Convert.isNull(q)&&q.add(E),0==Q.length)if(Q=z.SBGrid3.$(I),0==Convert.isNull(q)&&(Q[0].dataset.selector=E),Convert.isNull(B))C.append(Q);else{const E=C.children();for(let C=0;C<E.length;C++){const I=z.SBGrid3.$(E[C]);if("function"==typeof B){if(B(I))return I.before(Q),Q}else if(I.data(B.data)>B.index)return I.before(Q),Q.data(B.data,B.index),Q}C.append(Q)}else 0==Convert.isNull(q)&&(Q[0].dataset.selector=E),Convert.isValue(B)&&("function"==typeof B||Q.data(B.data,B.index));return Q}static removeElement(C,E){z.SBGrid3.$(E,C).remove()}static changeAttr(C,E,I){C.attr(E)!=I&&C.attr(E,I)}static changeClass(C,E){const I=C.attr("class");if(I==E)return;let B=E.split(" ");B=B.filter((C=>C.length>0)),I!=(E=B.join(" "))&&C.attr("class",E)}static changeDataset(C,E,I){C[0].dataset[E]!=I&&(C[0].dataset[E]=I)}};class FuzzyMatcher{static createFuzzyMatcher(C){if(Convert.isEmpty(C))return new RegExp("");const E=FuzzyMatcher.convertPattern(C);return new RegExp(E)}static convertPattern(C){return/[ㄱ-ㅎ]/.test(C)?FuzzyMatcher.consonantPattern(C):FuzzyMatcher.syllablePattern(C)}static escapeRegExp(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static syllablePattern(C){const E=C.substring(0,(null==C?void 0:C.length)-1),I=C[C.length-1];let B=null==I?void 0:I.charCodeAt(0);if(B>=44032&&B<=55203){const z=44032;B=I.charCodeAt(0)-z;const q=28*Math.floor(B/28)+z;if(B%28>0){const I=B%28;return`${this.escapeRegExp(C)}|${this.escapeRegExp(E)}${String.fromCharCode(q)+FuzzyMatcher.consonantPattern(FuzzyMatcher.JONGSUNGS[I])}`}const Q=q+27;return`${this.escapeRegExp(E)}[\\u${q.toString(16)}-\\u${Q.toString(16)}]`}return this.escapeRegExp(C)}static consonantPattern(C){return C.split("").map(FuzzyMatcher._consonantPattern).join("")}static _consonantPattern(C){if(!/[ㄱ-ㅎ]/.test(C))return FuzzyMatcher.escapeRegExp(C);const E=FuzzyMatcher.CONSONANTS[C]||588*(C.charCodeAt(0)-12613)+FuzzyMatcher.CONSONANTS["ㅅ"],I=E+587;return`[${C}\\u${E.toString(16)}-\\u${I.toString(16)}]`}}E.FuzzyMatcher=FuzzyMatcher,FuzzyMatcher.JONGSUNGS=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],FuzzyMatcher.CONSONANTS={ㄱ:44032,ㄲ:44620,ㄴ:45208,ㄷ:45796,ㄸ:46384,ㄹ:46972,ㅁ:47560,ㅂ:48148,ㅃ:48736,ㅅ:49324};E.Lock=class Lock{constructor(){this.queue=[],this.acquired=!1}acquire(){return B(this,void 0,void 0,(function*(){if(this.acquired)return new Promise(((C,E)=>{this.queue.push(C)}));this.acquired=!0}))}release(){return B(this,void 0,void 0,(function*(){if(0===this.queue.length&&this.acquired)return void(this.acquired=!1);const C=this.queue.shift();return new Promise((E=>{C(),E()}))}))}critical(C){return B(this,void 0,void 0,(function*(){yield this.acquire();try{return yield C()}finally{yield this.release()}}))}};const ne=Symbol();class CancellationToken{constructor(){this._cancelled=!1,this._cancelled=!1}throwIfCancelled(){if(this.cancelled)throw"Cancelled!"}get cancelled(){return!0===this._cancelled}[ne](){this._cancelled=!0}}E.CancellationToken=CancellationToken;E.default=class CancellationTokenSource{constructor(){this.token=new CancellationToken}cancel(){this.token[ne]()}};class Crypto{static decrypt(C,E,I){if(128!=I&&192!=I&&256!=I)return"";C=this.Aes.base64Decode(C),E=this.Aes.utf8Encode(E);const B=I/8,z=new Array(B);for(let C=0;C<B;C+=1)z[C]=isNaN(E.charCodeAt(C))?0:E.charCodeAt(C);let q=this.Aes.cipher(z,this.Aes.keyExpansion(z));q=q.concat(q.slice(0,B-16));const Q=new Array(8),ee=C.slice(0,8);for(let C=0;C<8;C+=1)Q[C]=ee.charCodeAt(C);const te=this.Aes.keyExpansion(q),ie=Math.ceil((C.length-8)/16),re=new Array(ie);for(let E=0;E<ie;E+=1)re[E]=C.slice(16*E+8,16*E+16+8);C=re;const ne=new Array(C.length);for(let E=0;E<ie;E+=1){for(let C=0;C<4;C+=1)Q[15-C]=E>>>8*C&255;for(let C=0;C<4;C+=1)Q[15-C-4]=(E+1)/4294967296-1>>>8*C&255;const I=this.Aes.cipher(Q,te),B=new Array(C[E].length);for(let z=0;z<C[E].length;z+=1)B[z]=I[z]^C[E].charCodeAt(z),B[z]=String.fromCharCode(B[z]);ne[E]=B.join("")}let se=ne.join("");return se=this.Aes.utf8Decode(se),se}static encrypt(C,E,I){if(128!=I&&192!=I&&256!=I)return"";C=this.Aes.utf8Encode(C),E=this.Aes.utf8Encode(E);const B=I/8,z=new Array(B);for(let C=0;C<B;C+=1)z[C]=isNaN(E.charCodeAt(C))?0:E.charCodeAt(C);let q=this.Aes.cipher(z,this.Aes.keyExpansion(z));q=q.concat(q.slice(0,B-16));const Q=new Array(16),ee=(new Date).getTime(),te=ee%1e3,ie=Math.floor(ee/1e3),re=Math.floor(65535*Math.random());for(let C=0;C<2;C+=1)Q[C]=te>>>8*C&255;for(let C=0;C<2;C+=1)Q[C+2]=re>>>8*C&255;for(let C=0;C<4;C+=1)Q[C+4]=ie>>>8*C&255;let ne="";for(let C=0;C<8;C+=1)ne+=String.fromCharCode(Q[C]);const se=this.Aes.keyExpansion(q),oe=Math.ceil(C.length/16),ae=new Array(oe);for(let E=0;E<oe;E+=1){for(let C=0;C<4;C+=1)Q[15-C]=E>>>8*C&255;for(let C=0;C<4;C+=1)Q[15-C-4]=E/4294967296>>>8*C;const I=this.Aes.cipher(Q,se),B=E<oe-1?16:(C.length-1)%16+1,z=new Array(B);for(let q=0;q<B;q+=1)z[q]=I[q]^C.charCodeAt(16*E+q),z[q]=String.fromCharCode(z[q]);ae[E]=z.join("")}let le=ne+ae.join("");return le=this.Aes.base64Encode(le),le}}E.Crypto=Crypto,Crypto.Aes={sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],utf8Encode:C=>(C=String(C),unescape(encodeURIComponent(C))),utf8Decode:C=>(C=String(C),decodeURIComponent(escape(C))),base64Encode:C=>(C=String(C),void 0!==window.btoa?window.btoa(C):"undefined"!=typeof Buffer?new Buffer(C,"utf8").toString("base64"):void 0),base64Decode:C=>(C=String(C),void 0!==window.atob?window.atob(C):"undefined"!=typeof Buffer?new Buffer(C,"base64").toString("utf8"):void 0),cipher(C,E){const I=E.length/4-1;let B=[[],[],[],[]];for(let E=0;E<16;E+=1)B[E%4][Math.floor(E/4)]=C[E];B=this.addRoundKey(B,E,0,4);for(let C=1;C<I;C+=1)B=this.subBytes(B,4),B=this.shiftRows(B,4),B=this.mixColumns(B,4),B=this.addRoundKey(B,E,C,4);B=this.subBytes(B,4),B=this.shiftRows(B,4),B=this.addRoundKey(B,E,I,4);const z=new Array(16);for(let C=0;C<16;C+=1)z[C]=B[C%4][Math.floor(C/4)];return z},addRoundKey(C,E,I,B){for(let z=0;z<4;z+=1)for(let q=0;q<B;q+=1)C[z][q]^=E[4*I+q][z];return C},subBytes(C,E){for(let I=0;I<4;I+=1)for(let B=0;B<E;B+=1)C[I][B]=this.sBox[C[I][B]];return C},shiftRows(C,E){const I=new Array(4);for(let B=1;B<4;B+=1){for(let z=0;z<4;z+=1)I[z]=C[B][(z+B)%E];for(let E=0;E<4;E+=1)C[B][E]=I[E]}return C},mixColumns(C,E){for(let E=0;E<4;E+=1){const I=new Array(4),B=new Array(4);for(let z=0;z<4;z+=1)I[z]=C[z][E],B[z]=128&C[z][E]?C[z][E]<<1^283:C[z][E]<<1;C[0][E]=B[0]^I[1]^B[1]^I[2]^I[3],C[1][E]=I[0]^B[1]^I[2]^B[2]^I[3],C[2][E]=I[0]^I[1]^B[2]^I[3]^B[3],C[3][E]=I[0]^B[0]^I[1]^I[2]^B[3]}return C},subWord(C){for(let E=0;E<4;E+=1)C[E]=this.sBox[C[E]];return C},rotWord(C){const E=C[0];for(let E=0;E<3;E+=1)C[E]=C[E+1];return C[3]=E,C},keyExpansion(C){const E=C.length/4,I=E+6,B=new Array(4*(I+1));let z=new Array(4);for(let I=0;I<E;I+=1){const E=[C[4*I],C[4*I+1],C[4*I+2],C[4*I+3]];B[I]=E}for(let C=E;C<4*(I+1);C+=1){B[C]=new Array(4);for(let E=0;E<4;E+=1)z[E]=B[C-1][E];if(C%E==0){z=this.subWord(this.rotWord(z));for(let I=0;I<4;I+=1)z[I]^=this.rCon[C/E][I]}else E>6&&C%E==4&&(z=this.subWord(z));for(let I=0;I<4;I+=1)B[C][I]=B[C-E][I]^z[I]}return B}}},2108:(C,E,I)=>{C.exports=function(){var C;return function(){function r(C,E,I){function o(z,q){if(!E[z]){if(!C[z]){if(B)return B(z,!0);var Q=new Error("Cannot find module '"+z+"'");throw Q.code="MODULE_NOT_FOUND",Q}var ee=E[z]={exports:{}};C[z][0].call(ee.exports,(function(E){return o(C[z][1][E]||E)}),ee,ee.exports,r,C,E,I)}return E[z].exports}for(var B=void 0,z=0;z<I.length;z++)o(I[z]);return o}return r}()({1:[function(C,E,I){"use strict";const B=C("fs"),z=C("fast-csv"),q=C("dayjs/plugin/customParseFormat"),Q=C("dayjs/plugin/utc"),ee=C("dayjs").extend(q).extend(Q),te=C("../utils/stream-buf"),{fs:{exists:ie}}=C("../utils/utils"),re={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};class CSV{constructor(C){this.workbook=C,this.worksheet=null}async readFile(C,E){if(E=E||{},!await ie(C))throw new Error(`File not found: ${C}`);const I=B.createReadStream(C),z=await this.read(I,E);return I.close(),z}read(C,E){return E=E||{},new Promise(((I,B)=>{const q=this.workbook.addWorksheet(E.sheetName),Q=E.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],te=E.map||function(C){if(""===C)return null;const E=Number(C);if(!Number.isNaN(E)&&E!==1/0)return E;const I=Q.reduce(((E,I)=>{if(E)return E;const B=ee(C,I,!0);return B.isValid()?B:null}),null);if(I)return new Date(I.valueOf());const B=re[C];return void 0!==B?B:C},ie=z.parse(E.parserOptions).on("data",(C=>{q.addRow(C.map(te))})).on("end",(()=>{ie.emit("worksheet",q)}));ie.on("worksheet",I).on("error",B),C.pipe(ie)}))}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(C,E){return new Promise(((I,B)=>{E=E||{};const q=this.workbook.getWorksheet(E.sheetName||E.sheetId),Q=z.format(E.formatterOptions);C.on("finish",(()=>{I()})),Q.on("error",B),Q.pipe(C);const{dateFormat:te,dateUTC:ie}=E,re=E.map||(C=>{if(C){if(C.text||C.hyperlink)return C.hyperlink||C.text||"";if(C.formula||C.result)return C.result||"";if(C instanceof Date)return te?ie?ee.utc(C).format(te):ee(C).format(te):ie?ee.utc(C).format():ee(C).format();if(C.error)return C.error;if("object"==typeof C)return JSON.stringify(C)}return C}),ne=void 0===E.includeEmptyRows||E.includeEmptyRows;let se=1;q&&q.eachRow(((C,E)=>{if(ne)for(;se++<E-1;)Q.write([]);const{values:I}=C;I.shift(),Q.write(I.map(re)),se=E})),Q.end()}))}writeFile(C,E){const I={encoding:(E=E||{}).encoding||"utf8"},z=B.createWriteStream(C,I);return this.write(z,E)}async writeBuffer(C){const E=new te;return await this.write(E,C),E.read()}}E.exports=CSV},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(C,E,I){"use strict";const B=C("../utils/col-cache");class Anchor{constructor(C,E){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this.worksheet=C,E)if("string"==typeof E){const C=B.decodeAddress(E);this.nativeCol=C.col+I,this.nativeColOff=0,this.nativeRow=C.row+I,this.nativeRowOff=0}else void 0!==E.nativeCol?(this.nativeCol=E.nativeCol||0,this.nativeColOff=E.nativeColOff||0,this.nativeRow=E.nativeRow||0,this.nativeRowOff=E.nativeRowOff||0):void 0!==E.col?(this.col=E.col+I,this.row=E.row+I):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(C){return C instanceof Anchor||null==C?C:new Anchor(C)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(C){this.nativeCol=Math.floor(C),this.nativeColOff=Math.floor((C-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(C){this.nativeRow=Math.floor(C),this.nativeRowOff=Math.floor((C-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(C){this.nativeCol=C.nativeCol,this.nativeColOff=C.nativeColOff,this.nativeRow=C.nativeRow,this.nativeRowOff=C.nativeRowOff}}E.exports=Anchor},{"../utils/col-cache":19}],3:[function(C,E,I){"use strict";const B=C("../utils/col-cache"),z=C("../utils/under-dash"),q=C("./enums"),{slideFormula:Q}=C("../utils/shared-formula"),ee=C("./note");class Cell{constructor(C,E,I){if(!C||!E)throw new Error("A Cell needs a Row");this._row=C,this._column=E,B.validateAddress(I),this._address=I,this._value=te.create(Cell.Types.Null,this),this.style=this._mergeStyle(C.style,E.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(C){this.style.numFmt=C}get font(){return this.style.font}set font(C){this.style.font=C}get alignment(){return this.style.alignment}set alignment(C){this.style.alignment=C}get border(){return this.style.border}set border(C){this.style.border=C}get fill(){return this.style.fill}set fill(C){this.style.fill=C}get protection(){return this.style.protection}set protection(C){this.style.protection=C}_mergeStyle(C,E,I){const B=C&&C.numFmt||E&&E.numFmt;B&&(I.numFmt=B);const z=C&&C.font||E&&E.font;z&&(I.font=z);const q=C&&C.alignment||E&&E.alignment;q&&(I.alignment=q);const Q=C&&C.border||E&&E.border;Q&&(I.border=Q);const ee=C&&C.fill||E&&E.fill;ee&&(I.fill=ee);const te=C&&C.protection||E&&E.protection;return te&&(I.protection=te),I}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===Cell.Types.Merge}merge(C,E){this._value.release(),this._value=te.create(Cell.Types.Merge,this,C),E||(this.style=C.style)}unmerge(){this.type===Cell.Types.Merge&&(this._value.release(),this._value=te.create(Cell.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(C){return this._value.type===Cell.Types.Merge&&this._value.isMergedTo(C)}get master(){return this.type===Cell.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===Cell.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(C){this.type!==Cell.Types.Merge?(this._value.release(),this._value=te.create(te.getType(C),this,C)):this._value.master.value=C}get note(){return this._comment&&this._comment.note}set note(C){this._comment=new ee(C)}get text(){return this._value.toString()}get html(){return z.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(C){this.type===Cell.Types.String&&(this._value=te.create(Cell.Types.Hyperlink,this,{text:this._value.value,hyperlink:C}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:C}=this._row;return{sheetName:C.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(C){this.names=[C]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(C){const{definedNames:E}=this.workbook;E.removeAllNames(this.fullAddress),C.forEach((C=>{E.addEx(this.fullAddress,C)}))}addName(C){this.workbook.definedNames.addEx(this.fullAddress,C)}removeName(C){this.workbook.definedNames.removeEx(this.fullAddress,C)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(C){this._dataValidations.add(this.address,C)}get model(){const{model:C}=this._value;return C.style=this.style,this._comment&&(C.comment=this._comment.model),C}set model(C){this._value.release(),this._value=te.create(C.type,this),this._value.model=C,C.comment&&"note"===C.comment.type&&(this._comment=ee.fromModel(C.comment)),C.style?this.style=C.style:this.style={}}}Cell.Types=q.ValueType;class NullValue{constructor(C){this.model={address:C.address,type:Cell.Types.Null}}get value(){return null}set value(C){}get type(){return Cell.Types.Null}get effectiveType(){return Cell.Types.Null}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return""}release(){}toString(){return""}}class NumberValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.Number,value:E}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Number}get effectiveType(){return Cell.Types.Number}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class StringValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.String,value:E}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.String}get effectiveType(){return Cell.Types.String}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}class RichTextValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.String,value:E}}get value(){return this.model.value}set value(C){this.model.value=C}toString(){return this.model.value.richText.map((C=>C.text)).join("")}get type(){return Cell.Types.RichText}get effectiveType(){return Cell.Types.RichText}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}class DateValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.Date,value:E}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Date}get effectiveType(){return Cell.Types.Date}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}class HyperlinkValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.Hyperlink,text:E?E.text:void 0,hyperlink:E?E.hyperlink:void 0},E&&E.tooltip&&(this.model.tooltip=E.tooltip)}get value(){const C={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(C.tooltip=this.model.tooltip),C}set value(C){this.model={text:C.text,hyperlink:C.hyperlink},C.tooltip&&(this.model.tooltip=C.tooltip)}get text(){return this.model.text}set text(C){this.model.text=C}get hyperlink(){return this.model.hyperlink}set hyperlink(C){this.model.hyperlink=C}get type(){return Cell.Types.Hyperlink}get effectiveType(){return Cell.Types.Hyperlink}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}class MergeValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.Merge,master:E?E.address:void 0},this._master=E,E&&E.addMergeRef()}get value(){return this._master.value}set value(C){C instanceof Cell?(this._master&&this._master.releaseMergeRef(),C.addMergeRef(),this._master=C):this._master.value=C}isMergedTo(C){return C===this._master}get master(){return this._master}get type(){return Cell.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}class FormulaValue{constructor(C,E){this.cell=C,this.model={address:C.address,type:Cell.Types.Formula,shareType:E?E.shareType:void 0,ref:E?E.ref:void 0,formula:E?E.formula:void 0,sharedFormula:E?E.sharedFormula:void 0,result:E?E.result:void 0}}_copyModel(C){const E={},cp=I=>{const B=C[I];B&&(E[I]=B)};return cp("formula"),cp("result"),cp("ref"),cp("shareType"),cp("sharedFormula"),E}get value(){return this._copyModel(this.model)}set value(C){this.model=this._copyModel(C)}validate(C){switch(te.getType(C)){case Cell.Types.Null:case Cell.Types.String:case Cell.Types.Number:case Cell.Types.Date:break;case Cell.Types.Hyperlink:case Cell.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(C){this.model.formula=C}get formulaType(){return this.model.formula?q.FormulaType.Master:this.model.sharedFormula?q.FormulaType.Shared:q.FormulaType.None}get result(){return this.model.result}set result(C){this.model.result=C}get type(){return Cell.Types.Formula}get effectiveType(){const C=this.model.result;return null==C?q.ValueType.Null:C instanceof String||"string"==typeof C?q.ValueType.String:"number"==typeof C?q.ValueType.Number:C instanceof Date?q.ValueType.Date:C.text&&C.hyperlink?q.ValueType.Hyperlink:C.formula?q.ValueType.Formula:q.ValueType.Null}get address(){return this.model.address}set address(C){this.model.address=C}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:C}=this.cell,E=C.findCell(this.model.sharedFormula);this._translatedFormula=E&&Q(E.formula,E.address,this.model.address)}return this._translatedFormula}toCsvString(){return`${this.model.result||""}`}release(){}toString(){return this.model.result?this.model.result.toString():""}}class SharedStringValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.SharedString,value:E}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.SharedString}get effectiveType(){return Cell.Types.SharedString}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}class BooleanValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.Boolean,value:E}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Boolean}get effectiveType(){return Cell.Types.Boolean}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}class ErrorValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.Error,value:E}}get value(){return this.model.value}set value(C){this.model.value=C}get type(){return Cell.Types.Error}get effectiveType(){return Cell.Types.Error}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}class JSONValue{constructor(C,E){this.model={address:C.address,type:Cell.Types.String,value:JSON.stringify(E),rawValue:E}}get value(){return this.model.rawValue}set value(C){this.model.rawValue=C,this.model.value=JSON.stringify(C)}get type(){return Cell.Types.String}get effectiveType(){return Cell.Types.String}get address(){return this.model.address}set address(C){this.model.address=C}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}const te={getType:C=>null==C?Cell.Types.Null:C instanceof String||"string"==typeof C?Cell.Types.String:"number"==typeof C?Cell.Types.Number:"boolean"==typeof C?Cell.Types.Boolean:C instanceof Date?Cell.Types.Date:C.text&&C.hyperlink?Cell.Types.Hyperlink:C.formula||C.sharedFormula?Cell.Types.Formula:C.richText?Cell.Types.RichText:C.sharedString?Cell.Types.SharedString:C.error?Cell.Types.Error:Cell.Types.JSON,types:[{t:Cell.Types.Null,f:NullValue},{t:Cell.Types.Number,f:NumberValue},{t:Cell.Types.String,f:StringValue},{t:Cell.Types.Date,f:DateValue},{t:Cell.Types.Hyperlink,f:HyperlinkValue},{t:Cell.Types.Formula,f:FormulaValue},{t:Cell.Types.Merge,f:MergeValue},{t:Cell.Types.JSON,f:JSONValue},{t:Cell.Types.SharedString,f:SharedStringValue},{t:Cell.Types.RichText,f:RichTextValue},{t:Cell.Types.Boolean,f:BooleanValue},{t:Cell.Types.Error,f:ErrorValue}].reduce(((C,E)=>(C[E.t]=E.f,C)),[]),create(C,E,I){const B=this.types[C];if(!B)throw new Error(`Could not create Value of type ${C}`);return new B(E,I)}};E.exports=Cell},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(C,E,I){"use strict";const B=C("../utils/under-dash"),z=C("./enums"),q=C("../utils/col-cache"),Q=9;class Column{constructor(C,E,I){this._worksheet=C,this._number=E,!1!==I&&(this.defn=I)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return q.n2l(this._number)}get isCustomWidth(){return void 0!==this.width&&this.width!==Q}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(C){C?(this.key=C.key,this.width=void 0!==C.width?C.width:Q,this.outlineLevel=C.outlineLevel,C.style?this.style=C.style:this.style={},this.header=C.header,this._hidden=!!C.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(C){void 0!==C?(this._header=C,this.headers.forEach(((C,E)=>{this._worksheet.getCell(E+1,this.number).value=C}))):this._header=void 0}get key(){return this._key}set key(C){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=C,C&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(C){this._hidden=C}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(C){this._outlineLevel=C}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(C){return this.width===C.width&&this.hidden===C.hidden&&this.outlineLevel===C.outlineLevel&&B.isEqual(this.style,C.style)}get isDefault(){if(this.isCustomWidth)return!1;if(this.hidden)return!1;if(this.outlineLevel)return!1;const C=this.style;return!C||!(C.font||C.numFmt||C.alignment||C.border||C.fill||C.protection)}get headerCount(){return this.headers.length}eachCell(C,E){const I=this.number;E||(E=C,C=null),this._worksheet.eachRow(C,((C,B)=>{E(C.getCell(I),B)}))}get values(){const C=[];return this.eachCell(((E,I)=>{E&&E.type!==z.ValueType.Null&&(C[I]=E.value)})),C}set values(C){if(!C)return;const E=this.number;let I=0;C.hasOwnProperty("0")&&(I=1),C.forEach(((C,B)=>{this._worksheet.getCell(B+I,E).value=C}))}_applyStyle(C,E){return this.style[C]=E,this.eachCell((I=>{I[C]=E})),E}get numFmt(){return this.style.numFmt}set numFmt(C){this._applyStyle("numFmt",C)}get font(){return this.style.font}set font(C){this._applyStyle("font",C)}get alignment(){return this.style.alignment}set alignment(C){this._applyStyle("alignment",C)}get protection(){return this.style.protection}set protection(C){this._applyStyle("protection",C)}get border(){return this.style.border}set border(C){this._applyStyle("border",C)}get fill(){return this.style.fill}set fill(C){this._applyStyle("fill",C)}static toModel(C){const E=[];let I=null;return C&&C.forEach(((C,B)=>{C.isDefault?I&&(I=null):I&&C.equivalentTo(I)?I.max=B+1:(I={min:B+1,max:B+1,width:void 0!==C.width?C.width:Q,style:C.style,isCustomWidth:C.isCustomWidth,hidden:C.hidden,outlineLevel:C.outlineLevel,collapsed:C.collapsed},E.push(I))})),E.length?E:void 0}static fromModel(C,E){const I=[];let B=1,z=0;for(E=(E=E||[]).sort((function(C,E){return C.min-E.min}));z<E.length;){const q=E[z++];for(;B<q.min;)I.push(new Column(C,B++));for(;B<=q.max;)I.push(new Column(C,B++,q))}return I.length?I:null}}E.exports=Column},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(C,E,I){"use strict";class DataValidations{constructor(C){this.model=C||{}}add(C,E){return this.model[C]=E}find(C){return this.model[C]}remove(C){this.model[C]=void 0}}E.exports=DataValidations},{}],6:[function(C,E,I){"use strict";const B=C("../utils/under-dash"),z=C("../utils/col-cache"),q=C("../utils/cell-matrix"),Q=C("./range"),ee=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;class DefinedNames{constructor(){this.matrixMap={}}getMatrix(C){return this.matrixMap[C]||(this.matrixMap[C]=new q)}add(C,E){const I=z.decodeEx(C);this.addEx(I,E)}addEx(C,E){const I=this.getMatrix(E);if(C.top)for(let E=C.left;E<=C.right;E++)for(let B=C.top;B<=C.bottom;B++){const q={sheetName:C.sheetName,address:z.n2l(E)+B,row:B,col:E};I.addCellEx(q)}else I.addCellEx(C)}remove(C,E){const I=z.decodeEx(C);this.removeEx(I,E)}removeEx(C,E){this.getMatrix(E).removeCellEx(C)}removeAllNames(C){B.each(this.matrixMap,(E=>{E.removeCellEx(C)}))}forEach(C){B.each(this.matrixMap,((E,I)=>{E.forEach((E=>{C(I,E)}))}))}getNames(C){return this.getNamesEx(z.decodeEx(C))}getNamesEx(C){return B.map(this.matrixMap,((E,I)=>E.findCellEx(C)&&I)).filter(Boolean)}_explore(C,E){E.mark=!1;const{sheetName:I}=E,B=new Q(E.row,E.col,E.row,E.col,I);let z,q;function vGrow(z,q){const Q=C.findCellAt(I,z,E.col);return!(!Q||!Q.mark||(B[q]=z,Q.mark=!1,0))}for(q=E.row-1;vGrow(q,"top");q--);for(q=E.row+1;vGrow(q,"bottom");q++);function hGrow(E,z){const Q=[];for(q=B.top;q<=B.bottom;q++){const B=C.findCellAt(I,q,E);if(!B||!B.mark)return!1;Q.push(B)}B[z]=E;for(let C=0;C<Q.length;C++)Q[C].mark=!1;return!0}for(z=E.col-1;hGrow(z,"left");z--);for(z=E.col+1;hGrow(z,"right");z++);return B}getRanges(C,E){return(E=E||this.matrixMap[C])?(E.forEach((C=>{C.mark=!0})),{name:C,ranges:E.map((C=>C.mark&&this._explore(E,C))).filter(Boolean).map((C=>C.$shortRange))}):{name:C,ranges:[]}}normaliseMatrix(C,E){C.forEachInSheet(E,((C,E,I)=>{C&&(C.row===E&&C.col===I||(C.row=E,C.col=I,C.address=z.n2l(I)+E))}))}spliceRows(C,E,I,z){B.each(this.matrixMap,(B=>{B.spliceRows(C,E,I,z),this.normaliseMatrix(B,C)}))}spliceColumns(C,E,I,z){B.each(this.matrixMap,(B=>{B.spliceColumns(C,E,I,z),this.normaliseMatrix(B,C)}))}get model(){return B.map(this.matrixMap,((C,E)=>this.getRanges(E,C))).filter((C=>C.ranges.length))}set model(C){const E=this.matrixMap={};C.forEach((C=>{const I=E[C.name]=new q;C.ranges.forEach((C=>{ee.test(C.split("!").pop()||"")&&I.addCell(C)}))}))}}E.exports=DefinedNames},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(C,E,I){"use strict";E.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(C,E,I){"use strict";const B=C("../utils/col-cache"),z=C("./anchor");class Image{constructor(C,E){this.worksheet=C,this.model=E}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(C){let{type:E,imageId:I,range:q,hyperlinks:Q}=C;if(this.type=E,this.imageId=I,"image"===E)if("string"==typeof q){const C=B.decode(q);this.range={tl:new z(this.worksheet,{col:C.left,row:C.top},-1),br:new z(this.worksheet,{col:C.right,row:C.bottom},0),editAs:"oneCell"}}else this.range={tl:new z(this.worksheet,q.tl,0),br:q.br&&new z(this.worksheet,q.br,0),ext:q.ext,editAs:q.editAs,hyperlinks:Q||q.hyperlinks}}}E.exports=Image},{"../utils/col-cache":19,"./anchor":2}],9:[function(C,E,I){"use strict";const B=C("../utils/under-dash");class Note{constructor(C){this.note=C}get model(){let C=null;return C="string"==typeof this.note?{type:"note",note:{texts:[{text:this.note}]}}:{type:"note",note:this.note},B.deepMerge({},Note.DEFAULT_CONFIGS,C)}set model(C){const{note:E}=C,{texts:I}=E;1===I.length&&1===Object.keys(I[0]).length?this.note=I[0].text:this.note=E}static fromModel(C){const E=new Note;return E.model=C,E}}Note.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},E.exports=Note},{"../utils/under-dash":26}],10:[function(C,E,I){"use strict";const B=C("../utils/col-cache");class Range{constructor(){this.decode(arguments)}setTLBR(C,E,I,z,q){if(arguments.length<4){const z=B.decodeAddress(C),Q=B.decodeAddress(E);this.model={top:Math.min(z.row,Q.row),left:Math.min(z.col,Q.col),bottom:Math.max(z.row,Q.row),right:Math.max(z.col,Q.col),sheetName:I},this.setTLBR(z.row,z.col,Q.row,Q.col,q)}else this.model={top:Math.min(C,I),left:Math.min(E,z),bottom:Math.max(C,I),right:Math.max(E,z),sheetName:q}}decode(C){switch(C.length){case 5:this.setTLBR(C[0],C[1],C[2],C[3],C[4]);break;case 4:this.setTLBR(C[0],C[1],C[2],C[3]);break;case 3:this.setTLBR(C[0],C[1],C[2]);break;case 2:this.setTLBR(C[0],C[1]);break;case 1:{const E=C[0];if(E instanceof Range)this.model={top:E.model.top,left:E.model.left,bottom:E.model.bottom,right:E.model.right,sheetName:E.sheetName};else if(E instanceof Array)this.decode(E);else if(E.top&&E.left&&E.bottom&&E.right)this.model={top:E.top,left:E.left,bottom:E.bottom,right:E.right,sheetName:E.sheetName};else{const C=B.decodeEx(E);C.top?this.model={top:C.top,left:C.left,bottom:C.bottom,right:C.right,sheetName:C.sheetName}:this.model={top:C.row,left:C.col,bottom:C.row,right:C.col,sheetName:C.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error(`Invalid number of arguments to _getDimensions() - ${C.length}`)}}get top(){return this.model.top||1}set top(C){this.model.top=C}get left(){return this.model.left||1}set left(C){this.model.left=C}get bottom(){return this.model.bottom||1}set bottom(C){this.model.bottom=C}get right(){return this.model.right||1}set right(C){this.model.right=C}get sheetName(){return this.model.sheetName}set sheetName(C){this.model.sheetName=C}get _serialisedSheetName(){const{sheetName:C}=this.model;return C?/^[a-zA-Z0-9]*$/.test(C)?`${C}!`:`'${C}'!`:""}expand(C,E,I,B){(!this.model.top||C<this.top)&&(this.top=C),(!this.model.left||E<this.left)&&(this.left=E),(!this.model.bottom||I>this.bottom)&&(this.bottom=I),(!this.model.right||B>this.right)&&(this.right=B)}expandRow(C){if(C){const{dimensions:E,number:I}=C;E&&this.expand(I,E.min,I,E.max)}}expandToAddress(C){const E=B.decodeEx(C);this.expand(E.row,E.col,E.row,E.col)}get tl(){return B.n2l(this.left)+this.top}get $t$l(){return`$${B.n2l(this.left)}$${this.top}`}get br(){return B.n2l(this.right)+this.bottom}get $b$r(){return`$${B.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(C){return!(C.sheetName&&this.sheetName&&C.sheetName!==this.sheetName||C.bottom<this.top||C.top>this.bottom||C.right<this.left||C.left>this.right)}contains(C){const E=B.decodeEx(C);return this.containsEx(E)}containsEx(C){return(!C.sheetName||!this.sheetName||C.sheetName===this.sheetName)&&C.row>=this.top&&C.row<=this.bottom&&C.col>=this.left&&C.col<=this.right}forEachAddress(C){for(let E=this.left;E<=this.right;E++)for(let I=this.top;I<=this.bottom;I++)C(B.encodeAddress(I,E),I,E)}}E.exports=Range},{"../utils/col-cache":19}],11:[function(C,E,I){"use strict";const B=C("../utils/under-dash"),z=C("./enums"),q=C("../utils/col-cache"),Q=C("./cell");class Row{constructor(C,E){this._worksheet=C,this._number=E,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(C){return this._cells[C-1]}getCellEx(C){let E=this._cells[C.col-1];if(!E){const I=this._worksheet.getColumn(C.col);E=new Q(this,I,C.address),this._cells[C.col-1]=E}return E}getCell(C){if("string"==typeof C){const E=this._worksheet.getColumnKey(C);C=E?E.number:q.l2n(C)}return this._cells[C-1]||this.getCellEx({address:q.encodeAddress(this._number,C),row:this._number,col:C})}splice(C,E){const I=C+E;for(var B=arguments.length,z=new Array(B>2?B-2:0),q=2;q<B;q++)z[q-2]=arguments[q];const Q=z.length-E,ee=this._cells.length;let te,ie,re;if(Q<0)for(te=C+z.length;te<=ee;te++)re=this._cells[te-1],ie=this._cells[te-Q-1],ie?(re=this.getCell(te),re.value=ie.value,re.style=ie.style,re._comment=ie._comment):re&&(re.value=null,re.style={},re._comment=void 0);else if(Q>0)for(te=ee;te>=I;te--)ie=this._cells[te-1],ie?(re=this.getCell(te+Q),re.value=ie.value,re.style=ie.style,re._comment=ie._comment):this._cells[te+Q-1]=void 0;for(te=0;te<z.length;te++)re=this.getCell(C+te),re.value=z[te],re.style={},re._comment=void 0}eachCell(C,E){if(E||(E=C,C=null),C&&C.includeEmpty){const C=this._cells.length;for(let I=1;I<=C;I++)E(this.getCell(I),I)}else this._cells.forEach(((C,I)=>{C&&C.type!==z.ValueType.Null&&E(C,I+1)}))}addPageBreak(C,E){const I=this._worksheet,B=Math.max(0,C-1)||0,z=Math.max(0,E-1)||16838,q={id:this._number,max:z,man:1};B&&(q.min=B),I.rowBreaks.push(q)}get values(){const C=[];return this._cells.forEach((E=>{E&&E.type!==z.ValueType.Null&&(C[E.col]=E.value)})),C}set values(C){if(this._cells=[],C)if(C instanceof Array){let E=0;C.hasOwnProperty("0")&&(E=1),C.forEach(((C,I)=>{void 0!==C&&(this.getCellEx({address:q.encodeAddress(this._number,I+E),row:this._number,col:I+E}).value=C)}))}else this._worksheet.eachColumnKey(((E,I)=>{void 0!==C[I]&&(this.getCellEx({address:q.encodeAddress(this._number,E.number),row:this._number,col:E.number}).value=C[I])}))}get hasValues(){return B.some(this._cells,(C=>C&&C.type!==z.ValueType.Null))}get cellCount(){return this._cells.length}get actualCellCount(){let C=0;return this.eachCell((()=>{C++})),C}get dimensions(){let C=0,E=0;return this._cells.forEach((I=>{I&&I.type!==z.ValueType.Null&&((!C||C>I.col)&&(C=I.col),E<I.col&&(E=I.col))})),C>0?{min:C,max:E}:null}_applyStyle(C,E){return this.style[C]=E,this._cells.forEach((I=>{I&&(I[C]=E)})),E}get numFmt(){return this.style.numFmt}set numFmt(C){this._applyStyle("numFmt",C)}get font(){return this.style.font}set font(C){this._applyStyle("font",C)}get alignment(){return this.style.alignment}set alignment(C){this._applyStyle("alignment",C)}get protection(){return this.style.protection}set protection(C){this._applyStyle("protection",C)}get border(){return this.style.border}set border(C){this._applyStyle("border",C)}get fill(){return this.style.fill}set fill(C){this._applyStyle("fill",C)}get hidden(){return!!this._hidden}set hidden(C){this._hidden=C}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(C){this._outlineLevel=C}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const C=[];let E=0,I=0;return this._cells.forEach((B=>{if(B){const z=B.model;z&&((!E||E>B.col)&&(E=B.col),I<B.col&&(I=B.col),C.push(z))}})),this.height||C.length?{cells:C,number:this.number,min:E,max:I,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(C){if(C.number!==this._number)throw new Error("Invalid row number in model");let E;this._cells=[],C.cells.forEach((C=>{switch(C.type){case Q.Types.Merge:break;default:{let I;if(C.address)I=q.decodeAddress(C.address);else if(E){const{row:C}=E,B=E.col+1;I={row:C,col:B,address:q.encodeAddress(C,B),$col$row:`$${q.n2l(B)}$${C}`}}E=I,this.getCellEx(I).model=C;break}}})),C.height?this.height=C.height:delete this.height,this.hidden=C.hidden,this.outlineLevel=C.outlineLevel||0,this.style=C.style&&JSON.parse(JSON.stringify(C.style))||{}}}E.exports=Row},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(C,E,I){"use strict";const B=C("../utils/col-cache");class Column{constructor(C,E,I){this.table=C,this.column=E,this.index=I}_set(C,E){this.table.cacheState(),this.column[C]=E}get name(){return this.column.name}set name(C){this._set("name",C)}get filterButton(){return this.column.filterButton}set filterButton(C){this.column.filterButton=C}get style(){return this.column.style}set style(C){this.column.style=C}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(C){this._set("totalsRowLabel",C)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(C){this._set("totalsRowFunction",C)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(C){this._set("totalsRowResult",C)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(C){this._set("totalsRowFormula",C)}}class Table{constructor(C,E){this.worksheet=C,E&&(this.table=E,this.validate(),this.store())}getFormula(C){switch(C.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${C.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${C.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${C.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${C.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${C.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${C.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${C.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${C.name}])`;case"custom":return C.totalsRowFormula;default:throw new Error(`Invalid Totals Row Function: ${C.totalsRowFunction}`)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:C}=this,assign=(C,E,I)=>{void 0===C[E]&&(C[E]=I)};assign(C,"headerRow",!0),assign(C,"totalsRow",!1),assign(C,"style",{}),assign(C.style,"theme","TableStyleMedium2"),assign(C.style,"showFirstColumn",!1),assign(C.style,"showLastColumn",!1),assign(C.style,"showRowStripes",!1),assign(C.style,"showColumnStripes",!1);const assert=(C,E)=>{if(!C)throw new Error(E)};assert(C.ref,"Table must have ref"),assert(C.columns,"Table must have column definitions"),assert(C.rows,"Table must have row definitions"),C.tl=B.decodeAddress(C.ref);const{row:E,col:I}=C.tl;assert(E>0,"Table must be on valid row"),assert(I>0,"Table must be on valid col");const{width:z,filterHeight:q,tableHeight:Q}=this;C.autoFilterRef=B.encode(E,I,E+q-1,I+z-1),C.tableRef=B.encode(E,I,E+Q-1,I+z-1),C.columns.forEach(((C,E)=>{assert(C.name,`Column ${E} must have a name`),0===E?assign(C,"totalsRowLabel","Total"):(assign(C,"totalsRowFunction","none"),C.totalsRowFormula=this.getFormula(C))}))}store(){const assignStyle=(C,E)=>{E&&Object.keys(E).forEach((I=>{C[I]=E[I]}))},{worksheet:C,table:E}=this,{row:I,col:B}=E.tl;let z=0;if(E.headerRow){const q=C.getRow(I+z++);E.columns.forEach(((C,E)=>{const{style:I,name:z}=C,Q=q.getCell(B+E);Q.value=z,assignStyle(Q,I)}))}if(E.rows.forEach((q=>{const Q=C.getRow(I+z++);q.forEach(((C,I)=>{const z=Q.getCell(B+I);z.value=C,assignStyle(z,E.columns[I].style)}))})),E.totalsRow){const q=C.getRow(I+z++);E.columns.forEach(((C,E)=>{const I=q.getCell(B+E);if(0===E)I.value=C.totalsRowLabel;else{const E=this.getFormula(C);I.value=E?{formula:C.totalsRowFormula,result:C.totalsRowResult}:null}assignStyle(I,C.style)}))}}load(C){const{table:E}=this,{row:I,col:B}=E.tl;let z=0;if(E.headerRow){const q=C.getRow(I+z++);E.columns.forEach(((C,E)=>{q.getCell(B+E).value=C.name}))}if(E.rows.forEach((E=>{const q=C.getRow(I+z++);E.forEach(((C,E)=>{q.getCell(B+E).value=C}))})),E.totalsRow){const q=C.getRow(I+z++);E.columns.forEach(((C,E)=>{const I=q.getCell(B+E);0===E?I.value=C.totalsRowLabel:this.getFormula(C)&&(I.value={formula:C.totalsRowFormula,result:C.totalsRowResult})}))}}get model(){return this.table}set model(C){this.table=C}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const C=B.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let E=0;E<this._cache.tableHeight;E++){const I=this.worksheet.getRow(C.row+E);for(let E=0;E<this._cache.width;E++)I.getCell(C.col+E).value=null}else{for(let E=this.tableHeight;E<this._cache.tableHeight;E++){const I=this.worksheet.getRow(C.row+E);for(let E=0;E<this._cache.width;E++)I.getCell(C.col+E).value=null}for(let E=0;E<this.tableHeight;E++){const I=this.worksheet.getRow(C.row+E);for(let E=this.width;E<this._cache.width;E++)I.getCell(C.col+E).value=null}}this.store()}addRow(C,E){this.cacheState(),void 0===E?this.table.rows.push(C):this.table.rows.splice(E,0,C)}removeRows(C){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.rows.splice(C,E)}getColumn(C){const E=this.table.columns[C];return new Column(this,E,C)}addColumn(C,E,I){this.cacheState(),void 0===I?(this.table.columns.push(C),this.table.rows.forEach(((C,I)=>{C.push(E[I])}))):(this.table.columns.splice(I,0,C),this.table.rows.forEach(((C,B)=>{C.splice(I,0,E[B])})))}removeColumns(C){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.columns.splice(C,E),this.table.rows.forEach((I=>{I.splice(C,E)}))}_assign(C,E,I){this.cacheState(),C[E]=I}get ref(){return this.table.ref}set ref(C){this._assign(this.table,"ref",C)}get name(){return this.table.name}set name(C){this.table.name=C}get displayName(){return this.table.displyName||this.table.name}set displayNamename(C){this.table.displayName=C}get headerRow(){return this.table.headerRow}set headerRow(C){this._assign(this.table,"headerRow",C)}get totalsRow(){return this.table.totalsRow}set totalsRow(C){this._assign(this.table,"totalsRow",C)}get theme(){return this.table.style.name}set theme(C){this.table.style.name=C}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(C){this.table.style.showFirstColumn=C}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(C){this.table.style.showLastColumn=C}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(C){this.table.style.showRowStripes=C}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(C){this.table.style.showColumnStripes=C}}E.exports=Table},{"../utils/col-cache":19}],13:[function(C,E,I){"use strict";const B=C("./worksheet"),z=C("./defined-names"),q=C("../xlsx/xlsx"),Q=C("../csv/csv");class Workbook{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new z}get xlsx(){return this._xlsx||(this._xlsx=new q(this)),this._xlsx}get csv(){return this._csv||(this._csv=new Q(this)),this._csv}get nextId(){for(let C=1;C<this._worksheets.length;C++)if(!this._worksheets[C])return C;return this._worksheets.length||1}addWorksheet(C,E){const I=this.nextId;E&&("string"==typeof E?E={properties:{tabColor:{argb:E}}}:(E.argb||E.theme||E.indexed)&&(E={properties:{tabColor:E}}));const z=this._worksheets.reduce(((C,E)=>(E&&E.orderNo)>C?E.orderNo:C),0),q=Object.assign({},E,{id:I,name:C,orderNo:z+1,workbook:this}),Q=new B(q);return this._worksheets[I]=Q,Q}removeWorksheetEx(C){delete this._worksheets[C.id]}removeWorksheet(C){const E=this.getWorksheet(C);E&&E.destroy()}getWorksheet(C){return void 0===C?this._worksheets.find(Boolean):"number"==typeof C?this._worksheets[C]:"string"==typeof C?this._worksheets.find((E=>E&&E.name===C)):void 0}get worksheets(){return this._worksheets.slice(1).sort(((C,E)=>C.orderNo-E.orderNo)).filter(Boolean)}eachSheet(C){this.worksheets.forEach((E=>{C(E,E.id)}))}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(C){const E=this.media.length;return this.media.push(Object.assign({},C,{type:"image"})),E}getImage(C){return this.media[C]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map((C=>C.model)),sheets:this.worksheets.map((C=>C.model)).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(C){this.creator=C.creator,this.lastModifiedBy=C.lastModifiedBy,this.lastPrinted=C.lastPrinted,this.created=C.created,this.modified=C.modified,this.company=C.company,this.manager=C.manager,this.title=C.title,this.subject=C.subject,this.keywords=C.keywords,this.category=C.category,this.description=C.description,this.language=C.language,this.revision=C.revision,this.contentStatus=C.contentStatus,this.properties=C.properties,this.calcProperties=C.calcProperties,this._worksheets=[],C.worksheets.forEach((E=>{const{id:I,name:z,state:q}=E,Q=C.sheets&&C.sheets.findIndex((C=>C.id===I));(this._worksheets[I]=new B({id:I,name:z,orderNo:Q,state:q,workbook:this})).model=E})),this._definedNames.model=C.definedNames,this.views=C.views,this._themes=C.themes,this.media=C.media||[]}}E.exports=Workbook},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(C,E,I){"use strict";const B=C("../utils/under-dash"),z=C("../utils/col-cache"),q=C("./range"),Q=C("./row"),ee=C("./column"),te=C("./enums"),ie=C("./image"),re=C("./table"),ne=C("./data-validations"),se=C("../utils/encryptor"),{copyStyle:oe}=C("../utils/copy-style");class Worksheet{constructor(C){C=C||{},this._workbook=C.workbook,this.id=C.id,this.orderNo=C.orderNo,this.name=C.name,this.state=C.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},C.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!C.pageSetup||!C.pageSetup.fitToWidth&&!C.pageSetup.fitToHeight||C.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},C.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},C.headerFooter),this.dataValidations=new ne,this.views=C.views||[],this.autoFilter=C.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(C){if(void 0===C&&(C=`sheet${this.id}`),this._name!==C){if("string"!=typeof C)throw new Error("The name has to be a string.");if(""===C)throw new Error("The name can't be empty.");if("History"===C)throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(C))throw new Error(`Worksheet name ${C} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(C))throw new Error(`The first or last character of worksheet name cannot be a single quotation mark: ${C}`);if(C&&C.length>31&&(C=C.substring(0,31)),this._workbook._worksheets.find((E=>E&&E.name.toLowerCase()===C.toLowerCase())))throw new Error(`Worksheet name already exists: ${C}`);this._name=C}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const C=new q;return this._rows.forEach((E=>{if(E){const I=E.dimensions;I&&C.expand(E.number,I.min,E.number,I.max)}})),C}get columns(){return this._columns}set columns(C){this._headerRowCount=C.reduce(((C,E)=>{const I=(E.header?1:E.headers&&E.headers.length)||0;return Math.max(C,I)}),0);let E=1;const I=this._columns=[];C.forEach((C=>{const B=new ee(this,E++,!1);I.push(B),B.defn=C}))}getColumnKey(C){return this._keys[C]}setColumnKey(C,E){this._keys[C]=E}deleteColumnKey(C){delete this._keys[C]}eachColumnKey(C){B.each(this._keys,C)}getColumn(C){if("string"==typeof C){const E=this._keys[C];if(E)return E;C=z.l2n(C)}if(this._columns||(this._columns=[]),C>this._columns.length){let E=this._columns.length+1;for(;E<=C;)this._columns.push(new ee(this,E++))}return this._columns[C-1]}spliceColumns(C,E){const I=this._rows.length;for(var B=arguments.length,z=new Array(B>2?B-2:0),q=2;q<B;q++)z[q-2]=arguments[q];if(z.length>0)for(let B=0;B<I;B++){const I=[C,E];z.forEach((C=>{I.push(C[B]||null)}));const q=this.getRow(B+1);q.splice.apply(q,I)}else this._rows.forEach((I=>{I&&I.splice(C,E)}));const Q=z.length-E,ee=C+E,te=this._columns.length;if(Q<0)for(let E=C+z.length;E<=te;E++)this.getColumn(E).defn=this.getColumn(E-Q).defn;else if(Q>0)for(let C=te;C>=ee;C--)this.getColumn(C+Q).defn=this.getColumn(C).defn;for(let E=C;E<C+z.length;E++)this.getColumn(E).defn=null;this.workbook.definedNames.spliceColumns(this.name,C,E,z.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let C=0;return this.eachRow((E=>{C=Math.max(C,E.cellCount)})),C}get actualColumnCount(){const C=[];let E=0;return this.eachRow((I=>{I.eachCell((I=>{let{col:B}=I;C[B]||(C[B]=!0,E++)}))})),E}_commitRow(){}get _lastRowNumber(){const C=this._rows;let E=C.length;for(;E>0&&void 0===C[E-1];)E--;return E}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(C){return this._rows[C-1]}findRows(C,E){return this._rows.slice(C-1,C-1+E)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let C=0;return this.eachRow((()=>{C++})),C}getRow(C){let E=this._rows[C-1];return E||(E=this._rows[C-1]=new Q(this,C)),E}getRows(C,E){if(E<1)return;const I=[];for(let B=C;B<C+E;B++)I.push(this.getRow(B));return I}addRow(C){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";const I=this._nextRow,B=this.getRow(I);return B.values=C,this._setStyleOption(I,"i"===E[0]?E:"n"),B}addRows(C){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";const I=[];return C.forEach((C=>{I.push(this.addRow(C,E))})),I}insertRow(C,E){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";return this.spliceRows(C,0,E),this._setStyleOption(C,I),this.getRow(C)}insertRows(C,E){let I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";if(this.spliceRows(C,0,...E),"n"!==I)for(let B=0;B<E.length;B++)"o"===I[0]&&void 0!==this.findRow(E.length+C+B)?this._copyStyle(E.length+C+B,C+B,"+"===I[1]):"i"===I[0]&&void 0!==this.findRow(C-1)&&this._copyStyle(C-1,C+B,"+"===I[1]);return this.getRows(C,E.length)}_setStyleOption(C){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";"o"===E[0]&&void 0!==this.findRow(C+1)?this._copyStyle(C+1,C,"+"===E[1]):"i"===E[0]&&void 0!==this.findRow(C-1)&&this._copyStyle(C-1,C,"+"===E[1])}_copyStyle(C,E){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const B=this.getRow(C),z=this.getRow(E);z.style=oe(B.style),B.eachCell({includeEmpty:I},((C,E)=>{z.getCell(E).style=oe(C.style)})),z.height=B.height}duplicateRow(C,E){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const B=this._rows[C-1],z=new Array(E).fill(B.values);this.spliceRows(C+1,I?0:E,...z);for(let I=0;I<E;I++){const E=this._rows[C+I];E.style=B.style,E.height=B.height,B.eachCell({includeEmpty:!0},((C,I)=>{E.getCell(I).style=C.style}))}}spliceRows(C,E){const I=C+E;for(var B=arguments.length,z=new Array(B>2?B-2:0),q=2;q<B;q++)z[q-2]=arguments[q];const Q=z.length,ee=Q-E,te=this._rows.length;let ie,re;if(ee<0)for(C===te&&(this._rows[te-1]=void 0),ie=I;ie<=te;ie++)if(re=this._rows[ie-1],re){const C=this.getRow(ie+ee);C.values=re.values,C.style=re.style,C.height=re.height,re.eachCell({includeEmpty:!0},((E,I)=>{C.getCell(I).style=E.style})),this._rows[ie-1]=void 0}else this._rows[ie+ee-1]=void 0;else if(ee>0)for(ie=te;ie>=I;ie--)if(re=this._rows[ie-1],re){const C=this.getRow(ie+ee);C.values=re.values,C.style=re.style,C.height=re.height,re.eachCell({includeEmpty:!0},((E,I)=>{if(C.getCell(I).style=E.style,"MergeValue"===E._value.constructor.name){const C=this.getRow(E._row._number+Q).getCell(I),B=E._value._master,z=this.getRow(B._row._number+Q).getCell(B._column._number);C.merge(z)}}))}else this._rows[ie+ee-1]=void 0;for(ie=0;ie<Q;ie++){const E=this.getRow(C+ie);E.style={},E.values=z[ie]}this.workbook.definedNames.spliceRows(this.name,C,E,Q)}eachRow(C,E){if(E||(E=C,C=void 0),C&&C.includeEmpty){const C=this._rows.length;for(let I=1;I<=C;I++)E(this.getRow(I),I)}else this._rows.forEach((C=>{C&&C.hasValues&&E(C,C.number)}))}getSheetValues(){const C=[];return this._rows.forEach((E=>{E&&(C[E.number]=E.values)})),C}findCell(C,E){const I=z.getAddress(C,E),B=this._rows[I.row-1];return B?B.findCell(I.col):void 0}getCell(C,E){const I=z.getAddress(C,E);return this.getRow(I.row).getCellEx(I)}mergeCells(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];const B=new q(E);this._mergeCellsInternal(B)}mergeCellsWithoutStyle(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];const B=new q(E);this._mergeCellsInternal(B,!0)}_mergeCellsInternal(C,E){B.each(this._merges,(E=>{if(E.intersects(C))throw new Error("Cannot merge already merged cells")}));const I=this.getCell(C.top,C.left);for(let B=C.top;B<=C.bottom;B++)for(let z=C.left;z<=C.right;z++)(B>C.top||z>C.left)&&this.getCell(B,z).merge(I,E);this._merges[I.address]=C}_unMergeMaster(C){const E=this._merges[C.address];if(E){for(let C=E.top;C<=E.bottom;C++)for(let I=E.left;I<=E.right;I++)this.getCell(C,I).unmerge();delete this._merges[C.address]}}get hasMerges(){return B.some(this._merges,Boolean)}unMergeCells(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];const B=new q(E);for(let C=B.top;C<=B.bottom;C++)for(let E=B.left;E<=B.right;E++){const I=this.findCell(C,E);I&&(I.type===te.ValueType.Merge?this._unMergeMaster(I.master):this._merges[I.address]&&this._unMergeMaster(I))}}fillFormula(C,E,I){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"shared";const q=z.decode(C),{top:Q,left:ee,bottom:te,right:ie}=q,re=ie-ee+1,ne=z.encodeAddress(Q,ee),se="shared"===B;let oe;oe="function"==typeof I?I:Array.isArray(I)?Array.isArray(I[0])?(C,E)=>I[C-Q][E-ee]:(C,E)=>I[(C-Q)*re+(E-ee)]:()=>{};let ae=!0;for(let I=Q;I<=te;I++)for(let z=ee;z<=ie;z++)ae?(this.getCell(I,z).value={shareType:B,formula:E,ref:C,result:oe(I,z)},ae=!1):this.getCell(I,z).value=se?{sharedFormula:ne,result:oe(I,z)}:oe(I,z)}addImage(C,E){const I={type:"image",imageId:C,range:E};this._media.push(new ie(this,I))}getImages(){return this._media.filter((C=>"image"===C.type))}addBackgroundImage(C){const E={type:"background",imageId:C};this._media.push(new ie(this,E))}getBackgroundImageId(){const C=this._media.find((C=>"background"===C.type));return C&&C.imageId}protect(C,E){return new Promise((I=>{this.sheetProtection={sheet:!0},E&&"spinCount"in E&&(E.spinCount=Number.isFinite(E.spinCount)?Math.round(Math.max(0,E.spinCount)):1e5),C&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=se.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=E&&"spinCount"in E?E.spinCount:1e5,this.sheetProtection.hashValue=se.convertPasswordToHash(C,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),E&&(this.sheetProtection=Object.assign(this.sheetProtection,E),!C&&"spinCount"in E&&delete this.sheetProtection.spinCount),I()}))}unprotect(){this.sheetProtection=null}addTable(C){const E=new re(this,C);return this.tables[C.name]=E,E}getTable(C){return this.tables[C]}removeTable(C){delete this.tables[C]}getTables(){return Object.values(this.tables)}addConditionalFormatting(C){this.conditionalFormattings.push(C)}removeConditionalFormatting(C){"number"==typeof C?this.conditionalFormattings.splice(C,1):this.conditionalFormattings=C instanceof Function?this.conditionalFormattings.filter(C):[]}get tabColor(){return this.properties.tabColor}set tabColor(C){this.properties.tabColor=C}get model(){const C={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map((C=>C.model)),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map((C=>C.model)),conditionalFormattings:this.conditionalFormattings};C.cols=ee.toModel(this.columns);const E=C.rows=[],I=C.dimensions=new q;return this._rows.forEach((C=>{const B=C&&C.model;B&&(I.expand(B.number,B.min,B.number,B.max),E.push(B))})),C.merges=[],B.each(this._merges,(E=>{C.merges.push(E.range)})),C}_parseRows(C){this._rows=[],C.rows.forEach((C=>{const E=new Q(this,C.number);this._rows[E.number-1]=E,E.model=C}))}_parseMergeCells(C){B.each(C.mergeCells,(C=>{this.mergeCellsWithoutStyle(C)}))}set model(C){this.name=C.name,this._columns=ee.fromModel(this,C.cols),this._parseRows(C),this._parseMergeCells(C),this.dataValidations=new ne(C.dataValidations),this.properties=C.properties,this.pageSetup=C.pageSetup,this.headerFooter=C.headerFooter,this.views=C.views,this.autoFilter=C.autoFilter,this._media=C.media.map((C=>new ie(this,C))),this.sheetProtection=C.sheetProtection,this.tables=C.tables.reduce(((C,E)=>{const I=new re;return I.model=E,C[E.name]=I,C}),{}),this.conditionalFormattings=C.conditionalFormattings}}E.exports=Worksheet},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(C,E,I){"use strict";C("core-js/modules/es.promise"),C("core-js/modules/es.promise.finally"),C("core-js/modules/es.object.assign"),C("core-js/modules/es.object.keys"),C("core-js/modules/es.object.values"),C("core-js/modules/es.symbol"),C("core-js/modules/es.symbol.async-iterator"),C("core-js/modules/es.array.iterator"),C("core-js/modules/es.array.includes"),C("core-js/modules/es.array.find-index"),C("core-js/modules/es.array.find"),C("core-js/modules/es.string.from-code-point"),C("core-js/modules/es.string.includes"),C("core-js/modules/es.number.is-nan"),C("regenerator-runtime/runtime");const B={Workbook:C("./doc/workbook")},z=C("./doc/enums");Object.keys(z).forEach((C=>{B[C]=z[C]})),E.exports=B},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(C,E,I){"use strict";const B="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");function bufferToString(C){return"string"==typeof C?C:B?B.decode(C):C.toString()}I.bufferToString=bufferToString},{}],17:[function(C,E,I){"use strict";const B="undefined"==typeof TextEncoder?null:new TextEncoder("utf-8"),{Buffer:z}=C("buffer");function stringToBuffer(C){return"string"!=typeof C?C:B?z.from(B.encode(C).buffer):z.from(C)}I.stringToBuffer=stringToBuffer},{buffer:220}],18:[function(C,E,I){"use strict";const B=C("./under-dash"),z=C("./col-cache");class CellMatrix{constructor(C){this.template=C,this.sheets={}}addCell(C){this.addCellEx(z.decodeEx(C))}getCell(C){return this.findCellEx(z.decodeEx(C),!0)}findCell(C){return this.findCellEx(z.decodeEx(C),!1)}findCellAt(C,E,I){const B=this.sheets[C],z=B&&B[E];return z&&z[I]}addCellEx(C){if(C.top)for(let E=C.top;E<=C.bottom;E++)for(let I=C.left;I<=C.right;I++)this.getCellAt(C.sheetName,E,I);else this.findCellEx(C,!0)}getCellEx(C){return this.findCellEx(C,!0)}findCellEx(C,E){const I=this.findSheet(C,E),B=this.findSheetRow(I,C,E);return this.findRowCell(B,C,E)}getCellAt(C,E,I){const B=this.sheets[C]||(this.sheets[C]=[]),q=B[E]||(B[E]=[]);return q[I]||(q[I]={sheetName:C,address:z.n2l(I)+E,row:E,col:I})}removeCellEx(C){const E=this.findSheet(C);if(!E)return;const I=this.findSheetRow(E,C);I&&delete I[C.col]}forEachInSheet(C,E){const I=this.sheets[C];I&&I.forEach(((C,I)=>{C&&C.forEach(((C,B)=>{C&&E(C,I,B)}))}))}forEach(C){B.each(this.sheets,((E,I)=>{this.forEachInSheet(I,C)}))}map(C){const E=[];return this.forEach((I=>{E.push(C(I))})),E}findSheet(C,E){const I=C.sheetName;return this.sheets[I]?this.sheets[I]:E?this.sheets[I]=[]:void 0}findSheetRow(C,E,I){const{row:B}=E;return C&&C[B]?C[B]:I?C[B]=[]:void 0}findRowCell(C,E,I){const{col:B}=E;return C&&C[B]?C[B]:I?C[B]=this.template?Object.assign(E,JSON.parse(JSON.stringify(this.template))):E:void 0}spliceRows(C,E,I,B){const z=this.sheets[C];if(z){const C=[];for(let E=0;E<B;E++)C.push([]);z.splice(E,I,...C)}}spliceColumns(C,E,I,z){const q=this.sheets[C];if(q){const C=[];for(let E=0;E<z;E++)C.push(null);B.each(q,(B=>{B.splice(E,I,...C)}))}}}E.exports=CellMatrix},{"./col-cache":19,"./under-dash":26}],19:[function(C,E,I){"use strict";const B=/^[A-Z]+\d+$/,z={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:C=>C<=26?1:C<=676?2:3,_fill(C){let E,I,B,z,q,Q=1;if(C>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&C>=1){for(;Q<=26;)E=this._dictionary[Q-1],this._n2l[Q]=E,this._l2n[E]=Q,Q++;this._l2nFill=1}if(this._l2nFill<2&&C>=2){for(Q=27;Q<=702;)I=Q-27,B=I%26,z=Math.floor(I/26),E=this._dictionary[z]+this._dictionary[B],this._n2l[Q]=E,this._l2n[E]=Q,Q++;this._l2nFill=2}if(this._l2nFill<3&&C>=3){for(Q=703;Q<=16384;)I=Q-703,B=I%26,z=Math.floor(I/26)%26,q=Math.floor(I/676),E=this._dictionary[q]+this._dictionary[z]+this._dictionary[B],this._n2l[Q]=E,this._l2n[E]=Q,Q++;this._l2nFill=3}},l2n(C){if(this._l2n[C]||this._fill(C.length),!this._l2n[C])throw new Error(`Out of bounds. Invalid column letter: ${C}`);return this._l2n[C]},n2l(C){if(C<1||C>16384)throw new Error(`${C} is out of bounds. Excel supports columns from 1 to 16384`);return this._n2l[C]||this._fill(this._level(C)),this._n2l[C]},_hash:{},validateAddress(C){if(!B.test(C))throw new Error(`Invalid Address: ${C}`);return!0},decodeAddress(C){const E=C.length<5&&this._hash[C];if(E)return E;let I=!1,B="",z=0,q=!1,Q="",ee=0;for(let E,te=0;te<C.length;te++)if(E=C.charCodeAt(te),!q&&E>=65&&E<=90)I=!0,B+=C[te],z=26*z+E-64;else if(E>=48&&E<=57)q=!0,Q+=C[te],ee=10*ee+E-48;else if(q&&I&&36!==E)break;if(I){if(z>16384)throw new Error(`Out of bounds. Invalid column letter: ${B}`)}else z=void 0;q||(ee=void 0);const te={address:C=B+Q,col:z,row:ee,$col$row:`$${B}$${Q}`};return z<=100&&ee<=100&&(this._hash[C]=te,this._hash[te.$col$row]=te),te},getAddress(C,E){if(E){const I=this.n2l(E)+C;return this.decodeAddress(I)}return this.decodeAddress(C)},decode(C){const E=C.split(":");if(2===E.length){const C=this.decodeAddress(E[0]),I=this.decodeAddress(E[1]),B={top:Math.min(C.row,I.row),left:Math.min(C.col,I.col),bottom:Math.max(C.row,I.row),right:Math.max(C.col,I.col)};return B.tl=this.n2l(B.left)+B.top,B.br=this.n2l(B.right)+B.bottom,B.dimensions=`${B.tl}:${B.br}`,B}return this.decodeAddress(C)},decodeEx(C){const E=C.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),I=E[1]||E[2],B=E[3],z=B.split(":");if(z.length>1){let C=this.decodeAddress(z[0]),E=this.decodeAddress(z[1]);const B=Math.min(C.row,E.row),q=Math.min(C.col,E.col),Q=Math.max(C.row,E.row),ee=Math.max(C.col,E.col);return C=this.n2l(q)+B,E=this.n2l(ee)+Q,{top:B,left:q,bottom:Q,right:ee,sheetName:I,tl:{address:C,col:q,row:B,$col$row:`$${this.n2l(q)}$${B}`,sheetName:I},br:{address:E,col:ee,row:Q,$col$row:`$${this.n2l(ee)}$${Q}`,sheetName:I},dimensions:`${C}:${E}`}}if(B.startsWith("#"))return I?{sheetName:I,error:B}:{error:B};const q=this.decodeAddress(B);return I?{sheetName:I,...q}:q},encodeAddress:(C,E)=>z.n2l(E)+C,encode(){switch(arguments.length){case 2:return z.encodeAddress(arguments[0],arguments[1]);case 4:return`${z.encodeAddress(arguments[0],arguments[1])}:${z.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(C,E){const[I,B,,z,q]=C,[Q,ee]=E;return Q>=I&&Q<=z&&ee>=B&&ee<=q}};E.exports=z},{}],20:[function(C,E,I){"use strict";const oneDepthCopy=(C,E)=>({...C,...E.reduce(((E,I)=>(C[I]&&(E[I]={...C[I]}),E)),{})}),setIfExists=function(C,E,I){let B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];C[I]&&(E[I]=oneDepthCopy(C[I],B))},isEmptyObj=C=>0===Object.keys(C).length,copyStyle=C=>{if(!C)return C;if(isEmptyObj(C))return{};const E={...C};return setIfExists(C,E,"font",["color"]),setIfExists(C,E,"alignment"),setIfExists(C,E,"protection"),C.border&&(setIfExists(C,E,"border"),setIfExists(C.border,E.border,"top",["color"]),setIfExists(C.border,E.border,"left",["color"]),setIfExists(C.border,E.border,"bottom",["color"]),setIfExists(C.border,E.border,"right",["color"]),setIfExists(C.border,E.border,"diagonal",["color"])),C.fill&&(setIfExists(C,E,"fill",["fgColor","bgColor","center"]),C.fill.stops&&(E.fill.stops=C.fill.stops.map((C=>oneDepthCopy(C,["color"]))))),E};I.copyStyle=copyStyle},{}],21:[function(C,E,I){(function(I){(function(){"use strict";const B=C("crypto"),z={hash(C){const E=B.createHash(C);for(var z=arguments.length,q=new Array(z>1?z-1:0),Q=1;Q<z;Q++)q[Q-1]=arguments[Q];return E.update(I.concat(q)),E.digest()},convertPasswordToHash(C,E,z,q){if(E=E.toLowerCase(),B.getHashes().indexOf(E)<0)throw new Error(`Hash algorithm '${E}' not supported!`);const Q=I.from(C,"utf16le");let ee=this.hash(E,I.from(z,"base64"),Q);for(let C=0;C<q;C++){const B=I.alloc(4);B.writeUInt32LE(C,0),ee=this.hash(E,ee,B)}return ee.toString("base64")},randomBytes:C=>B.randomBytes(C)};E.exports=z}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(C,E,I){"use strict";const{SaxesParser:B}=C("saxes"),{PassThrough:z}=C("readable-stream"),{bufferToString:q}=C("./browser-buffer-decode");E.exports=async function*(C){C.pipe&&!C[Symbol.asyncIterator]&&(C=C.pipe(new z));const E=new B;let I;E.on("error",(C=>{I=C}));let Q=[];E.on("opentag",(C=>Q.push({eventType:"opentag",value:C}))),E.on("text",(C=>Q.push({eventType:"text",value:C}))),E.on("closetag",(C=>Q.push({eventType:"closetag",value:C})));for await(const B of C){if(E.write(q(B)),I)throw I;yield Q,Q=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(C,E,I){"use strict";const B=C("./col-cache"),z=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,q=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;function slideFormula(C,E,I){const Q=B.decode(E),ee=B.decode(I);return C.replace(z,((C,E,I,z,te)=>{if(te)return C;const ie=q.exec(z);if(ie){const I=ie[1],z=ie[2].toUpperCase(),q=ie[3],te=ie[4];if(z.length>3||3===z.length&&z>"XFD")return C;let re=B.l2n(z),ne=parseInt(te,10);return I||(re+=ee.col-Q.col),q||(ne+=ee.row-Q.row),(E||"")+(I||"")+B.n2l(re)+(q||"")+ne}return C}))}E.exports={slideFormula}},{"./col-cache":19}],24:[function(C,E,I){(function(I,B){(function(){"use strict";const z=C("readable-stream"),q=C("./utils"),Q=C("./string-buf");class StringChunk{constructor(C,E){this._data=C,this._encoding=E}get length(){return this.toBuffer().length}copy(C,E,I,B){return this.toBuffer().copy(C,E,I,B)}toBuffer(){return this._buffer||(this._buffer=B.from(this._data,this._encoding)),this._buffer}}class StringBufChunk{constructor(C){this._data=C}get length(){return this._data.length}copy(C,E,I,B){return this._data._buf.copy(C,E,I,B)}toBuffer(){return this._data.toBuffer()}}class BufferChunk{constructor(C){this._data=C}get length(){return this._data.length}copy(C,E,I,B){this._data.copy(C,E,I,B)}toBuffer(){return this._data}}class ReadWriteBuf{constructor(C){this.size=C,this.buffer=B.alloc(C),this.iRead=0,this.iWrite=0}toBuffer(){if(0===this.iRead&&this.iWrite===this.size)return this.buffer;const C=B.alloc(this.iWrite-this.iRead);return this.buffer.copy(C,0,this.iRead,this.iWrite),C}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(C){let E;return 0===C?null:void 0===C||C>=this.length?(E=this.toBuffer(),this.iRead=this.iWrite,E):(E=B.alloc(C),this.buffer.copy(E,0,this.iRead,C),this.iRead+=C,E)}write(C,E,I){const B=Math.min(I,this.size-this.iWrite);return C.copy(this.buffer,this.iWrite,E,E+B),this.iWrite+=B,B}}const StreamBuf=function(C){C=C||{},this.bufSize=C.bufSize||1048576,this.buffers=[],this.batch=C.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};q.inherits(StreamBuf,z.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return B.concat(this.buffers.map((C=>C.toBuffer())))}},_getWritableBuffer(){if(this.buffers.length){const C=this.buffers[this.buffers.length-1];if(!C.full)return C}const C=new ReadWriteBuf(this.bufSize);return this.buffers.push(C),C},async _pipe(C){const write=function(E){return new Promise((I=>{E.write(C.toBuffer(),(()=>{I()}))}))};await Promise.all(this.pipes.map(write))},_writeToBuffers(C){let E=0;const I=C.length;for(;E<I;)E+=this._getWritableBuffer().write(C,E,I-E)},async write(C,E,z){let ee;if(E instanceof Function&&(z=E,E="utf8"),z=z||q.nop,C instanceof Q)ee=new StringBufChunk(C);else if(C instanceof B)ee=new BufferChunk(C);else{if(!("string"==typeof C||C instanceof String||C instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");ee=new StringChunk(C,E)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(ee);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(ee),I.nextTick(z)):(await this._pipe(ee),z());else this.paused||this.emit("data",ee.toBuffer()),this._writeToBuffers(ee),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(C,E,I){const writeComplete=C=>{C?I(C):(this._flush(),this.pipes.forEach((C=>{C.end()})),this.emit("finish"))};C?this.write(C,E,writeComplete):writeComplete()},read(C){let E;if(C){for(E=[];C&&this.buffers.length&&!this.buffers[0].eod;){const I=this.buffers[0],B=I.read(C);C-=B.length,E.push(B),I.eod&&I.full&&this.buffers.shift()}return B.concat(E)}return E=this.buffers.map((C=>C.toBuffer())).filter(Boolean),this.buffers=[],B.concat(E)},setEncoding(C){this.encoding=C},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(C){this.pipes.push(C),!this.paused&&this.buffers.length&&this.end()},unpipe(C){this.pipes=this.pipes.filter((E=>E!==C))},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),E.exports=StreamBuf}).call(this)}).call(this,C("_process"),C("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(C,E,I){(function(C){(function(){"use strict";class StringBuf{constructor(E){this._buf=C.alloc(E&&E.size||16384),this._encoding=E&&E.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=C.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(C){C=C||0,this._buffer=void 0,this._inPos=C}_grow(E){let I=2*this._buf.length;for(;I<E;)I*=2;const B=C.alloc(I);this._buf.copy(B,0),this._buf=B}addText(C){this._buffer=void 0;let E=this._inPos+this._buf.write(C,this._inPos,this._encoding);for(;E>=this._buf.length-4;)this._grow(this._inPos+C.length),E=this._inPos+this._buf.write(C,this._inPos,this._encoding);this._inPos=E}addStringBuf(C){C.length&&(this._buffer=void 0,this.length+C.length>this.capacity&&this._grow(this.length+C.length),C._buf.copy(this._buf,this._inPos,0,C.length),this._inPos+=C.length)}}E.exports=StringBuf}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220}],26:[function(C,E,I){"use strict";const{toString:B}=Object.prototype,z=/["&<>]/,q={each:function each(C,E){C&&(Array.isArray(C)?C.forEach(E):Object.keys(C).forEach((I=>{E(C[I],I)})))},some:function some(C,E){return!!C&&(Array.isArray(C)?C.some(E):Object.keys(C).some((I=>E(C[I],I))))},every:function every(C,E){return!C||(Array.isArray(C)?C.every(E):Object.keys(C).every((I=>E(C[I],I))))},map:function map(C,E){return C?Array.isArray(C)?C.map(E):Object.keys(C).map((I=>E(C[I],I))):[]},keyBy:(C,E)=>C.reduce(((C,I)=>(C[I[E]]=I,C)),{}),isEqual:function isEqual(C,E){const I=typeof C,B=typeof E,z=Array.isArray(C),Q=Array.isArray(E);let ee;if(I!==B)return!1;if("object"==typeof C){if(z||Q)return!(!z||!Q)&&C.length===E.length&&C.every(((C,I)=>{const B=E[I];return q.isEqual(C,B)}));if(null===C||null===E)return C===E;if(ee=Object.keys(C),Object.keys(E).length!==ee.length)return!1;for(const C of ee)if(!E.hasOwnProperty(C))return!1;return q.every(C,((C,I)=>{const B=E[I];return q.isEqual(C,B)}))}return C===E},escapeHtml(C){const E=z.exec(C);if(!E)return C;let I="",B="",q=0,Q=E.index;for(;Q<C.length;Q++){switch(C.charAt(Q)){case'"':B="&quot;";break;case"&":B="&amp;";break;case"'":B="&apos;";break;case"<":B="&lt;";break;case">":B="&gt;";break;default:continue}q!==Q&&(I+=C.substring(q,Q)),q=Q+1,I+=B}return q!==Q?I+C.substring(q,Q):I},strcmp:(C,E)=>C<E?-1:C>E?1:0,isUndefined:C=>"[object Undefined]"===B.call(C),isObject:C=>"[object Object]"===B.call(C),deepMerge(){const C=arguments[0]||{},{length:E}=arguments;let I,B,z;function assignValue(E,Q){I=C[Q],z=Array.isArray(E),q.isObject(E)||z?(z?(z=!1,B=I&&Array.isArray(I)?I:[]):B=I&&q.isObject(I)?I:{},C[Q]=q.deepMerge(B,E)):q.isUndefined(E)||(C[Q]=E)}for(let C=0;C<E;C++)q.each(arguments[C],assignValue);return C}};E.exports=q},{}],27:[function(C,E,B){(function(I,B){(function(){"use strict";const z=C("fs"),q=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,Q={nop(){},promiseImmediate:C=>new Promise((E=>{I.setImmediate?B((()=>{E(C)})):setTimeout((()=>{E(C)}),1)})),inherits:function(C,E,I,B){C.super_=E,B||(B=I,I=null),I&&Object.keys(I).forEach((E=>{Object.defineProperty(C,E,Object.getOwnPropertyDescriptor(I,E))}));const z={constructor:{value:C,enumerable:!1,writable:!1,configurable:!0}};B&&Object.keys(B).forEach((C=>{z[C]=Object.getOwnPropertyDescriptor(B,C)})),C.prototype=Object.create(E.prototype,z)},dateToExcel:(C,E)=>25569+C.getTime()/864e5-(E?1462:0),excelToDate(C,E){const I=Math.round(24*(C-25569+(E?1462:0))*3600*1e3);return new Date(I)},parsePath(C){const E=C.lastIndexOf("/");return{path:C.substring(0,E),name:C.substring(E+1)}},getRelsPath(C){const E=Q.parsePath(C);return`${E.path}/_rels/${E.name}.rels`},xmlEncode(C){const E=q.exec(C);if(!E)return C;let I="",B="",z=0,Q=E.index;for(;Q<C.length;Q++){const E=C.charCodeAt(Q);switch(E){case 34:B="&quot;";break;case 38:B="&amp;";break;case 39:B="&apos;";break;case 60:B="&lt;";break;case 62:B="&gt;";break;case 127:B="";break;default:if(E<=31&&(E<=8||E>=11&&13!==E)){B="";break}continue}z!==Q&&(I+=C.substring(z,Q)),z=Q+1,B&&(I+=B)}return z!==Q?I+C.substring(z,Q):I},xmlDecode:C=>C.replace(/&([a-z]*);/g,(C=>{switch(C){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return C}})),validInt(C){const E=parseInt(C,10);return Number.isNaN(E)?0:E},isDateFmt:C=>!!C&&null!==(C=(C=C.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/),fs:{exists:C=>new Promise((E=>{z.access(C,z.constants.F_OK,(C=>{E(!C)}))}))},toIsoDateString:C=>C.toIsoString().subsstr(0,10),parseBoolean:C=>!0===C||"true"===C||1===C||"1"===C};E.exports=Q}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},C("timers").setImmediate)},{fs:216,timers:523}],28:[function(C,E,I){"use strict";const B=C("./under-dash"),z=C("./utils"),q="<",Q=">",ee="</",te="/>";function pushAttribute(C,E,I){C.push(` ${E}="${z.xmlEncode(I.toString())}"`)}function pushAttributes(C,E){if(E){const I=[];B.each(E,((C,E)=>{void 0!==C&&pushAttribute(I,E,C)})),C.push(I.join(""))}}class XmlStream{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(C){const E=this._xml;E.push("<?xml"),pushAttributes(E,C),E.push("?>\n")}openNode(C,E){const I=this.tos,B=this._xml;I&&this.open&&B.push(Q),this._stack.push(C),B.push(q),B.push(C),pushAttributes(B,E),this.leaf=!0,this.open=!0}addAttribute(C,E){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");void 0!==E&&pushAttribute(this._xml,C,E)}addAttributes(C){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");pushAttributes(this._xml,C)}writeText(C){const E=this._xml;this.open&&(E.push(Q),this.open=!1),this.leaf=!1,E.push(z.xmlEncode(C.toString()))}writeXml(C){this.open&&(this._xml.push(Q),this.open=!1),this.leaf=!1,this._xml.push(C)}closeNode(){const C=this._stack.pop(),E=this._xml;this.leaf?E.push(te):(E.push(ee),E.push(C),E.push(Q)),this.open=!1,this.leaf=!1}leafNode(C,E,I){this.openNode(C,E),void 0!==I&&this.writeText(I),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const C=this._rollbacks.pop();this._xml.length>C.xml&&this._xml.splice(C.xml,this._xml.length-C.xml),this._stack.length>C.stack&&this._stack.splice(C.stack,this._stack.length-C.stack),this.leaf=C.leaf,this.open=C.open}get xml(){return this.closeAll(),this._xml.join("")}}XmlStream.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},E.exports=XmlStream},{"./under-dash":26,"./utils":27}],29:[function(C,E,I){(function(I){(function(){"use strict";const B=C("events"),z=C("jszip"),q=C("./stream-buf"),{stringToBuffer:Q}=C("./browser-buffer-encode");class ZipWriter extends B.EventEmitter{constructor(C){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},C),this.zip=new z,this.stream=new q}append(C,E){E.hasOwnProperty("base64")&&E.base64?this.zip.file(E.name,C,{base64:!0}):(I.browser&&"string"==typeof C&&(C=Q(C)),this.zip.file(E.name,C))}async finalize(){const C=await this.zip.generateAsync(this.options);this.stream.end(C),this.emit("finish")}read(C){return this.stream.read(C)}setEncoding(C){return this.stream.setEncoding(C)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(C,E){return this.stream.pipe(C,E)}unpipe(C){return this.stream.unpipe(C)}unshift(C){return this.stream.unshift(C)}wrap(C){return this.stream.wrap(C)}}E.exports={ZipWriter}}).call(this)}).call(this,C("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(C,E,I){"use strict";E.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(C,E,I){"use strict";E.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(C,E,I){"use strict";const B=C("../../utils/parse-sax"),z=C("../../utils/xml-stream");class BaseXform{prepare(){}render(){}parseOpen(C){}parseText(C){}parseClose(C){}reconcile(C,E){}reset(){this.model=null,this.map&&Object.values(this.map).forEach((C=>{C instanceof BaseXform?C.reset():C.xform&&C.xform.reset()}))}mergeModel(C){this.model=Object.assign(this.model||{},C)}async parse(C){for await(const E of C)for(const{eventType:C,value:I}of E)if("opentag"===C)this.parseOpen(I);else if("text"===C)this.parseText(I);else if("closetag"===C&&!this.parseClose(I.name))return this.model;return this.model}async parseStream(C){return this.parse(B(C))}get xml(){return this.toXml(this.model)}toXml(C){const E=new z;return this.render(E,C),E.xml}static toAttribute(C,E){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===C){if(I)return E}else if(I||C!==E)return C.toString()}static toStringAttribute(C,E){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BaseXform.toAttribute(C,E,I)}static toStringValue(C,E){return void 0===C?E:C}static toBoolAttribute(C,E){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===C){if(I)return E}else if(I||C!==E)return C?"1":"0"}static toBoolValue(C,E){return void 0===C?E:"1"===C}static toIntAttribute(C,E){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BaseXform.toAttribute(C,E,I)}static toIntValue(C,E){return void 0===C?E:parseInt(C,10)}static toFloatAttribute(C,E){let I=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return BaseXform.toAttribute(C,E,I)}static toFloatValue(C,E){return void 0===C?E:parseFloat(C)}}E.exports=BaseXform},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("../../../utils/col-cache");class DefinedNamesXform extends B{render(C,E){C.openNode("definedName",{name:E.name,localSheetId:E.localSheetId}),C.writeText(E.ranges.join(",")),C.closeNode()}parseOpen(C){return"definedName"===C.name&&(this._parsedName=C.attributes.name,this._parsedLocalSheetId=C.attributes.localSheetId,this._parsedText=[],!0)}parseText(C){this._parsedText.push(C)}parseClose(){return this.model={name:this._parsedName,ranges:extractRanges(this._parsedText.join(""))},void 0!==this._parsedLocalSheetId&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}function isValidRange(C){try{return z.decodeEx(C),!0}catch(C){return!1}}function extractRanges(C){const E=[];let I=!1,B="";return C.split(",").forEach((C=>{if(!C)return;const z=(C.match(/'/g)||[]).length;if(!z)return void(I?B+=`${C},`:isValidRange(C)&&E.push(C));const q=z%2==0;!I&&q&&isValidRange(C)?E.push(C):I&&!q?(I=!1,isValidRange(B+C)&&E.push(B+C),B=""):(I=!0,B+=`${C},`)})),E}E.exports=DefinedNamesXform},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(C,E,I){"use strict";const B=C("../../../utils/utils"),z=C("../base-xform");class WorksheetXform extends z{render(C,E){C.leafNode("sheet",{sheetId:E.id,name:E.name,state:E.state,"r:id":E.rId})}parseOpen(C){return"sheet"===C.name&&(this.model={name:B.xmlDecode(C.attributes.name),id:parseInt(C.attributes.sheetId,10),state:C.attributes.state,rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}E.exports=WorksheetXform},{"../../../utils/utils":27,"../base-xform":32}],35:[function(C,E,I){"use strict";const B=C("../base-xform");class WorkbookCalcPropertiesXform extends B{render(C,E){C.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:E.fullCalcOnLoad?1:void 0})}parseOpen(C){return"calcPr"===C.name&&(this.model={},!0)}parseText(){}parseClose(){return!1}}E.exports=WorkbookCalcPropertiesXform},{"../base-xform":32}],36:[function(C,E,I){"use strict";const B=C("../base-xform");class WorksheetPropertiesXform extends B{render(C,E){C.leafNode("workbookPr",{date1904:E.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(C){return"workbookPr"===C.name&&(this.model={date1904:"1"===C.attributes.date1904},!0)}parseText(){}parseClose(){return!1}}E.exports=WorksheetPropertiesXform},{"../base-xform":32}],37:[function(C,E,I){"use strict";const B=C("../base-xform");class WorkbookViewXform extends B{render(C,E){const I={xWindow:E.x||0,yWindow:E.y||0,windowWidth:E.width||12e3,windowHeight:E.height||24e3,firstSheet:E.firstSheet,activeTab:E.activeTab};E.visibility&&"visible"!==E.visibility&&(I.visibility=E.visibility),C.leafNode("workbookView",I)}parseOpen(C){if("workbookView"===C.name){const E=this.model={},addS=function(C,I,B){const z=void 0!==I?E[C]=I:B;void 0!==z&&(E[C]=z)},addN=function(C,I,B){const z=void 0!==I?E[C]=parseInt(I,10):B;void 0!==z&&(E[C]=z)};return addN("x",C.attributes.xWindow,0),addN("y",C.attributes.yWindow,0),addN("width",C.attributes.windowWidth,25e3),addN("height",C.attributes.windowHeight,1e4),addS("visibility",C.attributes.visibility,"visible"),addN("activeTab",C.attributes.activeTab,void 0),addN("firstSheet",C.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}E.exports=WorkbookViewXform},{"../base-xform":32}],38:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../../../utils/col-cache"),q=C("../../../utils/xml-stream"),Q=C("../base-xform"),ee=C("../static-xform"),te=C("../list-xform"),ie=C("./defined-name-xform"),re=C("./sheet-xform"),ne=C("./workbook-view-xform"),se=C("./workbook-properties-xform"),oe=C("./workbook-calc-properties-xform");class WorkbookXform extends Q{constructor(){super(),this.map={fileVersion:WorkbookXform.STATIC_XFORMS.fileVersion,workbookPr:new se,bookViews:new te({tag:"bookViews",count:!1,childXform:new ne}),sheets:new te({tag:"sheets",count:!1,childXform:new re}),definedNames:new te({tag:"definedNames",count:!1,childXform:new ie}),calcPr:new oe}}prepare(C){C.sheets=C.worksheets;const E=[];let I=0;C.sheets.forEach((C=>{if(C.pageSetup&&C.pageSetup.printArea&&C.pageSetup.printArea.split("&&").forEach((B=>{const z=B.split(":"),q={name:"_xlnm.Print_Area",ranges:[`'${C.name}'!$${z[0]}:$${z[1]}`],localSheetId:I};E.push(q)})),C.pageSetup&&(C.pageSetup.printTitlesRow||C.pageSetup.printTitlesColumn)){const B=[];if(C.pageSetup.printTitlesColumn){const E=C.pageSetup.printTitlesColumn.split(":");B.push(`'${C.name}'!$${E[0]}:$${E[1]}`)}if(C.pageSetup.printTitlesRow){const E=C.pageSetup.printTitlesRow.split(":");B.push(`'${C.name}'!$${E[0]}:$${E[1]}`)}const z={name:"_xlnm.Print_Titles",ranges:B,localSheetId:I};E.push(z)}I++})),E.length&&(C.definedNames=C.definedNames.concat(E)),(C.media||[]).forEach(((C,E)=>{C.name=C.type+(E+1)}))}render(C,E){C.openXml(q.StdDocAttributes),C.openNode("workbook",WorkbookXform.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(C),this.map.workbookPr.render(C,E.properties),this.map.bookViews.render(C,E.views),this.map.sheets.render(C,E.sheets),this.map.definedNames.render(C,E.definedNames),this.map.calcPr.render(C,E.calcProperties),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):("workbook"===C.name||(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):"workbook"!==C||(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1)}reconcile(C){const E=(C.workbookRels||[]).reduce(((C,E)=>(C[E.Id]=E,C)),{}),I=[];let q,Q=0;(C.sheets||[]).forEach((B=>{const z=E[B.rId];z&&(q=C.worksheetHash[`xl/${z.Target.replace(/^(\s|\/xl\/)+/,"")}`],q&&(q.name=B.name,q.id=B.id,q.state=B.state,I[Q++]=q))}));const ee=[];B.each(C.definedNames,(C=>{if("_xlnm.Print_Area"===C.name){if(q=I[C.localSheetId],q){q.pageSetup||(q.pageSetup={});const E=z.decodeEx(C.ranges[0]);q.pageSetup.printArea=q.pageSetup.printArea?`${q.pageSetup.printArea}&&${E.dimensions}`:E.dimensions}}else if("_xlnm.Print_Titles"===C.name){if(q=I[C.localSheetId],q){q.pageSetup||(q.pageSetup={});const E=C.ranges.join(","),I=/\$/g,B=/\$\d+:\$\d+/,z=E.match(B);if(z&&z.length){const C=z[0];q.pageSetup.printTitlesRow=C.replace(I,"")}const Q=/\$[A-Z]+:\$[A-Z]+/,ee=E.match(Q);if(ee&&ee.length){const C=ee[0];q.pageSetup.printTitlesColumn=C.replace(I,"")}}}else ee.push(C)})),C.definedNames=ee,C.media.forEach(((C,E)=>{C.index=E}))}}WorkbookXform.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},WorkbookXform.STATIC_XFORMS={fileVersion:new ee({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},E.exports=WorkbookXform},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(C,E,I){"use strict";const B=C("../strings/rich-text-xform"),z=C("../../../utils/utils"),q=C("../base-xform"),Q=E.exports=function(C){this.model=C};z.inherits(Q,q,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new B),this._richTextXform},render(C,E){E=E||this.model,C.openNode("comment",{ref:E.ref,authorId:0}),C.openNode("text"),E&&E.note&&E.note.texts&&E.note.texts.forEach((E=>{this.richTextXform.render(C,E)})),C.closeNode(),C.closeNode()},parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"comment":return this.model={type:"note",note:{texts:[]},...C.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(C),!0;default:return!1}},parseText(C){this.parser&&this.parser.parseText(C)},parseClose(C){switch(C){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(C),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../../../utils/utils"),q=C("../base-xform"),Q=C("./comment-xform"),ee=E.exports=function(){this.map={comment:new Q}};z.inherits(ee,q,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(C,E){E=E||this.model,C.openXml(B.StdDocAttributes),C.openNode("comments",ee.COMMENTS_ATTRIBUTES),C.openNode("authors"),C.leafNode("author",null,"Author"),C.closeNode(),C.openNode("commentList"),E.comments.forEach((E=>{this.map.comment.render(C,E)})),C.closeNode(),C.closeNode()},parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(C),!0;default:return!1}},parseText(C){this.parser&&this.parser.parseText(C)},parseClose(C){switch(C){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(C),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(C,E,I){"use strict";const B=C("../../base-xform");class VmlPositionXform extends B{constructor(C){super(),this._model=C}get tag(){return this._model&&this._model.tag}render(C,E,I){(E===I[2]||"x:SizeWithCells"===this.tag&&E===I[1])&&C.leafNode(this.tag)}parseOpen(C){return C.name===this.tag&&(this.model={},this.model[this.tag]=!0,!0)}parseText(){}parseClose(){return!1}}E.exports=VmlPositionXform},{"../../base-xform":32}],42:[function(C,E,I){"use strict";const B=C("../../base-xform");class VmlProtectionXform extends B{constructor(C){super(),this._model=C}get tag(){return this._model&&this._model.tag}render(C,E){C.leafNode(this.tag,null,E)}parseOpen(C){return C.name===this.tag&&(this.text="",!0)}parseText(C){this.text=C}parseClose(){return!1}}E.exports=VmlProtectionXform},{"../../base-xform":32}],43:[function(C,E,I){"use strict";const B=C("../base-xform");class VmlAnchorXform extends B{get tag(){return"x:Anchor"}getAnchorRect(C){const E=Math.floor(C.left),I=Math.floor(68*(C.left-E)),B=Math.floor(C.top),z=Math.floor(18*(C.top-B)),q=Math.floor(C.right),Q=Math.floor(68*(C.right-q)),ee=Math.floor(C.bottom);return[E,I,B,z,q,Q,ee,Math.floor(18*(C.bottom-ee))]}getDefaultRect(C){const E=C.col,I=6,B=Math.max(C.row-2,0);return[E,I,B,14,E+2,2,B+4,16]}render(C,E){const I=E.anchor?this.getAnchorRect(E.anchor):this.getDefaultRect(E.refAddress);C.leafNode("x:Anchor",null,I.join(", "))}parseOpen(C){return C.name===this.tag&&(this.text="",!0)}parseText(C){this.text=C}parseClose(){return!1}}E.exports=VmlAnchorXform},{"../base-xform":32}],44:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./vml-anchor-xform"),q=C("./style/vml-protection-xform"),Q=C("./style/vml-position-xform"),ee=["twoCells","oneCells","absolute"];class VmlClientDataXform extends B{constructor(){super(),this.map={"x:Anchor":new z,"x:Locked":new q({tag:"x:Locked"}),"x:LockText":new q({tag:"x:LockText"}),"x:SizeWithCells":new Q({tag:"x:SizeWithCells"}),"x:MoveWithCells":new Q({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(C,E){const{protection:I,editAs:B}=E.note;C.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(C,B,ee),this.map["x:SizeWithCells"].render(C,B,ee),this.map["x:Anchor"].render(C,E),this.map["x:Locked"].render(C,I.locked),C.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(C,I.lockText),C.leafNode("x:Row",null,E.refAddress.row-1),C.leafNode("x:Column",null,E.refAddress.col-1),C.closeNode()}parseOpen(C){return C.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.normalizeModel(),!1)}normalizeModel(){const C=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),E=Object.keys(C).length;this.model.editAs=ee[E],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}E.exports=VmlClientDataXform},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../base-xform"),q=C("./vml-shape-xform");class VmlNotesXform extends z{constructor(){super(),this.map={"v:shape":new q}}get tag(){return"xml"}render(C,E){C.openXml(B.StdDocAttributes),C.openNode(this.tag,VmlNotesXform.DRAWING_ATTRIBUTES),C.openNode("o:shapelayout",{"v:ext":"edit"}),C.leafNode("o:idmap",{"v:ext":"edit",data:1}),C.closeNode(),C.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),C.leafNode("v:stroke",{joinstyle:"miter"}),C.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),C.closeNode(),E.comments.forEach(((E,I)=>{this.map["v:shape"].render(C,E,I)})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):C!==this.tag}reconcile(C,E){C.anchors.forEach((C=>{C.br?this.map["xdr:twoCellAnchor"].reconcile(C,E):this.map["xdr:oneCellAnchor"].reconcile(C,E)}))}}VmlNotesXform.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},E.exports=VmlNotesXform},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./vml-textbox-xform"),q=C("./vml-client-data-xform");class VmlShapeXform extends B{constructor(){super(),this.map={"v:textbox":new z,"x:ClientData":new q}}get tag(){return"v:shape"}render(C,E,I){C.openNode("v:shape",VmlShapeXform.V_SHAPE_ATTRIBUTES(E,I)),C.leafNode("v:fill",{color2:"infoBackground [80]"}),C.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),C.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(C,E),this.map["x:ClientData"].render(C,E),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={margins:{insetmode:C.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1)}}VmlShapeXform.V_SHAPE_ATTRIBUTES=(C,E)=>({id:`_x0000_s${1025+E}`,type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":C.note.margins&&C.note.margins.insetmode}),E.exports=VmlShapeXform},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(C,E,I){"use strict";const B=C("../base-xform");class VmlTextboxXform extends B{get tag(){return"v:textbox"}conversionUnit(C,E,I){return`${parseFloat(C)*E.toFixed(2)}${I}`}reverseConversionUnit(C){return(C||"").split(",").map((C=>Number(parseFloat(this.conversionUnit(parseFloat(C),.1,"")).toFixed(2))))}render(C,E){const I={style:"mso-direction-alt:auto"};if(E&&E.note){let{inset:C}=E.note&&E.note.margins;Array.isArray(C)&&(C=C.map((C=>this.conversionUnit(C,10,"mm"))).join(",")),C&&(I.inset=C)}C.openNode("v:textbox",I),C.leafNode("div",{style:"text-align:left"}),C.closeNode()}parseOpen(C){return C.name!==this.tag||(this.model={inset:this.reverseConversionUnit(C.attributes.inset)},!0)}parseText(){}parseClose(C){return C!==this.tag}}E.exports=VmlTextboxXform},{"../base-xform":32}],48:[function(C,E,I){"use strict";const B=C("./base-xform");class CompositeXform extends B{createNewModel(C){return{}}parseOpen(C){return this.parser=this.parser||this.map[C.name],this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag&&(this.model=this.createNewModel(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}onParserClose(C,E){this.model[C]=E.model}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.onParserClose(C,this.parser),this.parser=void 0),!0):C!==this.tag}}E.exports=CompositeXform},{"./base-xform":32}],49:[function(C,E,I){"use strict";const B=C("../base-xform");class AppHeadingPairsXform extends B{render(C,E){C.openNode("HeadingPairs"),C.openNode("vt:vector",{size:2,baseType:"variant"}),C.openNode("vt:variant"),C.leafNode("vt:lpstr",void 0,"Worksheets"),C.closeNode(),C.openNode("vt:variant"),C.leafNode("vt:i4",void 0,E.length),C.closeNode(),C.closeNode(),C.closeNode()}parseOpen(C){return"HeadingPairs"===C.name}parseText(){}parseClose(C){return"HeadingPairs"!==C}}E.exports=AppHeadingPairsXform},{"../base-xform":32}],50:[function(C,E,I){"use strict";const B=C("../base-xform");class AppTitlesOfPartsXform extends B{render(C,E){C.openNode("TitlesOfParts"),C.openNode("vt:vector",{size:E.length,baseType:"lpstr"}),E.forEach((E=>{C.leafNode("vt:lpstr",void 0,E.name)})),C.closeNode(),C.closeNode()}parseOpen(C){return"TitlesOfParts"===C.name}parseText(){}parseClose(C){return"TitlesOfParts"!==C}}E.exports=AppTitlesOfPartsXform},{"../base-xform":32}],51:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../base-xform"),q=C("../simple/string-xform"),Q=C("./app-heading-pairs-xform"),ee=C("./app-titles-of-parts-xform");class AppXform extends z{constructor(){super(),this.map={Company:new q({tag:"Company"}),Manager:new q({tag:"Manager"}),HeadingPairs:new Q,TitleOfParts:new ee}}render(C,E){C.openXml(B.StdDocAttributes),C.openNode("Properties",AppXform.PROPERTY_ATTRIBUTES),C.leafNode("Application",void 0,"Microsoft Excel"),C.leafNode("DocSecurity",void 0,"0"),C.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(C,E.worksheets),this.map.TitleOfParts.render(C,E.worksheets),this.map.Company.render(C,E.company||""),this.map.Manager.render(C,E.manager),C.leafNode("LinksUpToDate",void 0,"false"),C.leafNode("SharedDoc",void 0,"false"),C.leafNode("HyperlinksChanged",void 0,"false"),C.leafNode("AppVersion",void 0,"16.0300"),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"Properties"===C.name||(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):"Properties"!==C||(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1)}}AppXform.DateFormat=function(C){return C.toISOString().replace(/[.]\d{3,6}/,"")},AppXform.DateAttrs={"xsi:type":"dcterms:W3CDTF"},AppXform.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},E.exports=AppXform},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../base-xform");class ContentTypesXform extends z{render(C,E){C.openXml(B.StdDocAttributes),C.openNode("Types",ContentTypesXform.PROPERTY_ATTRIBUTES);const I={};(E.media||[]).forEach((E=>{if("image"===E.type){const B=E.extension;I[B]||(I[B]=!0,C.leafNode("Default",{Extension:B,ContentType:`image/${B}`}))}})),C.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),C.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),C.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),E.worksheets.forEach((E=>{const I=`/xl/worksheets/sheet${E.id}.xml`;C.leafNode("Override",{PartName:I,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})})),C.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),C.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),E.sharedStrings&&E.sharedStrings.count&&C.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),E.tables&&E.tables.forEach((E=>{C.leafNode("Override",{PartName:`/xl/tables/${E.target}`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})})),E.drawings&&E.drawings.forEach((E=>{C.leafNode("Override",{PartName:`/xl/drawings/${E.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})})),E.commentRefs&&(C.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),E.commentRefs.forEach((E=>{let{commentName:I}=E;C.leafNode("Override",{PartName:`/xl/${I}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})}))),C.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),C.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),C.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}ContentTypesXform.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},E.exports=ContentTypesXform},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../base-xform"),q=C("../simple/date-xform"),Q=C("../simple/string-xform"),ee=C("../simple/integer-xform");class CoreXform extends z{constructor(){super(),this.map={"dc:creator":new Q({tag:"dc:creator"}),"dc:title":new Q({tag:"dc:title"}),"dc:subject":new Q({tag:"dc:subject"}),"dc:description":new Q({tag:"dc:description"}),"dc:identifier":new Q({tag:"dc:identifier"}),"dc:language":new Q({tag:"dc:language"}),"cp:keywords":new Q({tag:"cp:keywords"}),"cp:category":new Q({tag:"cp:category"}),"cp:lastModifiedBy":new Q({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new q({tag:"cp:lastPrinted",format:CoreXform.DateFormat}),"cp:revision":new ee({tag:"cp:revision"}),"cp:version":new Q({tag:"cp:version"}),"cp:contentStatus":new Q({tag:"cp:contentStatus"}),"cp:contentType":new Q({tag:"cp:contentType"}),"dcterms:created":new q({tag:"dcterms:created",attrs:CoreXform.DateAttrs,format:CoreXform.DateFormat}),"dcterms:modified":new q({tag:"dcterms:modified",attrs:CoreXform.DateAttrs,format:CoreXform.DateFormat})}}render(C,E){C.openXml(B.StdDocAttributes),C.openNode("cp:coreProperties",CoreXform.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(C,E.creator),this.map["dc:title"].render(C,E.title),this.map["dc:subject"].render(C,E.subject),this.map["dc:description"].render(C,E.description),this.map["dc:identifier"].render(C,E.identifier),this.map["dc:language"].render(C,E.language),this.map["cp:keywords"].render(C,E.keywords),this.map["cp:category"].render(C,E.category),this.map["cp:lastModifiedBy"].render(C,E.lastModifiedBy),this.map["cp:lastPrinted"].render(C,E.lastPrinted),this.map["cp:revision"].render(C,E.revision),this.map["cp:version"].render(C,E.version),this.map["cp:contentStatus"].render(C,E.contentStatus),this.map["cp:contentType"].render(C,E.contentType),this.map["dcterms:created"].render(C,E.created),this.map["dcterms:modified"].render(C,E.modified),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[C.name],this.parser)return this.parser.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;switch(C){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error(`Unexpected xml node in parseClose: ${C}`)}}}CoreXform.DateFormat=function(C){return C.toISOString().replace(/[.]\d{3}/,"")},CoreXform.DateAttrs={"xsi:type":"dcterms:W3CDTF"},CoreXform.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},E.exports=CoreXform},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(C,E,I){"use strict";const B=C("../base-xform");class RelationshipXform extends B{render(C,E){C.leafNode("Relationship",E)}parseOpen(C){return"Relationship"===C.name&&(this.model=C.attributes,!0)}parseText(){}parseClose(){return!1}}E.exports=RelationshipXform},{"../base-xform":32}],55:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../base-xform"),q=C("./relationship-xform");class RelationshipsXform extends z{constructor(){super(),this.map={Relationship:new q}}render(C,E){E=E||this._values,C.openXml(B.StdDocAttributes),C.openNode("Relationships",RelationshipsXform.RELATIONSHIPS_ATTRIBUTES),E.forEach((E=>{this.map.Relationship.render(C,E)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;if("Relationships"===C.name)return this.model=[],!0;if(this.parser=this.map[C.name],this.parser)return this.parser.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.model.push(this.parser.model),this.parser=void 0),!0;if("Relationships"===C)return!1;throw new Error(`Unexpected xml node in parseClose: ${C}`)}}RelationshipsXform.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},E.exports=RelationshipsXform},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(C,E,I){"use strict";const B=C("../base-xform");class BaseCellAnchorXform extends B{parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={range:{editAs:C.attributes.editAs||"oneCell"}}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}reconcilePicture(C,E){if(C&&C.rId){const I=E.rels[C.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(I){const C=I[1],B=E.mediaIndex[C];return E.media[B]}}}}E.exports=BaseCellAnchorXform},{"../base-xform":32}],57:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./blip-xform");class BlipFillXform extends B{constructor(){super(),this.map={"a:blip":new z}}get tag(){return"xdr:blipFill"}render(C,E){C.openNode(this.tag),this.map["a:blip"].render(C,E),C.openNode("a:stretch"),C.leafNode("a:fillRect"),C.closeNode(),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model=this.map["a:blip"].model,!1)}}E.exports=BlipFillXform},{"../base-xform":32,"./blip-xform":58}],58:[function(C,E,I){"use strict";const B=C("../base-xform");class BlipXform extends B{get tag(){return"a:blip"}render(C,E){C.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":E.rId,cstate:"print"})}parseOpen(C){return C.name!==this.tag||(this.model={rId:C.attributes["r:embed"]},!0)}parseText(){}parseClose(C){return C!==this.tag}}E.exports=BlipXform},{"../base-xform":32}],59:[function(C,E,I){"use strict";const B=C("../base-xform");class CNvPicPrXform extends B{get tag(){return"xdr:cNvPicPr"}render(C){C.openNode(this.tag),C.leafNode("a:picLocks",{noChangeAspect:"1"}),C.closeNode()}parseOpen(C){return C.name,this.tag,!0}parseText(){}parseClose(C){return C!==this.tag}}E.exports=CNvPicPrXform},{"../base-xform":32}],60:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./hlink-click-xform"),q=C("./ext-lst-xform");class CNvPrXform extends B{constructor(){super(),this.map={"a:hlinkClick":new z,"a:extLst":new q}}get tag(){return"xdr:cNvPr"}render(C,E){C.openNode(this.tag,{id:E.index,name:`Picture ${E.index}`}),this.map["a:hlinkClick"].render(C,E),this.map["a:extLst"].render(C,E),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model=this.map["a:hlinkClick"].model,!1)}}E.exports=CNvPrXform},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("../simple/integer-xform");class CellPositionXform extends B{constructor(C){super(),this.tag=C.tag,this.map={"xdr:col":new z({tag:"xdr:col",zero:!0}),"xdr:colOff":new z({tag:"xdr:colOff",zero:!0}),"xdr:row":new z({tag:"xdr:row",zero:!0}),"xdr:rowOff":new z({tag:"xdr:rowOff",zero:!0})}}render(C,E){C.openNode(this.tag),this.map["xdr:col"].render(C,E.nativeCol),this.map["xdr:colOff"].render(C,E.nativeColOff),this.map["xdr:row"].render(C,E.nativeRow),this.map["xdr:rowOff"].render(C,E.nativeRowOff),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1)}}E.exports=CellPositionXform},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(C,E,I){"use strict";const B=C("../../../utils/col-cache"),z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("./two-cell-anchor-xform"),ee=C("./one-cell-anchor-xform");function getAnchorType(C){return("string"==typeof C.range?B.decode(C.range):C.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}class DrawingXform extends q{constructor(){super(),this.map={"xdr:twoCellAnchor":new Q,"xdr:oneCellAnchor":new ee}}prepare(C){C.anchors.forEach(((C,E)=>{C.anchorType=getAnchorType(C),this.map[C.anchorType].prepare(C,{index:E})}))}get tag(){return"xdr:wsDr"}render(C,E){C.openXml(z.StdDocAttributes),C.openNode(this.tag,DrawingXform.DRAWING_ATTRIBUTES),E.anchors.forEach((E=>{this.map[E.anchorType].render(C,E)})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):C!==this.tag}reconcile(C,E){C.anchors.forEach((C=>{C.br?this.map["xdr:twoCellAnchor"].reconcile(C,E):this.map["xdr:oneCellAnchor"].reconcile(C,E)}))}}DrawingXform.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},E.exports=DrawingXform},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(C,E,I){"use strict";const B=C("../base-xform");class ExtLstXform extends B{get tag(){return"a:extLst"}render(C){C.openNode(this.tag),C.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),C.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),C.closeNode(),C.closeNode()}parseOpen(C){return C.name,this.tag,!0}parseText(){}parseClose(C){return C!==this.tag}}E.exports=ExtLstXform},{"../base-xform":32}],64:[function(C,E,I){"use strict";const B=C("../base-xform"),z=9525;class ExtXform extends B{constructor(C){super(),this.tag=C.tag,this.map={}}render(C,E){C.openNode(this.tag);const I=Math.floor(E.width*z),B=Math.floor(E.height*z);C.addAttribute("cx",I),C.addAttribute("cy",B),C.closeNode()}parseOpen(C){return C.name===this.tag&&(this.model={width:parseInt(C.attributes.cx||"0",10)/z,height:parseInt(C.attributes.cy||"0",10)/z},!0)}parseText(){}parseClose(){return!1}}E.exports=ExtXform},{"../base-xform":32}],65:[function(C,E,I){"use strict";const B=C("../base-xform");class HLinkClickXform extends B{get tag(){return"a:hlinkClick"}render(C,E){E.hyperlinks&&E.hyperlinks.rId&&C.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":E.hyperlinks.rId,tooltip:E.hyperlinks.tooltip})}parseOpen(C){return C.name!==this.tag||(this.model={hyperlinks:{rId:C.attributes["r:id"],tooltip:C.attributes.tooltip}},!0)}parseText(){}parseClose(){return!1}}E.exports=HLinkClickXform},{"../base-xform":32}],66:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./c-nv-pr-xform"),q=C("./c-nv-pic-pr-xform");class NvPicPrXform extends B{constructor(){super(),this.map={"xdr:cNvPr":new z,"xdr:cNvPicPr":new q}}get tag(){return"xdr:nvPicPr"}render(C,E){C.openNode(this.tag),this.map["xdr:cNvPr"].render(C,E),this.map["xdr:cNvPicPr"].render(C,E),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model=this.map["xdr:cNvPr"].model,!1)}}E.exports=NvPicPrXform},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(C,E,I){"use strict";const B=C("./base-cell-anchor-xform"),z=C("../static-xform"),q=C("./cell-position-xform"),Q=C("./ext-xform"),ee=C("./pic-xform");class OneCellAnchorXform extends B{constructor(){super(),this.map={"xdr:from":new q({tag:"xdr:from"}),"xdr:ext":new Q({tag:"xdr:ext"}),"xdr:pic":new ee,"xdr:clientData":new z({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(C,E){this.map["xdr:pic"].prepare(C.picture,E)}render(C,E){C.openNode(this.tag,{editAs:E.range.editAs||"oneCell"}),this.map["xdr:from"].render(C,E.range.tl),this.map["xdr:ext"].render(C,E.range.ext),this.map["xdr:pic"].render(C,E.picture),this.map["xdr:clientData"].render(C,{}),C.closeNode()}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1)}reconcile(C,E){C.medium=this.reconcilePicture(C.picture,E)}}E.exports=OneCellAnchorXform},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("../static-xform"),q=C("./blip-fill-xform"),Q=C("./nv-pic-pr-xform"),ee=C("./sp-pr");class PicXform extends B{constructor(){super(),this.map={"xdr:nvPicPr":new Q,"xdr:blipFill":new q,"xdr:spPr":new z(ee)}}get tag(){return"xdr:pic"}prepare(C,E){C.index=E.index+1}render(C,E){C.openNode(this.tag),this.map["xdr:nvPicPr"].render(C,E),this.map["xdr:blipFill"].render(C,E),this.map["xdr:spPr"].render(C,E),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):(C.name===this.tag?this.reset():(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):C!==this.tag}}E.exports=PicXform},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(C,E,I){"use strict";E.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(C,E,I){"use strict";const B=C("./base-cell-anchor-xform"),z=C("../static-xform"),q=C("./cell-position-xform"),Q=C("./pic-xform");class TwoCellAnchorXform extends B{constructor(){super(),this.map={"xdr:from":new q({tag:"xdr:from"}),"xdr:to":new q({tag:"xdr:to"}),"xdr:pic":new Q,"xdr:clientData":new z({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(C,E){this.map["xdr:pic"].prepare(C.picture,E)}render(C,E){C.openNode(this.tag,{editAs:E.range.editAs||"oneCell"}),this.map["xdr:from"].render(C,E.range.tl),this.map["xdr:to"].render(C,E.range.br),this.map["xdr:pic"].render(C,E.picture),this.map["xdr:clientData"].render(C,{}),C.closeNode()}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1)}reconcile(C,E){C.medium=this.reconcilePicture(C.picture,E)}}E.exports=TwoCellAnchorXform},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(C,E,I){"use strict";const B=C("./base-xform");class ListXform extends B{constructor(C){super(),this.tag=C.tag,this.always=!!C.always,this.count=C.count,this.empty=C.empty,this.$count=C.$count||"count",this.$=C.$,this.childXform=C.childXform,this.maxItems=C.maxItems}prepare(C,E){const{childXform:I}=this;C&&C.forEach(((C,B)=>{E.index=B,I.prepare(C,E)}))}render(C,E){if(this.always||E&&E.length){C.openNode(this.tag,this.$),this.count&&C.addAttribute(this.$count,E&&E.length||0);const{childXform:I}=this;(E||[]).forEach(((E,B)=>{I.render(C,E,B)})),C.closeNode()}else this.empty&&C.leafNode(this.tag)}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(C)&&(this.parser=this.childXform,!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(C,E){if(C){const{childXform:I}=this;C.forEach((C=>{I.reconcile(C,E)}))}}}E.exports=ListXform},{"./base-xform":32}],72:[function(C,E,I){"use strict";const B=C("../../../utils/col-cache"),z=C("../base-xform");class AutoFilterXform extends z{get tag(){return"autoFilter"}render(C,E){if(E)if("string"==typeof E)C.leafNode("autoFilter",{ref:E});else{const getAddress=function(C){return"string"==typeof C?C:B.getAddress(C.row,C.column).address},I=getAddress(E.from),z=getAddress(E.to);I&&z&&C.leafNode("autoFilter",{ref:`${I}:${z}`})}}parseOpen(C){"autoFilter"===C.name&&(this.model=C.attributes.ref)}}E.exports=AutoFilterXform},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(C,E,I){"use strict";const B=C("../../../utils/utils"),z=C("../base-xform"),q=C("../../../doc/range"),Q=C("../../../doc/enums"),ee=C("../strings/rich-text-xform");function getValueType(C){if(null==C)return Q.ValueType.Null;if(C instanceof String||"string"==typeof C)return Q.ValueType.String;if("number"==typeof C)return Q.ValueType.Number;if("boolean"==typeof C)return Q.ValueType.Boolean;if(C instanceof Date)return Q.ValueType.Date;if(C.text&&C.hyperlink)return Q.ValueType.Hyperlink;if(C.formula)return Q.ValueType.Formula;if(C.error)return Q.ValueType.Error;throw new Error("I could not understand type of value")}function getEffectiveCellType(C){return C.type===Q.ValueType.Formula?getValueType(C.result):C.type}class CellXform extends z{constructor(){super(),this.richTextXForm=new ee}get tag(){return"c"}prepare(C,E){const I=E.styles.addStyleModel(C.style||{},getEffectiveCellType(C));switch(I&&(C.styleId=I),C.comment&&E.comments.push({...C.comment,ref:C.address}),C.type){case Q.ValueType.String:case Q.ValueType.RichText:E.sharedStrings&&(C.ssId=E.sharedStrings.add(C.value));break;case Q.ValueType.Date:E.date1904&&(C.date1904=!0);break;case Q.ValueType.Hyperlink:E.sharedStrings&&void 0!==C.text&&null!==C.text&&(C.ssId=E.sharedStrings.add(C.text)),E.hyperlinks.push({address:C.address,target:C.hyperlink,tooltip:C.tooltip});break;case Q.ValueType.Merge:E.merges.add(C);break;case Q.ValueType.Formula:if(E.date1904&&(C.date1904=!0),"shared"===C.shareType&&(C.si=E.siFormulae++),C.formula)E.formulae[C.address]=C;else if(C.sharedFormula){const I=E.formulae[C.sharedFormula];if(!I)throw new Error(`Shared Formula master must exist above and or left of clone for cell ${C.address}`);void 0===I.si?(I.shareType="shared",I.si=E.siFormulae++,I.range=new q(I.address,C.address)):I.range&&I.range.expandToAddress(C.address),C.si=I.si}}}renderFormula(C,E){let I=null;switch(E.shareType){case"shared":I={t:"shared",ref:E.ref||E.range.range,si:E.si};break;case"array":I={t:"array",ref:E.ref};break;default:void 0!==E.si&&(I={t:"shared",si:E.si})}switch(getValueType(E.result)){case Q.ValueType.Null:C.leafNode("f",I,E.formula);break;case Q.ValueType.String:C.addAttribute("t","str"),C.leafNode("f",I,E.formula),C.leafNode("v",null,E.result);break;case Q.ValueType.Number:C.leafNode("f",I,E.formula),C.leafNode("v",null,E.result);break;case Q.ValueType.Boolean:C.addAttribute("t","b"),C.leafNode("f",I,E.formula),C.leafNode("v",null,E.result?1:0);break;case Q.ValueType.Error:C.addAttribute("t","e"),C.leafNode("f",I,E.formula),C.leafNode("v",null,E.result.error);break;case Q.ValueType.Date:C.leafNode("f",I,E.formula),C.leafNode("v",null,B.dateToExcel(E.result,E.date1904));break;default:throw new Error("I could not understand type of value")}}render(C,E){if(E.type!==Q.ValueType.Null||E.styleId){switch(C.openNode("c"),C.addAttribute("r",E.address),E.styleId&&C.addAttribute("s",E.styleId),E.type){case Q.ValueType.Null:break;case Q.ValueType.Number:C.leafNode("v",null,E.value);break;case Q.ValueType.Boolean:C.addAttribute("t","b"),C.leafNode("v",null,E.value?"1":"0");break;case Q.ValueType.Error:C.addAttribute("t","e"),C.leafNode("v",null,E.value.error);break;case Q.ValueType.String:case Q.ValueType.RichText:void 0!==E.ssId?(C.addAttribute("t","s"),C.leafNode("v",null,E.ssId)):E.value&&E.value.richText?(C.addAttribute("t","inlineStr"),C.openNode("is"),E.value.richText.forEach((E=>{this.richTextXForm.render(C,E)})),C.closeNode("is")):(C.addAttribute("t","str"),C.leafNode("v",null,E.value));break;case Q.ValueType.Date:C.leafNode("v",null,B.dateToExcel(E.value,E.date1904));break;case Q.ValueType.Hyperlink:void 0!==E.ssId?(C.addAttribute("t","s"),C.leafNode("v",null,E.ssId)):(C.addAttribute("t","str"),C.leafNode("v",null,E.text));break;case Q.ValueType.Formula:this.renderFormula(C,E);case Q.ValueType.Merge:}C.closeNode()}}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"c":return this.model={address:C.attributes.r},this.t=C.attributes.t,C.attributes.s&&(this.model.styleId=parseInt(C.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=C.attributes.si,this.model.shareType=C.attributes.t,this.model.ref=C.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){if(this.parser)this.parser.parseText(C);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+C:C;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+C:C:this.model.value=this.model.value?this.model.value+C:C}}parseClose(C){switch(C){case"c":{const{model:C}=this;if(C.formula||C.shareType)C.type=Q.ValueType.Formula,C.value&&("str"===this.t?C.result=B.xmlDecode(C.value):"b"===this.t?C.result=0!==parseInt(C.value,10):"e"===this.t?C.result={error:C.value}:C.result=parseFloat(C.value),C.value=void 0);else if(void 0!==C.value)switch(this.t){case"s":C.type=Q.ValueType.String,C.value=parseInt(C.value,10);break;case"str":C.type=Q.ValueType.String,C.value=B.xmlDecode(C.value);break;case"inlineStr":C.type=Q.ValueType.String;break;case"b":C.type=Q.ValueType.Boolean,C.value=0!==parseInt(C.value,10);break;case"e":C.type=Q.ValueType.Error,C.value={error:C.value};break;default:C.type=Q.ValueType.Number,C.value=parseFloat(C.value)}else C.styleId?C.type=Q.ValueType.Null:C.type=Q.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(C),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(C),!0)}}reconcile(C,E){const I=C.styleId&&E.styles&&E.styles.getStyleModel(C.styleId);switch(I&&(C.style=I),void 0!==C.styleId&&(C.styleId=void 0),C.type){case Q.ValueType.String:"number"==typeof C.value&&E.sharedStrings&&(C.value=E.sharedStrings.getString(C.value)),C.value.richText&&(C.type=Q.ValueType.RichText);break;case Q.ValueType.Number:I&&B.isDateFmt(I.numFmt)&&(C.type=Q.ValueType.Date,C.value=B.excelToDate(C.value,E.date1904));break;case Q.ValueType.Formula:void 0!==C.result&&I&&B.isDateFmt(I.numFmt)&&(C.result=B.excelToDate(C.result,E.date1904)),"shared"===C.shareType&&(C.ref?E.formulae[C.si]=C.address:(C.sharedFormula=E.formulae[C.si],delete C.shareType),delete C.si)}const z=E.hyperlinkMap[C.address];z&&(C.type===Q.ValueType.Formula?(C.text=C.result,C.result=void 0):(C.text=C.value,C.value=void 0),C.type=Q.ValueType.Hyperlink,C.hyperlink=z);const q=E.commentsMap&&E.commentsMap[C.address];q&&(C.comment=q)}}E.exports=CellXform},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(C,E,I){"use strict";const B=C("../../base-xform");class CfIconExtXform extends B{get tag(){return"x14:cfIcon"}render(C,E){C.leafNode(this.tag,{iconSet:E.iconSet,iconId:E.iconId})}parseOpen(C){let{attributes:E}=C;this.model={iconSet:E.iconSet,iconId:B.toIntValue(E.iconId)}}parseClose(C){return C!==this.tag}}E.exports=CfIconExtXform},{"../../base-xform":32}],75:[function(C,E,I){"use strict";const{v4:B}=C("uuid"),z=C("../../base-xform"),q=C("../../composite-xform"),Q=C("./databar-ext-xform"),ee=C("./icon-set-ext-xform"),te={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class CfRuleExtXform extends q{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new Q,"x14:iconSet":this.iconSetXform=new ee}}get tag(){return"x14:cfRule"}static isExt(C){return"dataBar"===C.type?Q.isExt(C):!("iconSet"!==C.type||!C.custom&&!te[C.iconSet])}prepare(C){CfRuleExtXform.isExt(C)&&(C.x14Id=`{${B()}}`.toUpperCase())}render(C,E){if(CfRuleExtXform.isExt(E))switch(E.type){case"dataBar":this.renderDataBar(C,E);break;case"iconSet":this.renderIconSet(C,E)}}renderDataBar(C,E){C.openNode(this.tag,{type:"dataBar",id:E.x14Id}),this.databarXform.render(C,E),C.closeNode()}renderIconSet(C,E){C.openNode(this.tag,{type:"iconSet",priority:E.priority,id:E.x14Id||`{${B()}}`}),this.iconSetXform.render(C,E),C.closeNode()}createNewModel(C){let{attributes:E}=C;return{type:E.type,x14Id:E.id,priority:z.toIntValue(E.priority)}}onParserClose(C,E){Object.assign(this.model,E.model)}}E.exports=CfRuleExtXform},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(C,E,I){"use strict";const B=C("../../composite-xform"),z=C("./f-ext-xform");class CfvoExtXform extends B{constructor(){super(),this.map={"xm:f":this.fExtXform=new z}}get tag(){return"x14:cfvo"}render(C,E){C.openNode(this.tag,{type:E.type}),void 0!==E.value&&this.fExtXform.render(C,E.value),C.closeNode()}createNewModel(C){return{type:C.attributes.type}}onParserClose(C,E){"xm:f"===C&&(this.model.value=E.model?parseFloat(E.model):0)}}E.exports=CfvoExtXform},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(C,E,I){"use strict";const B=C("../../composite-xform"),z=C("./sqref-ext-xform"),q=C("./cf-rule-ext-xform");class ConditionalFormattingExtXform extends B{constructor(){super(),this.map={"xm:sqref":this.sqRef=new z,"x14:cfRule":this.cfRule=new q}}get tag(){return"x14:conditionalFormatting"}prepare(C,E){C.rules.forEach((C=>{this.cfRule.prepare(C,E)}))}render(C,E){E.rules.some(q.isExt)&&(C.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),E.rules.filter(q.isExt).forEach((E=>this.cfRule.render(C,E))),this.sqRef.render(C,E.ref),C.closeNode())}createNewModel(){return{rules:[]}}onParserClose(C,E){switch(C){case"xm:sqref":this.model.ref=E.model;break;case"x14:cfRule":this.model.rules.push(E.model)}}}E.exports=ConditionalFormattingExtXform},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(C,E,I){"use strict";const B=C("../../composite-xform"),z=C("./cf-rule-ext-xform"),q=C("./conditional-formatting-ext-xform");class ConditionalFormattingsExtXform extends B{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new q}}get tag(){return"x14:conditionalFormattings"}hasContent(C){return void 0===C.hasExtContent&&(C.hasExtContent=C.some((C=>C.rules.some(z.isExt)))),C.hasExtContent}prepare(C,E){C.forEach((C=>{this.cfXform.prepare(C,E)}))}render(C,E){this.hasContent(E)&&(C.openNode(this.tag),E.forEach((E=>this.cfXform.render(C,E))),C.closeNode())}createNewModel(){return[]}onParserClose(C,E){this.model.push(E.model)}}E.exports=ConditionalFormattingsExtXform},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(C,E,I){"use strict";const B=C("../../base-xform"),z=C("../../composite-xform"),q=C("../../style/color-xform"),Q=C("./cfvo-ext-xform");class DatabarExtXform extends z{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new Q,"x14:borderColor":this.borderColorXform=new q("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new q("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new q("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new q("x14:axisColor")}}static isExt(C){return!C.gradient}get tag(){return"x14:dataBar"}render(C,E){C.openNode(this.tag,{minLength:B.toIntAttribute(E.minLength,0,!0),maxLength:B.toIntAttribute(E.maxLength,100,!0),border:B.toBoolAttribute(E.border,!1),gradient:B.toBoolAttribute(E.gradient,!0),negativeBarColorSameAsPositive:B.toBoolAttribute(E.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:B.toBoolAttribute(E.negativeBarBorderColorSameAsPositive,!0),axisPosition:B.toAttribute(E.axisPosition,"auto"),direction:B.toAttribute(E.direction,"leftToRight")}),E.cfvo.forEach((E=>{this.cfvoXform.render(C,E)})),this.borderColorXform.render(C,E.borderColor),this.negativeBorderColorXform.render(C,E.negativeBorderColor),this.negativeFillColorXform.render(C,E.negativeFillColor),this.axisColorXform.render(C,E.axisColor),C.closeNode()}createNewModel(C){let{attributes:E}=C;return{cfvo:[],minLength:B.toIntValue(E.minLength,0),maxLength:B.toIntValue(E.maxLength,100),border:B.toBoolValue(E.border,!1),gradient:B.toBoolValue(E.gradient,!0),negativeBarColorSameAsPositive:B.toBoolValue(E.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:B.toBoolValue(E.negativeBarBorderColorSameAsPositive,!0),axisPosition:B.toStringValue(E.axisPosition,"auto"),direction:B.toStringValue(E.direction,"leftToRight")}}onParserClose(C,E){const[,I]=C.split(":");"cfvo"===I?this.model.cfvo.push(E.model):this.model[I]=E.model}}E.exports=DatabarExtXform},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(C,E,I){"use strict";const B=C("../../base-xform");class FExtXform extends B{get tag(){return"xm:f"}render(C,E){C.leafNode(this.tag,null,E)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}E.exports=FExtXform},{"../../base-xform":32}],81:[function(C,E,I){"use strict";const B=C("../../base-xform"),z=C("../../composite-xform"),q=C("./cfvo-ext-xform"),Q=C("./cf-icon-ext-xform");class IconSetExtXform extends z{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new q,"x14:cfIcon":this.cfIconXform=new Q}}get tag(){return"x14:iconSet"}render(C,E){C.openNode(this.tag,{iconSet:B.toStringAttribute(E.iconSet),reverse:B.toBoolAttribute(E.reverse,!1),showValue:B.toBoolAttribute(E.showValue,!0),custom:B.toBoolAttribute(E.icons,!1)}),E.cfvo.forEach((E=>{this.cfvoXform.render(C,E)})),E.icons&&E.icons.forEach(((E,I)=>{E.iconId=I,this.cfIconXform.render(C,E)})),C.closeNode()}createNewModel(C){let{attributes:E}=C;return{cfvo:[],iconSet:B.toStringValue(E.iconSet,"3TrafficLights"),reverse:B.toBoolValue(E.reverse,!1),showValue:B.toBoolValue(E.showValue,!0)}}onParserClose(C,E){const[,I]=C.split(":");switch(I){case"cfvo":this.model.cfvo.push(E.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(E.model);break;default:this.model[I]=E.model}}}E.exports=IconSetExtXform},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(C,E,I){"use strict";const B=C("../../base-xform");class SqrefExtXform extends B{get tag(){return"xm:sqref"}render(C,E){C.leafNode(this.tag,null,E)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}E.exports=SqrefExtXform},{"../../base-xform":32}],83:[function(C,E,I){"use strict";const B=C("../../base-xform"),z=C("../../composite-xform"),q=C("../../../../doc/range"),Q=C("./databar-xform"),ee=C("./ext-lst-ref-xform"),te=C("./formula-xform"),ie=C("./color-scale-xform"),re=C("./icon-set-xform"),ne={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},getTextFormula=C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const E=new q(C.ref),{tl:I}=E;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${I})))`;case"containsBlanks":return`LEN(TRIM(${I}))=0`;case"notContainsBlanks":return`LEN(TRIM(${I}))>0`;case"containsErrors":return`ISERROR(${I})`;case"notContainsErrors":return`NOT(ISERROR(${I}))`;default:return}},getTimePeriodFormula=C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const E=new q(C.ref),{tl:I}=E;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${I},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${I},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${I},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${I},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${I},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${I},1)=TODAY()-1`;case"today":return`FLOOR(${I},1)=TODAY()`;case"tomorrow":return`FLOOR(${I},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${I},1)<=6,FLOOR(${I},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0-1)),YEAR(${I})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${I})=MONTH(TODAY()),YEAR(${I})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${I})=MONTH(EDATE(TODAY(),0+1)),YEAR(${I})=YEAR(EDATE(TODAY(),0+1)))`;default:return}},opType=C=>{const{type:E,operator:I}=C;switch(E){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:E};default:return{type:E,operator:I}}};class CfRuleXform extends z{constructor(){super(),this.map={dataBar:this.databarXform=new Q,extLst:this.extLstRefXform=new ee,formula:this.formulaXform=new te,colorScale:this.colorScaleXform=new ie,iconSet:this.iconSetXform=new re}}get tag(){return"cfRule"}static isPrimitive(C){return"iconSet"!==C.type||!C.custom&&!ne[C.iconSet]}render(C,E){switch(E.type){case"expression":this.renderExpression(C,E);break;case"cellIs":this.renderCellIs(C,E);break;case"top10":this.renderTop10(C,E);break;case"aboveAverage":this.renderAboveAverage(C,E);break;case"dataBar":this.renderDataBar(C,E);break;case"colorScale":this.renderColorScale(C,E);break;case"iconSet":this.renderIconSet(C,E);break;case"containsText":this.renderText(C,E);break;case"timePeriod":this.renderTimePeriod(C,E)}}renderExpression(C,E){C.openNode(this.tag,{type:"expression",dxfId:E.dxfId,priority:E.priority}),this.formulaXform.render(C,E.formulae[0]),C.closeNode()}renderCellIs(C,E){C.openNode(this.tag,{type:"cellIs",dxfId:E.dxfId,priority:E.priority,operator:E.operator}),E.formulae.forEach((E=>{this.formulaXform.render(C,E)})),C.closeNode()}renderTop10(C,E){C.leafNode(this.tag,{type:"top10",dxfId:E.dxfId,priority:E.priority,percent:B.toBoolAttribute(E.percent,!1),bottom:B.toBoolAttribute(E.bottom,!1),rank:B.toIntValue(E.rank,10,!0)})}renderAboveAverage(C,E){C.leafNode(this.tag,{type:"aboveAverage",dxfId:E.dxfId,priority:E.priority,aboveAverage:B.toBoolAttribute(E.aboveAverage,!0)})}renderDataBar(C,E){C.openNode(this.tag,{type:"dataBar",priority:E.priority}),this.databarXform.render(C,E),this.extLstRefXform.render(C,E),C.closeNode()}renderColorScale(C,E){C.openNode(this.tag,{type:"colorScale",priority:E.priority}),this.colorScaleXform.render(C,E),C.closeNode()}renderIconSet(C,E){CfRuleXform.isPrimitive(E)&&(C.openNode(this.tag,{type:"iconSet",priority:E.priority}),this.iconSetXform.render(C,E),C.closeNode())}renderText(C,E){C.openNode(this.tag,{type:E.operator,dxfId:E.dxfId,priority:E.priority,operator:B.toStringAttribute(E.operator,"containsText")});const I=getTextFormula(E);I&&this.formulaXform.render(C,I),C.closeNode()}renderTimePeriod(C,E){C.openNode(this.tag,{type:"timePeriod",dxfId:E.dxfId,priority:E.priority,timePeriod:E.timePeriod});const I=getTimePeriodFormula(E);I&&this.formulaXform.render(C,I),C.closeNode()}createNewModel(C){let{attributes:E}=C;return{...opType(E),dxfId:B.toIntValue(E.dxfId),priority:B.toIntValue(E.priority),timePeriod:E.timePeriod,percent:B.toBoolValue(E.percent),bottom:B.toBoolValue(E.bottom),rank:B.toIntValue(E.rank),aboveAverage:B.toBoolValue(E.aboveAverage)}}onParserClose(C,E){switch(C){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,E.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(E.model)}}}E.exports=CfRuleXform},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(C,E,I){"use strict";const B=C("../../base-xform");class CfvoXform extends B{get tag(){return"cfvo"}render(C,E){C.leafNode(this.tag,{type:E.type,val:E.value})}parseOpen(C){this.model={type:C.attributes.type,value:B.toFloatValue(C.attributes.val)}}parseClose(C){return C!==this.tag}}E.exports=CfvoXform},{"../../base-xform":32}],85:[function(C,E,I){"use strict";const B=C("../../composite-xform"),z=C("../../style/color-xform"),q=C("./cfvo-xform");class ColorScaleXform extends B{constructor(){super(),this.map={cfvo:this.cfvoXform=new q,color:this.colorXform=new z}}get tag(){return"colorScale"}render(C,E){C.openNode(this.tag),E.cfvo.forEach((E=>{this.cfvoXform.render(C,E)})),E.color.forEach((E=>{this.colorXform.render(C,E)})),C.closeNode()}createNewModel(C){return{cfvo:[],color:[]}}onParserClose(C,E){this.model[C].push(E.model)}}E.exports=ColorScaleXform},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(C,E,I){"use strict";const B=C("../../composite-xform"),z=C("./cf-rule-xform");class ConditionalFormattingXform extends B{constructor(){super(),this.map={cfRule:new z}}get tag(){return"conditionalFormatting"}render(C,E){E.rules.some(z.isPrimitive)&&(C.openNode(this.tag,{sqref:E.ref}),E.rules.forEach((I=>{z.isPrimitive(I)&&(I.ref=E.ref,this.map.cfRule.render(C,I))})),C.closeNode())}createNewModel(C){let{attributes:E}=C;return{ref:E.sqref,rules:[]}}onParserClose(C,E){this.model.rules.push(E.model)}}E.exports=ConditionalFormattingXform},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(C,E,I){"use strict";const B=C("../../base-xform"),z=C("./conditional-formatting-xform");class ConditionalFormattingsXform extends B{constructor(){super(),this.cfXform=new z}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(C,E){let I=C.reduce(((C,E)=>Math.max(C,...E.rules.map((C=>C.priority||0)))),1);C.forEach((C=>{C.rules.forEach((C=>{C.priority||(C.priority=I++),C.style&&(C.dxfId=E.styles.addDxfStyle(C.style))}))}))}render(C,E){E.forEach((E=>{this.cfXform.render(C,E)}))}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"conditionalFormatting"===C.name&&(this.parser=this.cfXform,this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!(!this.parser||!this.parser.parseClose(C)&&(this.model.push(this.parser.model),this.parser=void 0,1))}reconcile(C,E){C.forEach((C=>{C.rules.forEach((C=>{void 0!==C.dxfId&&(C.style=E.styles.getDxfStyle(C.dxfId),delete C.dxfId)}))}))}}E.exports=ConditionalFormattingsXform},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(C,E,I){"use strict";const B=C("../../composite-xform"),z=C("../../style/color-xform"),q=C("./cfvo-xform");class DatabarXform extends B{constructor(){super(),this.map={cfvo:this.cfvoXform=new q,color:this.colorXform=new z}}get tag(){return"dataBar"}render(C,E){C.openNode(this.tag),E.cfvo.forEach((E=>{this.cfvoXform.render(C,E)})),this.colorXform.render(C,E.color),C.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(C,E){switch(C){case"cfvo":this.model.cfvo.push(E.model);break;case"color":this.model.color=E.model}}}E.exports=DatabarXform},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(C,E,I){"use strict";const B=C("../../base-xform"),z=C("../../composite-xform");class X14IdXform extends B{get tag(){return"x14:id"}render(C,E){C.leafNode(this.tag,null,E)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}class ExtXform extends z{constructor(){super(),this.map={"x14:id":this.idXform=new X14IdXform}}get tag(){return"ext"}render(C,E){C.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(C,E.x14Id),C.closeNode()}createNewModel(){return{}}onParserClose(C,E){this.model.x14Id=E.model}}class ExtLstRefXform extends z{constructor(){super(),this.map={ext:new ExtXform}}get tag(){return"extLst"}render(C,E){C.openNode(this.tag),this.map.ext.render(C,E),C.closeNode()}createNewModel(){return{}}onParserClose(C,E){Object.assign(this.model,E.model)}}E.exports=ExtLstRefXform},{"../../base-xform":32,"../../composite-xform":48}],90:[function(C,E,I){"use strict";const B=C("../../base-xform");class FormulaXform extends B{get tag(){return"formula"}render(C,E){C.leafNode(this.tag,null,E)}parseOpen(){this.model=""}parseText(C){this.model+=C}parseClose(C){return C!==this.tag}}E.exports=FormulaXform},{"../../base-xform":32}],91:[function(C,E,I){"use strict";const B=C("../../base-xform"),z=C("../../composite-xform"),q=C("./cfvo-xform");class IconSetXform extends z{constructor(){super(),this.map={cfvo:this.cfvoXform=new q}}get tag(){return"iconSet"}render(C,E){C.openNode(this.tag,{iconSet:B.toStringAttribute(E.iconSet,"3TrafficLights"),reverse:B.toBoolAttribute(E.reverse,!1),showValue:B.toBoolAttribute(E.showValue,!0)}),E.cfvo.forEach((E=>{this.cfvoXform.render(C,E)})),C.closeNode()}createNewModel(C){let{attributes:E}=C;return{iconSet:B.toStringValue(E.iconSet,"3TrafficLights"),reverse:B.toBoolValue(E.reverse),showValue:B.toBoolValue(E.showValue),cfvo:[]}}onParserClose(C,E){this.model[C].push(E.model)}}E.exports=IconSetXform},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(C,E,I){"use strict";const B=C("../../../utils/utils"),z=C("../base-xform");class ColXform extends z{get tag(){return"col"}prepare(C,E){const I=E.styles.addStyleModel(C.style||{});I&&(C.styleId=I)}render(C,E){C.openNode("col"),C.addAttribute("min",E.min),C.addAttribute("max",E.max),E.width&&C.addAttribute("width",E.width),E.styleId&&C.addAttribute("style",E.styleId),E.hidden&&C.addAttribute("hidden","1"),E.bestFit&&C.addAttribute("bestFit","1"),E.outlineLevel&&C.addAttribute("outlineLevel",E.outlineLevel),E.collapsed&&C.addAttribute("collapsed","1"),C.addAttribute("customWidth","1"),C.closeNode()}parseOpen(C){if("col"===C.name){const E=this.model={min:parseInt(C.attributes.min||"0",10),max:parseInt(C.attributes.max||"0",10),width:void 0===C.attributes.width?void 0:parseFloat(C.attributes.width||"0")};return C.attributes.style&&(E.styleId=parseInt(C.attributes.style,10)),B.parseBoolean(C.attributes.hidden)&&(E.hidden=!0),B.parseBoolean(C.attributes.bestFit)&&(E.bestFit=!0),C.attributes.outlineLevel&&(E.outlineLevel=parseInt(C.attributes.outlineLevel,10)),B.parseBoolean(C.attributes.collapsed)&&(E.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(C,E){C.styleId&&(C.style=E.styles.getStyleModel(C.styleId))}}E.exports=ColXform},{"../../../utils/utils":27,"../base-xform":32}],93:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../../../utils/utils"),q=C("../../../utils/col-cache"),Q=C("../base-xform"),ee=C("../../../doc/range");function assign(C,E,I,B){const z=E[I];void 0!==z?C[I]=z:void 0!==B&&(C[I]=B)}function assignBool(C,E,I,B){const q=E[I];void 0!==q?C[I]=z.parseBoolean(q):void 0!==B&&(C[I]=B)}function optimiseDataValidations(C){const E=B.map(C,((C,E)=>({address:E,dataValidation:C,marked:!1}))).sort(((C,E)=>B.strcmp(C.address,E.address))),I=B.keyBy(E,"address"),matchCol=(E,I,z)=>{for(let Q=0;Q<I;Q++){const I=q.encodeAddress(E.row+Q,z);if(!C[I]||!B.isEqual(C[E.address],C[I]))return!1}return!0};return E.map((E=>{if(!E.marked){const z=q.decodeEx(E.address);if(z.dimensions)return I[z.dimensions].marked=!0,{...E.dataValidation,sqref:E.address};let Q=1,ee=q.encodeAddress(z.row+Q,z.col);for(;C[ee]&&B.isEqual(E.dataValidation,C[ee]);)Q++,ee=q.encodeAddress(z.row+Q,z.col);let te=1;for(;matchCol(z,Q,z.col+te);)te++;for(let C=0;C<Q;C++)for(let E=0;E<te;E++)ee=q.encodeAddress(z.row+C,z.col+E),I[ee].marked=!0;if(Q>1||te>1){const C=z.row+(Q-1),I=z.col+(te-1);return{...E.dataValidation,sqref:`${E.address}:${q.encodeAddress(C,I)}`}}return{...E.dataValidation,sqref:E.address}}return null})).filter(Boolean)}class DataValidationsXform extends Q{get tag(){return"dataValidations"}render(C,E){const I=optimiseDataValidations(E);I.length&&(C.openNode("dataValidations",{count:I.length}),I.forEach((E=>{C.openNode("dataValidation"),"any"!==E.type&&(C.addAttribute("type",E.type),E.operator&&"list"!==E.type&&"between"!==E.operator&&C.addAttribute("operator",E.operator),E.allowBlank&&C.addAttribute("allowBlank","1")),E.showInputMessage&&C.addAttribute("showInputMessage","1"),E.promptTitle&&C.addAttribute("promptTitle",E.promptTitle),E.prompt&&C.addAttribute("prompt",E.prompt),E.showErrorMessage&&C.addAttribute("showErrorMessage","1"),E.errorStyle&&C.addAttribute("errorStyle",E.errorStyle),E.errorTitle&&C.addAttribute("errorTitle",E.errorTitle),E.error&&C.addAttribute("error",E.error),C.addAttribute("sqref",E.sqref),(E.formulae||[]).forEach(((I,B)=>{C.openNode(`formula${B+1}`),"date"===E.type?C.writeText(z.dateToExcel(new Date(I))):C.writeText(I),C.closeNode()})),C.closeNode()})),C.closeNode())}parseOpen(C){switch(C.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=C.attributes.sqref;const E={type:C.attributes.type||"any",formulae:[]};switch(C.attributes.type&&assignBool(E,C.attributes,"allowBlank"),assignBool(E,C.attributes,"showInputMessage"),assignBool(E,C.attributes,"showErrorMessage"),E.type){case"any":case"list":case"custom":break;default:assign(E,C.attributes,"operator","between")}return assign(E,C.attributes,"promptTitle"),assign(E,C.attributes,"prompt"),assign(E,C.attributes,"errorStyle"),assign(E,C.attributes,"errorTitle"),assign(E,C.attributes,"error"),this._dataValidation=E,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(C){this._formula&&this._formula.push(C)}parseClose(C){switch(C){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach((C=>{C.includes(":")?new ee(C).forEachAddress((C=>{this.model[C]=this._dataValidation})):this.model[C]=this._dataValidation})),!0;case"formula1":case"formula2":{let C=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":C=parseInt(C,10);break;case"decimal":C=parseFloat(C);break;case"date":C=z.excelToDate(parseFloat(C))}return this._dataValidation.formulae.push(C),this._formula=void 0,!0}default:return!0}}}E.exports=DataValidationsXform},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(C,E,I){"use strict";const B=C("../base-xform");class DimensionXform extends B{get tag(){return"dimension"}render(C,E){E&&C.leafNode("dimension",{ref:E})}parseOpen(C){return"dimension"===C.name&&(this.model=C.attributes.ref,!0)}parseText(){}parseClose(){return!1}}E.exports=DimensionXform},{"../base-xform":32}],95:[function(C,E,I){"use strict";const B=C("../base-xform");class DrawingXform extends B{get tag(){return"drawing"}render(C,E){E&&C.leafNode(this.tag,{"r:id":E.rId})}parseOpen(C){return C.name===this.tag&&(this.model={rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}E.exports=DrawingXform},{"../base-xform":32}],96:[function(C,E,I){"use strict";const B=C("../composite-xform"),z=C("./cf-ext/conditional-formattings-ext-xform");class ExtXform extends B{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new z}}get tag(){return"ext"}hasContent(C){return this.conditionalFormattings.hasContent(C.conditionalFormattings)}prepare(C,E){this.conditionalFormattings.prepare(C.conditionalFormattings,E)}render(C,E){C.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(C,E.conditionalFormattings),C.closeNode()}createNewModel(){return{}}onParserClose(C,E){this.model[C]=E.model}}class ExtLstXform extends B{constructor(){super(),this.map={ext:this.ext=new ExtXform}}get tag(){return"extLst"}prepare(C,E){this.ext.prepare(C,E)}hasContent(C){return this.ext.hasContent(C)}render(C,E){this.hasContent(E)&&(C.openNode("extLst"),this.ext.render(C,E),C.closeNode())}createNewModel(){return{}}onParserClose(C,E){Object.assign(this.model,E.model)}}E.exports=ExtLstXform},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(C,E,I){"use strict";const B=C("../base-xform");class HeaderFooterXform extends B{get tag(){return"headerFooter"}render(C,E){if(E){C.addRollback();let I=!1;C.openNode("headerFooter"),E.differentFirst&&(C.addAttribute("differentFirst","1"),I=!0),E.differentOddEven&&(C.addAttribute("differentOddEven","1"),I=!0),E.oddHeader&&"string"==typeof E.oddHeader&&(C.leafNode("oddHeader",null,E.oddHeader),I=!0),E.oddFooter&&"string"==typeof E.oddFooter&&(C.leafNode("oddFooter",null,E.oddFooter),I=!0),E.evenHeader&&"string"==typeof E.evenHeader&&(C.leafNode("evenHeader",null,E.evenHeader),I=!0),E.evenFooter&&"string"==typeof E.evenFooter&&(C.leafNode("evenFooter",null,E.evenFooter),I=!0),E.firstHeader&&"string"==typeof E.firstHeader&&(C.leafNode("firstHeader",null,E.firstHeader),I=!0),E.firstFooter&&"string"==typeof E.firstFooter&&(C.leafNode("firstFooter",null,E.firstFooter),I=!0),I?(C.closeNode(),C.commit()):C.rollback()}}parseOpen(C){switch(C.name){case"headerFooter":return this.model={},C.attributes.differentFirst&&(this.model.differentFirst=1===parseInt(C.attributes.differentFirst,0)),C.attributes.differentOddEven&&(this.model.differentOddEven=1===parseInt(C.attributes.differentOddEven,0)),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(C){switch(this.currentNode){case"oddHeader":this.model.oddHeader=C;break;case"oddFooter":this.model.oddFooter=C;break;case"evenHeader":this.model.evenHeader=C;break;case"evenFooter":this.model.evenFooter=C;break;case"firstHeader":this.model.firstHeader=C;break;case"firstFooter":this.model.firstFooter=C}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}E.exports=HeaderFooterXform},{"../base-xform":32}],98:[function(C,E,I){"use strict";const B=C("../base-xform");class HyperlinkXform extends B{get tag(){return"hyperlink"}render(C,E){this.isInternalLink(E)?C.leafNode("hyperlink",{ref:E.address,"r:id":E.rId,tooltip:E.tooltip,location:E.target}):C.leafNode("hyperlink",{ref:E.address,"r:id":E.rId,tooltip:E.tooltip})}parseOpen(C){return"hyperlink"===C.name&&(this.model={address:C.attributes.ref,rId:C.attributes["r:id"],tooltip:C.attributes.tooltip},C.attributes.location&&(this.model.target=C.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(C){return C.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(C.target)}}E.exports=HyperlinkXform},{"../base-xform":32}],99:[function(C,E,I){"use strict";const B=C("../base-xform");class MergeCellXform extends B{get tag(){return"mergeCell"}render(C,E){C.leafNode("mergeCell",{ref:E})}parseOpen(C){return"mergeCell"===C.name&&(this.model=C.attributes.ref,!0)}parseText(){}parseClose(){return!1}}E.exports=MergeCellXform},{"../base-xform":32}],100:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../../../doc/range"),q=C("../../../utils/col-cache"),Q=C("../../../doc/enums");class Merges{constructor(){this.merges={}}add(C){if(this.merges[C.master])this.merges[C.master].expandToAddress(C.address);else{const E=`${C.master}:${C.address}`;this.merges[C.master]=new z(E)}}get mergeCells(){return B.map(this.merges,(C=>C.range))}reconcile(C,E){B.each(C,(C=>{const I=q.decode(C);for(let C=I.top;C<=I.bottom;C++){const B=E[C-1];for(let E=I.left;E<=I.right;E++){const z=B.cells[E-1];z?z.type===Q.ValueType.Merge&&(z.master=I.tl):B.cells[E]={type:Q.ValueType.Null,address:q.encodeAddress(C,E)}}}}))}getMasterAddress(C){const E=this.hash[C];return E&&E.tl}}E.exports=Merges},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(C,E,I){"use strict";const B=C("../base-xform"),isDefined=C=>void 0!==C;class OutlinePropertiesXform extends B{get tag(){return"outlinePr"}render(C,E){return!(!E||!isDefined(E.summaryBelow)&&!isDefined(E.summaryRight)||(C.leafNode(this.tag,{summaryBelow:isDefined(E.summaryBelow)?Number(E.summaryBelow):void 0,summaryRight:isDefined(E.summaryRight)?Number(E.summaryRight):void 0}),0))}parseOpen(C){return C.name===this.tag&&(this.model={summaryBelow:isDefined(C.attributes.summaryBelow)?Boolean(Number(C.attributes.summaryBelow)):void 0,summaryRight:isDefined(C.attributes.summaryRight)?Boolean(Number(C.attributes.summaryRight)):void 0},!0)}parseText(){}parseClose(){return!1}}E.exports=OutlinePropertiesXform},{"../base-xform":32}],102:[function(C,E,I){"use strict";const B=C("../base-xform");class PageBreaksXform extends B{get tag(){return"brk"}render(C,E){C.leafNode("brk",E)}parseOpen(C){return"brk"===C.name&&(this.model=C.attributes.ref,!0)}parseText(){}parseClose(){return!1}}E.exports=PageBreaksXform},{"../base-xform":32}],103:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../base-xform");class PageMarginsXform extends z{get tag(){return"pageMargins"}render(C,E){if(E){const I={left:E.left,right:E.right,top:E.top,bottom:E.bottom,header:E.header,footer:E.footer};B.some(I,(C=>void 0!==C))&&C.leafNode(this.tag,I)}}parseOpen(C){return C.name===this.tag&&(this.model={left:parseFloat(C.attributes.left||.7),right:parseFloat(C.attributes.right||.7),top:parseFloat(C.attributes.top||.75),bottom:parseFloat(C.attributes.bottom||.75),header:parseFloat(C.attributes.header||.3),footer:parseFloat(C.attributes.footer||.3)},!0)}parseText(){}parseClose(){return!1}}E.exports=PageMarginsXform},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(C,E,I){"use strict";const B=C("../base-xform");class PageSetupPropertiesXform extends B{get tag(){return"pageSetUpPr"}render(C,E){return!(!E||!E.fitToPage||(C.leafNode(this.tag,{fitToPage:E.fitToPage?"1":void 0}),0))}parseOpen(C){return C.name===this.tag&&(this.model={fitToPage:"1"===C.attributes.fitToPage},!0)}parseText(){}parseClose(){return!1}}E.exports=PageSetupPropertiesXform},{"../base-xform":32}],105:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../base-xform");function booleanToXml(C){return C?"1":void 0}function pageOrderToXml(C){if("overThenDown"===C)return C}function cellCommentsToXml(C){switch(C){case"atEnd":case"asDisplyed":return C;default:return}}function errorsToXml(C){switch(C){case"dash":case"blank":case"NA":return C;default:return}}function pageSizeToModel(C){return void 0!==C?parseInt(C,10):void 0}class PageSetupXform extends z{get tag(){return"pageSetup"}render(C,E){if(E){const I={paperSize:E.paperSize,orientation:E.orientation,horizontalDpi:E.horizontalDpi,verticalDpi:E.verticalDpi,pageOrder:pageOrderToXml(E.pageOrder),blackAndWhite:booleanToXml(E.blackAndWhite),draft:booleanToXml(E.draft),cellComments:cellCommentsToXml(E.cellComments),errors:errorsToXml(E.errors),scale:E.scale,fitToWidth:E.fitToWidth,fitToHeight:E.fitToHeight,firstPageNumber:E.firstPageNumber,useFirstPageNumber:booleanToXml(E.firstPageNumber),usePrinterDefaults:booleanToXml(E.usePrinterDefaults),copies:E.copies};B.some(I,(C=>void 0!==C))&&C.leafNode(this.tag,I)}}parseOpen(C){return C.name===this.tag&&(this.model={paperSize:pageSizeToModel(C.attributes.paperSize),orientation:C.attributes.orientation||"portrait",horizontalDpi:parseInt(C.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(C.attributes.verticalDpi||"4294967295",10),pageOrder:C.attributes.pageOrder||"downThenOver",blackAndWhite:"1"===C.attributes.blackAndWhite,draft:"1"===C.attributes.draft,cellComments:C.attributes.cellComments||"None",errors:C.attributes.errors||"displayed",scale:parseInt(C.attributes.scale||"100",10),fitToWidth:parseInt(C.attributes.fitToWidth||"1",10),fitToHeight:parseInt(C.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(C.attributes.firstPageNumber||"1",10),useFirstPageNumber:"1"===C.attributes.useFirstPageNumber,usePrinterDefaults:"1"===C.attributes.usePrinterDefaults,copies:parseInt(C.attributes.copies||"1",10)},!0)}parseText(){}parseClose(){return!1}}E.exports=PageSetupXform},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(C,E,I){"use strict";const B=C("../base-xform");class PictureXform extends B{get tag(){return"picture"}render(C,E){E&&C.leafNode(this.tag,{"r:id":E.rId})}parseOpen(C){return C.name===this.tag&&(this.model={rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}E.exports=PictureXform},{"../base-xform":32}],107:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../base-xform");function booleanToXml(C){return C?"1":void 0}class PrintOptionsXform extends z{get tag(){return"printOptions"}render(C,E){if(E){const I={headings:booleanToXml(E.showRowColHeaders),gridLines:booleanToXml(E.showGridLines),horizontalCentered:booleanToXml(E.horizontalCentered),verticalCentered:booleanToXml(E.verticalCentered)};B.some(I,(C=>void 0!==C))&&C.leafNode(this.tag,I)}}parseOpen(C){return C.name===this.tag&&(this.model={showRowColHeaders:"1"===C.attributes.headings,showGridLines:"1"===C.attributes.gridLines,horizontalCentered:"1"===C.attributes.horizontalCentered,verticalCentered:"1"===C.attributes.verticalCentered},!0)}parseText(){}parseClose(){return!1}}E.exports=PrintOptionsXform},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(C,E,I){"use strict";const B=C("./page-breaks-xform"),z=C("../list-xform");class RowBreaksXform extends z{constructor(){super({tag:"rowBreaks",count:!0,childXform:new B})}render(C,E){if(E&&E.length){C.openNode(this.tag,this.$),this.count&&(C.addAttribute(this.$count,E.length),C.addAttribute("manualBreakCount",E.length));const{childXform:I}=this;E.forEach((E=>{I.render(C,E)})),C.closeNode()}else this.empty&&C.leafNode(this.tag)}}E.exports=RowBreaksXform},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("../../../utils/utils"),q=C("./cell-xform");class RowXform extends B{constructor(C){super(),this.maxItems=C&&C.maxItems,this.map={c:new q}}get tag(){return"row"}prepare(C,E){const I=E.styles.addStyleModel(C.style);I&&(C.styleId=I);const B=this.map.c;C.cells.forEach((C=>{B.prepare(C,E)}))}render(C,E,I){C.openNode("row"),C.addAttribute("r",E.number),E.height&&(C.addAttribute("ht",E.height),C.addAttribute("customHeight","1")),E.hidden&&C.addAttribute("hidden","1"),E.min>0&&E.max>0&&E.min<=E.max&&C.addAttribute("spans",`${E.min}:${E.max}`),E.styleId&&(C.addAttribute("s",E.styleId),C.addAttribute("customFormat","1")),C.addAttribute("x14ac:dyDescent","0.25"),E.outlineLevel&&C.addAttribute("outlineLevel",E.outlineLevel),E.collapsed&&C.addAttribute("collapsed","1");const B=this.map.c;E.cells.forEach((E=>{B.render(C,E,I)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;if("row"===C.name){this.numRowsSeen+=1;const E=C.attributes.spans?C.attributes.spans.split(":").map((C=>parseInt(C,10))):[void 0,void 0],I=this.model={number:parseInt(C.attributes.r,10),min:E[0],max:E[1],cells:[]};return C.attributes.s&&(I.styleId=parseInt(C.attributes.s,10)),z.parseBoolean(C.attributes.hidden)&&(I.hidden=!0),z.parseBoolean(C.attributes.bestFit)&&(I.bestFit=!0),C.attributes.ht&&(I.height=parseFloat(C.attributes.ht)),C.attributes.outlineLevel&&(I.outlineLevel=parseInt(C.attributes.outlineLevel,10)),z.parseBoolean(C.attributes.collapsed)&&(I.collapsed=!0),!0}return this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(C,E){C.style=C.styleId?E.styles.getStyleModel(C.styleId):{},void 0!==C.styleId&&(C.styleId=void 0);const I=this.map.c;C.cells.forEach((C=>{I.reconcile(C,E)}))}}E.exports=RowXform},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../base-xform");class SheetFormatPropertiesXform extends z{get tag(){return"sheetFormatPr"}render(C,E){if(E){const I={defaultRowHeight:E.defaultRowHeight,outlineLevelRow:E.outlineLevelRow,outlineLevelCol:E.outlineLevelCol,"x14ac:dyDescent":E.dyDescent};E.defaultColWidth&&(I.defaultColWidth=E.defaultColWidth),E.defaultRowHeight&&15===E.defaultRowHeight||(I.customHeight="1"),B.some(I,(C=>void 0!==C))&&C.leafNode("sheetFormatPr",I)}}parseOpen(C){return"sheetFormatPr"===C.name&&(this.model={defaultRowHeight:parseFloat(C.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(C.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(C.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(C.attributes.outlineLevelCol||"0",10)},C.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(C.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}E.exports=SheetFormatPropertiesXform},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("../style/color-xform"),q=C("./page-setup-properties-xform"),Q=C("./outline-properties-xform");class SheetPropertiesXform extends B{constructor(){super(),this.map={tabColor:new z("tabColor"),pageSetUpPr:new q,outlinePr:new Q}}get tag(){return"sheetPr"}render(C,E){if(E){C.addRollback(),C.openNode("sheetPr");let I=!1;I=this.map.tabColor.render(C,E.tabColor)||I,I=this.map.pageSetUpPr.render(C,E.pageSetup)||I,I=this.map.outlinePr.render(C,E.outlineProperties)||I,I?(C.closeNode(),C.commit()):C.rollback()}}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag?(this.reset(),!0):!!this.map[C.name]&&(this.parser=this.map[C.name],this.parser.parseOpen(C),!0)}parseText(C){return!!this.parser&&(this.parser.parseText(C),!0)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}E.exports=SheetPropertiesXform},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../base-xform");function booleanToXml(C,E){return C?E:void 0}function xmlToBoolean(C,E){return C===E||void 0}class SheetProtectionXform extends z{get tag(){return"sheetProtection"}render(C,E){if(E){const I={sheet:booleanToXml(E.sheet,"1"),selectLockedCells:!1===E.selectLockedCells?"1":void 0,selectUnlockedCells:!1===E.selectUnlockedCells?"1":void 0,formatCells:booleanToXml(E.formatCells,"0"),formatColumns:booleanToXml(E.formatColumns,"0"),formatRows:booleanToXml(E.formatRows,"0"),insertColumns:booleanToXml(E.insertColumns,"0"),insertRows:booleanToXml(E.insertRows,"0"),insertHyperlinks:booleanToXml(E.insertHyperlinks,"0"),deleteColumns:booleanToXml(E.deleteColumns,"0"),deleteRows:booleanToXml(E.deleteRows,"0"),sort:booleanToXml(E.sort,"0"),autoFilter:booleanToXml(E.autoFilter,"0"),pivotTables:booleanToXml(E.pivotTables,"0")};E.sheet&&(I.algorithmName=E.algorithmName,I.hashValue=E.hashValue,I.saltValue=E.saltValue,I.spinCount=E.spinCount,I.objects=booleanToXml(!1===E.objects,"1"),I.scenarios=booleanToXml(!1===E.scenarios,"1")),B.some(I,(C=>void 0!==C))&&C.leafNode(this.tag,I)}}parseOpen(C){return C.name===this.tag&&(this.model={sheet:xmlToBoolean(C.attributes.sheet,"1"),objects:"1"!==C.attributes.objects&&void 0,scenarios:"1"!==C.attributes.scenarios&&void 0,selectLockedCells:"1"!==C.attributes.selectLockedCells&&void 0,selectUnlockedCells:"1"!==C.attributes.selectUnlockedCells&&void 0,formatCells:xmlToBoolean(C.attributes.formatCells,"0"),formatColumns:xmlToBoolean(C.attributes.formatColumns,"0"),formatRows:xmlToBoolean(C.attributes.formatRows,"0"),insertColumns:xmlToBoolean(C.attributes.insertColumns,"0"),insertRows:xmlToBoolean(C.attributes.insertRows,"0"),insertHyperlinks:xmlToBoolean(C.attributes.insertHyperlinks,"0"),deleteColumns:xmlToBoolean(C.attributes.deleteColumns,"0"),deleteRows:xmlToBoolean(C.attributes.deleteRows,"0"),sort:xmlToBoolean(C.attributes.sort,"0"),autoFilter:xmlToBoolean(C.attributes.autoFilter,"0"),pivotTables:xmlToBoolean(C.attributes.pivotTables,"0")},C.attributes.algorithmName&&(this.model.algorithmName=C.attributes.algorithmName,this.model.hashValue=C.attributes.hashValue,this.model.saltValue=C.attributes.saltValue,this.model.spinCount=parseInt(C.attributes.spinCount,10)),!0)}parseText(){}parseClose(){return!1}}E.exports=SheetProtectionXform},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(C,E,I){"use strict";const B=C("../../../utils/col-cache"),z=C("../base-xform"),q={frozen:"frozen",frozenSplit:"frozen",split:"split"};class SheetViewXform extends z{get tag(){return"sheetView"}prepare(C){switch(C.state){case"frozen":case"split":break;default:C.state="normal"}}render(C,E){C.openNode("sheetView",{workbookViewId:E.workbookViewId||0});const add=function(E,I,B){B&&C.addAttribute(E,I)};let I,z,q,Q;switch(add("rightToLeft","1",!0===E.rightToLeft),add("tabSelected","1",E.tabSelected),add("showRuler","0",!1===E.showRuler),add("showRowColHeaders","0",!1===E.showRowColHeaders),add("showGridLines","0",!1===E.showGridLines),add("zoomScale",E.zoomScale,E.zoomScale),add("zoomScaleNormal",E.zoomScaleNormal,E.zoomScaleNormal),add("view",E.style,E.style),E.state){case"frozen":z=E.xSplit||0,q=E.ySplit||0,I=E.topLeftCell||B.getAddress(q+1,z+1).address,Q=(E.xSplit&&E.ySplit?"bottomRight":E.xSplit&&"topRight")||"bottomLeft",C.leafNode("pane",{xSplit:E.xSplit||void 0,ySplit:E.ySplit||void 0,topLeftCell:I,activePane:Q,state:"frozen"}),C.leafNode("selection",{pane:Q,activeCell:E.activeCell,sqref:E.activeCell});break;case"split":"topLeft"===E.activePane&&(E.activePane=void 0),C.leafNode("pane",{xSplit:E.xSplit||void 0,ySplit:E.ySplit||void 0,topLeftCell:E.topLeftCell,activePane:E.activePane}),C.leafNode("selection",{pane:E.activePane,activeCell:E.activeCell,sqref:E.activeCell});break;case"normal":E.activeCell&&C.leafNode("selection",{activeCell:E.activeCell,sqref:E.activeCell})}C.closeNode()}parseOpen(C){switch(C.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(C.attributes.workbookViewId,10),rightToLeft:"1"===C.attributes.rightToLeft,tabSelected:"1"===C.attributes.tabSelected,showRuler:!("0"===C.attributes.showRuler),showRowColHeaders:!("0"===C.attributes.showRowColHeaders),showGridLines:!("0"===C.attributes.showGridLines),zoomScale:parseInt(C.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(C.attributes.zoomScaleNormal||"100",10),style:C.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(C.attributes.xSplit||"0",10),ySplit:parseInt(C.attributes.ySplit||"0",10),topLeftCell:C.attributes.topLeftCell,activePane:C.attributes.activePane||"topLeft",state:C.attributes.state},!0;case"selection":{const E=C.attributes.pane||"topLeft";return this.selections[E]={pane:E,activeCell:C.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(C){let E,I;return"sheetView"!==C||(this.sheetView&&this.pane?(E=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:q[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},"split"===this.model.state&&(E.activePane=this.pane.activePane),I=this.selections[this.pane.activePane],I&&I.activeCell&&(E.activeCell=I.activeCell),this.sheetView.style&&(E.style=this.sheetView.style)):(E=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},I=this.selections.topLeft,I&&I.activeCell&&(E.activeCell=I.activeCell),this.sheetView.style&&(E.style=this.sheetView.style)),!1)}reconcile(){}}E.exports=SheetViewXform},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(C,E,I){"use strict";const B=C("../base-xform");class TablePartXform extends B{get tag(){return"tablePart"}render(C,E){E&&C.leafNode(this.tag,{"r:id":E.rId})}parseOpen(C){return C.name===this.tag&&(this.model={rId:C.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}E.exports=TablePartXform},{"../base-xform":32}],115:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../../../utils/col-cache"),q=C("../../../utils/xml-stream"),Q=C("../../rel-type"),ee=C("./merges"),te=C("../base-xform"),ie=C("../list-xform"),re=C("./row-xform"),ne=C("./col-xform"),se=C("./dimension-xform"),oe=C("./hyperlink-xform"),ae=C("./merge-cell-xform"),le=C("./data-validations-xform"),ue=C("./sheet-properties-xform"),de=C("./sheet-format-properties-xform"),ce=C("./sheet-view-xform"),he=C("./sheet-protection-xform"),fe=C("./page-margins-xform"),pe=C("./page-setup-xform"),me=C("./print-options-xform"),ge=C("./auto-filter-xform"),ve=C("./picture-xform"),ye=C("./drawing-xform"),be=C("./table-part-xform"),Ce=C("./row-breaks-xform"),we=C("./header-footer-xform"),_e=C("./cf/conditional-formattings-xform"),Se=C("./ext-lst-xform"),mergeRule=(C,E)=>{Object.keys(E).forEach((I=>{const B=C[I],z=E[I];void 0===B&&void 0!==z&&(C[I]=z)}))},mergeConditionalFormattings=(C,E)=>{if(!E||!E.length)return C;if(!C||!C.length)return E;const I={},B={};return C.forEach((C=>{I[C.ref]=C,C.rules.forEach((C=>{const{x14Id:E}=C;E&&(B[E]=C)}))})),E.forEach((E=>{E.rules.forEach((z=>{const q=B[z.x14Id];q?mergeRule(q,z):I[E.ref]?I[E.ref].rules.push(z):C.push({ref:E.ref,rules:[z]})}))})),C};class WorkSheetXform extends te{constructor(C){super();const{maxRows:E,maxCols:I,ignoreNodes:B}=C||{};this.ignoreNodes=B||[],this.map={sheetPr:new ue,dimension:new se,sheetViews:new ie({tag:"sheetViews",count:!1,childXform:new ce}),sheetFormatPr:new de,cols:new ie({tag:"cols",count:!1,childXform:new ne}),sheetData:new ie({tag:"sheetData",count:!1,empty:!0,childXform:new re({maxItems:I}),maxItems:E}),autoFilter:new ge,mergeCells:new ie({tag:"mergeCells",count:!0,childXform:new ae}),rowBreaks:new Ce,hyperlinks:new ie({tag:"hyperlinks",count:!1,childXform:new oe}),pageMargins:new fe,dataValidations:new le,pageSetup:new pe,headerFooter:new we,printOptions:new me,picture:new ve,drawing:new ye,sheetProtection:new he,tableParts:new ie({tag:"tableParts",count:!0,childXform:new be}),conditionalFormatting:new _e,extLst:new Se}}prepare(C,E){E.merges=new ee,C.hyperlinks=E.hyperlinks=[],C.comments=E.comments=[],E.formulae={},E.siFormulae=0,this.map.cols.prepare(C.cols,E),this.map.sheetData.prepare(C.rows,E),this.map.conditionalFormatting.prepare(C.conditionalFormattings,E),C.mergeCells=E.merges.mergeCells;const I=C.rels=[];function nextRid(C){return`rId${C.length+1}`}if(C.hyperlinks.forEach((C=>{const E=nextRid(I);C.rId=E,I.push({Id:E,Type:Q.Hyperlink,Target:C.target,TargetMode:"External"})})),C.comments.length>0){const B={Id:nextRid(I),Type:Q.Comments,Target:`../comments${C.id}.xml`};I.push(B);const q={Id:nextRid(I),Type:Q.VmlDrawing,Target:`../drawings/vmlDrawing${C.id}.vml`};I.push(q),C.comments.forEach((C=>{C.refAddress=z.decodeAddress(C.ref)})),E.commentRefs.push({commentName:`comments${C.id}`,vmlDrawing:`vmlDrawing${C.id}`})}const B=[];let q;C.media.forEach((z=>{if("background"===z.type){const B=nextRid(I);q=E.media[z.imageId],I.push({Id:B,Type:Q.Image,Target:`../media/${q.name}.${q.extension}`}),C.background={rId:B},C.image=E.media[z.imageId]}else if("image"===z.type){let{drawing:ee}=C;q=E.media[z.imageId],ee||(ee=C.drawing={rId:nextRid(I),name:"drawing"+ ++E.drawingsCount,anchors:[],rels:[]},E.drawings.push(ee),I.push({Id:ee.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ee.name}.xml`}));let te=this.preImageId===z.imageId?B[z.imageId]:B[ee.rels.length];te||(te=nextRid(ee.rels),B[ee.rels.length]=te,ee.rels.push({Id:te,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${q.name}.${q.extension}`}));const ie={picture:{rId:te},range:z.range};if(z.hyperlinks&&z.hyperlinks.hyperlink){const C=nextRid(ee.rels);B[ee.rels.length]=C,ie.picture.hyperlinks={tooltip:z.hyperlinks.tooltip,rId:C},ee.rels.push({Id:C,Type:Q.Hyperlink,Target:z.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=z.imageId,ee.anchors.push(ie)}})),C.tables.forEach((C=>{const B=nextRid(I);C.rId=B,I.push({Id:B,Type:Q.Table,Target:`../tables/${C.target}`}),C.columns.forEach((C=>{const{style:I}=C;I&&(C.dxfId=E.styles.addDxfStyle(I))}))})),this.map.extLst.prepare(C,E)}render(C,E){C.openXml(q.StdDocAttributes),C.openNode("worksheet",WorkSheetXform.WORKSHEET_ATTRIBUTES);const I=E.properties?{defaultRowHeight:E.properties.defaultRowHeight,dyDescent:E.properties.dyDescent,outlineLevelCol:E.properties.outlineLevelCol,outlineLevelRow:E.properties.outlineLevelRow}:void 0;E.properties&&E.properties.defaultColWidth&&(I.defaultColWidth=E.properties.defaultColWidth);const B={outlineProperties:E.properties&&E.properties.outlineProperties,tabColor:E.properties&&E.properties.tabColor,pageSetup:E.pageSetup&&E.pageSetup.fitToPage?{fitToPage:E.pageSetup.fitToPage}:void 0},z=E.pageSetup&&E.pageSetup.margins,ee={showRowColHeaders:E.pageSetup&&E.pageSetup.showRowColHeaders,showGridLines:E.pageSetup&&E.pageSetup.showGridLines,horizontalCentered:E.pageSetup&&E.pageSetup.horizontalCentered,verticalCentered:E.pageSetup&&E.pageSetup.verticalCentered},te=E.sheetProtection;this.map.sheetPr.render(C,B),this.map.dimension.render(C,E.dimensions),this.map.sheetViews.render(C,E.views),this.map.sheetFormatPr.render(C,I),this.map.cols.render(C,E.cols),this.map.sheetData.render(C,E.rows),this.map.sheetProtection.render(C,te),this.map.autoFilter.render(C,E.autoFilter),this.map.mergeCells.render(C,E.mergeCells),this.map.conditionalFormatting.render(C,E.conditionalFormattings),this.map.dataValidations.render(C,E.dataValidations),this.map.hyperlinks.render(C,E.hyperlinks),this.map.printOptions.render(C,ee),this.map.pageMargins.render(C,z),this.map.pageSetup.render(C,E.pageSetup),this.map.headerFooter.render(C,E.headerFooter),this.map.rowBreaks.render(C,E.rowBreaks),this.map.drawing.render(C,E.drawing),this.map.picture.render(C,E.background),this.map.tableParts.render(C,E.tables),this.map.extLst.render(C,E),E.rels&&E.rels.forEach((E=>{E.Type===Q.VmlDrawing&&C.leafNode("legacyDrawing",{"r:id":E.Id})})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"worksheet"===C.name?(B.each(this.map,(C=>{C.reset()})),!0):(this.map[C.name]&&!this.ignoreNodes.includes(C.name)&&(this.parser=this.map[C.name],this.parser.parseOpen(C)),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;if("worksheet"===C){const C=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(C.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(C.outlineProperties=this.map.sheetPr.model.outlineProperties);const E={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},I=Object.assign(E,this.map.pageSetup.model,this.map.printOptions.model),B=mergeConditionalFormattings(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:C,views:this.map.sheetViews.model,pageSetup:I,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:B},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}return!0}reconcile(C,E){const I=(C.relationships||[]).reduce(((I,B)=>{if(I[B.Id]=B,B.Type===Q.Comments&&(C.comments=E.comments[B.Target].comments),B.Type===Q.VmlDrawing&&C.comments&&C.comments.length){const I=E.vmlDrawings[B.Target].comments;C.comments.forEach(((C,E)=>{C.note=Object.assign({},C.note,I[E])}))}return I}),{});if(E.commentsMap=(C.comments||[]).reduce(((C,E)=>(E.ref&&(C[E.ref]=E),C)),{}),E.hyperlinkMap=(C.hyperlinks||[]).reduce(((C,E)=>(E.rId&&(C[E.address]=I[E.rId].Target),C)),{}),E.formulae={},C.rows=C.rows&&C.rows.filter(Boolean)||[],C.rows.forEach((C=>{C.cells=C.cells&&C.cells.filter(Boolean)||[]})),this.map.cols.reconcile(C.cols,E),this.map.sheetData.reconcile(C.rows,E),this.map.conditionalFormatting.reconcile(C.conditionalFormattings,E),C.media=[],C.drawing){const B=I[C.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(B){const I=B[1];E.drawings[I].anchors.forEach((E=>{if(E.medium){const I={type:"image",imageId:E.medium.index,range:E.range,hyperlinks:E.picture.hyperlinks};C.media.push(I)}}))}}const B=C.background&&I[C.background.rId];if(B){const I=B.Target.split("/media/")[1],z=E.mediaIndex&&E.mediaIndex[I];void 0!==z&&C.media.push({type:"background",imageId:z})}C.tables=(C.tables||[]).map((C=>{const B=I[C.rId];return E.tables[B.Target]})),delete C.relationships,delete C.hyperlinks,delete C.comments}}WorkSheetXform.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},E.exports=WorkSheetXform},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(C,E,I){"use strict";const B=C("../base-xform");class BooleanXform extends B{constructor(C){super(),this.tag=C.tag,this.attr=C.attr}render(C,E){E&&(C.openNode(this.tag),C.closeNode())}parseOpen(C){C.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}E.exports=BooleanXform},{"../base-xform":32}],117:[function(C,E,I){"use strict";const B=C("../base-xform");class DateXform extends B{constructor(C){super(),this.tag=C.tag,this.attr=C.attr,this.attrs=C.attrs,this._format=C.format||function(C){try{return Number.isNaN(C.getTime())?"":C.toISOString()}catch(C){return""}},this._parse=C.parse||function(C){return new Date(C)}}render(C,E){E&&(C.openNode(this.tag),this.attrs&&C.addAttributes(this.attrs),this.attr?C.addAttribute(this.attr,this._format(E)):C.writeText(this._format(E)),C.closeNode())}parseOpen(C){C.name===this.tag&&(this.attr?this.model=this._parse(C.attributes[this.attr]):this.text=[])}parseText(C){this.attr||this.text.push(C)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}E.exports=DateXform},{"../base-xform":32}],118:[function(C,E,I){"use strict";const B=C("../base-xform");class IntegerXform extends B{constructor(C){super(),this.tag=C.tag,this.attr=C.attr,this.attrs=C.attrs,this.zero=C.zero}render(C,E){(E||this.zero)&&(C.openNode(this.tag),this.attrs&&C.addAttributes(this.attrs),this.attr?C.addAttribute(this.attr,E):C.writeText(E),C.closeNode())}parseOpen(C){return C.name===this.tag&&(this.attr?this.model=parseInt(C.attributes[this.attr],10):this.text=[],!0)}parseText(C){this.attr||this.text.push(C)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}E.exports=IntegerXform},{"../base-xform":32}],119:[function(C,E,I){"use strict";const B=C("../base-xform");class StringXform extends B{constructor(C){super(),this.tag=C.tag,this.attr=C.attr,this.attrs=C.attrs}render(C,E){void 0!==E&&(C.openNode(this.tag),this.attrs&&C.addAttributes(this.attrs),this.attr?C.addAttribute(this.attr,E):C.writeText(E),C.closeNode())}parseOpen(C){C.name===this.tag&&(this.attr?this.model=C.attributes[this.attr]:this.text=[])}parseText(C){this.attr||this.text.push(C)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}E.exports=StringXform},{"../base-xform":32}],120:[function(C,E,I){"use strict";const B=C("./base-xform"),z=C("../../utils/xml-stream");function build(C,E){C.openNode(E.tag,E.$),E.c&&E.c.forEach((E=>{build(C,E)})),E.t&&C.writeText(E.t),C.closeNode()}class StaticXform extends B{constructor(C){super(),this._model=C}render(C){if(!this._xml){const C=new z;build(C,this._model),this._xml=C.xml}C.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(C){return C!==this._model.tag}}E.exports=StaticXform},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(C,E,I){"use strict";const B=C("./text-xform"),z=C("./rich-text-xform"),q=C("../base-xform");class PhoneticTextXform extends q{constructor(){super(),this.map={r:new z,t:new B}}get tag(){return"rPh"}render(C,E){if(C.openNode(this.tag,{sb:E.sb||0,eb:E.eb||0}),E&&E.hasOwnProperty("richText")&&E.richText){const{r:I}=this.map;E.richText.forEach((E=>{I.render(C,E)}))}else E&&this.map.t.render(C,E.text);C.closeNode()}parseOpen(C){const{name:E}=C;return this.parser?(this.parser.parseOpen(C),!0):E===this.tag?(this.model={sb:parseInt(C.attributes.sb,10),eb:parseInt(C.attributes.eb,10)},!0):(this.parser=this.map[E],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)){switch(C){case"r":{let C=this.model.richText;C||(C=this.model.richText=[]),C.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return C!==this.tag}}E.exports=PhoneticTextXform},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(C,E,I){"use strict";const B=C("./text-xform"),z=C("../style/font-xform"),q=C("../base-xform");class RichTextXform extends q{constructor(C){super(),this.model=C}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new B)}get fontXform(){return this._fontXform||(this._fontXform=new z(RichTextXform.FONT_OPTIONS))}render(C,E){E=E||this.model,C.openNode("r"),E.font&&this.fontXform.render(C,E.font),this.textXform.render(C,E.text),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(C),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){switch(C){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(C),!0}}}RichTextXform.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},E.exports=RichTextXform},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(C,E,I){"use strict";const B=C("./text-xform"),z=C("./rich-text-xform"),q=C("./phonetic-text-xform"),Q=C("../base-xform");class SharedStringXform extends Q{constructor(C){super(),this.model=C,this.map={r:new z,t:new B,rPh:new q}}get tag(){return"si"}render(C,E){C.openNode(this.tag),E&&E.hasOwnProperty("richText")&&E.richText?E.richText.length?E.richText.forEach((E=>{this.map.r.render(C,E)})):this.map.t.render(C,""):null!=E&&this.map.t.render(C,E),C.closeNode()}parseOpen(C){const{name:E}=C;return this.parser?(this.parser.parseOpen(C),!0):E===this.tag?(this.model={},!0):(this.parser=this.map[E],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser){if(!this.parser.parseClose(C)){switch(C){case"r":{let C=this.model.richText;C||(C=this.model.richText=[]),C.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}return C!==this.tag}}E.exports=SharedStringXform},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../base-xform"),q=C("./shared-string-xform");class SharedStringsXform extends z{constructor(C){super(),this.model=C||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new q)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(C){return this.model.values[C]}add(C){return C.richText?this.addRichText(C):this.addText(C)}addText(C){let E=this.hash[C];return void 0===E&&(E=this.hash[C]=this.model.values.length,this.model.values.push(C)),this.model.count++,E}addRichText(C){const E=this.sharedStringXform.toXml(C);let I=this.rich[E];return void 0===I&&(I=this.rich[E]=this.model.values.length,this.model.values.push(C)),this.model.count++,I}render(C,E){E=E||this._values,C.openXml(B.StdDocAttributes),C.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:E.count,uniqueCount:E.values.length});const I=this.sharedStringXform;E.values.forEach((E=>{I.render(C,E)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(C),!0;default:throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if("sst"===C)return!1;throw new Error(`Unexpected xml node in parseClose: ${C}`)}}E.exports=SharedStringsXform},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(C,E,I){"use strict";const B=C("../base-xform");class TextXform extends B{get tag(){return"t"}render(C,E){C.openNode("t"),/^\s|\n|\s$/.test(E)&&C.addAttribute("xml:space","preserve"),C.writeText(E),C.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,((C,E)=>String.fromCharCode(parseInt(E,16))))}parseOpen(C){return"t"===C.name&&(this._text=[],!0)}parseText(C){this._text.push(C)}parseClose(){return!1}}E.exports=TextXform},{"../base-xform":32}],126:[function(C,E,I){"use strict";const B=C("../../../doc/enums"),z=C("../../../utils/utils"),q=C("../base-xform"),Q={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce(((C,E)=>(C[E]=!0,C)),{}),horizontal(C){return this.horizontalValues[C]?C:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce(((C,E)=>(C[E]=!0,C)),{}),vertical(C){return"middle"===C?"center":this.verticalValues[C]?C:void 0},wrapText:C=>!!C||void 0,shrinkToFit:C=>!!C||void 0,textRotation:C=>"vertical"===C||(C=z.validInt(C))>=-90&&C<=90?C:void 0,indent:C=>(C=z.validInt(C),Math.max(0,C)),readingOrder(C){switch(C){case"ltr":return B.ReadingOrder.LeftToRight;case"rtl":return B.ReadingOrder.RightToLeft;default:return}}},ee={toXml(C){if(C=Q.textRotation(C)){if("vertical"===C)return 255;const E=Math.round(C);if(E>=0&&E<=90)return E;if(E<0&&E>=-90)return 90-E}},toModel(C){const E=z.validInt(C);if(void 0!==E){if(255===E)return"vertical";if(E>=0&&E<=90)return E;if(E>90&&E<=180)return 90-E}}};class AlignmentXform extends q{get tag(){return"alignment"}render(C,E){C.addRollback(),C.openNode("alignment");let I=!1;function add(E,B){B&&(C.addAttribute(E,B),I=!0)}add("horizontal",Q.horizontal(E.horizontal)),add("vertical",Q.vertical(E.vertical)),add("wrapText",!!Q.wrapText(E.wrapText)&&"1"),add("shrinkToFit",!!Q.shrinkToFit(E.shrinkToFit)&&"1"),add("indent",Q.indent(E.indent)),add("textRotation",ee.toXml(E.textRotation)),add("readingOrder",Q.readingOrder(E.readingOrder)),C.closeNode(),I?C.commit():C.rollback()}parseOpen(C){const E={};let I=!1;function add(C,B,z){C&&(E[B]=z,I=!0)}add(C.attributes.horizontal,"horizontal",C.attributes.horizontal),add(C.attributes.vertical,"vertical","center"===C.attributes.vertical?"middle":C.attributes.vertical),add(C.attributes.wrapText,"wrapText",z.parseBoolean(C.attributes.wrapText)),add(C.attributes.shrinkToFit,"shrinkToFit",z.parseBoolean(C.attributes.shrinkToFit)),add(C.attributes.indent,"indent",parseInt(C.attributes.indent,10)),add(C.attributes.textRotation,"textRotation",ee.toModel(C.attributes.textRotation)),add(C.attributes.readingOrder,"readingOrder","2"===C.attributes.readingOrder?"rtl":"ltr"),this.model=I?E:null}parseText(){}parseClose(){return!1}}E.exports=AlignmentXform},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("../../../utils/utils"),q=C("./color-xform");class EdgeXform extends B{constructor(C){super(),this.name=C,this.map={color:new q}}get tag(){return this.name}render(C,E,I){const B=E&&E.color||I||this.defaultColor;C.openNode(this.name),E&&E.style&&(C.addAttribute("style",E.style),B&&this.map.color.render(C,B)),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case this.name:{const{style:E}=C.attributes;return this.model=E?{style:E}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):(C===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(C){return EdgeXform.validStyleValues[C]}}EdgeXform.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce(((C,E)=>(C[E]=!0,C)),{});class BorderXform extends B{constructor(){super(),this.map={top:new EdgeXform("top"),left:new EdgeXform("left"),bottom:new EdgeXform("bottom"),right:new EdgeXform("right"),diagonal:new EdgeXform("diagonal")}}render(C,E){const{color:I}=E;function add(B,z){B&&!B.color&&E.color&&(B={...B,color:E.color}),z.render(C,B,I)}C.openNode("border"),E.diagonal&&E.diagonal.style&&(E.diagonal.up&&C.addAttribute("diagonalUp","1"),E.diagonal.down&&C.addAttribute("diagonalDown","1")),add(E.left,this.map.left),add(E.right,this.map.right),add(E.top,this.map.top),add(E.bottom,this.map.bottom),add(E.diagonal,this.map.diagonal),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"border"===C.name?(this.reset(),this.diagonalUp=z.parseBoolean(C.attributes.diagonalUp),this.diagonalDown=z.parseBoolean(C.attributes.diagonalDown),!0):(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;if("border"===C){const C=this.model={},add=function(E,I,B){I&&(B&&Object.assign(I,B),C[E]=I)};add("left",this.map.left.model),add("right",this.map.right.model),add("top",this.map.top.model),add("bottom",this.map.bottom.model),add("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}E.exports=BorderXform},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(C,E,I){"use strict";const B=C("../base-xform");class ColorXform extends B{constructor(C){super(),this.name=C||"color"}get tag(){return this.name}render(C,E){return!!E&&(C.openNode(this.name),E.argb?C.addAttribute("rgb",E.argb):void 0!==E.theme?(C.addAttribute("theme",E.theme),void 0!==E.tint&&C.addAttribute("tint",E.tint)):void 0!==E.indexed?C.addAttribute("indexed",E.indexed):C.addAttribute("auto","1"),C.closeNode(),!0)}parseOpen(C){return C.name===this.name&&(C.attributes.rgb?this.model={argb:C.attributes.rgb}:C.attributes.theme?(this.model={theme:parseInt(C.attributes.theme,10)},C.attributes.tint&&(this.model.tint=parseFloat(C.attributes.tint))):C.attributes.indexed?this.model={indexed:parseInt(C.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}E.exports=ColorXform},{"../base-xform":32}],129:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./alignment-xform"),q=C("./border-xform"),Q=C("./fill-xform"),ee=C("./font-xform"),te=C("./numfmt-xform"),ie=C("./protection-xform");class DxfXform extends B{constructor(){super(),this.map={alignment:new z,border:new q,fill:new Q,font:new ee,numFmt:new te,protection:new ie}}get tag(){return"dxf"}render(C,E){if(C.openNode(this.tag),E.font&&this.map.font.render(C,E.font),E.numFmt&&E.numFmtId){const I={id:E.numFmtId,formatCode:E.numFmt};this.map.numFmt.render(C,I)}E.fill&&this.map.fill.render(C,E.fill),E.alignment&&this.map.alignment.render(C,E.alignment),E.border&&this.map.border.render(C,E.border),E.protection&&this.map.protection.render(C,E.protection),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):C.name===this.tag?(this.reset(),!0):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}E.exports=DxfXform},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./color-xform");class StopXform extends B{constructor(){super(),this.map={color:new z}}get tag(){return"stop"}render(C,E){C.openNode("stop"),C.addAttribute("position",E.position),this.map.color.render(C,E.color),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"stop":return this.model={position:parseFloat(C.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(C),!0;default:return!1}}parseText(){}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class PatternFillXform extends B{constructor(){super(),this.map={fgColor:new z("fgColor"),bgColor:new z("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(C,E){C.openNode("patternFill"),C.addAttribute("patternType",E.pattern),E.fgColor&&this.map.fgColor.render(C,E.fgColor),E.bgColor&&this.map.bgColor.render(C,E.bgColor),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"patternFill"===C.name?(this.model={type:"pattern",pattern:C.attributes.patternType},!0):(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.parser.model&&(this.model[C]=this.parser.model),this.parser=void 0),!0)}}class GradientFillXform extends B{constructor(){super(),this.map={stop:new StopXform}}get name(){return"gradient"}get tag(){return"gradientFill"}render(C,E){switch(C.openNode("gradientFill"),E.gradient){case"angle":C.addAttribute("degree",E.degree);break;case"path":C.addAttribute("type","path"),E.center.left&&(C.addAttribute("left",E.center.left),void 0===E.center.right&&C.addAttribute("right",E.center.left)),E.center.right&&C.addAttribute("right",E.center.right),E.center.top&&(C.addAttribute("top",E.center.top),void 0===E.center.bottom&&C.addAttribute("bottom",E.center.top)),E.center.bottom&&C.addAttribute("bottom",E.center.bottom)}const I=this.map.stop;E.stops.forEach((E=>{I.render(C,E)})),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"gradientFill":{const E=this.model={stops:[]};return C.attributes.degree?(E.gradient="angle",E.degree=parseInt(C.attributes.degree,10)):"path"===C.attributes.type&&(E.gradient="path",E.center={left:C.attributes.left?parseFloat(C.attributes.left):0,top:C.attributes.top?parseFloat(C.attributes.top):0},C.attributes.right!==C.attributes.left&&(E.center.right=C.attributes.right?parseFloat(C.attributes.right):0),C.attributes.bottom!==C.attributes.top&&(E.center.bottom=C.attributes.bottom?parseFloat(C.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class FillXform extends B{constructor(){super(),this.map={patternFill:new PatternFillXform,gradientFill:new GradientFillXform}}get tag(){return"fill"}render(C,E){switch(C.addRollback(),C.openNode("fill"),E.type){case"pattern":this.map.patternFill.render(C,E);break;case"gradient":this.map.gradientFill.render(C,E);break;default:return void C.rollback()}C.closeNode(),C.commit()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"fill"===C.name?(this.model={},!0):(this.parser=this.map[C.name],!!this.parser&&(this.parser.parseOpen(C),!0))}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return!!this.parser&&(this.parser.parseClose(C)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(C){return FillXform.validPatternValues[C]}}FillXform.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce(((C,E)=>(C[E]=!0,C)),{}),FillXform.StopXform=StopXform,FillXform.PatternFillXform=PatternFillXform,FillXform.GradientFillXform=GradientFillXform,E.exports=FillXform},{"../base-xform":32,"./color-xform":128}],131:[function(C,E,I){"use strict";const B=C("./color-xform"),z=C("../simple/boolean-xform"),q=C("../simple/integer-xform"),Q=C("../simple/string-xform"),ee=C("./underline-xform"),te=C("../../../utils/under-dash"),ie=C("../base-xform");class FontXform extends ie{constructor(C){super(),this.options=C||FontXform.OPTIONS,this.map={b:{prop:"bold",xform:new z({tag:"b",attr:"val"})},i:{prop:"italic",xform:new z({tag:"i",attr:"val"})},u:{prop:"underline",xform:new ee},charset:{prop:"charset",xform:new q({tag:"charset",attr:"val"})},color:{prop:"color",xform:new B},condense:{prop:"condense",xform:new z({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new z({tag:"extend",attr:"val"})},family:{prop:"family",xform:new q({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new z({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new Q({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new Q({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new z({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new z({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new q({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new Q({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(C,E){const{map:I}=this;C.openNode(this.options.tagName),te.each(this.map,((B,z)=>{I[z].xform.render(C,E[B.prop])})),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):this.map[C.name]?(this.parser=this.map[C.name].xform,this.parser.parseOpen(C)):C.name===this.options.tagName&&(this.model={},!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser&&!this.parser.parseClose(C)){const E=this.map[C];return this.parser.model&&(this.model[E.prop]=this.parser.model),this.parser=void 0,!0}return C!==this.options.tagName}}FontXform.OPTIONS={tagName:"font",fontNameTag:"name"},E.exports=FontXform},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(C,E,I){"use strict";const B=C("../../../utils/under-dash"),z=C("../../defaultnumformats"),q=C("../base-xform");function hashDefaultFormats(){const C={};return B.each(z,((E,I)=>{E.f&&(C[E.f]=parseInt(I,10))})),C}const Q=hashDefaultFormats();class NumFmtXform extends q{constructor(C,E){super(),this.id=C,this.formatCode=E}get tag(){return"numFmt"}render(C,E){C.leafNode("numFmt",{numFmtId:E.id,formatCode:E.formatCode})}parseOpen(C){return"numFmt"===C.name&&(this.model={id:parseInt(C.attributes.numFmtId,10),formatCode:C.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0)}parseText(){}parseClose(){return!1}}NumFmtXform.getDefaultFmtId=function getDefaultFmtId(C){return Q[C]},NumFmtXform.getDefaultFmtCode=function getDefaultFmtCode(C){return z[C]&&z[C].f},E.exports=NumFmtXform},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(C,E,I){"use strict";const B=C("../base-xform"),z={boolean:(C,E)=>void 0===C?E:C};class ProtectionXform extends B{get tag(){return"protection"}render(C,E){C.addRollback(),C.openNode("protection");let I=!1;function add(E,B){void 0!==B&&(C.addAttribute(E,B),I=!0)}add("locked",z.boolean(E.locked,!0)?void 0:"0"),add("hidden",z.boolean(E.hidden,!1)?"1":void 0),C.closeNode(),I?C.commit():C.rollback()}parseOpen(C){const E={locked:!("0"===C.attributes.locked),hidden:"1"===C.attributes.hidden},I=!E.locked||E.hidden;this.model=I?E:null}parseText(){}parseClose(){return!1}}E.exports=ProtectionXform},{"../base-xform":32}],134:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./alignment-xform"),q=C("./protection-xform");class StyleXform extends B{constructor(C){super(),this.xfId=!(!C||!C.xfId),this.map={alignment:new z,protection:new q}}get tag(){return"xf"}render(C,E){C.openNode("xf",{numFmtId:E.numFmtId||0,fontId:E.fontId||0,fillId:E.fillId||0,borderId:E.borderId||0}),this.xfId&&C.addAttribute("xfId",E.xfId||0),E.numFmtId&&C.addAttribute("applyNumberFormat","1"),E.fontId&&C.addAttribute("applyFont","1"),E.fillId&&C.addAttribute("applyFill","1"),E.borderId&&C.addAttribute("applyBorder","1"),E.alignment&&C.addAttribute("applyAlignment","1"),E.protection&&C.addAttribute("applyProtection","1"),E.alignment&&this.map.alignment.render(C,E.alignment),E.protection&&this.map.protection.render(C,E.protection),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;switch(C.name){case"xf":return this.model={numFmtId:parseInt(C.attributes.numFmtId,10),fontId:parseInt(C.attributes.fontId,10),fillId:parseInt(C.attributes.fillId,10),borderId:parseInt(C.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(C.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(C),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(C),!0;default:return!1}}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):"xf"!==C}}E.exports=StyleXform},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(C,E,I){"use strict";const B=C("../../../doc/enums"),z=C("../../../utils/xml-stream"),q=C("../base-xform"),Q=C("../static-xform"),ee=C("../list-xform"),te=C("./font-xform"),ie=C("./fill-xform"),re=C("./border-xform"),ne=C("./numfmt-xform"),se=C("./style-xform"),oe=C("./dxf-xform"),ae=164;class StylesXform extends q{constructor(C){super(),this.map={numFmts:new ee({tag:"numFmts",count:!0,childXform:new ne}),fonts:new ee({tag:"fonts",count:!0,childXform:new te,$:{"x14ac:knownFonts":1}}),fills:new ee({tag:"fills",count:!0,childXform:new ie}),borders:new ee({tag:"borders",count:!0,childXform:new re}),cellStyleXfs:new ee({tag:"cellStyleXfs",count:!0,childXform:new se}),cellXfs:new ee({tag:"cellXfs",count:!0,childXform:new se({xfId:!0})}),dxfs:new ee({tag:"dxfs",always:!0,count:!0,childXform:new oe}),numFmt:new ne,font:new te,fill:new ie,border:new re,style:new se({xfId:!0}),cellStyles:StylesXform.STATIC_XFORMS.cellStyles,tableStyles:StylesXform.STATIC_XFORMS.tableStyles,extLst:StylesXform.STATIC_XFORMS.extLst},C&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(C,E){E=E||this.model,C.openXml(z.StdDocAttributes),C.openNode("styleSheet",StylesXform.STYLESHEET_ATTRIBUTES),this.index?(E.numFmts&&E.numFmts.length&&(C.openNode("numFmts",{count:E.numFmts.length}),E.numFmts.forEach((E=>{C.writeXml(E)})),C.closeNode()),E.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),C.openNode("fonts",{count:E.fonts.length,"x14ac:knownFonts":1}),E.fonts.forEach((E=>{C.writeXml(E)})),C.closeNode(),C.openNode("fills",{count:E.fills.length}),E.fills.forEach((E=>{C.writeXml(E)})),C.closeNode(),C.openNode("borders",{count:E.borders.length}),E.borders.forEach((E=>{C.writeXml(E)})),C.closeNode(),this.map.cellStyleXfs.render(C,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),C.openNode("cellXfs",{count:E.styles.length}),E.styles.forEach((E=>{C.writeXml(E)})),C.closeNode()):(this.map.numFmts.render(C,E.numFmts),this.map.fonts.render(C,E.fonts),this.map.fills.render(C,E.fills),this.map.borders.render(C,E.borders),this.map.cellStyleXfs.render(C,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(C,E.styles)),StylesXform.STATIC_XFORMS.cellStyles.render(C),this.map.dxfs.render(C,E.dxfs),StylesXform.STATIC_XFORMS.tableStyles.render(C),StylesXform.STATIC_XFORMS.extLst.render(C),C.closeNode()}parseOpen(C){return this.parser?(this.parser.parseOpen(C),!0):"styleSheet"===C.name?(this.initIndex(),!0):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C),!0)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.parser=void 0),!0;if("styleSheet"===C){this.model={};const add=(C,E)=>{E.model&&E.model.length&&(this.model[C]=E.model)};if(add("numFmts",this.map.numFmts),add("fonts",this.map.fonts),add("fills",this.map.fills),add("borders",this.map.borders),add("styles",this.map.cellXfs),add("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach((E=>{C[E.id]=E.formatCode}))}return!1}return!0}addStyleModel(C,E){if(!C)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(C))return this.weakMap.get(C);const I={};if(E=E||B.ValueType.Number,C.numFmt)I.numFmtId=this._addNumFmtStr(C.numFmt);else switch(E){case B.ValueType.Number:I.numFmtId=this._addNumFmtStr("General");break;case B.ValueType.Date:I.numFmtId=this._addNumFmtStr("mm-dd-yy")}C.font&&(I.fontId=this._addFont(C.font)),C.border&&(I.borderId=this._addBorder(C.border)),C.fill&&(I.fillId=this._addFill(C.fill)),C.alignment&&(I.alignment=C.alignment),C.protection&&(I.protection=C.protection);const z=this._addStyle(I);return this.weakMap&&this.weakMap.set(C,z),z}getStyleModel(C){const E=this.model.styles[C];if(!E)return null;let I=this.index.model[C];if(I)return I;if(I=this.index.model[C]={},E.numFmtId){const C=this.index.numFmt[E.numFmtId]||ne.getDefaultFmtCode(E.numFmtId);C&&(I.numFmt=C)}function addStyle(C,E,B){if(B||0===B){const z=E[B];z&&(I[C]=z)}}return addStyle("font",this.model.fonts,E.fontId),addStyle("border",this.model.borders,E.borderId),addStyle("fill",this.model.fills,E.fillId),E.alignment&&(I.alignment=E.alignment),E.protection&&(I.protection=E.protection),I}addDxfStyle(C){return C.numFmt&&(C.numFmtId=this._addNumFmtStr(C.numFmt)),this.model.dxfs.push(C),this.model.dxfs.length-1}getDxfStyle(C){return this.model.dxfs[C]}_addStyle(C){const E=this.map.style.toXml(C);let I=this.index.style[E];return void 0===I&&(I=this.index.style[E]=this.model.styles.length,this.model.styles.push(E)),I}_addNumFmtStr(C){let E=ne.getDefaultFmtId(C);if(void 0!==E)return E;if(E=this.index.numFmt[C],void 0!==E)return E;E=this.index.numFmt[C]=ae+this.model.numFmts.length;const I=this.map.numFmt.toXml({id:E,formatCode:C});return this.model.numFmts.push(I),E}_addFont(C){const E=this.map.font.toXml(C);let I=this.index.font[E];return void 0===I&&(I=this.index.font[E]=this.model.fonts.length,this.model.fonts.push(E)),I}_addBorder(C){const E=this.map.border.toXml(C);let I=this.index.border[E];return void 0===I&&(I=this.index.border[E]=this.model.borders.length,this.model.borders.push(E)),I}_addFill(C){const E=this.map.fill.toXml(C);let I=this.index.fill[E];return void 0===I&&(I=this.index.fill[E]=this.model.fills.length,this.model.fills.push(E)),I}}StylesXform.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},StylesXform.STATIC_XFORMS={cellStyles:new Q({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new Q({tag:"dxfs",$:{count:0}}),tableStyles:new Q({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new Q({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})};class StylesXformMock extends StylesXform{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(C){return C.autodrain(),Promise.resolve()}addStyleModel(C,E){return E===B.ValueType.Date?this.dateStyleId:0}get dateStyleId(){if(!this._dateStyleId){const C={numFmtId:ne.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(C)}return this._dateStyleId}getStyleModel(){return{}}}StylesXform.Mock=StylesXformMock,E.exports=StylesXform},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(C,E,I){"use strict";const B=C("../base-xform");class UnderlineXform extends B{constructor(C){super(),this.model=C}get tag(){return"u"}render(C,E){if(!0===(E=E||this.model))C.leafNode("u");else{const I=UnderlineXform.Attributes[E];I&&C.leafNode("u",I)}}parseOpen(C){"u"===C.name&&(this.model=C.attributes.val||!0)}parseText(){}parseClose(){return!1}}UnderlineXform.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},E.exports=UnderlineXform},{"../base-xform":32}],137:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("./filter-column-xform");class AutoFilterXform extends B{constructor(){super(),this.map={filterColumn:new z}}get tag(){return"autoFilter"}prepare(C){C.columns.forEach(((C,E)=>{this.map.filterColumn.prepare(C,{index:E})}))}render(C,E){return C.openNode(this.tag,{ref:E.autoFilterRef}),E.columns.forEach((E=>{this.map.filterColumn.render(C,E)})),C.closeNode(),!0}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;if(C.name===this.tag)return this.model={autoFilterRef:C.attributes.ref,columns:[]},!0;if(this.parser=this.map[C.name],this.parser)return this.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){if(this.parser)return this.parser.parseClose(C)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(C===this.tag)return!1;throw new Error(`Unexpected xml node in parseClose: ${C}`)}}E.exports=AutoFilterXform},{"../base-xform":32,"./filter-column-xform":139}],138:[function(C,E,I){"use strict";const B=C("../base-xform");class CustomFilterXform extends B{get tag(){return"customFilter"}render(C,E){C.leafNode(this.tag,{val:E.val,operator:E.operator})}parseOpen(C){return C.name===this.tag&&(this.model={val:C.attributes.val,operator:C.attributes.operator},!0)}parseText(){}parseClose(){return!1}}E.exports=CustomFilterXform},{"../base-xform":32}],139:[function(C,E,I){"use strict";const B=C("../base-xform"),z=C("../list-xform"),q=C("./custom-filter-xform"),Q=C("./filter-xform");class FilterColumnXform extends B{constructor(){super(),this.map={customFilters:new z({tag:"customFilters",count:!1,empty:!0,childXform:new q}),filters:new z({tag:"filters",count:!1,empty:!0,childXform:new Q})}}get tag(){return"filterColumn"}prepare(C,E){C.colId=E.index.toString()}render(C,E){return E.customFilters?(C.openNode(this.tag,{colId:E.colId,hiddenButton:E.filterButton?"0":"1"}),this.map.customFilters.render(C,E.customFilters),C.closeNode(),!0):(C.leafNode(this.tag,{colId:E.colId,hiddenButton:E.filterButton?"0":"1"}),!0)}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;const{attributes:E}=C;if(C.name===this.tag)return this.model={filterButton:"0"===E.hiddenButton},!0;if(this.parser=this.map[C.name],this.parser)return this.parseOpen(C),!0;throw new Error(`Unexpected xml node in parseOpen: ${JSON.stringify(C)}`)}parseText(){}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.customFilters=this.map.customFilters.model,!1)}}E.exports=FilterColumnXform},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(C,E,I){"use strict";const B=C("../base-xform");class FilterXform extends B{get tag(){return"filter"}render(C,E){C.leafNode(this.tag,{val:E.val})}parseOpen(C){return C.name===this.tag&&(this.model={val:C.attributes.val},!0)}parseText(){}parseClose(){return!1}}E.exports=FilterXform},{"../base-xform":32}],141:[function(C,E,I){"use strict";const B=C("../base-xform");class TableColumnXform extends B{get tag(){return"tableColumn"}prepare(C,E){C.id=E.index+1}render(C,E){return C.leafNode(this.tag,{id:E.id.toString(),name:E.name,totalsRowLabel:E.totalsRowLabel,totalsRowFunction:E.totalsRowFunction,dxfId:E.dxfId}),!0}parseOpen(C){if(C.name===this.tag){const{attributes:E}=C;return this.model={name:E.name,totalsRowLabel:E.totalsRowLabel,totalsRowFunction:E.totalsRowFunction,dxfId:E.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}E.exports=TableColumnXform},{"../base-xform":32}],142:[function(C,E,I){"use strict";const B=C("../base-xform");class TableStyleInfoXform extends B{get tag(){return"tableStyleInfo"}render(C,E){return C.leafNode(this.tag,{name:E.theme?E.theme:void 0,showFirstColumn:E.showFirstColumn?"1":"0",showLastColumn:E.showLastColumn?"1":"0",showRowStripes:E.showRowStripes?"1":"0",showColumnStripes:E.showColumnStripes?"1":"0"}),!0}parseOpen(C){if(C.name===this.tag){const{attributes:E}=C;return this.model={theme:E.name?E.name:null,showFirstColumn:"1"===E.showFirstColumn,showLastColumn:"1"===E.showLastColumn,showRowStripes:"1"===E.showRowStripes,showColumnStripes:"1"===E.showColumnStripes},!0}return!1}parseText(){}parseClose(){return!1}}E.exports=TableStyleInfoXform},{"../base-xform":32}],143:[function(C,E,I){"use strict";const B=C("../../../utils/xml-stream"),z=C("../base-xform"),q=C("../list-xform"),Q=C("./auto-filter-xform"),ee=C("./table-column-xform"),te=C("./table-style-info-xform");class TableXform extends z{constructor(){super(),this.map={autoFilter:new Q,tableColumns:new q({tag:"tableColumns",count:!0,empty:!0,childXform:new ee}),tableStyleInfo:new te}}prepare(C,E){this.map.autoFilter.prepare(C),this.map.tableColumns.prepare(C.columns,E)}get tag(){return"table"}render(C,E){C.openXml(B.StdDocAttributes),C.openNode(this.tag,{...TableXform.TABLE_ATTRIBUTES,id:E.id,name:E.name,displayName:E.displayName||E.name,ref:E.tableRef,totalsRowCount:E.totalsRow?"1":void 0,totalsRowShown:E.totalsRow?void 0:"1",headerRowCount:E.headerRow?"1":"0"}),this.map.autoFilter.render(C,E),this.map.tableColumns.render(C,E.columns),this.map.tableStyleInfo.render(C,E.style),C.closeNode()}parseOpen(C){if(this.parser)return this.parser.parseOpen(C),!0;const{name:E,attributes:I}=C;return E===this.tag?(this.reset(),this.model={name:I.name,displayName:I.displayName||I.name,tableRef:I.ref,totalsRow:"1"===I.totalsRowCount,headerRow:"1"===I.headerRowCount}):(this.parser=this.map[C.name],this.parser&&this.parser.parseOpen(C)),!0}parseText(C){this.parser&&this.parser.parseText(C)}parseClose(C){return this.parser?(this.parser.parseClose(C)||(this.parser=void 0),!0):C!==this.tag||(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach(((C,E)=>{this.model.columns[E].filterButton=C.filterButton}))),this.model.style=this.map.tableStyleInfo.model,!1)}reconcile(C,E){C.columns.forEach((C=>{void 0!==C.dxfId&&(C.style=E.styles.getDxfStyle(C.dxfId))}))}}TableXform.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},E.exports=TableXform},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(C,E,I){(function(I,B){(function(){"use strict";const z=C("fs"),q=C("jszip"),{PassThrough:Q}=C("readable-stream"),ee=C("../utils/zip-stream"),te=C("../utils/stream-buf"),ie=C("../utils/utils"),re=C("../utils/xml-stream"),{bufferToString:ne}=C("../utils/browser-buffer-decode"),se=C("./xform/style/styles-xform"),oe=C("./xform/core/core-xform"),ae=C("./xform/strings/shared-strings-xform"),le=C("./xform/core/relationships-xform"),ue=C("./xform/core/content-types-xform"),de=C("./xform/core/app-xform"),ce=C("./xform/book/workbook-xform"),he=C("./xform/sheet/worksheet-xform"),fe=C("./xform/drawing/drawing-xform"),pe=C("./xform/table/table-xform"),me=C("./xform/comment/comments-xform"),ge=C("./xform/comment/vml-notes-xform"),ve=C("./xml/theme1");function fsReadFileAsync(C,E){return new Promise(((I,B)=>{z.readFile(C,E,((C,E)=>{C?B(C):I(E)}))}))}class XLSX{constructor(C){this.workbook=C}async readFile(C,E){if(!await ie.fs.exists(C))throw new Error(`File not found: ${C}`);const I=z.createReadStream(C);try{const C=await this.read(I,E);return I.close(),C}catch(C){throw I.close(),C}}parseRels(C){return(new le).parseStream(C)}parseWorkbook(C){return(new ce).parseStream(C)}parseSharedStrings(C){return(new ae).parseStream(C)}reconcile(C,E){const I=new ce,B=new he(E),z=new fe,q=new pe;I.reconcile(C);const Q={media:C.media,mediaIndex:C.mediaIndex};Object.keys(C.drawings).forEach((E=>{const I=C.drawings[E],B=C.drawingRels[E];B&&(Q.rels=B.reduce(((C,E)=>(C[E.Id]=E,C)),{}),(I.anchors||[]).forEach((C=>{const E=C.picture&&C.picture.hyperlinks;E&&Q.rels[E.rId]&&(E.hyperlink=Q.rels[E.rId].Target,delete E.rId)})),z.reconcile(I,Q))}));const ee={styles:C.styles};Object.values(C.tables).forEach((C=>{q.reconcile(C,ee)}));const te={styles:C.styles,sharedStrings:C.sharedStrings,media:C.media,mediaIndex:C.mediaIndex,date1904:C.properties&&C.properties.date1904,drawings:C.drawings,comments:C.comments,tables:C.tables,vmlDrawings:C.vmlDrawings};C.worksheets.forEach((E=>{E.relationships=C.worksheetRels[E.sheetNo],B.reconcile(E,te)})),delete C.worksheetHash,delete C.worksheetRels,delete C.globalRels,delete C.sharedStrings,delete C.workbookRels,delete C.sheetDefs,delete C.styles,delete C.mediaIndex,delete C.drawings,delete C.drawingRels,delete C.vmlDrawings}async _processWorksheetEntry(C,E,I,B,z){const q=new he(B),Q=await q.parseStream(C);Q.sheetNo=I,E.worksheetHash[z]=Q,E.worksheets.push(Q)}async _processCommentEntry(C,E,I){const B=new me,z=await B.parseStream(C);E.comments[`../${I}.xml`]=z}async _processTableEntry(C,E,I){const B=new pe,z=await B.parseStream(C);E.tables[`../tables/${I}.xml`]=z}async _processWorksheetRelsEntry(C,E,I){const B=new le,z=await B.parseStream(C);E.worksheetRels[I]=z}async _processMediaEntry(C,E,I){const B=I.lastIndexOf(".");if(B>=1){const z=I.substr(B+1),q=I.substr(0,B);await new Promise(((B,Q)=>{const ee=new te;ee.on("finish",(()=>{E.mediaIndex[I]=E.media.length,E.mediaIndex[q]=E.media.length;const C={type:"image",name:q,extension:z,buffer:ee.toBuffer()};E.media.push(C),B()})),C.on("error",(C=>{Q(C)})),C.pipe(ee)}))}}async _processDrawingEntry(C,E,I){const B=new fe,z=await B.parseStream(C);E.drawings[I]=z}async _processDrawingRelsEntry(C,E,I){const B=new le,z=await B.parseStream(C);E.drawingRels[I]=z}async _processVmlDrawingEntry(C,E,I){const B=new ge,z=await B.parseStream(C);E.vmlDrawings[`../drawings/${I}.vml`]=z}async _processThemeEntry(C,E,I){await new Promise(((B,z)=>{const q=new te;C.on("error",z),q.on("error",z),q.on("finish",(()=>{E.themes[I]=q.read().toString(),B()})),C.pipe(q)}))}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(C,E){!C[Symbol.asyncIterator]&&C.pipe&&(C=C.pipe(new Q));const I=[];for await(const E of C)I.push(E);return this.load(B.concat(I),E)}async load(C,E){let z;z=E&&E.base64?B.from(C.toString(),"base64"):C;const ee={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},te=await q.loadAsync(z);for(const C of Object.values(te.files))if(!C.dir){let B,z=C.name;if("/"===z[0]&&(z=z.substr(1)),z.match(/xl\/media\//)||z.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))B=new Q,B.write(await C.async("nodebuffer"));else{let E;B=new Q({writableObjectMode:!0,readableObjectMode:!0}),E=I.browser?ne(await C.async("nodebuffer")):await C.async("string");const z=16384;for(let C=0;C<E.length;C+=z)B.write(E.substring(C,C+z))}switch(B.end(),z){case"_rels/.rels":ee.globalRels=await this.parseRels(B);break;case"xl/workbook.xml":{const C=await this.parseWorkbook(B);ee.sheets=C.sheets,ee.definedNames=C.definedNames,ee.views=C.views,ee.properties=C.properties,ee.calcProperties=C.calcProperties;break}case"xl/_rels/workbook.xml.rels":ee.workbookRels=await this.parseRels(B);break;case"xl/sharedStrings.xml":ee.sharedStrings=new ae,await ee.sharedStrings.parseStream(B);break;case"xl/styles.xml":ee.styles=new se,await ee.styles.parseStream(B);break;case"docProps/app.xml":{const C=new de,E=await C.parseStream(B);ee.company=E.company,ee.manager=E.manager;break}case"docProps/core.xml":{const C=new oe,E=await C.parseStream(B);Object.assign(ee,E);break}default:{let C=z.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(C){await this._processWorksheetEntry(B,ee,C[1],E,z);break}if(C=z.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),C){await this._processWorksheetRelsEntry(B,ee,C[1]);break}if(C=z.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),C){await this._processThemeEntry(B,ee,C[1]);break}if(C=z.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),C){await this._processMediaEntry(B,ee,C[1]);break}if(C=z.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),C){await this._processDrawingEntry(B,ee,C[1]);break}if(C=z.match(/xl\/(comments\d+)[.]xml/),C){await this._processCommentEntry(B,ee,C[1]);break}if(C=z.match(/xl\/tables\/(table\d+)[.]xml/),C){await this._processTableEntry(B,ee,C[1]);break}if(C=z.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),C){await this._processDrawingRelsEntry(B,ee,C[1]);break}if(C=z.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),C){await this._processVmlDrawingEntry(B,ee,C[1]);break}}}}return this.reconcile(ee,E),this.workbook.model=ee,this.workbook}async addMedia(C,E){await Promise.all(E.media.map((async E=>{if("image"===E.type){const I=`xl/media/${E.name}.${E.extension}`;if(E.filename){const B=await fsReadFileAsync(E.filename);return C.append(B,{name:I})}if(E.buffer)return C.append(E.buffer,{name:I});if(E.base64){const B=E.base64,z=B.substring(B.indexOf(",")+1);return C.append(z,{name:I,base64:!0})}}throw new Error("Unsupported media")})))}addDrawings(C,E){const I=new fe,B=new le;E.worksheets.forEach((E=>{const{drawing:z}=E;if(z){I.prepare(z,{});let E=I.toXml(z);C.append(E,{name:`xl/drawings/${z.name}.xml`}),E=B.toXml(z.rels),C.append(E,{name:`xl/drawings/_rels/${z.name}.xml.rels`})}}))}addTables(C,E){const I=new pe;E.worksheets.forEach((E=>{const{tables:B}=E;B.forEach((E=>{I.prepare(E,{});const B=I.toXml(E);C.append(B,{name:`xl/tables/${E.target}`})}))}))}async addContentTypes(C,E){const I=(new ue).toXml(E);C.append(I,{name:"[Content_Types].xml"})}async addApp(C,E){const I=(new de).toXml(E);C.append(I,{name:"docProps/app.xml"})}async addCore(C,E){const I=new oe;C.append(I.toXml(E),{name:"docProps/core.xml"})}async addThemes(C,E){const I=E.themes||{theme1:ve};Object.keys(I).forEach((E=>{const B=I[E],z=`xl/theme/${E}.xml`;C.append(B,{name:z})}))}async addOfficeRels(C){const E=(new le).toXml([{Id:"rId1",Type:XLSX.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:XLSX.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:XLSX.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);C.append(E,{name:"_rels/.rels"})}async addWorkbookRels(C,E){let I=1;const B=[{Id:"rId"+I++,Type:XLSX.RelType.Styles,Target:"styles.xml"},{Id:"rId"+I++,Type:XLSX.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&B.push({Id:"rId"+I++,Type:XLSX.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach((C=>{C.rId="rId"+I++,B.push({Id:C.rId,Type:XLSX.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})}));const z=(new le).toXml(B);C.append(z,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(C,E){E.sharedStrings&&E.sharedStrings.count&&C.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(C,E){const{xml:I}=E.styles;I&&C.append(I,{name:"xl/styles.xml"})}async addWorkbook(C,E){const I=new ce;C.append(I.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(C,E){const I=new he,B=new le,z=new me,q=new ge;E.worksheets.forEach((E=>{let Q=new re;I.render(Q,E),C.append(Q.xml,{name:`xl/worksheets/sheet${E.id}.xml`}),E.rels&&E.rels.length&&(Q=new re,B.render(Q,E.rels),C.append(Q.xml,{name:`xl/worksheets/_rels/sheet${E.id}.xml.rels`})),E.comments.length>0&&(Q=new re,z.render(Q,E),C.append(Q.xml,{name:`xl/comments${E.id}.xml`}),Q=new re,q.render(Q,E),C.append(Q.xml,{name:`xl/drawings/vmlDrawing${E.id}.vml`}))}))}_finalize(C){return new Promise(((E,I)=>{C.on("finish",(()=>{E(this)})),C.on("error",I),C.finalize()}))}prepareModel(C,E){C.creator=C.creator||"ExcelJS",C.lastModifiedBy=C.lastModifiedBy||"ExcelJS",C.created=C.created||new Date,C.modified=C.modified||new Date,C.useSharedStrings=void 0===E.useSharedStrings||E.useSharedStrings,C.useStyles=void 0===E.useStyles||E.useStyles,C.sharedStrings=new ae,C.styles=C.useStyles?new se(!0):new se.Mock;const I=new ce,B=new he;I.prepare(C);const z={sharedStrings:C.sharedStrings,styles:C.styles,date1904:C.properties.date1904,drawingsCount:0,media:C.media};z.drawings=C.drawings=[],z.commentRefs=C.commentRefs=[];let q=0;C.tables=[],C.worksheets.forEach((E=>{E.tables.forEach((E=>{q++,E.target=`table${q}.xml`,E.id=q,C.tables.push(E)})),B.prepare(E,z)}))}async write(C,E){E=E||{};const{model:I}=this.workbook,B=new ee.ZipWriter(E.zip);return B.pipe(C),this.prepareModel(I,E),await this.addContentTypes(B,I),await this.addOfficeRels(B,I),await this.addWorkbookRels(B,I),await this.addWorksheets(B,I),await this.addSharedStrings(B,I),await this.addDrawings(B,I),await this.addTables(B,I),await Promise.all([this.addThemes(B,I),this.addStyles(B,I)]),await this.addMedia(B,I),await Promise.all([this.addApp(B,I),this.addCore(B,I)]),await this.addWorkbook(B,I),this._finalize(B)}writeFile(C,E){const I=z.createWriteStream(C);return new Promise(((C,B)=>{I.on("finish",(()=>{C()})),I.on("error",(C=>{B(C)})),this.write(I,E).then((()=>{I.end()})).catch((C=>{B(C)}))}))}async writeBuffer(C){const E=new te;return await this.write(E,C),E.read()}}XLSX.RelType=C("./rel-type"),E.exports=XLSX}).call(this)}).call(this,C("_process"),C("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(C,E,I){"use strict";E.exports='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>'},{}],146:[function(C,E,I){(function(E){(function(){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.CsvFormatterStream=void 0;const B=C("stream"),z=C("./formatter");class CsvFormatterStream extends B.Transform{constructor(C){super({writableObjectMode:C.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=C,this.rowFormatter=new z.RowFormatter(C),this.hasWrittenBOM=!C.writeBOM}transform(C){return this.rowFormatter.rowTransform=C,this}_transform(C,I,B){let z=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(C,((C,I)=>C?(z=!0,B(C)):(I&&I.forEach((C=>{this.push(E.from(C,"utf8"))})),z=!0,B())))}catch(C){if(z)throw C;B(C)}}_flush(C){this.rowFormatter.finish(((I,B)=>I?C(I):(B&&B.forEach((C=>{this.push(E.from(C,"utf8"))})),C())))}}I.CsvFormatterStream=CsvFormatterStream}).call(this)}).call(this,C("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.FormatterOptions=void 0;class FormatterOptions{constructor(){let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var E;this.objectMode=!0,this.delimiter=",",this.rowDelimiter="\n",this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\ufeff",this.alwaysWriteHeaders=!1,Object.assign(this,C||{}),void 0===(null==C?void 0:C.quoteHeaders)&&(this.quoteHeaders=this.quoteColumns),!0===(null==C?void 0:C.quote)?this.quote='"':!1===(null==C?void 0:C.quote)&&(this.quote=""),"string"!=typeof(null==C?void 0:C.escape)&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&(null===(E=C.writeHeaders)||void 0===E||E),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}I.FormatterOptions=FormatterOptions},{}],148:[function(C,E,I){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(I,"__esModule",{value:!0}),I.FieldFormatter=void 0;const B=__importDefault(C("lodash.isboolean")),z=__importDefault(C("lodash.isnil")),q=__importDefault(C("lodash.escaperegexp"));class FieldFormatter{constructor(C){this._headers=null,this.formatterOptions=C,null!==C.headers&&(this.headers=C.headers),this.REPLACE_REGEXP=new RegExp(C.quote,"g");const E=`[${C.delimiter}${q.default(C.rowDelimiter)}|\r|\n]`;this.ESCAPE_REGEXP=new RegExp(E)}set headers(C){this._headers=C}shouldQuote(C,E){const I=E?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return B.default(I)?I:Array.isArray(I)?I[C]:null!==this._headers&&I[this._headers[C]]}format(C,E,I){const B=`${z.default(C)?"":C}`.replace(/\0/g,""),{formatterOptions:q}=this;return""!==q.quote&&-1!==B.indexOf(q.quote)?this.quoteField(B.replace(this.REPLACE_REGEXP,q.escapedQuote)):-1!==B.search(this.ESCAPE_REGEXP)||this.shouldQuote(E,I)?this.quoteField(B):B}quoteField(C){const{quote:E}=this.formatterOptions;return`${E}${C}${E}`}}I.FieldFormatter=FieldFormatter},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(C,E,I){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(I,"__esModule",{value:!0}),I.RowFormatter=void 0;const B=__importDefault(C("lodash.isfunction")),z=__importDefault(C("lodash.isequal")),q=C("./FieldFormatter"),Q=C("../types");class RowFormatter{constructor(C){this.rowCount=0,this.formatterOptions=C,this.fieldFormatter=new q.FieldFormatter(C),this.headers=C.headers,this.shouldWriteHeaders=C.shouldWriteHeaders,this.hasWrittenHeaders=!1,null!==this.headers&&(this.fieldFormatter.headers=this.headers),C.transform&&(this.rowTransform=C.transform)}static isRowHashArray(C){return!!Array.isArray(C)&&Array.isArray(C[0])&&2===C[0].length}static isRowArray(C){return Array.isArray(C)&&!this.isRowHashArray(C)}static gatherHeaders(C){return RowFormatter.isRowHashArray(C)?C.map((C=>C[0])):Array.isArray(C)?C:Object.keys(C)}static createTransform(C){return Q.isSyncTransform(C)?(E,I)=>{let B=null;try{B=C(E)}catch(C){return I(C)}return I(null,B)}:(E,I)=>{C(E,I)}}set rowTransform(C){if(!B.default(C))throw new TypeError("The transform should be a function");this._rowTransform=RowFormatter.createTransform(C)}format(C,E){this.callTransformer(C,((I,B)=>{if(I)return E(I);if(!C)return E(null);const z=[];if(B){const{shouldFormatColumns:C,headers:E}=this.checkHeaders(B);if(this.shouldWriteHeaders&&E&&!this.hasWrittenHeaders&&(z.push(this.formatColumns(E,!0)),this.hasWrittenHeaders=!0),C){const C=this.gatherColumns(B);z.push(this.formatColumns(C,!1))}}return E(null,z)}))}finish(C){const E=[];if(this.formatterOptions.alwaysWriteHeaders&&0===this.rowCount){if(!this.headers)return C(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));E.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&E.push(this.formatterOptions.rowDelimiter),C(null,E)}checkHeaders(C){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const E=RowFormatter.gatherHeaders(C);return this.headers=E,this.fieldFormatter.headers=E,this.shouldWriteHeaders?{shouldFormatColumns:!z.default(E,C),headers:E}:{shouldFormatColumns:!0,headers:null}}gatherColumns(C){if(null===this.headers)throw new Error("Headers is currently null");return Array.isArray(C)?RowFormatter.isRowHashArray(C)?this.headers.map(((E,I)=>{const B=C[I];return B?B[1]:""})):RowFormatter.isRowArray(C)&&!this.shouldWriteHeaders?C:this.headers.map(((E,I)=>C[I])):this.headers.map((E=>C[E]))}callTransformer(C,E){return this._rowTransform?this._rowTransform(C,E):E(null,C)}formatColumns(C,E){const I=C.map(((C,I)=>this.fieldFormatter.format(C,I,E))).join(this.formatterOptions.delimiter),{rowCount:B}=this;return this.rowCount+=1,B?[this.formatterOptions.rowDelimiter,I].join(""):I}}I.RowFormatter=RowFormatter},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.FieldFormatter=I.RowFormatter=void 0;var B=C("./RowFormatter");Object.defineProperty(I,"RowFormatter",{enumerable:!0,get:function(){return B.RowFormatter}});var z=C("./FieldFormatter");Object.defineProperty(I,"FieldFormatter",{enumerable:!0,get:function(){return z.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(C,E,I){(function(E){(function(){"use strict";var B=Object.create?function(C,E,I,B){void 0===B&&(B=I),Object.defineProperty(C,B,{enumerable:!0,get:function(){return E[I]}})}:function(C,E,I,B){void 0===B&&(B=I),C[B]=E[I]},z=Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E},__importStar=function(C){if(C&&C.__esModule)return C;var E={};if(null!=C)for(var I in C)"default"!==I&&Object.prototype.hasOwnProperty.call(C,I)&&B(E,C,I);return z(E,C),E},__exportStar=function(C,E){for(var I in C)"default"===I||Object.prototype.hasOwnProperty.call(E,I)||B(E,C,I)};Object.defineProperty(I,"__esModule",{value:!0}),I.writeToPath=I.writeToString=I.writeToBuffer=I.writeToStream=I.write=I.format=I.FormatterOptions=I.CsvFormatterStream=void 0;const q=C("util"),Q=C("stream"),ee=__importStar(C("fs")),te=C("./FormatterOptions"),ie=C("./CsvFormatterStream");__exportStar(C("./types"),I);var re=C("./CsvFormatterStream");Object.defineProperty(I,"CsvFormatterStream",{enumerable:!0,get:function(){return re.CsvFormatterStream}});var ne=C("./FormatterOptions");Object.defineProperty(I,"FormatterOptions",{enumerable:!0,get:function(){return ne.FormatterOptions}}),I.format=C=>new ie.CsvFormatterStream(new te.FormatterOptions(C)),I.write=(C,E)=>{const B=I.format(E),z=q.promisify(((C,E)=>{B.write(C,void 0,E)}));return C.reduce(((C,E)=>C.then((()=>z(E)))),Promise.resolve()).then((()=>B.end())).catch((C=>{B.emit("error",C)})),B},I.writeToStream=(C,E,B)=>I.write(E,B).pipe(C),I.writeToBuffer=function(C){let B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const z=[],q=new Q.Writable({write(C,E,I){z.push(C),I()}});return new Promise(((Q,ee)=>{q.on("error",ee).on("finish",(()=>Q(E.concat(z)))),I.write(C,B).pipe(q)}))},I.writeToString=(C,E)=>I.writeToBuffer(C,E).then((C=>C.toString())),I.writeToPath=(C,E,B)=>{const z=ee.createWriteStream(C,{encoding:"utf8"});return I.write(E,B).pipe(z)}}).call(this)}).call(this,C("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.isSyncTransform=void 0,I.isSyncTransform=C=>1===C.length},{}],153:[function(C,E,I){(function(E){(function(){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.CsvParserStream=void 0;const B=C("string_decoder"),z=C("stream"),q=C("./transforms"),Q=C("./parser");class CsvParserStream extends z.Transform{constructor(C){super({objectMode:C.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=C,this.parser=new Q.Parser(C),this.headerTransformer=new q.HeaderTransformer(C),this.decoder=new B.StringDecoder(C.encoding),this.rowTransformerValidator=new q.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(C){return this.rowTransformerValidator.rowTransform=C,this}validate(C){return this.rowTransformerValidator.rowValidator=C,this}emit(C){if("end"===C)return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var E=arguments.length,I=new Array(E>1?E-1:0),B=1;B<E;B++)I[B-1]=arguments[B];return super.emit(C,...I)}_transform(C,E,I){if(this.hasHitRowLimit)return I();const B=CsvParserStream.wrapDoneCallback(I);try{const{lines:E}=this,I=E+this.decoder.write(C),z=this.parse(I,!0);return this.processRows(z,B)}catch(C){return B(C)}}_flush(C){const E=CsvParserStream.wrapDoneCallback(C);if(this.hasHitRowLimit)return E();try{const C=this.lines+this.decoder.end(),I=this.parse(C,!1);return this.processRows(I,E)}catch(C){return E(C)}}parse(C,E){if(!C)return[];const{line:I,rows:B}=this.parser.parse(C,E);return this.lines=I,B}processRows(C,I){const B=C.length,iterate=z=>{const callNext=C=>C?I(C):z%100!=0?iterate(z+1):void E((()=>iterate(z+1)));if(this.checkAndEmitHeaders(),z>=B||this.hasHitRowLimit)return I();if(this.parsedLineCount+=1,this.shouldSkipLine)return callNext();const q=C[z];this.rowCount+=1,this.parsedRowCount+=1;const Q=this.rowCount;return this.transformRow(q,((C,E)=>{if(C)return this.rowCount-=1,callNext(C);if(!E)return callNext(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,callNext)}else this.emit("data-invalid",E.row,Q,E.reason);return callNext()}))};iterate(0)}transformRow(C,E){try{this.headerTransformer.transform(C,((I,B)=>I?E(I):B?B.isValid?B.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(B.row,E):this.skipRow(E):(this.rowCount-=1,this.parsedRowCount-=1,E(null,{row:null,isValid:!0})):this.shouldEmitRows?E(null,{isValid:!1,row:C}):this.skipRow(E):E(new Error("Expected result from header transform"))))}catch(C){E(C)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(C){return this.rowCount-=1,C(null,{row:null,isValid:!0})}pushRow(C,E){try{this.parserOptions.objectMode?this.push(C):this.push(JSON.stringify(C)),E()}catch(C){E(C)}}static wrapDoneCallback(C){let E=!1;return function(I){if(I){if(E)throw I;return E=!0,void C(I)}for(var B=arguments.length,z=new Array(B>1?B-1:0),q=1;q<B;q++)z[q-1]=arguments[q];C(...z)}}}I.CsvParserStream=CsvParserStream}).call(this)}).call(this,C("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(C,E,I){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(I,"__esModule",{value:!0}),I.ParserOptions=void 0;const B=__importDefault(C("lodash.escaperegexp")),z=__importDefault(C("lodash.isnil"));class ParserOptions{constructor(C){var E;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,C||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=B.default(this.delimiter),this.escapeChar=null!==(E=this.escape)&&void 0!==E?E:this.quote,this.supportsComments=!z.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}I.ParserOptions=ParserOptions},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(C,E,I){"use strict";var B=Object.create?function(C,E,I,B){void 0===B&&(B=I),Object.defineProperty(C,B,{enumerable:!0,get:function(){return E[I]}})}:function(C,E,I,B){void 0===B&&(B=I),C[B]=E[I]},z=Object.create?function(C,E){Object.defineProperty(C,"default",{enumerable:!0,value:E})}:function(C,E){C.default=E},__importStar=function(C){if(C&&C.__esModule)return C;var E={};if(null!=C)for(var I in C)"default"!==I&&Object.prototype.hasOwnProperty.call(C,I)&&B(E,C,I);return z(E,C),E},__exportStar=function(C,E){for(var I in C)"default"===I||Object.prototype.hasOwnProperty.call(E,I)||B(E,C,I)};Object.defineProperty(I,"__esModule",{value:!0}),I.parseString=I.parseFile=I.parseStream=I.parse=I.ParserOptions=I.CsvParserStream=void 0;const q=__importStar(C("fs")),Q=C("stream"),ee=C("./ParserOptions"),te=C("./CsvParserStream");__exportStar(C("./types"),I);var ie=C("./CsvParserStream");Object.defineProperty(I,"CsvParserStream",{enumerable:!0,get:function(){return ie.CsvParserStream}});var re=C("./ParserOptions");Object.defineProperty(I,"ParserOptions",{enumerable:!0,get:function(){return re.ParserOptions}}),I.parse=C=>new te.CsvParserStream(new ee.ParserOptions(C)),I.parseStream=(C,E)=>C.pipe(new te.CsvParserStream(new ee.ParserOptions(E))),I.parseFile=function(C){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return q.createReadStream(C).pipe(new te.CsvParserStream(new ee.ParserOptions(E)))},I.parseString=(C,E)=>{const I=new Q.Readable;return I.push(C),I.push(null),I.pipe(new te.CsvParserStream(new ee.ParserOptions(E)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Parser=void 0;const B=C("./Scanner"),z=C("./RowParser"),q=C("./Token");class Parser{constructor(C){this.parserOptions=C,this.rowParser=new z.RowParser(this.parserOptions)}static removeBOM(C){return C&&65279===C.charCodeAt(0)?C.slice(1):C}parse(C,E){const I=new B.Scanner({line:Parser.removeBOM(C),parserOptions:this.parserOptions,hasMoreData:E});return this.parserOptions.supportsComments?this.parseWithComments(I):this.parseWithoutComments(I)}parseWithoutComments(C){const E=[];let I=!0;for(;I;)I=this.parseRow(C,E);return{line:C.line,rows:E}}parseWithComments(C){const{parserOptions:E}=this,I=[];for(let B=C.nextCharacterToken;null!==B;B=C.nextCharacterToken)if(q.Token.isTokenComment(B,E)){if(null===C.advancePastLine())return{line:C.lineFromCursor,rows:I};if(!C.hasMoreCharacters)return{line:C.lineFromCursor,rows:I};C.truncateToCursor()}else if(!this.parseRow(C,I))break;return{line:C.line,rows:I}}parseRow(C,E){if(!C.nextNonSpaceToken)return!1;const I=this.rowParser.parse(C);return null!==I&&(this.parserOptions.ignoreEmpty&&z.RowParser.isEmptyRow(I)||E.push(I),!0)}}I.Parser=Parser},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.RowParser=void 0;const B=C("./column"),z=C("./Token"),q="";class RowParser{constructor(C){this.parserOptions=C,this.columnParser=new B.ColumnParser(C)}static isEmptyRow(C){return C.join(q).replace(/\s+/g,q)===q}parse(C){const{parserOptions:E}=this,{hasMoreData:I}=C,B=C,q=[];let Q=this.getStartToken(B,q);for(;Q;){if(z.Token.isTokenRowDelimiter(Q))return B.advancePastToken(Q),!B.hasMoreCharacters&&z.Token.isTokenCarriageReturn(Q,E)&&I?null:(B.truncateToCursor(),q);if(!this.shouldSkipColumnParse(B,Q,q)){const C=this.columnParser.parse(B);if(null===C)return null;q.push(C)}Q=B.nextNonSpaceToken}return I?null:(B.truncateToCursor(),q)}getStartToken(C,E){const I=C.nextNonSpaceToken;return null!==I&&z.Token.isTokenDelimiter(I,this.parserOptions)?(E.push(""),C.nextNonSpaceToken):I}shouldSkipColumnParse(C,E,I){const{parserOptions:B}=this;if(z.Token.isTokenDelimiter(E,B)){C.advancePastToken(E);const q=C.nextCharacterToken;if(!C.hasMoreCharacters||null!==q&&z.Token.isTokenRowDelimiter(q))return I.push(""),!0;if(null!==q&&z.Token.isTokenDelimiter(q,B))return I.push(""),!0}return!1}}I.RowParser=RowParser},{"./Token":159,"./column":164}],158:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Scanner=void 0;const B=C("./Token"),z=/((?:\r\n)|\n|\r)/;class Scanner{constructor(C){this.cursor=0,this.line=C.line,this.lineLength=this.line.length,this.parserOptions=C.parserOptions,this.hasMoreData=C.hasMoreData,this.cursor=C.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:C}=this,E=this.parserOptions.NEXT_TOKEN_REGEXP;if(-1===C.search(E))return null;const I=E.exec(C);if(null==I)return null;const z=I[1],q=this.cursor+(I.index||0);return new B.Token({token:z,startCursor:q,endCursor:q+z.length-1})}get nextCharacterToken(){const{cursor:C,lineLength:E}=this;return E<=C?null:new B.Token({token:this.line[C],startCursor:C,endCursor:C})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const C=z.exec(this.lineFromCursor);return C?(this.cursor+=(C.index||0)+C[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(C){return this.cursor=C,this}advanceToToken(C){return this.cursor=C.startCursor,this}advancePastToken(C){return this.cursor=C.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}I.Scanner=Scanner},{"./Token":159}],159:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Token=void 0;class Token{constructor(C){this.token=C.token,this.startCursor=C.startCursor,this.endCursor=C.endCursor}static isTokenRowDelimiter(C){const E=C.token;return"\r"===E||"\n"===E||"\r\n"===E}static isTokenCarriageReturn(C,E){return C.token===E.carriageReturn}static isTokenComment(C,E){return E.supportsComments&&!!C&&C.token===E.comment}static isTokenEscapeCharacter(C,E){return C.token===E.escapeChar}static isTokenQuote(C,E){return C.token===E.quote}static isTokenDelimiter(C,E){return C.token===E.delimiter}}I.Token=Token},{}],160:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ColumnFormatter=void 0;class ColumnFormatter{constructor(C){C.trim?this.format=C=>C.trim():C.ltrim?this.format=C=>C.trimLeft():C.rtrim?this.format=C=>C.trimRight():this.format=C=>C}}I.ColumnFormatter=ColumnFormatter},{}],161:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ColumnParser=void 0;const B=C("./NonQuotedColumnParser"),z=C("./QuotedColumnParser"),q=C("../Token");class ColumnParser{constructor(C){this.parserOptions=C,this.quotedColumnParser=new z.QuotedColumnParser(C),this.nonQuotedColumnParser=new B.NonQuotedColumnParser(C)}parse(C){const{nextNonSpaceToken:E}=C;return null!==E&&q.Token.isTokenQuote(E,this.parserOptions)?(C.advanceToToken(E),this.quotedColumnParser.parse(C)):this.nonQuotedColumnParser.parse(C)}}I.ColumnParser=ColumnParser},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.NonQuotedColumnParser=void 0;const B=C("./ColumnFormatter"),z=C("../Token");class NonQuotedColumnParser{constructor(C){this.parserOptions=C,this.columnFormatter=new B.ColumnFormatter(C)}parse(C){if(!C.hasMoreCharacters)return null;const{parserOptions:E}=this,I=[];let B=C.nextCharacterToken;for(;B&&!z.Token.isTokenDelimiter(B,E)&&!z.Token.isTokenRowDelimiter(B);B=C.nextCharacterToken)I.push(B.token),C.advancePastToken(B);return this.columnFormatter.format(I.join(""))}}I.NonQuotedColumnParser=NonQuotedColumnParser},{"../Token":159,"./ColumnFormatter":160}],163:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.QuotedColumnParser=void 0;const B=C("./ColumnFormatter"),z=C("../Token");class QuotedColumnParser{constructor(C){this.parserOptions=C,this.columnFormatter=new B.ColumnFormatter(C)}parse(C){if(!C.hasMoreCharacters)return null;const E=C.cursor,{foundClosingQuote:I,col:B}=this.gatherDataBetweenQuotes(C);if(!I){if(C.advanceTo(E),!C.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${C.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(C),B}gatherDataBetweenQuotes(C){const{parserOptions:E}=this;let I=!1,B=!1;const q=[];let Q=C.nextCharacterToken;for(;!B&&null!==Q;Q=C.nextCharacterToken){const ee=z.Token.isTokenQuote(Q,E);if(!I&&ee)I=!0;else if(I)if(z.Token.isTokenEscapeCharacter(Q,E)){C.advancePastToken(Q);const I=C.nextCharacterToken;null!==I&&(z.Token.isTokenQuote(I,E)||z.Token.isTokenEscapeCharacter(I,E))?(q.push(I.token),Q=I):ee?B=!0:q.push(Q.token)}else ee?B=!0:q.push(Q.token);C.advancePastToken(Q)}return{col:this.columnFormatter.format(q.join("")),foundClosingQuote:B}}checkForMalformedColumn(C){const{parserOptions:E}=this,{nextNonSpaceToken:I}=C;if(I){const B=z.Token.isTokenDelimiter(I,E),q=z.Token.isTokenRowDelimiter(I);if(!B&&!q){const B=C.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${E.escapedDelimiter}' OR new line got: '${I.token}'. at '${B}`)}C.advanceToToken(I)}else C.hasMoreData||C.advancePastLine()}}I.QuotedColumnParser=QuotedColumnParser},{"../Token":159,"./ColumnFormatter":160}],164:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ColumnFormatter=I.QuotedColumnParser=I.NonQuotedColumnParser=I.ColumnParser=void 0;var B=C("./ColumnParser");Object.defineProperty(I,"ColumnParser",{enumerable:!0,get:function(){return B.ColumnParser}});var z=C("./NonQuotedColumnParser");Object.defineProperty(I,"NonQuotedColumnParser",{enumerable:!0,get:function(){return z.NonQuotedColumnParser}});var q=C("./QuotedColumnParser");Object.defineProperty(I,"QuotedColumnParser",{enumerable:!0,get:function(){return q.QuotedColumnParser}});var Q=C("./ColumnFormatter");Object.defineProperty(I,"ColumnFormatter",{enumerable:!0,get:function(){return Q.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.QuotedColumnParser=I.NonQuotedColumnParser=I.ColumnParser=I.Token=I.Scanner=I.RowParser=I.Parser=void 0;var B=C("./Parser");Object.defineProperty(I,"Parser",{enumerable:!0,get:function(){return B.Parser}});var z=C("./RowParser");Object.defineProperty(I,"RowParser",{enumerable:!0,get:function(){return z.RowParser}});var q=C("./Scanner");Object.defineProperty(I,"Scanner",{enumerable:!0,get:function(){return q.Scanner}});var Q=C("./Token");Object.defineProperty(I,"Token",{enumerable:!0,get:function(){return Q.Token}});var ee=C("./column");Object.defineProperty(I,"ColumnParser",{enumerable:!0,get:function(){return ee.ColumnParser}}),Object.defineProperty(I,"NonQuotedColumnParser",{enumerable:!0,get:function(){return ee.NonQuotedColumnParser}}),Object.defineProperty(I,"QuotedColumnParser",{enumerable:!0,get:function(){return ee.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(C,E,I){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(I,"__esModule",{value:!0}),I.HeaderTransformer=void 0;const B=__importDefault(C("lodash.isundefined")),z=__importDefault(C("lodash.isfunction")),q=__importDefault(C("lodash.uniq")),Q=__importDefault(C("lodash.groupby"));class HeaderTransformer{constructor(C){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=C,!0===C.headers?this.shouldUseFirstRow=!0:Array.isArray(C.headers)?this.setHeaders(C.headers):z.default(C.headers)&&(this.headersTransform=C.headers)}transform(C,E){return this.shouldMapRow(C)?E(null,this.processRow(C)):E(null,{row:null,isValid:!0})}shouldMapRow(C){const{parserOptions:E}=this;if(!this.headersTransform&&E.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(C)){if(this.headersTransform)this.setHeaders(this.headersTransform(C));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(C)}return!1}return!0}processRow(C){if(!this.headers)return{row:C,isValid:!0};const{parserOptions:E}=this;if(!E.discardUnmappedColumns&&C.length>this.headersLength){if(!E.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${C.length}`);return{row:C,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${C.length}`}}return E.strictColumnHandling&&C.length<this.headersLength?{row:C,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${C.length}`}:{row:this.mapHeaders(C),isValid:!0}}mapHeaders(C){const E={},{headers:I,headersLength:z}=this;for(let q=0;q<z;q+=1){const z=I[q];if(!B.default(z)){const I=C[q];B.default(I)?E[z]="":E[z]=I}}return E}setHeaders(C){var E;const I=C.filter((C=>!!C));if(q.default(I).length!==I.length){const C=Q.default(I),E=Object.keys(C).filter((E=>C[E].length>1));throw new Error(`Duplicate headers found ${JSON.stringify(E)}`)}this.headers=C,this.receivedHeaders=!0,this.headersLength=(null===(E=this.headers)||void 0===E?void 0:E.length)||0}}I.HeaderTransformer=HeaderTransformer},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(C,E,I){"use strict";var __importDefault=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(I,"__esModule",{value:!0}),I.RowTransformerValidator=void 0;const B=__importDefault(C("lodash.isfunction")),z=C("../types");class RowTransformerValidator{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(C){return z.isSyncTransform(C)?(E,I)=>{let B=null;try{B=C(E)}catch(C){return I(C)}return I(null,B)}:C}static createValidator(C){return z.isSyncValidate(C)?(E,I)=>{I(null,{row:E,isValid:C(E)})}:(E,I)=>{C(E,((C,B,z)=>C?I(C):I(null,B?{row:E,isValid:B,reason:z}:{row:E,isValid:!1,reason:z})))}}set rowTransform(C){if(!B.default(C))throw new TypeError("The transform should be a function");this._rowTransform=RowTransformerValidator.createTransform(C)}set rowValidator(C){if(!B.default(C))throw new TypeError("The validate should be a function");this._rowValidator=RowTransformerValidator.createValidator(C)}transformAndValidate(C,E){return this.callTransformer(C,((C,I)=>C?E(C):I?this.callValidator(I,((C,B)=>C?E(C):B&&!B.isValid?E(null,{row:I,isValid:!1,reason:B.reason}):E(null,{row:I,isValid:!0}))):E(null,{row:null,isValid:!0})))}callTransformer(C,E){return this._rowTransform?this._rowTransform(C,E):E(null,C)}callValidator(C,E){return this._rowValidator?this._rowValidator(C,E):E(null,{row:C,isValid:!0})}}I.RowTransformerValidator=RowTransformerValidator},{"../types":169,"lodash.isfunction":446}],168:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.HeaderTransformer=I.RowTransformerValidator=void 0;var B=C("./RowTransformerValidator");Object.defineProperty(I,"RowTransformerValidator",{enumerable:!0,get:function(){return B.RowTransformerValidator}});var z=C("./HeaderTransformer");Object.defineProperty(I,"HeaderTransformer",{enumerable:!0,get:function(){return z.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.isSyncValidate=I.isSyncTransform=void 0,I.isSyncTransform=C=>1===C.length,I.isSyncValidate=C=>1===C.length},{}],170:[function(C,E,I){"use strict";const B=I;B.bignum=C("bn.js"),B.define=C("./asn1/api").define,B.base=C("./asn1/base"),B.constants=C("./asn1/constants"),B.decoders=C("./asn1/decoders"),B.encoders=C("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(C,E,I){"use strict";const B=C("./encoders"),z=C("./decoders"),q=C("inherits");function Entity(C,E){this.name=C,this.body=E,this.decoders={},this.encoders={}}I.define=function define(C,E){return new Entity(C,E)},Entity.prototype._createNamed=function createNamed(C){const E=this.name;function Generated(C){this._initNamed(C,E)}return q(Generated,C),Generated.prototype._initNamed=function _initNamed(E,I){C.call(this,E,I)},new Generated(this)},Entity.prototype._getDecoder=function _getDecoder(C){return C=C||"der",this.decoders.hasOwnProperty(C)||(this.decoders[C]=this._createNamed(z[C])),this.decoders[C]},Entity.prototype.decode=function decode(C,E,I){return this._getDecoder(E).decode(C,I)},Entity.prototype._getEncoder=function _getEncoder(C){return C=C||"der",this.encoders.hasOwnProperty(C)||(this.encoders[C]=this._createNamed(B[C])),this.encoders[C]},Entity.prototype.encode=function encode(C,E,I){return this._getEncoder(E).encode(C,I)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(C,E,I){"use strict";const B=C("inherits"),z=C("../base/reporter").Reporter,q=C("safer-buffer").Buffer;function DecoderBuffer(C,E){z.call(this,E),q.isBuffer(C)?(this.base=C,this.offset=0,this.length=C.length):this.error("Input not Buffer")}function EncoderBuffer(C,E){if(Array.isArray(C))this.length=0,this.value=C.map((function(C){return EncoderBuffer.isEncoderBuffer(C)||(C=new EncoderBuffer(C,E)),this.length+=C.length,C}),this);else if("number"==typeof C){if(!(0<=C&&C<=255))return E.error("non-byte EncoderBuffer value");this.value=C,this.length=1}else if("string"==typeof C)this.value=C,this.length=q.byteLength(C);else{if(!q.isBuffer(C))return E.error("Unsupported type: "+typeof C);this.value=C,this.length=C.length}}B(DecoderBuffer,z),I.DecoderBuffer=DecoderBuffer,DecoderBuffer.isDecoderBuffer=function isDecoderBuffer(C){return C instanceof DecoderBuffer||"object"==typeof C&&q.isBuffer(C.base)&&"DecoderBuffer"===C.constructor.name&&"number"==typeof C.offset&&"number"==typeof C.length&&"function"==typeof C.save&&"function"==typeof C.restore&&"function"==typeof C.isEmpty&&"function"==typeof C.readUInt8&&"function"==typeof C.skip&&"function"==typeof C.raw},DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:z.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function restore(C){const E=new DecoderBuffer(this.base);return E.offset=C.offset,E.length=this.offset,this.offset=C.offset,z.prototype.restore.call(this,C.reporter),E},DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function readUInt8(C){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(C||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function skip(C,E){if(!(this.offset+C<=this.length))return this.error(E||"DecoderBuffer overrun");const I=new DecoderBuffer(this.base);return I._reporterState=this._reporterState,I.offset=this.offset,I.length=this.offset+C,this.offset+=C,I},DecoderBuffer.prototype.raw=function raw(C){return this.base.slice(C?C.offset:this.offset,this.length)},I.EncoderBuffer=EncoderBuffer,EncoderBuffer.isEncoderBuffer=function isEncoderBuffer(C){return C instanceof EncoderBuffer||"object"==typeof C&&"EncoderBuffer"===C.constructor.name&&"number"==typeof C.length&&"function"==typeof C.join},EncoderBuffer.prototype.join=function join(C,E){return C||(C=q.alloc(this.length)),E||(E=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(I){I.join(C,E),E+=I.length})):("number"==typeof this.value?C[E]=this.value:"string"==typeof this.value?C.write(this.value,E):q.isBuffer(this.value)&&this.value.copy(C,E),E+=this.length)),C}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(C,E,I){"use strict";const B=I;B.Reporter=C("./reporter").Reporter,B.DecoderBuffer=C("./buffer").DecoderBuffer,B.EncoderBuffer=C("./buffer").EncoderBuffer,B.Node=C("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(C,E,I){"use strict";const B=C("../base/reporter").Reporter,z=C("../base/buffer").EncoderBuffer,q=C("../base/buffer").DecoderBuffer,Q=C("minimalistic-assert"),ee=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],te=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ee),ie=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node(C,E,I){const B={};this._baseState=B,B.name=I,B.enc=C,B.parent=E||null,B.children=null,B.tag=null,B.args=null,B.reverseArgs=null,B.choice=null,B.optional=!1,B.any=!1,B.obj=!1,B.use=null,B.useDecoder=null,B.key=null,B.default=null,B.explicit=null,B.implicit=null,B.contains=null,B.parent||(B.children=[],this._wrap())}E.exports=Node;const re=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function clone(){const C=this._baseState,E={};re.forEach((function(I){E[I]=C[I]}));const I=new this.constructor(E.parent);return I._baseState=E,I},Node.prototype._wrap=function wrap(){const C=this._baseState;te.forEach((function(E){this[E]=function _wrappedMethod(){const I=new this.constructor(this);return C.children.push(I),I[E].apply(I,arguments)}}),this)},Node.prototype._init=function init(C){const E=this._baseState;Q(null===E.parent),C.call(this),E.children=E.children.filter((function(C){return C._baseState.parent===this}),this),Q.equal(E.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function useArgs(C){const E=this._baseState,I=C.filter((function(C){return C instanceof this.constructor}),this);C=C.filter((function(C){return!(C instanceof this.constructor)}),this),0!==I.length&&(Q(null===E.children),E.children=I,I.forEach((function(C){C._baseState.parent=this}),this)),0!==C.length&&(Q(null===E.args),E.args=C,E.reverseArgs=C.map((function(C){if("object"!=typeof C||C.constructor!==Object)return C;const E={};return Object.keys(C).forEach((function(I){I==(0|I)&&(I|=0);const B=C[I];E[B]=I})),E})))},ie.forEach((function(C){Node.prototype[C]=function _overrided(){const E=this._baseState;throw new Error(C+" not implemented for encoding: "+E.enc)}})),ee.forEach((function(C){Node.prototype[C]=function _tagMethod(){const E=this._baseState,I=Array.prototype.slice.call(arguments);return Q(null===E.tag),E.tag=C,this._useArgs(I),this}})),Node.prototype.use=function use(C){Q(C);const E=this._baseState;return Q(null===E.use),E.use=C,this},Node.prototype.optional=function optional(){return this._baseState.optional=!0,this},Node.prototype.def=function def(C){const E=this._baseState;return Q(null===E.default),E.default=C,E.optional=!0,this},Node.prototype.explicit=function explicit(C){const E=this._baseState;return Q(null===E.explicit&&null===E.implicit),E.explicit=C,this},Node.prototype.implicit=function implicit(C){const E=this._baseState;return Q(null===E.explicit&&null===E.implicit),E.implicit=C,this},Node.prototype.obj=function obj(){const C=this._baseState,E=Array.prototype.slice.call(arguments);return C.obj=!0,0!==E.length&&this._useArgs(E),this},Node.prototype.key=function key(C){const E=this._baseState;return Q(null===E.key),E.key=C,this},Node.prototype.any=function any(){return this._baseState.any=!0,this},Node.prototype.choice=function choice(C){const E=this._baseState;return Q(null===E.choice),E.choice=C,this._useArgs(Object.keys(C).map((function(E){return C[E]}))),this},Node.prototype.contains=function contains(C){const E=this._baseState;return Q(null===E.use),E.contains=C,this},Node.prototype._decode=function decode(C,E){const I=this._baseState;if(null===I.parent)return C.wrapResult(I.children[0]._decode(C,E));let B,z=I.default,Q=!0,ee=null;if(null!==I.key&&(ee=C.enterKey(I.key)),I.optional){let B=null;if(null!==I.explicit?B=I.explicit:null!==I.implicit?B=I.implicit:null!==I.tag&&(B=I.tag),null!==B||I.any){if(Q=this._peekTag(C,B,I.any),C.isError(Q))return Q}else{const B=C.save();try{null===I.choice?this._decodeGeneric(I.tag,C,E):this._decodeChoice(C,E),Q=!0}catch(C){Q=!1}C.restore(B)}}if(I.obj&&Q&&(B=C.enterObject()),Q){if(null!==I.explicit){const E=this._decodeTag(C,I.explicit);if(C.isError(E))return E;C=E}const B=C.offset;if(null===I.use&&null===I.choice){let E;I.any&&(E=C.save());const B=this._decodeTag(C,null!==I.implicit?I.implicit:I.tag,I.any);if(C.isError(B))return B;I.any?z=C.raw(E):C=B}if(E&&E.track&&null!==I.tag&&E.track(C.path(),B,C.length,"tagged"),E&&E.track&&null!==I.tag&&E.track(C.path(),C.offset,C.length,"content"),I.any||(z=null===I.choice?this._decodeGeneric(I.tag,C,E):this._decodeChoice(C,E)),C.isError(z))return z;if(I.any||null!==I.choice||null===I.children||I.children.forEach((function decodeChildren(I){I._decode(C,E)})),I.contains&&("octstr"===I.tag||"bitstr"===I.tag)){const B=new q(z);z=this._getUse(I.contains,C._reporterState.obj)._decode(B,E)}}return I.obj&&Q&&(z=C.leaveObject(B)),null===I.key||null===z&&!0!==Q?null!==ee&&C.exitKey(ee):C.leaveKey(ee,I.key,z),z},Node.prototype._decodeGeneric=function decodeGeneric(C,E,I){const B=this._baseState;return"seq"===C||"set"===C?null:"seqof"===C||"setof"===C?this._decodeList(E,C,B.args[0],I):/str$/.test(C)?this._decodeStr(E,C,I):"objid"===C&&B.args?this._decodeObjid(E,B.args[0],B.args[1],I):"objid"===C?this._decodeObjid(E,null,null,I):"gentime"===C||"utctime"===C?this._decodeTime(E,C,I):"null_"===C?this._decodeNull(E,I):"bool"===C?this._decodeBool(E,I):"objDesc"===C?this._decodeStr(E,C,I):"int"===C||"enum"===C?this._decodeInt(E,B.args&&B.args[0],I):null!==B.use?this._getUse(B.use,E._reporterState.obj)._decode(E,I):E.error("unknown tag: "+C)},Node.prototype._getUse=function _getUse(C,E){const I=this._baseState;return I.useDecoder=this._use(C,E),Q(null===I.useDecoder._baseState.parent),I.useDecoder=I.useDecoder._baseState.children[0],I.implicit!==I.useDecoder._baseState.implicit&&(I.useDecoder=I.useDecoder.clone(),I.useDecoder._baseState.implicit=I.implicit),I.useDecoder},Node.prototype._decodeChoice=function decodeChoice(C,E){const I=this._baseState;let B=null,z=!1;return Object.keys(I.choice).some((function(q){const Q=C.save(),ee=I.choice[q];try{const I=ee._decode(C,E);if(C.isError(I))return!1;B={type:q,value:I},z=!0}catch(E){return C.restore(Q),!1}return!0}),this),z?B:C.error("Choice not matched")},Node.prototype._createEncoderBuffer=function createEncoderBuffer(C){return new z(C,this.reporter)},Node.prototype._encode=function encode(C,E,I){const B=this._baseState;if(null!==B.default&&B.default===C)return;const z=this._encodeValue(C,E,I);return void 0===z||this._skipDefault(z,E,I)?void 0:z},Node.prototype._encodeValue=function encode(C,E,I){const z=this._baseState;if(null===z.parent)return z.children[0]._encode(C,E||new B);let q=null;if(this.reporter=E,z.optional&&void 0===C){if(null===z.default)return;C=z.default}let Q=null,ee=!1;if(z.any)q=this._createEncoderBuffer(C);else if(z.choice)q=this._encodeChoice(C,E);else if(z.contains)Q=this._getUse(z.contains,I)._encode(C,E),ee=!0;else if(z.children)Q=z.children.map((function(I){if("null_"===I._baseState.tag)return I._encode(null,E,C);if(null===I._baseState.key)return E.error("Child should have a key");const B=E.enterKey(I._baseState.key);if("object"!=typeof C)return E.error("Child expected, but input is not object");const z=I._encode(C[I._baseState.key],E,C);return E.leaveKey(B),z}),this).filter((function(C){return C})),Q=this._createEncoderBuffer(Q);else if("seqof"===z.tag||"setof"===z.tag){if(!z.args||1!==z.args.length)return E.error("Too many args for : "+z.tag);if(!Array.isArray(C))return E.error("seqof/setof, but data is not Array");const I=this.clone();I._baseState.implicit=null,Q=this._createEncoderBuffer(C.map((function(I){const B=this._baseState;return this._getUse(B.args[0],C)._encode(I,E)}),I))}else null!==z.use?q=this._getUse(z.use,I)._encode(C,E):(Q=this._encodePrimitive(z.tag,C),ee=!0);if(!z.any&&null===z.choice){const C=null!==z.implicit?z.implicit:z.tag,I=null===z.implicit?"universal":"context";null===C?null===z.use&&E.error("Tag could be omitted only for .use()"):null===z.use&&(q=this._encodeComposite(C,ee,I,Q))}return null!==z.explicit&&(q=this._encodeComposite(z.explicit,!1,"context",q)),q},Node.prototype._encodeChoice=function encodeChoice(C,E){const I=this._baseState,B=I.choice[C.type];return B||Q(!1,C.type+" not found in "+JSON.stringify(Object.keys(I.choice))),B._encode(C.value,E)},Node.prototype._encodePrimitive=function encodePrimitive(C,E){const I=this._baseState;if(/str$/.test(C))return this._encodeStr(E,C);if("objid"===C&&I.args)return this._encodeObjid(E,I.reverseArgs[0],I.args[1]);if("objid"===C)return this._encodeObjid(E,null,null);if("gentime"===C||"utctime"===C)return this._encodeTime(E,C);if("null_"===C)return this._encodeNull();if("int"===C||"enum"===C)return this._encodeInt(E,I.args&&I.reverseArgs[0]);if("bool"===C)return this._encodeBool(E);if("objDesc"===C)return this._encodeStr(E,C);throw new Error("Unsupported tag: "+C)},Node.prototype._isNumstr=function isNumstr(C){return/^[0-9 ]*$/.test(C)},Node.prototype._isPrintstr=function isPrintstr(C){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(C)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(C,E,I){"use strict";const B=C("inherits");function Reporter(C){this._reporterState={obj:null,path:[],options:C||{},errors:[]}}function ReporterError(C,E){this.path=C,this.rethrow(E)}I.Reporter=Reporter,Reporter.prototype.isError=function isError(C){return C instanceof ReporterError},Reporter.prototype.save=function save(){const C=this._reporterState;return{obj:C.obj,pathLen:C.path.length}},Reporter.prototype.restore=function restore(C){const E=this._reporterState;E.obj=C.obj,E.path=E.path.slice(0,C.pathLen)},Reporter.prototype.enterKey=function enterKey(C){return this._reporterState.path.push(C)},Reporter.prototype.exitKey=function exitKey(C){const E=this._reporterState;E.path=E.path.slice(0,C-1)},Reporter.prototype.leaveKey=function leaveKey(C,E,I){const B=this._reporterState;this.exitKey(C),null!==B.obj&&(B.obj[E]=I)},Reporter.prototype.path=function path(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function enterObject(){const C=this._reporterState,E=C.obj;return C.obj={},E},Reporter.prototype.leaveObject=function leaveObject(C){const E=this._reporterState,I=E.obj;return E.obj=C,I},Reporter.prototype.error=function error(C){let E;const I=this._reporterState,B=C instanceof ReporterError;if(E=B?C:new ReporterError(I.path.map((function(C){return"["+JSON.stringify(C)+"]"})).join(""),C.message||C,C.stack),!I.options.partial)throw E;return B||I.errors.push(E),E},Reporter.prototype.wrapResult=function wrapResult(C){const E=this._reporterState;return E.options.partial?{result:this.isError(C)?null:C,errors:E.errors}:C},B(ReporterError,Error),ReporterError.prototype.rethrow=function rethrow(C){if(this.message=C+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(C){this.stack=C.stack}return this}},{inherits:440}],176:[function(C,E,I){"use strict";function reverse(C){const E={};return Object.keys(C).forEach((function(I){(0|I)==I&&(I|=0);const B=C[I];E[B]=I})),E}I.tagClass={0:"universal",1:"application",2:"context",3:"private"},I.tagClassByName=reverse(I.tagClass),I.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},I.tagByName=reverse(I.tag)},{}],177:[function(C,E,I){"use strict";const B=I;B._reverse=function reverse(C){const E={};return Object.keys(C).forEach((function(I){(0|I)==I&&(I|=0);const B=C[I];E[B]=I})),E},B.der=C("./der")},{"./der":176}],178:[function(C,E,I){"use strict";const B=C("inherits"),z=C("bn.js"),q=C("../base/buffer").DecoderBuffer,Q=C("../base/node"),ee=C("../constants/der");function DERDecoder(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new DERNode,this.tree._init(C.body)}function DERNode(C){Q.call(this,"der",C)}function derDecodeTag(C,E){let I=C.readUInt8(E);if(C.isError(I))return I;const B=ee.tagClass[I>>6],z=0==(32&I);if(31==(31&I)){let B=I;for(I=0;128==(128&B);){if(B=C.readUInt8(E),C.isError(B))return B;I<<=7,I|=127&B}}else I&=31;return{cls:B,primitive:z,tag:I,tagStr:ee.tag[I]}}function derDecodeLen(C,E,I){let B=C.readUInt8(I);if(C.isError(B))return B;if(!E&&128===B)return null;if(0==(128&B))return B;const z=127&B;if(z>4)return C.error("length octect is too long");B=0;for(let E=0;E<z;E++){B<<=8;const E=C.readUInt8(I);if(C.isError(E))return E;B|=E}return B}E.exports=DERDecoder,DERDecoder.prototype.decode=function decode(C,E){return q.isDecoderBuffer(C)||(C=new q(C,E)),this.tree._decode(C,E)},B(DERNode,Q),DERNode.prototype._peekTag=function peekTag(C,E,I){if(C.isEmpty())return!1;const B=C.save(),z=derDecodeTag(C,'Failed to peek tag: "'+E+'"');return C.isError(z)?z:(C.restore(B),z.tag===E||z.tagStr===E||z.tagStr+"of"===E||I)},DERNode.prototype._decodeTag=function decodeTag(C,E,I){const B=derDecodeTag(C,'Failed to decode tag of "'+E+'"');if(C.isError(B))return B;let z=derDecodeLen(C,B.primitive,'Failed to get length of "'+E+'"');if(C.isError(z))return z;if(!I&&B.tag!==E&&B.tagStr!==E&&B.tagStr+"of"!==E)return C.error('Failed to match tag: "'+E+'"');if(B.primitive||null!==z)return C.skip(z,'Failed to match body of: "'+E+'"');const q=C.save(),Q=this._skipUntilEnd(C,'Failed to skip indefinite length body: "'+this.tag+'"');return C.isError(Q)?Q:(z=C.offset-q.offset,C.restore(q),C.skip(z,'Failed to match body of: "'+E+'"'))},DERNode.prototype._skipUntilEnd=function skipUntilEnd(C,E){for(;;){const I=derDecodeTag(C,E);if(C.isError(I))return I;const B=derDecodeLen(C,I.primitive,E);if(C.isError(B))return B;let z;if(z=I.primitive||null!==B?C.skip(B):this._skipUntilEnd(C,E),C.isError(z))return z;if("end"===I.tagStr)break}},DERNode.prototype._decodeList=function decodeList(C,E,I,B){const z=[];for(;!C.isEmpty();){const E=this._peekTag(C,"end");if(C.isError(E))return E;const q=I.decode(C,"der",B);if(C.isError(q)&&E)break;z.push(q)}return z},DERNode.prototype._decodeStr=function decodeStr(C,E){if("bitstr"===E){const E=C.readUInt8();return C.isError(E)?E:{unused:E,data:C.raw()}}if("bmpstr"===E){const E=C.raw();if(E.length%2==1)return C.error("Decoding of string type: bmpstr length mismatch");let I="";for(let C=0;C<E.length/2;C++)I+=String.fromCharCode(E.readUInt16BE(2*C));return I}if("numstr"===E){const E=C.raw().toString("ascii");return this._isNumstr(E)?E:C.error("Decoding of string type: numstr unsupported characters")}if("octstr"===E)return C.raw();if("objDesc"===E)return C.raw();if("printstr"===E){const E=C.raw().toString("ascii");return this._isPrintstr(E)?E:C.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(E)?C.raw().toString():C.error("Decoding of string type: "+E+" unsupported")},DERNode.prototype._decodeObjid=function decodeObjid(C,E,I){let B;const z=[];let q=0,Q=0;for(;!C.isEmpty();)Q=C.readUInt8(),q<<=7,q|=127&Q,0==(128&Q)&&(z.push(q),q=0);128&Q&&z.push(q);const ee=z[0]/40|0,te=z[0]%40;if(B=I?z:[ee,te].concat(z.slice(1)),E){let C=E[B.join(" ")];void 0===C&&(C=E[B.join(".")]),void 0!==C&&(B=C)}return B},DERNode.prototype._decodeTime=function decodeTime(C,E){const I=C.raw().toString();let B,z,q,Q,ee,te;if("gentime"===E)B=0|I.slice(0,4),z=0|I.slice(4,6),q=0|I.slice(6,8),Q=0|I.slice(8,10),ee=0|I.slice(10,12),te=0|I.slice(12,14);else{if("utctime"!==E)return C.error("Decoding "+E+" time is not supported yet");B=0|I.slice(0,2),z=0|I.slice(2,4),q=0|I.slice(4,6),Q=0|I.slice(6,8),ee=0|I.slice(8,10),te=0|I.slice(10,12),B=B<70?2e3+B:1900+B}return Date.UTC(B,z-1,q,Q,ee,te,0)},DERNode.prototype._decodeNull=function decodeNull(){return null},DERNode.prototype._decodeBool=function decodeBool(C){const E=C.readUInt8();return C.isError(E)?E:0!==E},DERNode.prototype._decodeInt=function decodeInt(C,E){const I=C.raw();let B=new z(I);return E&&(B=E[B.toString(10)]||B),B},DERNode.prototype._use=function use(C,E){return"function"==typeof C&&(C=C(E)),C._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(C,E,I){"use strict";const B=I;B.der=C("./der"),B.pem=C("./pem")},{"./der":178,"./pem":180}],180:[function(C,E,I){"use strict";const B=C("inherits"),z=C("safer-buffer").Buffer,q=C("./der");function PEMDecoder(C){q.call(this,C),this.enc="pem"}B(PEMDecoder,q),E.exports=PEMDecoder,PEMDecoder.prototype.decode=function decode(C,E){const I=C.toString().split(/[\r\n]+/g),B=E.label.toUpperCase(),Q=/^-----(BEGIN|END) ([^-]+)-----$/;let ee=-1,te=-1;for(let C=0;C<I.length;C++){const E=I[C].match(Q);if(null!==E&&E[2]===B){if(-1!==ee){if("END"!==E[1])break;te=C;break}if("BEGIN"!==E[1])break;ee=C}}if(-1===ee||-1===te)throw new Error("PEM section not found for: "+B);const ie=I.slice(ee+1,te).join("");ie.replace(/[^a-z0-9+/=]+/gi,"");const re=z.from(ie,"base64");return q.prototype.decode.call(this,re,E)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(C,E,I){"use strict";const B=C("inherits"),z=C("safer-buffer").Buffer,q=C("../base/node"),Q=C("../constants/der");function DEREncoder(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new DERNode,this.tree._init(C.body)}function DERNode(C){q.call(this,"der",C)}function two(C){return C<10?"0"+C:C}function encodeTag(C,E,I,B){let z;if("seqof"===C?C="seq":"setof"===C&&(C="set"),Q.tagByName.hasOwnProperty(C))z=Q.tagByName[C];else{if("number"!=typeof C||(0|C)!==C)return B.error("Unknown tag: "+C);z=C}return z>=31?B.error("Multi-octet tag encoding unsupported"):(E||(z|=32),z|=Q.tagClassByName[I||"universal"]<<6,z)}E.exports=DEREncoder,DEREncoder.prototype.encode=function encode(C,E){return this.tree._encode(C,E).join()},B(DERNode,q),DERNode.prototype._encodeComposite=function encodeComposite(C,E,I,B){const q=encodeTag(C,E,I,this.reporter);if(B.length<128){const C=z.alloc(2);return C[0]=q,C[1]=B.length,this._createEncoderBuffer([C,B])}let Q=1;for(let C=B.length;C>=256;C>>=8)Q++;const ee=z.alloc(2+Q);ee[0]=q,ee[1]=128|Q;for(let C=1+Q,E=B.length;E>0;C--,E>>=8)ee[C]=255&E;return this._createEncoderBuffer([ee,B])},DERNode.prototype._encodeStr=function encodeStr(C,E){if("bitstr"===E)return this._createEncoderBuffer([0|C.unused,C.data]);if("bmpstr"===E){const E=z.alloc(2*C.length);for(let I=0;I<C.length;I++)E.writeUInt16BE(C.charCodeAt(I),2*I);return this._createEncoderBuffer(E)}return"numstr"===E?this._isNumstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===E?this._isPrintstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(E)||"objDesc"===E?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: "+E+" unsupported")},DERNode.prototype._encodeObjid=function encodeObjid(C,E,I){if("string"==typeof C){if(!E)return this.reporter.error("string objid given, but no values map found");if(!E.hasOwnProperty(C))return this.reporter.error("objid not found in values map");C=E[C].split(/[\s.]+/g);for(let E=0;E<C.length;E++)C[E]|=0}else if(Array.isArray(C)){C=C.slice();for(let E=0;E<C.length;E++)C[E]|=0}if(!Array.isArray(C))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(C));if(!I){if(C[1]>=40)return this.reporter.error("Second objid identifier OOB");C.splice(0,2,40*C[0]+C[1])}let B=0;for(let E=0;E<C.length;E++){let I=C[E];for(B++;I>=128;I>>=7)B++}const q=z.alloc(B);let Q=q.length-1;for(let E=C.length-1;E>=0;E--){let I=C[E];for(q[Q--]=127&I;(I>>=7)>0;)q[Q--]=128|127&I}return this._createEncoderBuffer(q)},DERNode.prototype._encodeTime=function encodeTime(C,E){let I;const B=new Date(C);return"gentime"===E?I=[two(B.getUTCFullYear()),two(B.getUTCMonth()+1),two(B.getUTCDate()),two(B.getUTCHours()),two(B.getUTCMinutes()),two(B.getUTCSeconds()),"Z"].join(""):"utctime"===E?I=[two(B.getUTCFullYear()%100),two(B.getUTCMonth()+1),two(B.getUTCDate()),two(B.getUTCHours()),two(B.getUTCMinutes()),two(B.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+E+" time is not supported yet"),this._encodeStr(I,"octstr")},DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function encodeInt(C,E){if("string"==typeof C){if(!E)return this.reporter.error("String int or enum given, but no values map");if(!E.hasOwnProperty(C))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(C));C=E[C]}if("number"!=typeof C&&!z.isBuffer(C)){const E=C.toArray();!C.sign&&128&E[0]&&E.unshift(0),C=z.from(E)}if(z.isBuffer(C)){let E=C.length;0===C.length&&E++;const I=z.alloc(E);return C.copy(I),0===C.length&&(I[0]=0),this._createEncoderBuffer(I)}if(C<128)return this._createEncoderBuffer(C);if(C<256)return this._createEncoderBuffer([0,C]);let I=1;for(let E=C;E>=256;E>>=8)I++;const B=new Array(I);for(let E=B.length-1;E>=0;E--)B[E]=255&C,C>>=8;return 128&B[0]&&B.unshift(0),this._createEncoderBuffer(z.from(B))},DERNode.prototype._encodeBool=function encodeBool(C){return this._createEncoderBuffer(C?255:0)},DERNode.prototype._use=function use(C,E){return"function"==typeof C&&(C=C(E)),C._getEncoder("der").tree},DERNode.prototype._skipDefault=function skipDefault(C,E,I){const B=this._baseState;let z;if(null===B.default)return!1;const q=C.join();if(void 0===B.defaultBuffer&&(B.defaultBuffer=this._encodeValue(B.default,E,I).join()),q.length!==B.defaultBuffer.length)return!1;for(z=0;z<q.length;z++)if(q[z]!==B.defaultBuffer[z])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(C,E,I){"use strict";const B=I;B.der=C("./der"),B.pem=C("./pem")},{"./der":181,"./pem":183}],183:[function(C,E,I){"use strict";const B=C("inherits"),z=C("./der");function PEMEncoder(C){z.call(this,C),this.enc="pem"}B(PEMEncoder,z),E.exports=PEMEncoder,PEMEncoder.prototype.encode=function encode(C,E){const I=z.prototype.encode.call(this,C).toString("base64"),B=["-----BEGIN "+E.label+"-----"];for(let C=0;C<I.length;C+=64)B.push(I.slice(C,C+64));return B.push("-----END "+E.label+"-----"),B.join("\n")}},{"./der":181,inherits:440}],184:[function(C,E,I){"use strict";!function(E,I){function assert(C,E){if(!C)throw new Error(E||"Assertion failed")}function inherits(C,E){C.super_=E;var TempCtor=function(){};TempCtor.prototype=E.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}function BN(C,E,I){if(BN.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&("le"!==E&&"be"!==E||(I=E,E=10),this._init(C||0,E||10,I||"be"))}var B;"object"==typeof E?E.exports=BN:I.BN=BN,BN.BN=BN,BN.wordSize=26;try{B="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:C("buffer").Buffer}catch(C){}function parseHex4Bits(C,E){var I=C.charCodeAt(E);return I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:I-48&15}function parseHexByte(C,E,I){var B=parseHex4Bits(C,I);return I-1>=E&&(B|=parseHex4Bits(C,I-1)<<4),B}function parseBase(C,E,I,B){for(var z=0,q=Math.min(C.length,I),Q=E;Q<q;Q++){var ee=C.charCodeAt(Q)-48;z*=B,z+=ee>=49?ee-49+10:ee>=17?ee-17+10:ee}return z}BN.isBN=function isBN(C){return C instanceof BN||null!==C&&"object"==typeof C&&C.constructor.wordSize===BN.wordSize&&Array.isArray(C.words)},BN.max=function max(C,E){return C.cmp(E)>0?C:E},BN.min=function min(C,E){return C.cmp(E)<0?C:E},BN.prototype._init=function init(C,E,I){if("number"==typeof C)return this._initNumber(C,E,I);if("object"==typeof C)return this._initArray(C,E,I);"hex"===E&&(E=16),assert(E===(0|E)&&E>=2&&E<=36);var B=0;"-"===(C=C.toString().replace(/\s+/g,""))[0]&&(B++,this.negative=1),B<C.length&&(16===E?this._parseHex(C,B,I):(this._parseBase(C,E,B),"le"===I&&this._initArray(this.toArray(),E,I)))},BN.prototype._initNumber=function _initNumber(C,E,I){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(assert(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),"le"===I&&this._initArray(this.toArray(),E,I)},BN.prototype._initArray=function _initArray(C,E,I){if(assert("number"==typeof C.length),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var z,q,Q=0;if("be"===I)for(B=C.length-1,z=0;B>=0;B-=3)q=C[B]|C[B-1]<<8|C[B-2]<<16,this.words[z]|=q<<Q&67108863,this.words[z+1]=q>>>26-Q&67108863,(Q+=24)>=26&&(Q-=26,z++);else if("le"===I)for(B=0,z=0;B<C.length;B+=3)q=C[B]|C[B+1]<<8|C[B+2]<<16,this.words[z]|=q<<Q&67108863,this.words[z+1]=q>>>26-Q&67108863,(Q+=24)>=26&&(Q-=26,z++);return this.strip()},BN.prototype._parseHex=function _parseHex(C,E,I){this.length=Math.ceil((C.length-E)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var z,q=0,Q=0;if("be"===I)for(B=C.length-1;B>=E;B-=2)z=parseHexByte(C,E,B)<<q,this.words[Q]|=67108863&z,q>=18?(q-=18,Q+=1,this.words[Q]|=z>>>26):q+=8;else for(B=(C.length-E)%2==0?E+1:E;B<C.length;B+=2)z=parseHexByte(C,E,B)<<q,this.words[Q]|=67108863&z,q>=18?(q-=18,Q+=1,this.words[Q]|=z>>>26):q+=8;this.strip()},BN.prototype._parseBase=function _parseBase(C,E,I){this.words=[0],this.length=1;for(var B=0,z=1;z<=67108863;z*=E)B++;B--,z=z/E|0;for(var q=C.length-I,Q=q%B,ee=Math.min(q,q-Q)+I,te=0,ie=I;ie<ee;ie+=B)te=parseBase(C,ie,ie+B,E),this.imuln(z),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te);if(0!==Q){var re=1;for(te=parseBase(C,ie,C.length,E),ie=0;ie<Q;ie++)re*=E;this.imuln(re),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te)}this.strip()},BN.prototype.copy=function copy(C){C.words=new Array(this.length);for(var E=0;E<this.length;E++)C.words[E]=this.words[E];C.length=this.length,C.negative=this.negative,C.red=this.red},BN.prototype.clone=function clone(){var C=new BN(null);return this.copy(C),C},BN.prototype._expand=function _expand(C){for(;this.length<C;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function toBitArray(C){for(var E=new Array(C.bitLength()),I=0;I<E.length;I++){var B=I/26|0,z=I%26;E[I]=(C.words[B]&1<<z)>>>z}return E}function smallMulTo(C,E,I){I.negative=E.negative^C.negative;var B=C.length+E.length|0;I.length=B,B=B-1|0;var z=0|C.words[0],q=0|E.words[0],Q=z*q,ee=67108863&Q,te=Q/67108864|0;I.words[0]=ee;for(var ie=1;ie<B;ie++){for(var re=te>>>26,ne=67108863&te,se=Math.min(ie,E.length-1),oe=Math.max(0,ie-C.length+1);oe<=se;oe++){var ae=ie-oe|0;re+=(Q=(z=0|C.words[ae])*(q=0|E.words[oe])+ne)/67108864|0,ne=67108863&Q}I.words[ie]=0|ne,te=0|re}return 0!==te?I.words[ie]=0|te:I.length--,I.strip()}BN.prototype.toString=function toString(C,E){var I;if(E=0|E||1,16===(C=C||10)||"hex"===C){I="";for(var B=0,ee=0,te=0;te<this.length;te++){var ie=this.words[te],re=(16777215&(ie<<B|ee)).toString(16);I=0!=(ee=ie>>>24-B&16777215)||te!==this.length-1?z[6-re.length]+re+I:re+I,(B+=2)>=26&&(B-=26,te--)}for(0!==ee&&(I=ee.toString(16)+I);I.length%E!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}if(C===(0|C)&&C>=2&&C<=36){var ne=q[C],se=Q[C];I="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var ae=oe.modn(se).toString(C);I=(oe=oe.idivn(se)).isZero()?ae+I:z[ne-ae.length]+ae+I}for(this.isZero()&&(I="0"+I);I.length%E!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var C=this.words[0];return 2===this.length?C+=67108864*this.words[1]:3===this.length&&1===this.words[2]?C+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-C:C},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(C,E){return assert(void 0!==B),this.toArrayLike(B,C,E)},BN.prototype.toArray=function toArray(C,E){return this.toArrayLike(Array,C,E)},BN.prototype.toArrayLike=function toArrayLike(C,E,I){var B=this.byteLength(),z=I||Math.max(1,B);assert(B<=z,"byte array longer than desired length"),assert(z>0,"Requested array length <= 0"),this.strip();var q,Q,ee="le"===E,te=new C(z),ie=this.clone();if(ee){for(Q=0;!ie.isZero();Q++)q=ie.andln(255),ie.iushrn(8),te[Q]=q;for(;Q<z;Q++)te[Q]=0}else{for(Q=0;Q<z-B;Q++)te[Q]=0;for(Q=0;!ie.isZero();Q++)q=ie.andln(255),ie.iushrn(8),te[z-Q-1]=q}return te},Math.clz32?BN.prototype._countBits=function _countBits(C){return 32-Math.clz32(C)}:BN.prototype._countBits=function _countBits(C){var E=C,I=0;return E>=4096&&(I+=13,E>>>=13),E>=64&&(I+=7,E>>>=7),E>=8&&(I+=4,E>>>=4),E>=2&&(I+=2,E>>>=2),I+E},BN.prototype._zeroBits=function _zeroBits(C){if(0===C)return 26;var E=C,I=0;return 0==(8191&E)&&(I+=13,E>>>=13),0==(127&E)&&(I+=7,E>>>=7),0==(15&E)&&(I+=4,E>>>=4),0==(3&E)&&(I+=2,E>>>=2),0==(1&E)&&I++,I},BN.prototype.bitLength=function bitLength(){var C=this.words[this.length-1],E=this._countBits(C);return 26*(this.length-1)+E},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var C=0,E=0;E<this.length;E++){var I=this._zeroBits(this.words[E]);if(C+=I,26!==I)break}return C},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(C){return 0!==this.negative?this.abs().inotn(C).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var E=0;E<C.length;E++)this.words[E]=this.words[E]|C.words[E];return this.strip()},BN.prototype.ior=function ior(C){return assert(0==(this.negative|C.negative)),this.iuor(C)},BN.prototype.or=function or(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},BN.prototype.uor=function uor(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},BN.prototype.iuand=function iuand(C){var E;E=this.length>C.length?C:this;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]&C.words[I];return this.length=E.length,this.strip()},BN.prototype.iand=function iand(C){return assert(0==(this.negative|C.negative)),this.iuand(C)},BN.prototype.and=function and(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},BN.prototype.uand=function uand(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},BN.prototype.iuxor=function iuxor(C){var E,I;this.length>C.length?(E=this,I=C):(E=C,I=this);for(var B=0;B<I.length;B++)this.words[B]=E.words[B]^I.words[B];if(this!==E)for(;B<E.length;B++)this.words[B]=E.words[B];return this.length=E.length,this.strip()},BN.prototype.ixor=function ixor(C){return assert(0==(this.negative|C.negative)),this.iuxor(C)},BN.prototype.xor=function xor(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},BN.prototype.uxor=function uxor(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},BN.prototype.inotn=function inotn(C){assert("number"==typeof C&&C>=0);var E=0|Math.ceil(C/26),I=C%26;this._expand(E),I>0&&E--;for(var B=0;B<E;B++)this.words[B]=67108863&~this.words[B];return I>0&&(this.words[B]=~this.words[B]&67108863>>26-I),this.strip()},BN.prototype.notn=function notn(C){return this.clone().inotn(C)},BN.prototype.setn=function setn(C,E){assert("number"==typeof C&&C>=0);var I=C/26|0,B=C%26;return this._expand(I+1),this.words[I]=E?this.words[I]|1<<B:this.words[I]&~(1<<B),this.strip()},BN.prototype.iadd=function iadd(C){var E,I,B;if(0!==this.negative&&0===C.negative)return this.negative=0,E=this.isub(C),this.negative^=1,this._normSign();if(0===this.negative&&0!==C.negative)return C.negative=0,E=this.isub(C),C.negative=1,E._normSign();this.length>C.length?(I=this,B=C):(I=C,B=this);for(var z=0,q=0;q<B.length;q++)E=(0|I.words[q])+(0|B.words[q])+z,this.words[q]=67108863&E,z=E>>>26;for(;0!==z&&q<I.length;q++)E=(0|I.words[q])+z,this.words[q]=67108863&E,z=E>>>26;if(this.length=I.length,0!==z)this.words[this.length]=z,this.length++;else if(I!==this)for(;q<I.length;q++)this.words[q]=I.words[q];return this},BN.prototype.add=function add(C){var E;return 0!==C.negative&&0===this.negative?(C.negative=0,E=this.sub(C),C.negative^=1,E):0===C.negative&&0!==this.negative?(this.negative=0,E=C.sub(this),this.negative=1,E):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},BN.prototype.isub=function isub(C){if(0!==C.negative){C.negative=0;var E=this.iadd(C);return C.negative=1,E._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var I,B,z=this.cmp(C);if(0===z)return this.negative=0,this.length=1,this.words[0]=0,this;z>0?(I=this,B=C):(I=C,B=this);for(var q=0,Q=0;Q<B.length;Q++)q=(E=(0|I.words[Q])-(0|B.words[Q])+q)>>26,this.words[Q]=67108863&E;for(;0!==q&&Q<I.length;Q++)q=(E=(0|I.words[Q])+q)>>26,this.words[Q]=67108863&E;if(0===q&&Q<I.length&&I!==this)for(;Q<I.length;Q++)this.words[Q]=I.words[Q];return this.length=Math.max(this.length,Q),I!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(C){return this.clone().isub(C)};var ee=function comb10MulTo(C,E,I){var B,z,q,Q=C.words,ee=E.words,te=I.words,ie=0,re=0|Q[0],ne=8191&re,se=re>>>13,oe=0|Q[1],ae=8191&oe,le=oe>>>13,ue=0|Q[2],de=8191&ue,ce=ue>>>13,he=0|Q[3],fe=8191&he,pe=he>>>13,me=0|Q[4],ge=8191&me,ve=me>>>13,ye=0|Q[5],be=8191&ye,Ce=ye>>>13,we=0|Q[6],_e=8191&we,Se=we>>>13,xe=0|Q[7],ke=8191&xe,Te=xe>>>13,Me=0|Q[8],Re=8191&Me,Ee=Me>>>13,Pe=0|Q[9],Ie=8191&Pe,Ae=Pe>>>13,Ne=0|ee[0],De=8191&Ne,Be=Ne>>>13,Fe=0|ee[1],Oe=8191&Fe,Le=Fe>>>13,$e=0|ee[2],je=8191&$e,Ve=$e>>>13,He=0|ee[3],Ge=8191&He,Ue=He>>>13,ze=0|ee[4],qe=8191&ze,We=ze>>>13,Ke=0|ee[5],Xe=8191&Ke,Je=Ke>>>13,Ye=0|ee[6],Ze=8191&Ye,Qe=Ye>>>13,et=0|ee[7],tt=8191&et,it=et>>>13,rt=0|ee[8],nt=8191&rt,st=rt>>>13,ot=0|ee[9],at=8191&ot,ut=ot>>>13;I.negative=C.negative^E.negative,I.length=19;var dt=(ie+(B=Math.imul(ne,De))|0)+((8191&(z=(z=Math.imul(ne,Be))+Math.imul(se,De)|0))<<13)|0;ie=((q=Math.imul(se,Be))+(z>>>13)|0)+(dt>>>26)|0,dt&=67108863,B=Math.imul(ae,De),z=(z=Math.imul(ae,Be))+Math.imul(le,De)|0,q=Math.imul(le,Be);var ct=(ie+(B=B+Math.imul(ne,Oe)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Le)|0)+Math.imul(se,Oe)|0))<<13)|0;ie=((q=q+Math.imul(se,Le)|0)+(z>>>13)|0)+(ct>>>26)|0,ct&=67108863,B=Math.imul(de,De),z=(z=Math.imul(de,Be))+Math.imul(ce,De)|0,q=Math.imul(ce,Be),B=B+Math.imul(ae,Oe)|0,z=(z=z+Math.imul(ae,Le)|0)+Math.imul(le,Oe)|0,q=q+Math.imul(le,Le)|0;var ht=(ie+(B=B+Math.imul(ne,je)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Ve)|0)+Math.imul(se,je)|0))<<13)|0;ie=((q=q+Math.imul(se,Ve)|0)+(z>>>13)|0)+(ht>>>26)|0,ht&=67108863,B=Math.imul(fe,De),z=(z=Math.imul(fe,Be))+Math.imul(pe,De)|0,q=Math.imul(pe,Be),B=B+Math.imul(de,Oe)|0,z=(z=z+Math.imul(de,Le)|0)+Math.imul(ce,Oe)|0,q=q+Math.imul(ce,Le)|0,B=B+Math.imul(ae,je)|0,z=(z=z+Math.imul(ae,Ve)|0)+Math.imul(le,je)|0,q=q+Math.imul(le,Ve)|0;var pt=(ie+(B=B+Math.imul(ne,Ge)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Ue)|0)+Math.imul(se,Ge)|0))<<13)|0;ie=((q=q+Math.imul(se,Ue)|0)+(z>>>13)|0)+(pt>>>26)|0,pt&=67108863,B=Math.imul(ge,De),z=(z=Math.imul(ge,Be))+Math.imul(ve,De)|0,q=Math.imul(ve,Be),B=B+Math.imul(fe,Oe)|0,z=(z=z+Math.imul(fe,Le)|0)+Math.imul(pe,Oe)|0,q=q+Math.imul(pe,Le)|0,B=B+Math.imul(de,je)|0,z=(z=z+Math.imul(de,Ve)|0)+Math.imul(ce,je)|0,q=q+Math.imul(ce,Ve)|0,B=B+Math.imul(ae,Ge)|0,z=(z=z+Math.imul(ae,Ue)|0)+Math.imul(le,Ge)|0,q=q+Math.imul(le,Ue)|0;var mt=(ie+(B=B+Math.imul(ne,qe)|0)|0)+((8191&(z=(z=z+Math.imul(ne,We)|0)+Math.imul(se,qe)|0))<<13)|0;ie=((q=q+Math.imul(se,We)|0)+(z>>>13)|0)+(mt>>>26)|0,mt&=67108863,B=Math.imul(be,De),z=(z=Math.imul(be,Be))+Math.imul(Ce,De)|0,q=Math.imul(Ce,Be),B=B+Math.imul(ge,Oe)|0,z=(z=z+Math.imul(ge,Le)|0)+Math.imul(ve,Oe)|0,q=q+Math.imul(ve,Le)|0,B=B+Math.imul(fe,je)|0,z=(z=z+Math.imul(fe,Ve)|0)+Math.imul(pe,je)|0,q=q+Math.imul(pe,Ve)|0,B=B+Math.imul(de,Ge)|0,z=(z=z+Math.imul(de,Ue)|0)+Math.imul(ce,Ge)|0,q=q+Math.imul(ce,Ue)|0,B=B+Math.imul(ae,qe)|0,z=(z=z+Math.imul(ae,We)|0)+Math.imul(le,qe)|0,q=q+Math.imul(le,We)|0;var vt=(ie+(B=B+Math.imul(ne,Xe)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Je)|0)+Math.imul(se,Xe)|0))<<13)|0;ie=((q=q+Math.imul(se,Je)|0)+(z>>>13)|0)+(vt>>>26)|0,vt&=67108863,B=Math.imul(_e,De),z=(z=Math.imul(_e,Be))+Math.imul(Se,De)|0,q=Math.imul(Se,Be),B=B+Math.imul(be,Oe)|0,z=(z=z+Math.imul(be,Le)|0)+Math.imul(Ce,Oe)|0,q=q+Math.imul(Ce,Le)|0,B=B+Math.imul(ge,je)|0,z=(z=z+Math.imul(ge,Ve)|0)+Math.imul(ve,je)|0,q=q+Math.imul(ve,Ve)|0,B=B+Math.imul(fe,Ge)|0,z=(z=z+Math.imul(fe,Ue)|0)+Math.imul(pe,Ge)|0,q=q+Math.imul(pe,Ue)|0,B=B+Math.imul(de,qe)|0,z=(z=z+Math.imul(de,We)|0)+Math.imul(ce,qe)|0,q=q+Math.imul(ce,We)|0,B=B+Math.imul(ae,Xe)|0,z=(z=z+Math.imul(ae,Je)|0)+Math.imul(le,Xe)|0,q=q+Math.imul(le,Je)|0;var yt=(ie+(B=B+Math.imul(ne,Ze)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Qe)|0)+Math.imul(se,Ze)|0))<<13)|0;ie=((q=q+Math.imul(se,Qe)|0)+(z>>>13)|0)+(yt>>>26)|0,yt&=67108863,B=Math.imul(ke,De),z=(z=Math.imul(ke,Be))+Math.imul(Te,De)|0,q=Math.imul(Te,Be),B=B+Math.imul(_e,Oe)|0,z=(z=z+Math.imul(_e,Le)|0)+Math.imul(Se,Oe)|0,q=q+Math.imul(Se,Le)|0,B=B+Math.imul(be,je)|0,z=(z=z+Math.imul(be,Ve)|0)+Math.imul(Ce,je)|0,q=q+Math.imul(Ce,Ve)|0,B=B+Math.imul(ge,Ge)|0,z=(z=z+Math.imul(ge,Ue)|0)+Math.imul(ve,Ge)|0,q=q+Math.imul(ve,Ue)|0,B=B+Math.imul(fe,qe)|0,z=(z=z+Math.imul(fe,We)|0)+Math.imul(pe,qe)|0,q=q+Math.imul(pe,We)|0,B=B+Math.imul(de,Xe)|0,z=(z=z+Math.imul(de,Je)|0)+Math.imul(ce,Xe)|0,q=q+Math.imul(ce,Je)|0,B=B+Math.imul(ae,Ze)|0,z=(z=z+Math.imul(ae,Qe)|0)+Math.imul(le,Ze)|0,q=q+Math.imul(le,Qe)|0;var bt=(ie+(B=B+Math.imul(ne,tt)|0)|0)+((8191&(z=(z=z+Math.imul(ne,it)|0)+Math.imul(se,tt)|0))<<13)|0;ie=((q=q+Math.imul(se,it)|0)+(z>>>13)|0)+(bt>>>26)|0,bt&=67108863,B=Math.imul(Re,De),z=(z=Math.imul(Re,Be))+Math.imul(Ee,De)|0,q=Math.imul(Ee,Be),B=B+Math.imul(ke,Oe)|0,z=(z=z+Math.imul(ke,Le)|0)+Math.imul(Te,Oe)|0,q=q+Math.imul(Te,Le)|0,B=B+Math.imul(_e,je)|0,z=(z=z+Math.imul(_e,Ve)|0)+Math.imul(Se,je)|0,q=q+Math.imul(Se,Ve)|0,B=B+Math.imul(be,Ge)|0,z=(z=z+Math.imul(be,Ue)|0)+Math.imul(Ce,Ge)|0,q=q+Math.imul(Ce,Ue)|0,B=B+Math.imul(ge,qe)|0,z=(z=z+Math.imul(ge,We)|0)+Math.imul(ve,qe)|0,q=q+Math.imul(ve,We)|0,B=B+Math.imul(fe,Xe)|0,z=(z=z+Math.imul(fe,Je)|0)+Math.imul(pe,Xe)|0,q=q+Math.imul(pe,Je)|0,B=B+Math.imul(de,Ze)|0,z=(z=z+Math.imul(de,Qe)|0)+Math.imul(ce,Ze)|0,q=q+Math.imul(ce,Qe)|0,B=B+Math.imul(ae,tt)|0,z=(z=z+Math.imul(ae,it)|0)+Math.imul(le,tt)|0,q=q+Math.imul(le,it)|0;var Ct=(ie+(B=B+Math.imul(ne,nt)|0)|0)+((8191&(z=(z=z+Math.imul(ne,st)|0)+Math.imul(se,nt)|0))<<13)|0;ie=((q=q+Math.imul(se,st)|0)+(z>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,B=Math.imul(Ie,De),z=(z=Math.imul(Ie,Be))+Math.imul(Ae,De)|0,q=Math.imul(Ae,Be),B=B+Math.imul(Re,Oe)|0,z=(z=z+Math.imul(Re,Le)|0)+Math.imul(Ee,Oe)|0,q=q+Math.imul(Ee,Le)|0,B=B+Math.imul(ke,je)|0,z=(z=z+Math.imul(ke,Ve)|0)+Math.imul(Te,je)|0,q=q+Math.imul(Te,Ve)|0,B=B+Math.imul(_e,Ge)|0,z=(z=z+Math.imul(_e,Ue)|0)+Math.imul(Se,Ge)|0,q=q+Math.imul(Se,Ue)|0,B=B+Math.imul(be,qe)|0,z=(z=z+Math.imul(be,We)|0)+Math.imul(Ce,qe)|0,q=q+Math.imul(Ce,We)|0,B=B+Math.imul(ge,Xe)|0,z=(z=z+Math.imul(ge,Je)|0)+Math.imul(ve,Xe)|0,q=q+Math.imul(ve,Je)|0,B=B+Math.imul(fe,Ze)|0,z=(z=z+Math.imul(fe,Qe)|0)+Math.imul(pe,Ze)|0,q=q+Math.imul(pe,Qe)|0,B=B+Math.imul(de,tt)|0,z=(z=z+Math.imul(de,it)|0)+Math.imul(ce,tt)|0,q=q+Math.imul(ce,it)|0,B=B+Math.imul(ae,nt)|0,z=(z=z+Math.imul(ae,st)|0)+Math.imul(le,nt)|0,q=q+Math.imul(le,st)|0;var wt=(ie+(B=B+Math.imul(ne,at)|0)|0)+((8191&(z=(z=z+Math.imul(ne,ut)|0)+Math.imul(se,at)|0))<<13)|0;ie=((q=q+Math.imul(se,ut)|0)+(z>>>13)|0)+(wt>>>26)|0,wt&=67108863,B=Math.imul(Ie,Oe),z=(z=Math.imul(Ie,Le))+Math.imul(Ae,Oe)|0,q=Math.imul(Ae,Le),B=B+Math.imul(Re,je)|0,z=(z=z+Math.imul(Re,Ve)|0)+Math.imul(Ee,je)|0,q=q+Math.imul(Ee,Ve)|0,B=B+Math.imul(ke,Ge)|0,z=(z=z+Math.imul(ke,Ue)|0)+Math.imul(Te,Ge)|0,q=q+Math.imul(Te,Ue)|0,B=B+Math.imul(_e,qe)|0,z=(z=z+Math.imul(_e,We)|0)+Math.imul(Se,qe)|0,q=q+Math.imul(Se,We)|0,B=B+Math.imul(be,Xe)|0,z=(z=z+Math.imul(be,Je)|0)+Math.imul(Ce,Xe)|0,q=q+Math.imul(Ce,Je)|0,B=B+Math.imul(ge,Ze)|0,z=(z=z+Math.imul(ge,Qe)|0)+Math.imul(ve,Ze)|0,q=q+Math.imul(ve,Qe)|0,B=B+Math.imul(fe,tt)|0,z=(z=z+Math.imul(fe,it)|0)+Math.imul(pe,tt)|0,q=q+Math.imul(pe,it)|0,B=B+Math.imul(de,nt)|0,z=(z=z+Math.imul(de,st)|0)+Math.imul(ce,nt)|0,q=q+Math.imul(ce,st)|0;var _t=(ie+(B=B+Math.imul(ae,at)|0)|0)+((8191&(z=(z=z+Math.imul(ae,ut)|0)+Math.imul(le,at)|0))<<13)|0;ie=((q=q+Math.imul(le,ut)|0)+(z>>>13)|0)+(_t>>>26)|0,_t&=67108863,B=Math.imul(Ie,je),z=(z=Math.imul(Ie,Ve))+Math.imul(Ae,je)|0,q=Math.imul(Ae,Ve),B=B+Math.imul(Re,Ge)|0,z=(z=z+Math.imul(Re,Ue)|0)+Math.imul(Ee,Ge)|0,q=q+Math.imul(Ee,Ue)|0,B=B+Math.imul(ke,qe)|0,z=(z=z+Math.imul(ke,We)|0)+Math.imul(Te,qe)|0,q=q+Math.imul(Te,We)|0,B=B+Math.imul(_e,Xe)|0,z=(z=z+Math.imul(_e,Je)|0)+Math.imul(Se,Xe)|0,q=q+Math.imul(Se,Je)|0,B=B+Math.imul(be,Ze)|0,z=(z=z+Math.imul(be,Qe)|0)+Math.imul(Ce,Ze)|0,q=q+Math.imul(Ce,Qe)|0,B=B+Math.imul(ge,tt)|0,z=(z=z+Math.imul(ge,it)|0)+Math.imul(ve,tt)|0,q=q+Math.imul(ve,it)|0,B=B+Math.imul(fe,nt)|0,z=(z=z+Math.imul(fe,st)|0)+Math.imul(pe,nt)|0,q=q+Math.imul(pe,st)|0;var St=(ie+(B=B+Math.imul(de,at)|0)|0)+((8191&(z=(z=z+Math.imul(de,ut)|0)+Math.imul(ce,at)|0))<<13)|0;ie=((q=q+Math.imul(ce,ut)|0)+(z>>>13)|0)+(St>>>26)|0,St&=67108863,B=Math.imul(Ie,Ge),z=(z=Math.imul(Ie,Ue))+Math.imul(Ae,Ge)|0,q=Math.imul(Ae,Ue),B=B+Math.imul(Re,qe)|0,z=(z=z+Math.imul(Re,We)|0)+Math.imul(Ee,qe)|0,q=q+Math.imul(Ee,We)|0,B=B+Math.imul(ke,Xe)|0,z=(z=z+Math.imul(ke,Je)|0)+Math.imul(Te,Xe)|0,q=q+Math.imul(Te,Je)|0,B=B+Math.imul(_e,Ze)|0,z=(z=z+Math.imul(_e,Qe)|0)+Math.imul(Se,Ze)|0,q=q+Math.imul(Se,Qe)|0,B=B+Math.imul(be,tt)|0,z=(z=z+Math.imul(be,it)|0)+Math.imul(Ce,tt)|0,q=q+Math.imul(Ce,it)|0,B=B+Math.imul(ge,nt)|0,z=(z=z+Math.imul(ge,st)|0)+Math.imul(ve,nt)|0,q=q+Math.imul(ve,st)|0;var xt=(ie+(B=B+Math.imul(fe,at)|0)|0)+((8191&(z=(z=z+Math.imul(fe,ut)|0)+Math.imul(pe,at)|0))<<13)|0;ie=((q=q+Math.imul(pe,ut)|0)+(z>>>13)|0)+(xt>>>26)|0,xt&=67108863,B=Math.imul(Ie,qe),z=(z=Math.imul(Ie,We))+Math.imul(Ae,qe)|0,q=Math.imul(Ae,We),B=B+Math.imul(Re,Xe)|0,z=(z=z+Math.imul(Re,Je)|0)+Math.imul(Ee,Xe)|0,q=q+Math.imul(Ee,Je)|0,B=B+Math.imul(ke,Ze)|0,z=(z=z+Math.imul(ke,Qe)|0)+Math.imul(Te,Ze)|0,q=q+Math.imul(Te,Qe)|0,B=B+Math.imul(_e,tt)|0,z=(z=z+Math.imul(_e,it)|0)+Math.imul(Se,tt)|0,q=q+Math.imul(Se,it)|0,B=B+Math.imul(be,nt)|0,z=(z=z+Math.imul(be,st)|0)+Math.imul(Ce,nt)|0,q=q+Math.imul(Ce,st)|0;var kt=(ie+(B=B+Math.imul(ge,at)|0)|0)+((8191&(z=(z=z+Math.imul(ge,ut)|0)+Math.imul(ve,at)|0))<<13)|0;ie=((q=q+Math.imul(ve,ut)|0)+(z>>>13)|0)+(kt>>>26)|0,kt&=67108863,B=Math.imul(Ie,Xe),z=(z=Math.imul(Ie,Je))+Math.imul(Ae,Xe)|0,q=Math.imul(Ae,Je),B=B+Math.imul(Re,Ze)|0,z=(z=z+Math.imul(Re,Qe)|0)+Math.imul(Ee,Ze)|0,q=q+Math.imul(Ee,Qe)|0,B=B+Math.imul(ke,tt)|0,z=(z=z+Math.imul(ke,it)|0)+Math.imul(Te,tt)|0,q=q+Math.imul(Te,it)|0,B=B+Math.imul(_e,nt)|0,z=(z=z+Math.imul(_e,st)|0)+Math.imul(Se,nt)|0,q=q+Math.imul(Se,st)|0;var Tt=(ie+(B=B+Math.imul(be,at)|0)|0)+((8191&(z=(z=z+Math.imul(be,ut)|0)+Math.imul(Ce,at)|0))<<13)|0;ie=((q=q+Math.imul(Ce,ut)|0)+(z>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,B=Math.imul(Ie,Ze),z=(z=Math.imul(Ie,Qe))+Math.imul(Ae,Ze)|0,q=Math.imul(Ae,Qe),B=B+Math.imul(Re,tt)|0,z=(z=z+Math.imul(Re,it)|0)+Math.imul(Ee,tt)|0,q=q+Math.imul(Ee,it)|0,B=B+Math.imul(ke,nt)|0,z=(z=z+Math.imul(ke,st)|0)+Math.imul(Te,nt)|0,q=q+Math.imul(Te,st)|0;var Mt=(ie+(B=B+Math.imul(_e,at)|0)|0)+((8191&(z=(z=z+Math.imul(_e,ut)|0)+Math.imul(Se,at)|0))<<13)|0;ie=((q=q+Math.imul(Se,ut)|0)+(z>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,B=Math.imul(Ie,tt),z=(z=Math.imul(Ie,it))+Math.imul(Ae,tt)|0,q=Math.imul(Ae,it),B=B+Math.imul(Re,nt)|0,z=(z=z+Math.imul(Re,st)|0)+Math.imul(Ee,nt)|0,q=q+Math.imul(Ee,st)|0;var Rt=(ie+(B=B+Math.imul(ke,at)|0)|0)+((8191&(z=(z=z+Math.imul(ke,ut)|0)+Math.imul(Te,at)|0))<<13)|0;ie=((q=q+Math.imul(Te,ut)|0)+(z>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,B=Math.imul(Ie,nt),z=(z=Math.imul(Ie,st))+Math.imul(Ae,nt)|0,q=Math.imul(Ae,st);var Et=(ie+(B=B+Math.imul(Re,at)|0)|0)+((8191&(z=(z=z+Math.imul(Re,ut)|0)+Math.imul(Ee,at)|0))<<13)|0;ie=((q=q+Math.imul(Ee,ut)|0)+(z>>>13)|0)+(Et>>>26)|0,Et&=67108863;var Pt=(ie+(B=Math.imul(Ie,at))|0)+((8191&(z=(z=Math.imul(Ie,ut))+Math.imul(Ae,at)|0))<<13)|0;return ie=((q=Math.imul(Ae,ut))+(z>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,te[0]=dt,te[1]=ct,te[2]=ht,te[3]=pt,te[4]=mt,te[5]=vt,te[6]=yt,te[7]=bt,te[8]=Ct,te[9]=wt,te[10]=_t,te[11]=St,te[12]=xt,te[13]=kt,te[14]=Tt,te[15]=Mt,te[16]=Rt,te[17]=Et,te[18]=Pt,0!==ie&&(te[19]=ie,I.length++),I};function bigMulTo(C,E,I){I.negative=E.negative^C.negative,I.length=C.length+E.length;for(var B=0,z=0,q=0;q<I.length-1;q++){var Q=z;z=0;for(var ee=67108863&B,te=Math.min(q,E.length-1),ie=Math.max(0,q-C.length+1);ie<=te;ie++){var re=q-ie,ne=(0|C.words[re])*(0|E.words[ie]),se=67108863&ne;ee=67108863&(se=se+ee|0),z+=(Q=(Q=Q+(ne/67108864|0)|0)+(se>>>26)|0)>>>26,Q&=67108863}I.words[q]=ee,B=Q,Q=z}return 0!==B?I.words[q]=B:I.length--,I.strip()}function jumboMulTo(C,E,I){return(new FFTM).mulp(C,E,I)}function FFTM(C,E){this.x=C,this.y=E}Math.imul||(ee=smallMulTo),BN.prototype.mulTo=function mulTo(C,E){var I=this.length+C.length;return 10===this.length&&10===C.length?ee(this,C,E):I<63?smallMulTo(this,C,E):I<1024?bigMulTo(this,C,E):jumboMulTo(this,C,E)},FFTM.prototype.makeRBT=function makeRBT(C){for(var E=new Array(C),I=BN.prototype._countBits(C)-1,B=0;B<C;B++)E[B]=this.revBin(B,I,C);return E},FFTM.prototype.revBin=function revBin(C,E,I){if(0===C||C===I-1)return C;for(var B=0,z=0;z<E;z++)B|=(1&C)<<E-z-1,C>>=1;return B},FFTM.prototype.permute=function permute(C,E,I,B,z,q){for(var Q=0;Q<q;Q++)B[Q]=E[C[Q]],z[Q]=I[C[Q]]},FFTM.prototype.transform=function transform(C,E,I,B,z,q){this.permute(q,C,E,I,B,z);for(var Q=1;Q<z;Q<<=1)for(var ee=Q<<1,te=Math.cos(2*Math.PI/ee),ie=Math.sin(2*Math.PI/ee),re=0;re<z;re+=ee)for(var ne=te,se=ie,oe=0;oe<Q;oe++){var ae=I[re+oe],le=B[re+oe],ue=I[re+oe+Q],de=B[re+oe+Q],ce=ne*ue-se*de;de=ne*de+se*ue,ue=ce,I[re+oe]=ae+ue,B[re+oe]=le+de,I[re+oe+Q]=ae-ue,B[re+oe+Q]=le-de,oe!==ee&&(ce=te*ne-ie*se,se=te*se+ie*ne,ne=ce)}},FFTM.prototype.guessLen13b=function guessLen13b(C,E){var I=1|Math.max(E,C),B=1&I,z=0;for(I=I/2|0;I;I>>>=1)z++;return 1<<z+1+B},FFTM.prototype.conjugate=function conjugate(C,E,I){if(!(I<=1))for(var B=0;B<I/2;B++){var z=C[B];C[B]=C[I-B-1],C[I-B-1]=z,z=E[B],E[B]=-E[I-B-1],E[I-B-1]=-z}},FFTM.prototype.normalize13b=function normalize13b(C,E){for(var I=0,B=0;B<E/2;B++){var z=8192*Math.round(C[2*B+1]/E)+Math.round(C[2*B]/E)+I;C[B]=67108863&z,I=z<67108864?0:z/67108864|0}return C},FFTM.prototype.convert13b=function convert13b(C,E,I,B){for(var z=0,q=0;q<E;q++)z+=0|C[q],I[2*q]=8191&z,z>>>=13,I[2*q+1]=8191&z,z>>>=13;for(q=2*E;q<B;++q)I[q]=0;assert(0===z),assert(0==(-8192&z))},FFTM.prototype.stub=function stub(C){for(var E=new Array(C),I=0;I<C;I++)E[I]=0;return E},FFTM.prototype.mulp=function mulp(C,E,I){var B=2*this.guessLen13b(C.length,E.length),z=this.makeRBT(B),q=this.stub(B),Q=new Array(B),ee=new Array(B),te=new Array(B),ie=new Array(B),re=new Array(B),ne=new Array(B),se=I.words;se.length=B,this.convert13b(C.words,C.length,Q,B),this.convert13b(E.words,E.length,ie,B),this.transform(Q,q,ee,te,B,z),this.transform(ie,q,re,ne,B,z);for(var oe=0;oe<B;oe++){var ae=ee[oe]*re[oe]-te[oe]*ne[oe];te[oe]=ee[oe]*ne[oe]+te[oe]*re[oe],ee[oe]=ae}return this.conjugate(ee,te,B),this.transform(ee,te,se,q,B,z),this.conjugate(se,q,B),this.normalize13b(se,B),I.negative=C.negative^E.negative,I.length=C.length+E.length,I.strip()},BN.prototype.mul=function mul(C){var E=new BN(null);return E.words=new Array(this.length+C.length),this.mulTo(C,E)},BN.prototype.mulf=function mulf(C){var E=new BN(null);return E.words=new Array(this.length+C.length),jumboMulTo(this,C,E)},BN.prototype.imul=function imul(C){return this.clone().mulTo(C,this)},BN.prototype.imuln=function imuln(C){assert("number"==typeof C),assert(C<67108864);for(var E=0,I=0;I<this.length;I++){var B=(0|this.words[I])*C,z=(67108863&B)+(67108863&E);E>>=26,E+=B/67108864|0,E+=z>>>26,this.words[I]=67108863&z}return 0!==E&&(this.words[I]=E,this.length++),this},BN.prototype.muln=function muln(C){return this.clone().imuln(C)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(C){var E=toBitArray(C);if(0===E.length)return new BN(1);for(var I=this,B=0;B<E.length&&0===E[B];B++,I=I.sqr());if(++B<E.length)for(var z=I.sqr();B<E.length;B++,z=z.sqr())0!==E[B]&&(I=I.mul(z));return I},BN.prototype.iushln=function iushln(C){assert("number"==typeof C&&C>=0);var E,I=C%26,B=(C-I)/26,z=67108863>>>26-I<<26-I;if(0!==I){var q=0;for(E=0;E<this.length;E++){var Q=this.words[E]&z,ee=(0|this.words[E])-Q<<I;this.words[E]=ee|q,q=Q>>>26-I}q&&(this.words[E]=q,this.length++)}if(0!==B){for(E=this.length-1;E>=0;E--)this.words[E+B]=this.words[E];for(E=0;E<B;E++)this.words[E]=0;this.length+=B}return this.strip()},BN.prototype.ishln=function ishln(C){return assert(0===this.negative),this.iushln(C)},BN.prototype.iushrn=function iushrn(C,E,I){var B;assert("number"==typeof C&&C>=0),B=E?(E-E%26)/26:0;var z=C%26,q=Math.min((C-z)/26,this.length),Q=67108863^67108863>>>z<<z,ee=I;if(B-=q,B=Math.max(0,B),ee){for(var te=0;te<q;te++)ee.words[te]=this.words[te];ee.length=q}if(0===q);else if(this.length>q)for(this.length-=q,te=0;te<this.length;te++)this.words[te]=this.words[te+q];else this.words[0]=0,this.length=1;var ie=0;for(te=this.length-1;te>=0&&(0!==ie||te>=B);te--){var re=0|this.words[te];this.words[te]=ie<<26-z|re>>>z,ie=re&Q}return ee&&0!==ie&&(ee.words[ee.length++]=ie),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(C,E,I){return assert(0===this.negative),this.iushrn(C,E,I)},BN.prototype.shln=function shln(C){return this.clone().ishln(C)},BN.prototype.ushln=function ushln(C){return this.clone().iushln(C)},BN.prototype.shrn=function shrn(C){return this.clone().ishrn(C)},BN.prototype.ushrn=function ushrn(C){return this.clone().iushrn(C)},BN.prototype.testn=function testn(C){assert("number"==typeof C&&C>=0);var E=C%26,I=(C-E)/26,B=1<<E;return!(this.length<=I||!(this.words[I]&B))},BN.prototype.imaskn=function imaskn(C){assert("number"==typeof C&&C>=0);var E=C%26,I=(C-E)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=I)return this;if(0!==E&&I++,this.length=Math.min(I,this.length),0!==E){var B=67108863^67108863>>>E<<E;this.words[this.length-1]&=B}return this.strip()},BN.prototype.maskn=function maskn(C){return this.clone().imaskn(C)},BN.prototype.iaddn=function iaddn(C){return assert("number"==typeof C),assert(C<67108864),C<0?this.isubn(-C):0!==this.negative?1===this.length&&(0|this.words[0])<C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},BN.prototype._iaddn=function _iaddn(C){this.words[0]+=C;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},BN.prototype.isubn=function isubn(C){if(assert("number"==typeof C),assert(C<67108864),C<0)return this.iaddn(-C);if(0!==this.negative)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},BN.prototype.addn=function addn(C){return this.clone().iaddn(C)},BN.prototype.subn=function subn(C){return this.clone().isubn(C)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(C,E,I){var B,z,q=C.length+I;this._expand(q);var Q=0;for(B=0;B<C.length;B++){z=(0|this.words[B+I])+Q;var ee=(0|C.words[B])*E;Q=((z-=67108863&ee)>>26)-(ee/67108864|0),this.words[B+I]=67108863&z}for(;B<this.length-I;B++)Q=(z=(0|this.words[B+I])+Q)>>26,this.words[B+I]=67108863&z;if(0===Q)return this.strip();for(assert(-1===Q),Q=0,B=0;B<this.length;B++)Q=(z=-(0|this.words[B])+Q)>>26,this.words[B]=67108863&z;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(C,E){var I=this.length-C.length,B=this.clone(),z=C,q=0|z.words[z.length-1];0!=(I=26-this._countBits(q))&&(z=z.ushln(I),B.iushln(I),q=0|z.words[z.length-1]);var Q,ee=B.length-z.length;if("mod"!==E){(Q=new BN(null)).length=ee+1,Q.words=new Array(Q.length);for(var te=0;te<Q.length;te++)Q.words[te]=0}var ie=B.clone()._ishlnsubmul(z,1,ee);0===ie.negative&&(B=ie,Q&&(Q.words[ee]=1));for(var re=ee-1;re>=0;re--){var ne=67108864*(0|B.words[z.length+re])+(0|B.words[z.length+re-1]);for(ne=Math.min(ne/q|0,67108863),B._ishlnsubmul(z,ne,re);0!==B.negative;)ne--,B.negative=0,B._ishlnsubmul(z,1,re),B.isZero()||(B.negative^=1);Q&&(Q.words[re]=ne)}return Q&&Q.strip(),B.strip(),"div"!==E&&0!==I&&B.iushrn(I),{div:Q||null,mod:B}},BN.prototype.divmod=function divmod(C,E,I){return assert(!C.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===C.negative?(q=this.neg().divmod(C,E),"mod"!==E&&(B=q.div.neg()),"div"!==E&&(z=q.mod.neg(),I&&0!==z.negative&&z.iadd(C)),{div:B,mod:z}):0===this.negative&&0!==C.negative?(q=this.divmod(C.neg(),E),"mod"!==E&&(B=q.div.neg()),{div:B,mod:q.mod}):0!=(this.negative&C.negative)?(q=this.neg().divmod(C.neg(),E),"div"!==E&&(z=q.mod.neg(),I&&0!==z.negative&&z.isub(C)),{div:q.div,mod:z}):C.length>this.length||this.cmp(C)<0?{div:new BN(0),mod:this}:1===C.length?"div"===E?{div:this.divn(C.words[0]),mod:null}:"mod"===E?{div:null,mod:new BN(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new BN(this.modn(C.words[0]))}:this._wordDiv(C,E);var B,z,q},BN.prototype.div=function div(C){return this.divmod(C,"div",!1).div},BN.prototype.mod=function mod(C){return this.divmod(C,"mod",!1).mod},BN.prototype.umod=function umod(C){return this.divmod(C,"mod",!0).mod},BN.prototype.divRound=function divRound(C){var E=this.divmod(C);if(E.mod.isZero())return E.div;var I=0!==E.div.negative?E.mod.isub(C):E.mod,B=C.ushrn(1),z=C.andln(1),q=I.cmp(B);return q<0||1===z&&0===q?E.div:0!==E.div.negative?E.div.isubn(1):E.div.iaddn(1)},BN.prototype.modn=function modn(C){assert(C<=67108863);for(var E=(1<<26)%C,I=0,B=this.length-1;B>=0;B--)I=(E*I+(0|this.words[B]))%C;return I},BN.prototype.idivn=function idivn(C){assert(C<=67108863);for(var E=0,I=this.length-1;I>=0;I--){var B=(0|this.words[I])+67108864*E;this.words[I]=B/C|0,E=B%C}return this.strip()},BN.prototype.divn=function divn(C){return this.clone().idivn(C)},BN.prototype.egcd=function egcd(C){assert(0===C.negative),assert(!C.isZero());var E=this,I=C.clone();E=0!==E.negative?E.umod(C):E.clone();for(var B=new BN(1),z=new BN(0),q=new BN(0),Q=new BN(1),ee=0;E.isEven()&&I.isEven();)E.iushrn(1),I.iushrn(1),++ee;for(var te=I.clone(),ie=E.clone();!E.isZero();){for(var re=0,ne=1;0==(E.words[0]&ne)&&re<26;++re,ne<<=1);if(re>0)for(E.iushrn(re);re-- >0;)(B.isOdd()||z.isOdd())&&(B.iadd(te),z.isub(ie)),B.iushrn(1),z.iushrn(1);for(var se=0,oe=1;0==(I.words[0]&oe)&&se<26;++se,oe<<=1);if(se>0)for(I.iushrn(se);se-- >0;)(q.isOdd()||Q.isOdd())&&(q.iadd(te),Q.isub(ie)),q.iushrn(1),Q.iushrn(1);E.cmp(I)>=0?(E.isub(I),B.isub(q),z.isub(Q)):(I.isub(E),q.isub(B),Q.isub(z))}return{a:q,b:Q,gcd:I.iushln(ee)}},BN.prototype._invmp=function _invmp(C){assert(0===C.negative),assert(!C.isZero());var E=this,I=C.clone();E=0!==E.negative?E.umod(C):E.clone();for(var B,z=new BN(1),q=new BN(0),Q=I.clone();E.cmpn(1)>0&&I.cmpn(1)>0;){for(var ee=0,te=1;0==(E.words[0]&te)&&ee<26;++ee,te<<=1);if(ee>0)for(E.iushrn(ee);ee-- >0;)z.isOdd()&&z.iadd(Q),z.iushrn(1);for(var ie=0,re=1;0==(I.words[0]&re)&&ie<26;++ie,re<<=1);if(ie>0)for(I.iushrn(ie);ie-- >0;)q.isOdd()&&q.iadd(Q),q.iushrn(1);E.cmp(I)>=0?(E.isub(I),z.isub(q)):(I.isub(E),q.isub(z))}return(B=0===E.cmpn(1)?z:q).cmpn(0)<0&&B.iadd(C),B},BN.prototype.gcd=function gcd(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var E=this.clone(),I=C.clone();E.negative=0,I.negative=0;for(var B=0;E.isEven()&&I.isEven();B++)E.iushrn(1),I.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;I.isEven();)I.iushrn(1);var z=E.cmp(I);if(z<0){var q=E;E=I,I=q}else if(0===z||0===I.cmpn(1))break;E.isub(I)}return I.iushln(B)},BN.prototype.invm=function invm(C){return this.egcd(C).a.umod(C)},BN.prototype.isEven=function isEven(){return 0==(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return 1==(1&this.words[0])},BN.prototype.andln=function andln(C){return this.words[0]&C},BN.prototype.bincn=function bincn(C){assert("number"==typeof C);var E=C%26,I=(C-E)/26,B=1<<E;if(this.length<=I)return this._expand(I+1),this.words[I]|=B,this;for(var z=B,q=I;0!==z&&q<this.length;q++){var Q=0|this.words[q];z=(Q+=z)>>>26,Q&=67108863,this.words[q]=Q}return 0!==z&&(this.words[q]=z,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(C){var E,I=C<0;if(0!==this.negative&&!I)return-1;if(0===this.negative&&I)return 1;if(this.strip(),this.length>1)E=1;else{I&&(C=-C),assert(C<=67108863,"Number is too big");var B=0|this.words[0];E=B===C?0:B<C?-1:1}return 0!==this.negative?0|-E:E},BN.prototype.cmp=function cmp(C){if(0!==this.negative&&0===C.negative)return-1;if(0===this.negative&&0!==C.negative)return 1;var E=this.ucmp(C);return 0!==this.negative?0|-E:E},BN.prototype.ucmp=function ucmp(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var E=0,I=this.length-1;I>=0;I--){var B=0|this.words[I],z=0|C.words[I];if(B!==z){B<z?E=-1:B>z&&(E=1);break}}return E},BN.prototype.gtn=function gtn(C){return 1===this.cmpn(C)},BN.prototype.gt=function gt(C){return 1===this.cmp(C)},BN.prototype.gten=function gten(C){return this.cmpn(C)>=0},BN.prototype.gte=function gte(C){return this.cmp(C)>=0},BN.prototype.ltn=function ltn(C){return-1===this.cmpn(C)},BN.prototype.lt=function lt(C){return-1===this.cmp(C)},BN.prototype.lten=function lten(C){return this.cmpn(C)<=0},BN.prototype.lte=function lte(C){return this.cmp(C)<=0},BN.prototype.eqn=function eqn(C){return 0===this.cmpn(C)},BN.prototype.eq=function eq(C){return 0===this.cmp(C)},BN.red=function red(C){return new Red(C)},BN.prototype.toRed=function toRed(C){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),C.convertTo(this)._forceRed(C)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(C){return this.red=C,this},BN.prototype.forceRed=function forceRed(C){return assert(!this.red,"Already a number in reduction context"),this._forceRed(C)},BN.prototype.redAdd=function redAdd(C){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},BN.prototype.redIAdd=function redIAdd(C){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},BN.prototype.redSub=function redSub(C){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},BN.prototype.redISub=function redISub(C){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},BN.prototype.redShl=function redShl(C){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},BN.prototype.redMul=function redMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},BN.prototype.redIMul=function redIMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(C){return assert(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var te={k256:null,p224:null,p192:null,p25519:null};function MPrime(C,E){this.name=C,this.p=new BN(E,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(C){if("string"==typeof C){var E=BN._prime(C);this.m=E.p,this.prime=E}else assert(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Mont(C){Red.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var C=new BN(null);return C.words=new Array(Math.ceil(this.n/13)),C},MPrime.prototype.ireduce=function ireduce(C){var E,I=C;do{this.split(I,this.tmp),E=(I=(I=this.imulK(I)).iadd(this.tmp)).bitLength()}while(E>this.n);var B=E<this.n?-1:I.ucmp(this.p);return 0===B?(I.words[0]=0,I.length=1):B>0?I.isub(this.p):void 0!==I.strip?I.strip():I._strip(),I},MPrime.prototype.split=function split(C,E){C.iushrn(this.n,0,E)},MPrime.prototype.imulK=function imulK(C){return C.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(C,E){for(var I=4194303,B=Math.min(C.length,9),z=0;z<B;z++)E.words[z]=C.words[z];if(E.length=B,C.length<=9)return C.words[0]=0,void(C.length=1);var q=C.words[9];for(E.words[E.length++]=q&I,z=10;z<C.length;z++){var Q=0|C.words[z];C.words[z-10]=(Q&I)<<4|q>>>22,q=Q}q>>>=22,C.words[z-10]=q,0===q&&C.length>10?C.length-=10:C.length-=9},K256.prototype.imulK=function imulK(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var E=0,I=0;I<C.length;I++){var B=0|C.words[I];E+=977*B,C.words[I]=67108863&E,E=64*B+(E/67108864|0)}return 0===C.words[C.length-1]&&(C.length--,0===C.words[C.length-1]&&C.length--),C},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(C){for(var E=0,I=0;I<C.length;I++){var B=19*(0|C.words[I])+E,z=67108863&B;B>>>=26,C.words[I]=z,E=B}return 0!==E&&(C.words[C.length++]=E),C},BN._prime=function prime(C){if(te[C])return te[C];var prime;if("k256"===C)prime=new K256;else if("p224"===C)prime=new P224;else if("p192"===C)prime=new P192;else{if("p25519"!==C)throw new Error("Unknown prime "+C);prime=new P25519}return te[C]=prime,prime},Red.prototype._verify1=function _verify1(C){assert(0===C.negative,"red works only with positives"),assert(C.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(C,E){assert(0==(C.negative|E.negative),"red works only with positives"),assert(C.red&&C.red===E.red,"red works only with red numbers")},Red.prototype.imod=function imod(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},Red.prototype.add=function add(C,E){this._verify2(C,E);var I=C.add(E);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},Red.prototype.iadd=function iadd(C,E){this._verify2(C,E);var I=C.iadd(E);return I.cmp(this.m)>=0&&I.isub(this.m),I},Red.prototype.sub=function sub(C,E){this._verify2(C,E);var I=C.sub(E);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},Red.prototype.isub=function isub(C,E){this._verify2(C,E);var I=C.isub(E);return I.cmpn(0)<0&&I.iadd(this.m),I},Red.prototype.shl=function shl(C,E){return this._verify1(C),this.imod(C.ushln(E))},Red.prototype.imul=function imul(C,E){return this._verify2(C,E),this.imod(C.imul(E))},Red.prototype.mul=function mul(C,E){return this._verify2(C,E),this.imod(C.mul(E))},Red.prototype.isqr=function isqr(C){return this.imul(C,C.clone())},Red.prototype.sqr=function sqr(C){return this.mul(C,C)},Red.prototype.sqrt=function sqrt(C){if(C.isZero())return C.clone();var E=this.m.andln(3);if(assert(E%2==1),3===E){var I=this.m.add(new BN(1)).iushrn(2);return this.pow(C,I)}for(var B=this.m.subn(1),z=0;!B.isZero()&&0===B.andln(1);)z++,B.iushrn(1);assert(!B.isZero());var q=new BN(1).toRed(this),Q=q.redNeg(),ee=this.m.subn(1).iushrn(1),te=this.m.bitLength();for(te=new BN(2*te*te).toRed(this);0!==this.pow(te,ee).cmp(Q);)te.redIAdd(Q);for(var ie=this.pow(te,B),re=this.pow(C,B.addn(1).iushrn(1)),ne=this.pow(C,B),se=z;0!==ne.cmp(q);){for(var oe=ne,ae=0;0!==oe.cmp(q);ae++)oe=oe.redSqr();assert(ae<se);var le=this.pow(ie,new BN(1).iushln(se-ae-1));re=re.redMul(le),ie=le.redSqr(),ne=ne.redMul(ie),se=ae}return re},Red.prototype.invm=function invm(C){var E=C._invmp(this.m);return 0!==E.negative?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},Red.prototype.pow=function pow(C,E){if(E.isZero())return new BN(1).toRed(this);if(0===E.cmpn(1))return C.clone();var I=4,B=new Array(1<<I);B[0]=new BN(1).toRed(this),B[1]=C;for(var z=2;z<B.length;z++)B[z]=this.mul(B[z-1],C);var q=B[0],Q=0,ee=0,te=E.bitLength()%26;for(0===te&&(te=26),z=E.length-1;z>=0;z--){for(var ie=E.words[z],re=te-1;re>=0;re--){var ne=ie>>re&1;q!==B[0]&&(q=this.sqr(q)),0!==ne||0!==Q?(Q<<=1,Q|=ne,(++ee===I||0===z&&0===re)&&(q=this.mul(q,B[Q]),ee=0,Q=0)):ee=0}te=26}return q},Red.prototype.convertTo=function convertTo(C){var E=C.umod(this.m);return E===C?E.clone():E},Red.prototype.convertFrom=function convertFrom(C){var E=C.clone();return E.red=null,E},BN.mont=function mont(C){return new Mont(C)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(C){return this.imod(C.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(C){var E=this.imod(C.mul(this.rinv));return E.red=null,E},Mont.prototype.imul=function imul(C,E){if(C.isZero()||E.isZero())return C.words[0]=0,C.length=1,C;var I=C.imul(E),B=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=I.isub(B).iushrn(this.shift),q=z;return z.cmp(this.m)>=0?q=z.isub(this.m):z.cmpn(0)<0&&(q=z.iadd(this.m)),q._forceRed(this)},Mont.prototype.mul=function mul(C,E){if(C.isZero()||E.isZero())return new BN(0)._forceRed(this);var I=C.mul(E),B=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=I.isub(B).iushrn(this.shift),q=z;return z.cmp(this.m)>=0?q=z.isub(this.m):z.cmpn(0)<0&&(q=z.iadd(this.m)),q._forceRed(this)},Mont.prototype.invm=function invm(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===E||E,void 0)},{buffer:188}],185:[function(C,E,I){"use strict";I.byteLength=byteLength,I.toByteArray=toByteArray,I.fromByteArray=fromByteArray;for(var B=[],z=[],q="undefined"!=typeof Uint8Array?Uint8Array:Array,Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ee=0,te=Q.length;ee<te;++ee)B[ee]=Q[ee],z[Q.charCodeAt(ee)]=ee;function getLens(C){var E=C.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=C.indexOf("=");return-1===I&&(I=E),[I,I===E?0:4-I%4]}function byteLength(C){var E=getLens(C),I=E[0],B=E[1];return 3*(I+B)/4-B}function _byteLength(C,E,I){return 3*(E+I)/4-I}function toByteArray(C){var E,I,B=getLens(C),Q=B[0],ee=B[1],te=new q(_byteLength(C,Q,ee)),ie=0,re=ee>0?Q-4:Q;for(I=0;I<re;I+=4)E=z[C.charCodeAt(I)]<<18|z[C.charCodeAt(I+1)]<<12|z[C.charCodeAt(I+2)]<<6|z[C.charCodeAt(I+3)],te[ie++]=E>>16&255,te[ie++]=E>>8&255,te[ie++]=255&E;return 2===ee&&(E=z[C.charCodeAt(I)]<<2|z[C.charCodeAt(I+1)]>>4,te[ie++]=255&E),1===ee&&(E=z[C.charCodeAt(I)]<<10|z[C.charCodeAt(I+1)]<<4|z[C.charCodeAt(I+2)]>>2,te[ie++]=E>>8&255,te[ie++]=255&E),te}function tripletToBase64(C){return B[C>>18&63]+B[C>>12&63]+B[C>>6&63]+B[63&C]}function encodeChunk(C,E,I){for(var B,z=[],q=E;q<I;q+=3)B=(C[q]<<16&16711680)+(C[q+1]<<8&65280)+(255&C[q+2]),z.push(tripletToBase64(B));return z.join("")}function fromByteArray(C){for(var E,I=C.length,z=I%3,q=[],Q=16383,ee=0,te=I-z;ee<te;ee+=Q)q.push(encodeChunk(C,ee,ee+Q>te?te:ee+Q));return 1===z?(E=C[I-1],q.push(B[E>>2]+B[E<<4&63]+"==")):2===z&&(E=(C[I-2]<<8)+C[I-1],q.push(B[E>>10]+B[E>>4&63]+B[E<<2&63]+"=")),q.join("")}z["-".charCodeAt(0)]=62,z["_".charCodeAt(0)]=63},{}],186:[function(C,E,I){"use strict";!function(E,I){function assert(C,E){if(!C)throw new Error(E||"Assertion failed")}function inherits(C,E){C.super_=E;var TempCtor=function(){};TempCtor.prototype=E.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}function BN(C,E,I){if(BN.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&("le"!==E&&"be"!==E||(I=E,E=10),this._init(C||0,E||10,I||"be"))}var B;"object"==typeof E?E.exports=BN:I.BN=BN,BN.BN=BN,BN.wordSize=26;try{B="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:C("buffer").Buffer}catch(C){}function parseHex4Bits(C,E){var I=C.charCodeAt(E);return I>=48&&I<=57?I-48:I>=65&&I<=70?I-55:I>=97&&I<=102?I-87:void assert(!1,"Invalid character in "+C)}function parseHexByte(C,E,I){var B=parseHex4Bits(C,I);return I-1>=E&&(B|=parseHex4Bits(C,I-1)<<4),B}function parseBase(C,E,I,B){for(var z=0,q=0,Q=Math.min(C.length,I),ee=E;ee<Q;ee++){var te=C.charCodeAt(ee)-48;z*=B,q=te>=49?te-49+10:te>=17?te-17+10:te,assert(te>=0&&q<B,"Invalid character"),z+=q}return z}function move(C,E){C.words=E.words,C.length=E.length,C.negative=E.negative,C.red=E.red}if(BN.isBN=function isBN(C){return C instanceof BN||null!==C&&"object"==typeof C&&C.constructor.wordSize===BN.wordSize&&Array.isArray(C.words)},BN.max=function max(C,E){return C.cmp(E)>0?C:E},BN.min=function min(C,E){return C.cmp(E)<0?C:E},BN.prototype._init=function init(C,E,I){if("number"==typeof C)return this._initNumber(C,E,I);if("object"==typeof C)return this._initArray(C,E,I);"hex"===E&&(E=16),assert(E===(0|E)&&E>=2&&E<=36);var B=0;"-"===(C=C.toString().replace(/\s+/g,""))[0]&&(B++,this.negative=1),B<C.length&&(16===E?this._parseHex(C,B,I):(this._parseBase(C,E,B),"le"===I&&this._initArray(this.toArray(),E,I)))},BN.prototype._initNumber=function _initNumber(C,E,I){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(assert(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),"le"===I&&this._initArray(this.toArray(),E,I)},BN.prototype._initArray=function _initArray(C,E,I){if(assert("number"==typeof C.length),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var z,q,Q=0;if("be"===I)for(B=C.length-1,z=0;B>=0;B-=3)q=C[B]|C[B-1]<<8|C[B-2]<<16,this.words[z]|=q<<Q&67108863,this.words[z+1]=q>>>26-Q&67108863,(Q+=24)>=26&&(Q-=26,z++);else if("le"===I)for(B=0,z=0;B<C.length;B+=3)q=C[B]|C[B+1]<<8|C[B+2]<<16,this.words[z]|=q<<Q&67108863,this.words[z+1]=q>>>26-Q&67108863,(Q+=24)>=26&&(Q-=26,z++);return this._strip()},BN.prototype._parseHex=function _parseHex(C,E,I){this.length=Math.ceil((C.length-E)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var z,q=0,Q=0;if("be"===I)for(B=C.length-1;B>=E;B-=2)z=parseHexByte(C,E,B)<<q,this.words[Q]|=67108863&z,q>=18?(q-=18,Q+=1,this.words[Q]|=z>>>26):q+=8;else for(B=(C.length-E)%2==0?E+1:E;B<C.length;B+=2)z=parseHexByte(C,E,B)<<q,this.words[Q]|=67108863&z,q>=18?(q-=18,Q+=1,this.words[Q]|=z>>>26):q+=8;this._strip()},BN.prototype._parseBase=function _parseBase(C,E,I){this.words=[0],this.length=1;for(var B=0,z=1;z<=67108863;z*=E)B++;B--,z=z/E|0;for(var q=C.length-I,Q=q%B,ee=Math.min(q,q-Q)+I,te=0,ie=I;ie<ee;ie+=B)te=parseBase(C,ie,ie+B,E),this.imuln(z),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te);if(0!==Q){var re=1;for(te=parseBase(C,ie,C.length,E),ie=0;ie<Q;ie++)re*=E;this.imuln(re),this.words[0]+te<67108864?this.words[0]+=te:this._iaddn(te)}this._strip()},BN.prototype.copy=function copy(C){C.words=new Array(this.length);for(var E=0;E<this.length;E++)C.words[E]=this.words[E];C.length=this.length,C.negative=this.negative,C.red=this.red},BN.prototype._move=function _move(C){move(C,this)},BN.prototype.clone=function clone(){var C=new BN(null);return this.copy(C),C},BN.prototype._expand=function _expand(C){for(;this.length<C;)this.words[this.length++]=0;return this},BN.prototype._strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(C){BN.prototype.inspect=inspect}else BN.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var z=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],q=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(C,E){var I;if(E=0|E||1,16===(C=C||10)||"hex"===C){I="";for(var B=0,ee=0,te=0;te<this.length;te++){var ie=this.words[te],re=(16777215&(ie<<B|ee)).toString(16);ee=ie>>>24-B&16777215,(B+=2)>=26&&(B-=26,te--),I=0!==ee||te!==this.length-1?z[6-re.length]+re+I:re+I}for(0!==ee&&(I=ee.toString(16)+I);I.length%E!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}if(C===(0|C)&&C>=2&&C<=36){var ne=q[C],se=Q[C];I="";var oe=this.clone();for(oe.negative=0;!oe.isZero();){var ae=oe.modrn(se).toString(C);I=(oe=oe.idivn(se)).isZero()?ae+I:z[ne-ae.length]+ae+I}for(this.isZero()&&(I="0"+I);I.length%E!=0;)I="0"+I;return 0!==this.negative&&(I="-"+I),I}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var C=this.words[0];return 2===this.length?C+=67108864*this.words[1]:3===this.length&&1===this.words[2]?C+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-C:C},BN.prototype.toJSON=function toJSON(){return this.toString(16,2)},B&&(BN.prototype.toBuffer=function toBuffer(C,E){return this.toArrayLike(B,C,E)}),BN.prototype.toArray=function toArray(C,E){return this.toArrayLike(Array,C,E)};var ee=function allocate(C,E){return C.allocUnsafe?C.allocUnsafe(E):new C(E)};function toBitArray(C){for(var E=new Array(C.bitLength()),I=0;I<E.length;I++){var B=I/26|0,z=I%26;E[I]=C.words[B]>>>z&1}return E}function smallMulTo(C,E,I){I.negative=E.negative^C.negative;var B=C.length+E.length|0;I.length=B,B=B-1|0;var z=0|C.words[0],q=0|E.words[0],Q=z*q,ee=67108863&Q,te=Q/67108864|0;I.words[0]=ee;for(var ie=1;ie<B;ie++){for(var re=te>>>26,ne=67108863&te,se=Math.min(ie,E.length-1),oe=Math.max(0,ie-C.length+1);oe<=se;oe++){var ae=ie-oe|0;re+=(Q=(z=0|C.words[ae])*(q=0|E.words[oe])+ne)/67108864|0,ne=67108863&Q}I.words[ie]=0|ne,te=0|re}return 0!==te?I.words[ie]=0|te:I.length--,I._strip()}BN.prototype.toArrayLike=function toArrayLike(C,E,I){this._strip();var B=this.byteLength(),z=I||Math.max(1,B);assert(B<=z,"byte array longer than desired length"),assert(z>0,"Requested array length <= 0");var q=ee(C,z);return this["_toArrayLike"+("le"===E?"LE":"BE")](q,B),q},BN.prototype._toArrayLikeLE=function _toArrayLikeLE(C,E){for(var I=0,B=0,z=0,q=0;z<this.length;z++){var Q=this.words[z]<<q|B;C[I++]=255&Q,I<C.length&&(C[I++]=Q>>8&255),I<C.length&&(C[I++]=Q>>16&255),6===q?(I<C.length&&(C[I++]=Q>>24&255),B=0,q=0):(B=Q>>>24,q+=2)}if(I<C.length)for(C[I++]=B;I<C.length;)C[I++]=0},BN.prototype._toArrayLikeBE=function _toArrayLikeBE(C,E){for(var I=C.length-1,B=0,z=0,q=0;z<this.length;z++){var Q=this.words[z]<<q|B;C[I--]=255&Q,I>=0&&(C[I--]=Q>>8&255),I>=0&&(C[I--]=Q>>16&255),6===q?(I>=0&&(C[I--]=Q>>24&255),B=0,q=0):(B=Q>>>24,q+=2)}if(I>=0)for(C[I--]=B;I>=0;)C[I--]=0},Math.clz32?BN.prototype._countBits=function _countBits(C){return 32-Math.clz32(C)}:BN.prototype._countBits=function _countBits(C){var E=C,I=0;return E>=4096&&(I+=13,E>>>=13),E>=64&&(I+=7,E>>>=7),E>=8&&(I+=4,E>>>=4),E>=2&&(I+=2,E>>>=2),I+E},BN.prototype._zeroBits=function _zeroBits(C){if(0===C)return 26;var E=C,I=0;return 0==(8191&E)&&(I+=13,E>>>=13),0==(127&E)&&(I+=7,E>>>=7),0==(15&E)&&(I+=4,E>>>=4),0==(3&E)&&(I+=2,E>>>=2),0==(1&E)&&I++,I},BN.prototype.bitLength=function bitLength(){var C=this.words[this.length-1],E=this._countBits(C);return 26*(this.length-1)+E},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var C=0,E=0;E<this.length;E++){var I=this._zeroBits(this.words[E]);if(C+=I,26!==I)break}return C},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(C){return 0!==this.negative?this.abs().inotn(C).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var E=0;E<C.length;E++)this.words[E]=this.words[E]|C.words[E];return this._strip()},BN.prototype.ior=function ior(C){return assert(0==(this.negative|C.negative)),this.iuor(C)},BN.prototype.or=function or(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},BN.prototype.uor=function uor(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},BN.prototype.iuand=function iuand(C){var E;E=this.length>C.length?C:this;for(var I=0;I<E.length;I++)this.words[I]=this.words[I]&C.words[I];return this.length=E.length,this._strip()},BN.prototype.iand=function iand(C){return assert(0==(this.negative|C.negative)),this.iuand(C)},BN.prototype.and=function and(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},BN.prototype.uand=function uand(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},BN.prototype.iuxor=function iuxor(C){var E,I;this.length>C.length?(E=this,I=C):(E=C,I=this);for(var B=0;B<I.length;B++)this.words[B]=E.words[B]^I.words[B];if(this!==E)for(;B<E.length;B++)this.words[B]=E.words[B];return this.length=E.length,this._strip()},BN.prototype.ixor=function ixor(C){return assert(0==(this.negative|C.negative)),this.iuxor(C)},BN.prototype.xor=function xor(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},BN.prototype.uxor=function uxor(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},BN.prototype.inotn=function inotn(C){assert("number"==typeof C&&C>=0);var E=0|Math.ceil(C/26),I=C%26;this._expand(E),I>0&&E--;for(var B=0;B<E;B++)this.words[B]=67108863&~this.words[B];return I>0&&(this.words[B]=~this.words[B]&67108863>>26-I),this._strip()},BN.prototype.notn=function notn(C){return this.clone().inotn(C)},BN.prototype.setn=function setn(C,E){assert("number"==typeof C&&C>=0);var I=C/26|0,B=C%26;return this._expand(I+1),this.words[I]=E?this.words[I]|1<<B:this.words[I]&~(1<<B),this._strip()},BN.prototype.iadd=function iadd(C){var E,I,B;if(0!==this.negative&&0===C.negative)return this.negative=0,E=this.isub(C),this.negative^=1,this._normSign();if(0===this.negative&&0!==C.negative)return C.negative=0,E=this.isub(C),C.negative=1,E._normSign();this.length>C.length?(I=this,B=C):(I=C,B=this);for(var z=0,q=0;q<B.length;q++)E=(0|I.words[q])+(0|B.words[q])+z,this.words[q]=67108863&E,z=E>>>26;for(;0!==z&&q<I.length;q++)E=(0|I.words[q])+z,this.words[q]=67108863&E,z=E>>>26;if(this.length=I.length,0!==z)this.words[this.length]=z,this.length++;else if(I!==this)for(;q<I.length;q++)this.words[q]=I.words[q];return this},BN.prototype.add=function add(C){var E;return 0!==C.negative&&0===this.negative?(C.negative=0,E=this.sub(C),C.negative^=1,E):0===C.negative&&0!==this.negative?(this.negative=0,E=C.sub(this),this.negative=1,E):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},BN.prototype.isub=function isub(C){if(0!==C.negative){C.negative=0;var E=this.iadd(C);return C.negative=1,E._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var I,B,z=this.cmp(C);if(0===z)return this.negative=0,this.length=1,this.words[0]=0,this;z>0?(I=this,B=C):(I=C,B=this);for(var q=0,Q=0;Q<B.length;Q++)q=(E=(0|I.words[Q])-(0|B.words[Q])+q)>>26,this.words[Q]=67108863&E;for(;0!==q&&Q<I.length;Q++)q=(E=(0|I.words[Q])+q)>>26,this.words[Q]=67108863&E;if(0===q&&Q<I.length&&I!==this)for(;Q<I.length;Q++)this.words[Q]=I.words[Q];return this.length=Math.max(this.length,Q),I!==this&&(this.negative=1),this._strip()},BN.prototype.sub=function sub(C){return this.clone().isub(C)};var te=function comb10MulTo(C,E,I){var B,z,q,Q=C.words,ee=E.words,te=I.words,ie=0,re=0|Q[0],ne=8191&re,se=re>>>13,oe=0|Q[1],ae=8191&oe,le=oe>>>13,ue=0|Q[2],de=8191&ue,ce=ue>>>13,he=0|Q[3],fe=8191&he,pe=he>>>13,me=0|Q[4],ge=8191&me,ve=me>>>13,ye=0|Q[5],be=8191&ye,Ce=ye>>>13,we=0|Q[6],_e=8191&we,Se=we>>>13,xe=0|Q[7],ke=8191&xe,Te=xe>>>13,Me=0|Q[8],Re=8191&Me,Ee=Me>>>13,Pe=0|Q[9],Ie=8191&Pe,Ae=Pe>>>13,Ne=0|ee[0],De=8191&Ne,Be=Ne>>>13,Fe=0|ee[1],Oe=8191&Fe,Le=Fe>>>13,$e=0|ee[2],je=8191&$e,Ve=$e>>>13,He=0|ee[3],Ge=8191&He,Ue=He>>>13,ze=0|ee[4],qe=8191&ze,We=ze>>>13,Ke=0|ee[5],Xe=8191&Ke,Je=Ke>>>13,Ye=0|ee[6],Ze=8191&Ye,Qe=Ye>>>13,et=0|ee[7],tt=8191&et,it=et>>>13,rt=0|ee[8],nt=8191&rt,st=rt>>>13,ot=0|ee[9],at=8191&ot,ut=ot>>>13;I.negative=C.negative^E.negative,I.length=19;var dt=(ie+(B=Math.imul(ne,De))|0)+((8191&(z=(z=Math.imul(ne,Be))+Math.imul(se,De)|0))<<13)|0;ie=((q=Math.imul(se,Be))+(z>>>13)|0)+(dt>>>26)|0,dt&=67108863,B=Math.imul(ae,De),z=(z=Math.imul(ae,Be))+Math.imul(le,De)|0,q=Math.imul(le,Be);var ct=(ie+(B=B+Math.imul(ne,Oe)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Le)|0)+Math.imul(se,Oe)|0))<<13)|0;ie=((q=q+Math.imul(se,Le)|0)+(z>>>13)|0)+(ct>>>26)|0,ct&=67108863,B=Math.imul(de,De),z=(z=Math.imul(de,Be))+Math.imul(ce,De)|0,q=Math.imul(ce,Be),B=B+Math.imul(ae,Oe)|0,z=(z=z+Math.imul(ae,Le)|0)+Math.imul(le,Oe)|0,q=q+Math.imul(le,Le)|0;var ht=(ie+(B=B+Math.imul(ne,je)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Ve)|0)+Math.imul(se,je)|0))<<13)|0;ie=((q=q+Math.imul(se,Ve)|0)+(z>>>13)|0)+(ht>>>26)|0,ht&=67108863,B=Math.imul(fe,De),z=(z=Math.imul(fe,Be))+Math.imul(pe,De)|0,q=Math.imul(pe,Be),B=B+Math.imul(de,Oe)|0,z=(z=z+Math.imul(de,Le)|0)+Math.imul(ce,Oe)|0,q=q+Math.imul(ce,Le)|0,B=B+Math.imul(ae,je)|0,z=(z=z+Math.imul(ae,Ve)|0)+Math.imul(le,je)|0,q=q+Math.imul(le,Ve)|0;var pt=(ie+(B=B+Math.imul(ne,Ge)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Ue)|0)+Math.imul(se,Ge)|0))<<13)|0;ie=((q=q+Math.imul(se,Ue)|0)+(z>>>13)|0)+(pt>>>26)|0,pt&=67108863,B=Math.imul(ge,De),z=(z=Math.imul(ge,Be))+Math.imul(ve,De)|0,q=Math.imul(ve,Be),B=B+Math.imul(fe,Oe)|0,z=(z=z+Math.imul(fe,Le)|0)+Math.imul(pe,Oe)|0,q=q+Math.imul(pe,Le)|0,B=B+Math.imul(de,je)|0,z=(z=z+Math.imul(de,Ve)|0)+Math.imul(ce,je)|0,q=q+Math.imul(ce,Ve)|0,B=B+Math.imul(ae,Ge)|0,z=(z=z+Math.imul(ae,Ue)|0)+Math.imul(le,Ge)|0,q=q+Math.imul(le,Ue)|0;var mt=(ie+(B=B+Math.imul(ne,qe)|0)|0)+((8191&(z=(z=z+Math.imul(ne,We)|0)+Math.imul(se,qe)|0))<<13)|0;ie=((q=q+Math.imul(se,We)|0)+(z>>>13)|0)+(mt>>>26)|0,mt&=67108863,B=Math.imul(be,De),z=(z=Math.imul(be,Be))+Math.imul(Ce,De)|0,q=Math.imul(Ce,Be),B=B+Math.imul(ge,Oe)|0,z=(z=z+Math.imul(ge,Le)|0)+Math.imul(ve,Oe)|0,q=q+Math.imul(ve,Le)|0,B=B+Math.imul(fe,je)|0,z=(z=z+Math.imul(fe,Ve)|0)+Math.imul(pe,je)|0,q=q+Math.imul(pe,Ve)|0,B=B+Math.imul(de,Ge)|0,z=(z=z+Math.imul(de,Ue)|0)+Math.imul(ce,Ge)|0,q=q+Math.imul(ce,Ue)|0,B=B+Math.imul(ae,qe)|0,z=(z=z+Math.imul(ae,We)|0)+Math.imul(le,qe)|0,q=q+Math.imul(le,We)|0;var vt=(ie+(B=B+Math.imul(ne,Xe)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Je)|0)+Math.imul(se,Xe)|0))<<13)|0;ie=((q=q+Math.imul(se,Je)|0)+(z>>>13)|0)+(vt>>>26)|0,vt&=67108863,B=Math.imul(_e,De),z=(z=Math.imul(_e,Be))+Math.imul(Se,De)|0,q=Math.imul(Se,Be),B=B+Math.imul(be,Oe)|0,z=(z=z+Math.imul(be,Le)|0)+Math.imul(Ce,Oe)|0,q=q+Math.imul(Ce,Le)|0,B=B+Math.imul(ge,je)|0,z=(z=z+Math.imul(ge,Ve)|0)+Math.imul(ve,je)|0,q=q+Math.imul(ve,Ve)|0,B=B+Math.imul(fe,Ge)|0,z=(z=z+Math.imul(fe,Ue)|0)+Math.imul(pe,Ge)|0,q=q+Math.imul(pe,Ue)|0,B=B+Math.imul(de,qe)|0,z=(z=z+Math.imul(de,We)|0)+Math.imul(ce,qe)|0,q=q+Math.imul(ce,We)|0,B=B+Math.imul(ae,Xe)|0,z=(z=z+Math.imul(ae,Je)|0)+Math.imul(le,Xe)|0,q=q+Math.imul(le,Je)|0;var yt=(ie+(B=B+Math.imul(ne,Ze)|0)|0)+((8191&(z=(z=z+Math.imul(ne,Qe)|0)+Math.imul(se,Ze)|0))<<13)|0;ie=((q=q+Math.imul(se,Qe)|0)+(z>>>13)|0)+(yt>>>26)|0,yt&=67108863,B=Math.imul(ke,De),z=(z=Math.imul(ke,Be))+Math.imul(Te,De)|0,q=Math.imul(Te,Be),B=B+Math.imul(_e,Oe)|0,z=(z=z+Math.imul(_e,Le)|0)+Math.imul(Se,Oe)|0,q=q+Math.imul(Se,Le)|0,B=B+Math.imul(be,je)|0,z=(z=z+Math.imul(be,Ve)|0)+Math.imul(Ce,je)|0,q=q+Math.imul(Ce,Ve)|0,B=B+Math.imul(ge,Ge)|0,z=(z=z+Math.imul(ge,Ue)|0)+Math.imul(ve,Ge)|0,q=q+Math.imul(ve,Ue)|0,B=B+Math.imul(fe,qe)|0,z=(z=z+Math.imul(fe,We)|0)+Math.imul(pe,qe)|0,q=q+Math.imul(pe,We)|0,B=B+Math.imul(de,Xe)|0,z=(z=z+Math.imul(de,Je)|0)+Math.imul(ce,Xe)|0,q=q+Math.imul(ce,Je)|0,B=B+Math.imul(ae,Ze)|0,z=(z=z+Math.imul(ae,Qe)|0)+Math.imul(le,Ze)|0,q=q+Math.imul(le,Qe)|0;var bt=(ie+(B=B+Math.imul(ne,tt)|0)|0)+((8191&(z=(z=z+Math.imul(ne,it)|0)+Math.imul(se,tt)|0))<<13)|0;ie=((q=q+Math.imul(se,it)|0)+(z>>>13)|0)+(bt>>>26)|0,bt&=67108863,B=Math.imul(Re,De),z=(z=Math.imul(Re,Be))+Math.imul(Ee,De)|0,q=Math.imul(Ee,Be),B=B+Math.imul(ke,Oe)|0,z=(z=z+Math.imul(ke,Le)|0)+Math.imul(Te,Oe)|0,q=q+Math.imul(Te,Le)|0,B=B+Math.imul(_e,je)|0,z=(z=z+Math.imul(_e,Ve)|0)+Math.imul(Se,je)|0,q=q+Math.imul(Se,Ve)|0,B=B+Math.imul(be,Ge)|0,z=(z=z+Math.imul(be,Ue)|0)+Math.imul(Ce,Ge)|0,q=q+Math.imul(Ce,Ue)|0,B=B+Math.imul(ge,qe)|0,z=(z=z+Math.imul(ge,We)|0)+Math.imul(ve,qe)|0,q=q+Math.imul(ve,We)|0,B=B+Math.imul(fe,Xe)|0,z=(z=z+Math.imul(fe,Je)|0)+Math.imul(pe,Xe)|0,q=q+Math.imul(pe,Je)|0,B=B+Math.imul(de,Ze)|0,z=(z=z+Math.imul(de,Qe)|0)+Math.imul(ce,Ze)|0,q=q+Math.imul(ce,Qe)|0,B=B+Math.imul(ae,tt)|0,z=(z=z+Math.imul(ae,it)|0)+Math.imul(le,tt)|0,q=q+Math.imul(le,it)|0;var Ct=(ie+(B=B+Math.imul(ne,nt)|0)|0)+((8191&(z=(z=z+Math.imul(ne,st)|0)+Math.imul(se,nt)|0))<<13)|0;ie=((q=q+Math.imul(se,st)|0)+(z>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,B=Math.imul(Ie,De),z=(z=Math.imul(Ie,Be))+Math.imul(Ae,De)|0,q=Math.imul(Ae,Be),B=B+Math.imul(Re,Oe)|0,z=(z=z+Math.imul(Re,Le)|0)+Math.imul(Ee,Oe)|0,q=q+Math.imul(Ee,Le)|0,B=B+Math.imul(ke,je)|0,z=(z=z+Math.imul(ke,Ve)|0)+Math.imul(Te,je)|0,q=q+Math.imul(Te,Ve)|0,B=B+Math.imul(_e,Ge)|0,z=(z=z+Math.imul(_e,Ue)|0)+Math.imul(Se,Ge)|0,q=q+Math.imul(Se,Ue)|0,B=B+Math.imul(be,qe)|0,z=(z=z+Math.imul(be,We)|0)+Math.imul(Ce,qe)|0,q=q+Math.imul(Ce,We)|0,B=B+Math.imul(ge,Xe)|0,z=(z=z+Math.imul(ge,Je)|0)+Math.imul(ve,Xe)|0,q=q+Math.imul(ve,Je)|0,B=B+Math.imul(fe,Ze)|0,z=(z=z+Math.imul(fe,Qe)|0)+Math.imul(pe,Ze)|0,q=q+Math.imul(pe,Qe)|0,B=B+Math.imul(de,tt)|0,z=(z=z+Math.imul(de,it)|0)+Math.imul(ce,tt)|0,q=q+Math.imul(ce,it)|0,B=B+Math.imul(ae,nt)|0,z=(z=z+Math.imul(ae,st)|0)+Math.imul(le,nt)|0,q=q+Math.imul(le,st)|0;var wt=(ie+(B=B+Math.imul(ne,at)|0)|0)+((8191&(z=(z=z+Math.imul(ne,ut)|0)+Math.imul(se,at)|0))<<13)|0;ie=((q=q+Math.imul(se,ut)|0)+(z>>>13)|0)+(wt>>>26)|0,wt&=67108863,B=Math.imul(Ie,Oe),z=(z=Math.imul(Ie,Le))+Math.imul(Ae,Oe)|0,q=Math.imul(Ae,Le),B=B+Math.imul(Re,je)|0,z=(z=z+Math.imul(Re,Ve)|0)+Math.imul(Ee,je)|0,q=q+Math.imul(Ee,Ve)|0,B=B+Math.imul(ke,Ge)|0,z=(z=z+Math.imul(ke,Ue)|0)+Math.imul(Te,Ge)|0,q=q+Math.imul(Te,Ue)|0,B=B+Math.imul(_e,qe)|0,z=(z=z+Math.imul(_e,We)|0)+Math.imul(Se,qe)|0,q=q+Math.imul(Se,We)|0,B=B+Math.imul(be,Xe)|0,z=(z=z+Math.imul(be,Je)|0)+Math.imul(Ce,Xe)|0,q=q+Math.imul(Ce,Je)|0,B=B+Math.imul(ge,Ze)|0,z=(z=z+Math.imul(ge,Qe)|0)+Math.imul(ve,Ze)|0,q=q+Math.imul(ve,Qe)|0,B=B+Math.imul(fe,tt)|0,z=(z=z+Math.imul(fe,it)|0)+Math.imul(pe,tt)|0,q=q+Math.imul(pe,it)|0,B=B+Math.imul(de,nt)|0,z=(z=z+Math.imul(de,st)|0)+Math.imul(ce,nt)|0,q=q+Math.imul(ce,st)|0;var _t=(ie+(B=B+Math.imul(ae,at)|0)|0)+((8191&(z=(z=z+Math.imul(ae,ut)|0)+Math.imul(le,at)|0))<<13)|0;ie=((q=q+Math.imul(le,ut)|0)+(z>>>13)|0)+(_t>>>26)|0,_t&=67108863,B=Math.imul(Ie,je),z=(z=Math.imul(Ie,Ve))+Math.imul(Ae,je)|0,q=Math.imul(Ae,Ve),B=B+Math.imul(Re,Ge)|0,z=(z=z+Math.imul(Re,Ue)|0)+Math.imul(Ee,Ge)|0,q=q+Math.imul(Ee,Ue)|0,B=B+Math.imul(ke,qe)|0,z=(z=z+Math.imul(ke,We)|0)+Math.imul(Te,qe)|0,q=q+Math.imul(Te,We)|0,B=B+Math.imul(_e,Xe)|0,z=(z=z+Math.imul(_e,Je)|0)+Math.imul(Se,Xe)|0,q=q+Math.imul(Se,Je)|0,B=B+Math.imul(be,Ze)|0,z=(z=z+Math.imul(be,Qe)|0)+Math.imul(Ce,Ze)|0,q=q+Math.imul(Ce,Qe)|0,B=B+Math.imul(ge,tt)|0,z=(z=z+Math.imul(ge,it)|0)+Math.imul(ve,tt)|0,q=q+Math.imul(ve,it)|0,B=B+Math.imul(fe,nt)|0,z=(z=z+Math.imul(fe,st)|0)+Math.imul(pe,nt)|0,q=q+Math.imul(pe,st)|0;var St=(ie+(B=B+Math.imul(de,at)|0)|0)+((8191&(z=(z=z+Math.imul(de,ut)|0)+Math.imul(ce,at)|0))<<13)|0;ie=((q=q+Math.imul(ce,ut)|0)+(z>>>13)|0)+(St>>>26)|0,St&=67108863,B=Math.imul(Ie,Ge),z=(z=Math.imul(Ie,Ue))+Math.imul(Ae,Ge)|0,q=Math.imul(Ae,Ue),B=B+Math.imul(Re,qe)|0,z=(z=z+Math.imul(Re,We)|0)+Math.imul(Ee,qe)|0,q=q+Math.imul(Ee,We)|0,B=B+Math.imul(ke,Xe)|0,z=(z=z+Math.imul(ke,Je)|0)+Math.imul(Te,Xe)|0,q=q+Math.imul(Te,Je)|0,B=B+Math.imul(_e,Ze)|0,z=(z=z+Math.imul(_e,Qe)|0)+Math.imul(Se,Ze)|0,q=q+Math.imul(Se,Qe)|0,B=B+Math.imul(be,tt)|0,z=(z=z+Math.imul(be,it)|0)+Math.imul(Ce,tt)|0,q=q+Math.imul(Ce,it)|0,B=B+Math.imul(ge,nt)|0,z=(z=z+Math.imul(ge,st)|0)+Math.imul(ve,nt)|0,q=q+Math.imul(ve,st)|0;var xt=(ie+(B=B+Math.imul(fe,at)|0)|0)+((8191&(z=(z=z+Math.imul(fe,ut)|0)+Math.imul(pe,at)|0))<<13)|0;ie=((q=q+Math.imul(pe,ut)|0)+(z>>>13)|0)+(xt>>>26)|0,xt&=67108863,B=Math.imul(Ie,qe),z=(z=Math.imul(Ie,We))+Math.imul(Ae,qe)|0,q=Math.imul(Ae,We),B=B+Math.imul(Re,Xe)|0,z=(z=z+Math.imul(Re,Je)|0)+Math.imul(Ee,Xe)|0,q=q+Math.imul(Ee,Je)|0,B=B+Math.imul(ke,Ze)|0,z=(z=z+Math.imul(ke,Qe)|0)+Math.imul(Te,Ze)|0,q=q+Math.imul(Te,Qe)|0,B=B+Math.imul(_e,tt)|0,z=(z=z+Math.imul(_e,it)|0)+Math.imul(Se,tt)|0,q=q+Math.imul(Se,it)|0,B=B+Math.imul(be,nt)|0,z=(z=z+Math.imul(be,st)|0)+Math.imul(Ce,nt)|0,q=q+Math.imul(Ce,st)|0;var kt=(ie+(B=B+Math.imul(ge,at)|0)|0)+((8191&(z=(z=z+Math.imul(ge,ut)|0)+Math.imul(ve,at)|0))<<13)|0;ie=((q=q+Math.imul(ve,ut)|0)+(z>>>13)|0)+(kt>>>26)|0,kt&=67108863,B=Math.imul(Ie,Xe),z=(z=Math.imul(Ie,Je))+Math.imul(Ae,Xe)|0,q=Math.imul(Ae,Je),B=B+Math.imul(Re,Ze)|0,z=(z=z+Math.imul(Re,Qe)|0)+Math.imul(Ee,Ze)|0,q=q+Math.imul(Ee,Qe)|0,B=B+Math.imul(ke,tt)|0,z=(z=z+Math.imul(ke,it)|0)+Math.imul(Te,tt)|0,q=q+Math.imul(Te,it)|0,B=B+Math.imul(_e,nt)|0,z=(z=z+Math.imul(_e,st)|0)+Math.imul(Se,nt)|0,q=q+Math.imul(Se,st)|0;var Tt=(ie+(B=B+Math.imul(be,at)|0)|0)+((8191&(z=(z=z+Math.imul(be,ut)|0)+Math.imul(Ce,at)|0))<<13)|0;ie=((q=q+Math.imul(Ce,ut)|0)+(z>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,B=Math.imul(Ie,Ze),z=(z=Math.imul(Ie,Qe))+Math.imul(Ae,Ze)|0,q=Math.imul(Ae,Qe),B=B+Math.imul(Re,tt)|0,z=(z=z+Math.imul(Re,it)|0)+Math.imul(Ee,tt)|0,q=q+Math.imul(Ee,it)|0,B=B+Math.imul(ke,nt)|0,z=(z=z+Math.imul(ke,st)|0)+Math.imul(Te,nt)|0,q=q+Math.imul(Te,st)|0;var Mt=(ie+(B=B+Math.imul(_e,at)|0)|0)+((8191&(z=(z=z+Math.imul(_e,ut)|0)+Math.imul(Se,at)|0))<<13)|0;ie=((q=q+Math.imul(Se,ut)|0)+(z>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,B=Math.imul(Ie,tt),z=(z=Math.imul(Ie,it))+Math.imul(Ae,tt)|0,q=Math.imul(Ae,it),B=B+Math.imul(Re,nt)|0,z=(z=z+Math.imul(Re,st)|0)+Math.imul(Ee,nt)|0,q=q+Math.imul(Ee,st)|0;var Rt=(ie+(B=B+Math.imul(ke,at)|0)|0)+((8191&(z=(z=z+Math.imul(ke,ut)|0)+Math.imul(Te,at)|0))<<13)|0;ie=((q=q+Math.imul(Te,ut)|0)+(z>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,B=Math.imul(Ie,nt),z=(z=Math.imul(Ie,st))+Math.imul(Ae,nt)|0,q=Math.imul(Ae,st);var Et=(ie+(B=B+Math.imul(Re,at)|0)|0)+((8191&(z=(z=z+Math.imul(Re,ut)|0)+Math.imul(Ee,at)|0))<<13)|0;ie=((q=q+Math.imul(Ee,ut)|0)+(z>>>13)|0)+(Et>>>26)|0,Et&=67108863;var Pt=(ie+(B=Math.imul(Ie,at))|0)+((8191&(z=(z=Math.imul(Ie,ut))+Math.imul(Ae,at)|0))<<13)|0;return ie=((q=Math.imul(Ae,ut))+(z>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,te[0]=dt,te[1]=ct,te[2]=ht,te[3]=pt,te[4]=mt,te[5]=vt,te[6]=yt,te[7]=bt,te[8]=Ct,te[9]=wt,te[10]=_t,te[11]=St,te[12]=xt,te[13]=kt,te[14]=Tt,te[15]=Mt,te[16]=Rt,te[17]=Et,te[18]=Pt,0!==ie&&(te[19]=ie,I.length++),I};function bigMulTo(C,E,I){I.negative=E.negative^C.negative,I.length=C.length+E.length;for(var B=0,z=0,q=0;q<I.length-1;q++){var Q=z;z=0;for(var ee=67108863&B,te=Math.min(q,E.length-1),ie=Math.max(0,q-C.length+1);ie<=te;ie++){var re=q-ie,ne=(0|C.words[re])*(0|E.words[ie]),se=67108863&ne;ee=67108863&(se=se+ee|0),z+=(Q=(Q=Q+(ne/67108864|0)|0)+(se>>>26)|0)>>>26,Q&=67108863}I.words[q]=ee,B=Q,Q=z}return 0!==B?I.words[q]=B:I.length--,I._strip()}function jumboMulTo(C,E,I){return bigMulTo(C,E,I)}function FFTM(C,E){this.x=C,this.y=E}Math.imul||(te=smallMulTo),BN.prototype.mulTo=function mulTo(C,E){var I=this.length+C.length;return 10===this.length&&10===C.length?te(this,C,E):I<63?smallMulTo(this,C,E):I<1024?bigMulTo(this,C,E):jumboMulTo(this,C,E)},FFTM.prototype.makeRBT=function makeRBT(C){for(var E=new Array(C),I=BN.prototype._countBits(C)-1,B=0;B<C;B++)E[B]=this.revBin(B,I,C);return E},FFTM.prototype.revBin=function revBin(C,E,I){if(0===C||C===I-1)return C;for(var B=0,z=0;z<E;z++)B|=(1&C)<<E-z-1,C>>=1;return B},FFTM.prototype.permute=function permute(C,E,I,B,z,q){for(var Q=0;Q<q;Q++)B[Q]=E[C[Q]],z[Q]=I[C[Q]]},FFTM.prototype.transform=function transform(C,E,I,B,z,q){this.permute(q,C,E,I,B,z);for(var Q=1;Q<z;Q<<=1)for(var ee=Q<<1,te=Math.cos(2*Math.PI/ee),ie=Math.sin(2*Math.PI/ee),re=0;re<z;re+=ee)for(var ne=te,se=ie,oe=0;oe<Q;oe++){var ae=I[re+oe],le=B[re+oe],ue=I[re+oe+Q],de=B[re+oe+Q],ce=ne*ue-se*de;de=ne*de+se*ue,ue=ce,I[re+oe]=ae+ue,B[re+oe]=le+de,I[re+oe+Q]=ae-ue,B[re+oe+Q]=le-de,oe!==ee&&(ce=te*ne-ie*se,se=te*se+ie*ne,ne=ce)}},FFTM.prototype.guessLen13b=function guessLen13b(C,E){var I=1|Math.max(E,C),B=1&I,z=0;for(I=I/2|0;I;I>>>=1)z++;return 1<<z+1+B},FFTM.prototype.conjugate=function conjugate(C,E,I){if(!(I<=1))for(var B=0;B<I/2;B++){var z=C[B];C[B]=C[I-B-1],C[I-B-1]=z,z=E[B],E[B]=-E[I-B-1],E[I-B-1]=-z}},FFTM.prototype.normalize13b=function normalize13b(C,E){for(var I=0,B=0;B<E/2;B++){var z=8192*Math.round(C[2*B+1]/E)+Math.round(C[2*B]/E)+I;C[B]=67108863&z,I=z<67108864?0:z/67108864|0}return C},FFTM.prototype.convert13b=function convert13b(C,E,I,B){for(var z=0,q=0;q<E;q++)z+=0|C[q],I[2*q]=8191&z,z>>>=13,I[2*q+1]=8191&z,z>>>=13;for(q=2*E;q<B;++q)I[q]=0;assert(0===z),assert(0==(-8192&z))},FFTM.prototype.stub=function stub(C){for(var E=new Array(C),I=0;I<C;I++)E[I]=0;return E},FFTM.prototype.mulp=function mulp(C,E,I){var B=2*this.guessLen13b(C.length,E.length),z=this.makeRBT(B),q=this.stub(B),Q=new Array(B),ee=new Array(B),te=new Array(B),ie=new Array(B),re=new Array(B),ne=new Array(B),se=I.words;se.length=B,this.convert13b(C.words,C.length,Q,B),this.convert13b(E.words,E.length,ie,B),this.transform(Q,q,ee,te,B,z),this.transform(ie,q,re,ne,B,z);for(var oe=0;oe<B;oe++){var ae=ee[oe]*re[oe]-te[oe]*ne[oe];te[oe]=ee[oe]*ne[oe]+te[oe]*re[oe],ee[oe]=ae}return this.conjugate(ee,te,B),this.transform(ee,te,se,q,B,z),this.conjugate(se,q,B),this.normalize13b(se,B),I.negative=C.negative^E.negative,I.length=C.length+E.length,I._strip()},BN.prototype.mul=function mul(C){var E=new BN(null);return E.words=new Array(this.length+C.length),this.mulTo(C,E)},BN.prototype.mulf=function mulf(C){var E=new BN(null);return E.words=new Array(this.length+C.length),jumboMulTo(this,C,E)},BN.prototype.imul=function imul(C){return this.clone().mulTo(C,this)},BN.prototype.imuln=function imuln(C){var E=C<0;E&&(C=-C),assert("number"==typeof C),assert(C<67108864);for(var I=0,B=0;B<this.length;B++){var z=(0|this.words[B])*C,q=(67108863&z)+(67108863&I);I>>=26,I+=z/67108864|0,I+=q>>>26,this.words[B]=67108863&q}return 0!==I&&(this.words[B]=I,this.length++),E?this.ineg():this},BN.prototype.muln=function muln(C){return this.clone().imuln(C)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(C){var E=toBitArray(C);if(0===E.length)return new BN(1);for(var I=this,B=0;B<E.length&&0===E[B];B++,I=I.sqr());if(++B<E.length)for(var z=I.sqr();B<E.length;B++,z=z.sqr())0!==E[B]&&(I=I.mul(z));return I},BN.prototype.iushln=function iushln(C){assert("number"==typeof C&&C>=0);var E,I=C%26,B=(C-I)/26,z=67108863>>>26-I<<26-I;if(0!==I){var q=0;for(E=0;E<this.length;E++){var Q=this.words[E]&z,ee=(0|this.words[E])-Q<<I;this.words[E]=ee|q,q=Q>>>26-I}q&&(this.words[E]=q,this.length++)}if(0!==B){for(E=this.length-1;E>=0;E--)this.words[E+B]=this.words[E];for(E=0;E<B;E++)this.words[E]=0;this.length+=B}return this._strip()},BN.prototype.ishln=function ishln(C){return assert(0===this.negative),this.iushln(C)},BN.prototype.iushrn=function iushrn(C,E,I){var B;assert("number"==typeof C&&C>=0),B=E?(E-E%26)/26:0;var z=C%26,q=Math.min((C-z)/26,this.length),Q=67108863^67108863>>>z<<z,ee=I;if(B-=q,B=Math.max(0,B),ee){for(var te=0;te<q;te++)ee.words[te]=this.words[te];ee.length=q}if(0===q);else if(this.length>q)for(this.length-=q,te=0;te<this.length;te++)this.words[te]=this.words[te+q];else this.words[0]=0,this.length=1;var ie=0;for(te=this.length-1;te>=0&&(0!==ie||te>=B);te--){var re=0|this.words[te];this.words[te]=ie<<26-z|re>>>z,ie=re&Q}return ee&&0!==ie&&(ee.words[ee.length++]=ie),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},BN.prototype.ishrn=function ishrn(C,E,I){return assert(0===this.negative),this.iushrn(C,E,I)},BN.prototype.shln=function shln(C){return this.clone().ishln(C)},BN.prototype.ushln=function ushln(C){return this.clone().iushln(C)},BN.prototype.shrn=function shrn(C){return this.clone().ishrn(C)},BN.prototype.ushrn=function ushrn(C){return this.clone().iushrn(C)},BN.prototype.testn=function testn(C){assert("number"==typeof C&&C>=0);var E=C%26,I=(C-E)/26,B=1<<E;return!(this.length<=I||!(this.words[I]&B))},BN.prototype.imaskn=function imaskn(C){assert("number"==typeof C&&C>=0);var E=C%26,I=(C-E)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=I)return this;if(0!==E&&I++,this.length=Math.min(I,this.length),0!==E){var B=67108863^67108863>>>E<<E;this.words[this.length-1]&=B}return this._strip()},BN.prototype.maskn=function maskn(C){return this.clone().imaskn(C)},BN.prototype.iaddn=function iaddn(C){return assert("number"==typeof C),assert(C<67108864),C<0?this.isubn(-C):0!==this.negative?1===this.length&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},BN.prototype._iaddn=function _iaddn(C){this.words[0]+=C;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},BN.prototype.isubn=function isubn(C){if(assert("number"==typeof C),assert(C<67108864),C<0)return this.iaddn(-C);if(0!==this.negative)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},BN.prototype.addn=function addn(C){return this.clone().iaddn(C)},BN.prototype.subn=function subn(C){return this.clone().isubn(C)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(C,E,I){var B,z,q=C.length+I;this._expand(q);var Q=0;for(B=0;B<C.length;B++){z=(0|this.words[B+I])+Q;var ee=(0|C.words[B])*E;Q=((z-=67108863&ee)>>26)-(ee/67108864|0),this.words[B+I]=67108863&z}for(;B<this.length-I;B++)Q=(z=(0|this.words[B+I])+Q)>>26,this.words[B+I]=67108863&z;if(0===Q)return this._strip();for(assert(-1===Q),Q=0,B=0;B<this.length;B++)Q=(z=-(0|this.words[B])+Q)>>26,this.words[B]=67108863&z;return this.negative=1,this._strip()},BN.prototype._wordDiv=function _wordDiv(C,E){var I=this.length-C.length,B=this.clone(),z=C,q=0|z.words[z.length-1];0!=(I=26-this._countBits(q))&&(z=z.ushln(I),B.iushln(I),q=0|z.words[z.length-1]);var Q,ee=B.length-z.length;if("mod"!==E){(Q=new BN(null)).length=ee+1,Q.words=new Array(Q.length);for(var te=0;te<Q.length;te++)Q.words[te]=0}var ie=B.clone()._ishlnsubmul(z,1,ee);0===ie.negative&&(B=ie,Q&&(Q.words[ee]=1));for(var re=ee-1;re>=0;re--){var ne=67108864*(0|B.words[z.length+re])+(0|B.words[z.length+re-1]);for(ne=Math.min(ne/q|0,67108863),B._ishlnsubmul(z,ne,re);0!==B.negative;)ne--,B.negative=0,B._ishlnsubmul(z,1,re),B.isZero()||(B.negative^=1);Q&&(Q.words[re]=ne)}return Q&&Q._strip(),B._strip(),"div"!==E&&0!==I&&B.iushrn(I),{div:Q||null,mod:B}},BN.prototype.divmod=function divmod(C,E,I){return assert(!C.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===C.negative?(q=this.neg().divmod(C,E),"mod"!==E&&(B=q.div.neg()),"div"!==E&&(z=q.mod.neg(),I&&0!==z.negative&&z.iadd(C)),{div:B,mod:z}):0===this.negative&&0!==C.negative?(q=this.divmod(C.neg(),E),"mod"!==E&&(B=q.div.neg()),{div:B,mod:q.mod}):0!=(this.negative&C.negative)?(q=this.neg().divmod(C.neg(),E),"div"!==E&&(z=q.mod.neg(),I&&0!==z.negative&&z.isub(C)),{div:q.div,mod:z}):C.length>this.length||this.cmp(C)<0?{div:new BN(0),mod:this}:1===C.length?"div"===E?{div:this.divn(C.words[0]),mod:null}:"mod"===E?{div:null,mod:new BN(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new BN(this.modrn(C.words[0]))}:this._wordDiv(C,E);var B,z,q},BN.prototype.div=function div(C){return this.divmod(C,"div",!1).div},BN.prototype.mod=function mod(C){return this.divmod(C,"mod",!1).mod},BN.prototype.umod=function umod(C){return this.divmod(C,"mod",!0).mod},BN.prototype.divRound=function divRound(C){var E=this.divmod(C);if(E.mod.isZero())return E.div;var I=0!==E.div.negative?E.mod.isub(C):E.mod,B=C.ushrn(1),z=C.andln(1),q=I.cmp(B);return q<0||1===z&&0===q?E.div:0!==E.div.negative?E.div.isubn(1):E.div.iaddn(1)},BN.prototype.modrn=function modrn(C){var E=C<0;E&&(C=-C),assert(C<=67108863);for(var I=(1<<26)%C,B=0,z=this.length-1;z>=0;z--)B=(I*B+(0|this.words[z]))%C;return E?-B:B},BN.prototype.modn=function modn(C){return this.modrn(C)},BN.prototype.idivn=function idivn(C){var E=C<0;E&&(C=-C),assert(C<=67108863);for(var I=0,B=this.length-1;B>=0;B--){var z=(0|this.words[B])+67108864*I;this.words[B]=z/C|0,I=z%C}return this._strip(),E?this.ineg():this},BN.prototype.divn=function divn(C){return this.clone().idivn(C)},BN.prototype.egcd=function egcd(C){assert(0===C.negative),assert(!C.isZero());var E=this,I=C.clone();E=0!==E.negative?E.umod(C):E.clone();for(var B=new BN(1),z=new BN(0),q=new BN(0),Q=new BN(1),ee=0;E.isEven()&&I.isEven();)E.iushrn(1),I.iushrn(1),++ee;for(var te=I.clone(),ie=E.clone();!E.isZero();){for(var re=0,ne=1;0==(E.words[0]&ne)&&re<26;++re,ne<<=1);if(re>0)for(E.iushrn(re);re-- >0;)(B.isOdd()||z.isOdd())&&(B.iadd(te),z.isub(ie)),B.iushrn(1),z.iushrn(1);for(var se=0,oe=1;0==(I.words[0]&oe)&&se<26;++se,oe<<=1);if(se>0)for(I.iushrn(se);se-- >0;)(q.isOdd()||Q.isOdd())&&(q.iadd(te),Q.isub(ie)),q.iushrn(1),Q.iushrn(1);E.cmp(I)>=0?(E.isub(I),B.isub(q),z.isub(Q)):(I.isub(E),q.isub(B),Q.isub(z))}return{a:q,b:Q,gcd:I.iushln(ee)}},BN.prototype._invmp=function _invmp(C){assert(0===C.negative),assert(!C.isZero());var E=this,I=C.clone();E=0!==E.negative?E.umod(C):E.clone();for(var B,z=new BN(1),q=new BN(0),Q=I.clone();E.cmpn(1)>0&&I.cmpn(1)>0;){for(var ee=0,te=1;0==(E.words[0]&te)&&ee<26;++ee,te<<=1);if(ee>0)for(E.iushrn(ee);ee-- >0;)z.isOdd()&&z.iadd(Q),z.iushrn(1);for(var ie=0,re=1;0==(I.words[0]&re)&&ie<26;++ie,re<<=1);if(ie>0)for(I.iushrn(ie);ie-- >0;)q.isOdd()&&q.iadd(Q),q.iushrn(1);E.cmp(I)>=0?(E.isub(I),z.isub(q)):(I.isub(E),q.isub(z))}return(B=0===E.cmpn(1)?z:q).cmpn(0)<0&&B.iadd(C),B},BN.prototype.gcd=function gcd(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var E=this.clone(),I=C.clone();E.negative=0,I.negative=0;for(var B=0;E.isEven()&&I.isEven();B++)E.iushrn(1),I.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;I.isEven();)I.iushrn(1);var z=E.cmp(I);if(z<0){var q=E;E=I,I=q}else if(0===z||0===I.cmpn(1))break;E.isub(I)}return I.iushln(B)},BN.prototype.invm=function invm(C){return this.egcd(C).a.umod(C)},BN.prototype.isEven=function isEven(){return 0==(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return 1==(1&this.words[0])},BN.prototype.andln=function andln(C){return this.words[0]&C},BN.prototype.bincn=function bincn(C){assert("number"==typeof C);var E=C%26,I=(C-E)/26,B=1<<E;if(this.length<=I)return this._expand(I+1),this.words[I]|=B,this;for(var z=B,q=I;0!==z&&q<this.length;q++){var Q=0|this.words[q];z=(Q+=z)>>>26,Q&=67108863,this.words[q]=Q}return 0!==z&&(this.words[q]=z,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(C){var E,I=C<0;if(0!==this.negative&&!I)return-1;if(0===this.negative&&I)return 1;if(this._strip(),this.length>1)E=1;else{I&&(C=-C),assert(C<=67108863,"Number is too big");var B=0|this.words[0];E=B===C?0:B<C?-1:1}return 0!==this.negative?0|-E:E},BN.prototype.cmp=function cmp(C){if(0!==this.negative&&0===C.negative)return-1;if(0===this.negative&&0!==C.negative)return 1;var E=this.ucmp(C);return 0!==this.negative?0|-E:E},BN.prototype.ucmp=function ucmp(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var E=0,I=this.length-1;I>=0;I--){var B=0|this.words[I],z=0|C.words[I];if(B!==z){B<z?E=-1:B>z&&(E=1);break}}return E},BN.prototype.gtn=function gtn(C){return 1===this.cmpn(C)},BN.prototype.gt=function gt(C){return 1===this.cmp(C)},BN.prototype.gten=function gten(C){return this.cmpn(C)>=0},BN.prototype.gte=function gte(C){return this.cmp(C)>=0},BN.prototype.ltn=function ltn(C){return-1===this.cmpn(C)},BN.prototype.lt=function lt(C){return-1===this.cmp(C)},BN.prototype.lten=function lten(C){return this.cmpn(C)<=0},BN.prototype.lte=function lte(C){return this.cmp(C)<=0},BN.prototype.eqn=function eqn(C){return 0===this.cmpn(C)},BN.prototype.eq=function eq(C){return 0===this.cmp(C)},BN.red=function red(C){return new Red(C)},BN.prototype.toRed=function toRed(C){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),C.convertTo(this)._forceRed(C)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(C){return this.red=C,this},BN.prototype.forceRed=function forceRed(C){return assert(!this.red,"Already a number in reduction context"),this._forceRed(C)},BN.prototype.redAdd=function redAdd(C){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},BN.prototype.redIAdd=function redIAdd(C){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},BN.prototype.redSub=function redSub(C){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},BN.prototype.redISub=function redISub(C){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},BN.prototype.redShl=function redShl(C){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},BN.prototype.redMul=function redMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},BN.prototype.redIMul=function redIMul(C){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(C){return assert(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var ie={k256:null,p224:null,p192:null,p25519:null};function MPrime(C,E){this.name=C,this.p=new BN(E,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(C){if("string"==typeof C){var E=BN._prime(C);this.m=E.p,this.prime=E}else assert(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Mont(C){Red.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var C=new BN(null);return C.words=new Array(Math.ceil(this.n/13)),C},MPrime.prototype.ireduce=function ireduce(C){var E,I=C;do{this.split(I,this.tmp),E=(I=(I=this.imulK(I)).iadd(this.tmp)).bitLength()}while(E>this.n);var B=E<this.n?-1:I.ucmp(this.p);return 0===B?(I.words[0]=0,I.length=1):B>0?I.isub(this.p):void 0!==I.strip?I.strip():I._strip(),I},MPrime.prototype.split=function split(C,E){C.iushrn(this.n,0,E)},MPrime.prototype.imulK=function imulK(C){return C.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(C,E){for(var I=4194303,B=Math.min(C.length,9),z=0;z<B;z++)E.words[z]=C.words[z];if(E.length=B,C.length<=9)return C.words[0]=0,void(C.length=1);var q=C.words[9];for(E.words[E.length++]=q&I,z=10;z<C.length;z++){var Q=0|C.words[z];C.words[z-10]=(Q&I)<<4|q>>>22,q=Q}q>>>=22,C.words[z-10]=q,0===q&&C.length>10?C.length-=10:C.length-=9},K256.prototype.imulK=function imulK(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var E=0,I=0;I<C.length;I++){var B=0|C.words[I];E+=977*B,C.words[I]=67108863&E,E=64*B+(E/67108864|0)}return 0===C.words[C.length-1]&&(C.length--,0===C.words[C.length-1]&&C.length--),C},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(C){for(var E=0,I=0;I<C.length;I++){var B=19*(0|C.words[I])+E,z=67108863&B;B>>>=26,C.words[I]=z,E=B}return 0!==E&&(C.words[C.length++]=E),C},BN._prime=function prime(C){if(ie[C])return ie[C];var prime;if("k256"===C)prime=new K256;else if("p224"===C)prime=new P224;else if("p192"===C)prime=new P192;else{if("p25519"!==C)throw new Error("Unknown prime "+C);prime=new P25519}return ie[C]=prime,prime},Red.prototype._verify1=function _verify1(C){assert(0===C.negative,"red works only with positives"),assert(C.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(C,E){assert(0==(C.negative|E.negative),"red works only with positives"),assert(C.red&&C.red===E.red,"red works only with red numbers")},Red.prototype.imod=function imod(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(move(C,C.umod(this.m)._forceRed(this)),C)},Red.prototype.neg=function neg(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},Red.prototype.add=function add(C,E){this._verify2(C,E);var I=C.add(E);return I.cmp(this.m)>=0&&I.isub(this.m),I._forceRed(this)},Red.prototype.iadd=function iadd(C,E){this._verify2(C,E);var I=C.iadd(E);return I.cmp(this.m)>=0&&I.isub(this.m),I},Red.prototype.sub=function sub(C,E){this._verify2(C,E);var I=C.sub(E);return I.cmpn(0)<0&&I.iadd(this.m),I._forceRed(this)},Red.prototype.isub=function isub(C,E){this._verify2(C,E);var I=C.isub(E);return I.cmpn(0)<0&&I.iadd(this.m),I},Red.prototype.shl=function shl(C,E){return this._verify1(C),this.imod(C.ushln(E))},Red.prototype.imul=function imul(C,E){return this._verify2(C,E),this.imod(C.imul(E))},Red.prototype.mul=function mul(C,E){return this._verify2(C,E),this.imod(C.mul(E))},Red.prototype.isqr=function isqr(C){return this.imul(C,C.clone())},Red.prototype.sqr=function sqr(C){return this.mul(C,C)},Red.prototype.sqrt=function sqrt(C){if(C.isZero())return C.clone();var E=this.m.andln(3);if(assert(E%2==1),3===E){var I=this.m.add(new BN(1)).iushrn(2);return this.pow(C,I)}for(var B=this.m.subn(1),z=0;!B.isZero()&&0===B.andln(1);)z++,B.iushrn(1);assert(!B.isZero());var q=new BN(1).toRed(this),Q=q.redNeg(),ee=this.m.subn(1).iushrn(1),te=this.m.bitLength();for(te=new BN(2*te*te).toRed(this);0!==this.pow(te,ee).cmp(Q);)te.redIAdd(Q);for(var ie=this.pow(te,B),re=this.pow(C,B.addn(1).iushrn(1)),ne=this.pow(C,B),se=z;0!==ne.cmp(q);){for(var oe=ne,ae=0;0!==oe.cmp(q);ae++)oe=oe.redSqr();assert(ae<se);var le=this.pow(ie,new BN(1).iushln(se-ae-1));re=re.redMul(le),ie=le.redSqr(),ne=ne.redMul(ie),se=ae}return re},Red.prototype.invm=function invm(C){var E=C._invmp(this.m);return 0!==E.negative?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},Red.prototype.pow=function pow(C,E){if(E.isZero())return new BN(1).toRed(this);if(0===E.cmpn(1))return C.clone();var I=4,B=new Array(1<<I);B[0]=new BN(1).toRed(this),B[1]=C;for(var z=2;z<B.length;z++)B[z]=this.mul(B[z-1],C);var q=B[0],Q=0,ee=0,te=E.bitLength()%26;for(0===te&&(te=26),z=E.length-1;z>=0;z--){for(var ie=E.words[z],re=te-1;re>=0;re--){var ne=ie>>re&1;q!==B[0]&&(q=this.sqr(q)),0!==ne||0!==Q?(Q<<=1,Q|=ne,(++ee===I||0===z&&0===re)&&(q=this.mul(q,B[Q]),ee=0,Q=0)):ee=0}te=26}return q},Red.prototype.convertTo=function convertTo(C){var E=C.umod(this.m);return E===C?E.clone():E},Red.prototype.convertFrom=function convertFrom(C){var E=C.clone();return E.red=null,E},BN.mont=function mont(C){return new Mont(C)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(C){return this.imod(C.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(C){var E=this.imod(C.mul(this.rinv));return E.red=null,E},Mont.prototype.imul=function imul(C,E){if(C.isZero()||E.isZero())return C.words[0]=0,C.length=1,C;var I=C.imul(E),B=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=I.isub(B).iushrn(this.shift),q=z;return z.cmp(this.m)>=0?q=z.isub(this.m):z.cmpn(0)<0&&(q=z.iadd(this.m)),q._forceRed(this)},Mont.prototype.mul=function mul(C,E){if(C.isZero()||E.isZero())return new BN(0)._forceRed(this);var I=C.mul(E),B=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),z=I.isub(B).iushrn(this.shift),q=z;return z.cmp(this.m)>=0?q=z.isub(this.m):z.cmpn(0)<0&&(q=z.iadd(this.m)),q._forceRed(this)},Mont.prototype.invm=function invm(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===E||E,void 0)},{buffer:188}],187:[function(C,E,I){"use strict";var B;function Rand(C){this.rand=C}if(E.exports=function rand(C){return B||(B=new Rand(null)),B.generate(C)},E.exports.Rand=Rand,Rand.prototype.generate=function generate(C){return this._rand(C)},Rand.prototype._rand=function _rand(C){if(this.rand.getBytes)return this.rand.getBytes(C);for(var E=new Uint8Array(C),I=0;I<E.length;I++)E[I]=this.rand.getByte();return E},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function _rand(C){var E=new Uint8Array(C);return self.crypto.getRandomValues(E),E}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function _rand(C){var E=new Uint8Array(C);return self.msCrypto.getRandomValues(E),E}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var z=C("crypto");if("function"!=typeof z.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function _rand(C){return z.randomBytes(C)}}catch(C){}},{crypto:188}],188:[function(C,E,I){},{}],189:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer;function asUInt32Array(C){B.isBuffer(C)||(C=B.from(C));for(var E=C.length/4|0,I=new Array(E),z=0;z<E;z++)I[z]=C.readUInt32BE(4*z);return I}function scrubVec(C){for(var E=0;E<C.length;C++)C[E]=0}function cryptBlock(C,E,I,B,z){for(var q,Q,ee,te,ie=I[0],re=I[1],ne=I[2],se=I[3],oe=C[0]^E[0],ae=C[1]^E[1],le=C[2]^E[2],ue=C[3]^E[3],de=4,ce=1;ce<z;ce++)q=ie[oe>>>24]^re[ae>>>16&255]^ne[le>>>8&255]^se[255&ue]^E[de++],Q=ie[ae>>>24]^re[le>>>16&255]^ne[ue>>>8&255]^se[255&oe]^E[de++],ee=ie[le>>>24]^re[ue>>>16&255]^ne[oe>>>8&255]^se[255&ae]^E[de++],te=ie[ue>>>24]^re[oe>>>16&255]^ne[ae>>>8&255]^se[255&le]^E[de++],oe=q,ae=Q,le=ee,ue=te;return q=(B[oe>>>24]<<24|B[ae>>>16&255]<<16|B[le>>>8&255]<<8|B[255&ue])^E[de++],Q=(B[ae>>>24]<<24|B[le>>>16&255]<<16|B[ue>>>8&255]<<8|B[255&oe])^E[de++],ee=(B[le>>>24]<<24|B[ue>>>16&255]<<16|B[oe>>>8&255]<<8|B[255&ae])^E[de++],te=(B[ue>>>24]<<24|B[oe>>>16&255]<<16|B[ae>>>8&255]<<8|B[255&le])^E[de++],[q>>>=0,Q>>>=0,ee>>>=0,te>>>=0]}var z=[0,1,2,4,8,16,32,64,128,27,54],q=function(){for(var C=new Array(256),E=0;E<256;E++)C[E]=E<128?E<<1:E<<1^283;for(var I=[],B=[],z=[[],[],[],[]],q=[[],[],[],[]],Q=0,ee=0,te=0;te<256;++te){var ie=ee^ee<<1^ee<<2^ee<<3^ee<<4;ie=ie>>>8^255&ie^99,I[Q]=ie,B[ie]=Q;var re=C[Q],ne=C[re],se=C[ne],oe=257*C[ie]^16843008*ie;z[0][Q]=oe<<24|oe>>>8,z[1][Q]=oe<<16|oe>>>16,z[2][Q]=oe<<8|oe>>>24,z[3][Q]=oe,oe=16843009*se^65537*ne^257*re^16843008*Q,q[0][ie]=oe<<24|oe>>>8,q[1][ie]=oe<<16|oe>>>16,q[2][ie]=oe<<8|oe>>>24,q[3][ie]=oe,0===Q?Q=ee=1:(Q=re^C[C[C[se^re]]],ee^=C[C[ee]])}return{SBOX:I,INV_SBOX:B,SUB_MIX:z,INV_SUB_MIX:q}}();function AES(C){this._key=asUInt32Array(C),this._reset()}AES.blockSize=16,AES.keySize=32,AES.prototype.blockSize=AES.blockSize,AES.prototype.keySize=AES.keySize,AES.prototype._reset=function(){for(var C=this._key,E=C.length,I=E+6,B=4*(I+1),Q=[],ee=0;ee<E;ee++)Q[ee]=C[ee];for(ee=E;ee<B;ee++){var te=Q[ee-1];ee%E==0?(te=te<<8|te>>>24,te=q.SBOX[te>>>24]<<24|q.SBOX[te>>>16&255]<<16|q.SBOX[te>>>8&255]<<8|q.SBOX[255&te],te^=z[ee/E|0]<<24):E>6&&ee%E==4&&(te=q.SBOX[te>>>24]<<24|q.SBOX[te>>>16&255]<<16|q.SBOX[te>>>8&255]<<8|q.SBOX[255&te]),Q[ee]=Q[ee-E]^te}for(var ie=[],re=0;re<B;re++){var ne=B-re,se=Q[ne-(re%4?0:4)];ie[re]=re<4||ne<=4?se:q.INV_SUB_MIX[0][q.SBOX[se>>>24]]^q.INV_SUB_MIX[1][q.SBOX[se>>>16&255]]^q.INV_SUB_MIX[2][q.SBOX[se>>>8&255]]^q.INV_SUB_MIX[3][q.SBOX[255&se]]}this._nRounds=I,this._keySchedule=Q,this._invKeySchedule=ie},AES.prototype.encryptBlockRaw=function(C){return cryptBlock(C=asUInt32Array(C),this._keySchedule,q.SUB_MIX,q.SBOX,this._nRounds)},AES.prototype.encryptBlock=function(C){var E=this.encryptBlockRaw(C),I=B.allocUnsafe(16);return I.writeUInt32BE(E[0],0),I.writeUInt32BE(E[1],4),I.writeUInt32BE(E[2],8),I.writeUInt32BE(E[3],12),I},AES.prototype.decryptBlock=function(C){var E=(C=asUInt32Array(C))[1];C[1]=C[3],C[3]=E;var I=cryptBlock(C,this._invKeySchedule,q.INV_SUB_MIX,q.INV_SBOX,this._nRounds),z=B.allocUnsafe(16);return z.writeUInt32BE(I[0],0),z.writeUInt32BE(I[3],4),z.writeUInt32BE(I[2],8),z.writeUInt32BE(I[1],12),z},AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)},E.exports.AES=AES},{"safe-buffer":494}],190:[function(C,E,I){"use strict";var B=C("./aes"),z=C("safe-buffer").Buffer,q=C("cipher-base"),Q=C("inherits"),ee=C("./ghash"),te=C("buffer-xor"),ie=C("./incr32");function xorTest(C,E){var I=0;C.length!==E.length&&I++;for(var B=Math.min(C.length,E.length),z=0;z<B;++z)I+=C[z]^E[z];return I}function calcIv(C,E,I){if(12===E.length)return C._finID=z.concat([E,z.from([0,0,0,1])]),z.concat([E,z.from([0,0,0,2])]);var B=new ee(I),q=E.length,Q=q%16;B.update(E),Q&&(Q=16-Q,B.update(z.alloc(Q,0))),B.update(z.alloc(8,0));var te=8*q,re=z.alloc(8);re.writeUIntBE(te,0,8),B.update(re),C._finID=B.state;var ne=z.from(C._finID);return ie(ne),ne}function StreamCipher(C,E,I,Q){q.call(this);var te=z.alloc(4,0);this._cipher=new B.AES(E);var ie=this._cipher.encryptBlock(te);this._ghash=new ee(ie),I=calcIv(this,I,ie),this._prev=z.from(I),this._cache=z.allocUnsafe(0),this._secCache=z.allocUnsafe(0),this._decrypt=Q,this._alen=0,this._len=0,this._mode=C,this._authTag=null,this._called=!1}Q(StreamCipher,q),StreamCipher.prototype._update=function(C){if(!this._called&&this._alen){var E=16-this._alen%16;E<16&&(E=z.alloc(E,0),this._ghash.update(E))}this._called=!0;var I=this._mode.encrypt(this,C);return this._decrypt?this._ghash.update(C):this._ghash.update(I),this._len+=C.length,I},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var C=te(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(C,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=C,this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function getAuthTag(){if(this._decrypt||!z.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},StreamCipher.prototype.setAuthTag=function setAuthTag(C){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=C},StreamCipher.prototype.setAAD=function setAAD(C){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(C),this._alen+=C.length},E.exports=StreamCipher},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(C,E,I){"use strict";var B=C("./encrypter"),z=C("./decrypter"),q=C("./modes/list.json");function getCiphers(){return Object.keys(q)}I.createCipher=I.Cipher=B.createCipher,I.createCipheriv=I.Cipheriv=B.createCipheriv,I.createDecipher=I.Decipher=z.createDecipher,I.createDecipheriv=I.Decipheriv=z.createDecipheriv,I.listCiphers=I.getCiphers=getCiphers},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(C,E,I){"use strict";var B=C("./authCipher"),z=C("safe-buffer").Buffer,q=C("./modes"),Q=C("./streamCipher"),ee=C("cipher-base"),te=C("./aes"),ie=C("evp_bytestokey");function Decipher(C,E,I){ee.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new te.AES(E),this._prev=z.from(I),this._mode=C,this._autopadding=!0}function Splitter(){this.cache=z.allocUnsafe(0)}function unpad(C){var E=C[15];if(E<1||E>16)throw new Error("unable to decrypt data");for(var I=-1;++I<E;)if(C[I+(16-E)]!==E)throw new Error("unable to decrypt data");if(16!==E)return C.slice(0,16-E)}function createDecipheriv(C,E,I){var ee=q[C.toLowerCase()];if(!ee)throw new TypeError("invalid suite type");if("string"==typeof I&&(I=z.from(I)),"GCM"!==ee.mode&&I.length!==ee.iv)throw new TypeError("invalid iv length "+I.length);if("string"==typeof E&&(E=z.from(E)),E.length!==ee.key/8)throw new TypeError("invalid key length "+E.length);return"stream"===ee.type?new Q(ee.module,E,I,!0):"auth"===ee.type?new B(ee.module,E,I,!0):new Decipher(ee.module,E,I)}function createDecipher(C,E){var I=q[C.toLowerCase()];if(!I)throw new TypeError("invalid suite type");var B=ie(E,!1,I.key,I.iv);return createDecipheriv(C,B.key,B.iv)}C("inherits")(Decipher,ee),Decipher.prototype._update=function(C){var E,I;this._cache.add(C);for(var B=[];E=this._cache.get(this._autopadding);)I=this._mode.decrypt(this,E),B.push(I);return z.concat(B)},Decipher.prototype._final=function(){var C=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,C));if(C)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(C){return this._autopadding=!!C,this},Splitter.prototype.add=function(C){this.cache=z.concat([this.cache,C])},Splitter.prototype.get=function(C){var E;if(C){if(this.cache.length>16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E}else if(this.cache.length>=16)return E=this.cache.slice(0,16),this.cache=this.cache.slice(16),E;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache},I.createDecipher=createDecipher,I.createDecipheriv=createDecipheriv},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(C,E,I){"use strict";var B=C("./modes"),z=C("./authCipher"),q=C("safe-buffer").Buffer,Q=C("./streamCipher"),ee=C("cipher-base"),te=C("./aes"),ie=C("evp_bytestokey");function Cipher(C,E,I){ee.call(this),this._cache=new Splitter,this._cipher=new te.AES(E),this._prev=q.from(I),this._mode=C,this._autopadding=!0}C("inherits")(Cipher,ee),Cipher.prototype._update=function(C){var E,I;this._cache.add(C);for(var B=[];E=this._cache.get();)I=this._mode.encrypt(this,E),B.push(I);return q.concat(B)};var re=q.alloc(16,16);function Splitter(){this.cache=q.allocUnsafe(0)}function createCipheriv(C,E,I){var ee=B[C.toLowerCase()];if(!ee)throw new TypeError("invalid suite type");if("string"==typeof E&&(E=q.from(E)),E.length!==ee.key/8)throw new TypeError("invalid key length "+E.length);if("string"==typeof I&&(I=q.from(I)),"GCM"!==ee.mode&&I.length!==ee.iv)throw new TypeError("invalid iv length "+I.length);return"stream"===ee.type?new Q(ee.module,E,I):"auth"===ee.type?new z(ee.module,E,I):new Cipher(ee.module,E,I)}function createCipher(C,E){var I=B[C.toLowerCase()];if(!I)throw new TypeError("invalid suite type");var z=ie(E,!1,I.key,I.iv);return createCipheriv(C,z.key,z.iv)}Cipher.prototype._final=function(){var C=this._cache.flush();if(this._autopadding)return C=this._mode.encrypt(this,C),this._cipher.scrub(),C;if(!C.equals(re))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(C){return this._autopadding=!!C,this},Splitter.prototype.add=function(C){this.cache=q.concat([this.cache,C])},Splitter.prototype.get=function(){if(this.cache.length>15){var C=this.cache.slice(0,16);return this.cache=this.cache.slice(16),C}return null},Splitter.prototype.flush=function(){for(var C=16-this.cache.length,E=q.allocUnsafe(C),I=-1;++I<C;)E.writeUInt8(C,I);return q.concat([this.cache,E])},I.createCipheriv=createCipheriv,I.createCipher=createCipher},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=B.alloc(16,0);function toArray(C){return[C.readUInt32BE(0),C.readUInt32BE(4),C.readUInt32BE(8),C.readUInt32BE(12)]}function fromArray(C){var E=B.allocUnsafe(16);return E.writeUInt32BE(C[0]>>>0,0),E.writeUInt32BE(C[1]>>>0,4),E.writeUInt32BE(C[2]>>>0,8),E.writeUInt32BE(C[3]>>>0,12),E}function GHASH(C){this.h=C,this.state=B.alloc(16,0),this.cache=B.allocUnsafe(0)}GHASH.prototype.ghash=function(C){for(var E=-1;++E<C.length;)this.state[E]^=C[E];this._multiply()},GHASH.prototype._multiply=function(){for(var C,E,I=toArray(this.h),B=[0,0,0,0],z=-1;++z<128;){for(0!=(this.state[~~(z/8)]&1<<7-z%8)&&(B[0]^=I[0],B[1]^=I[1],B[2]^=I[2],B[3]^=I[3]),E=0!=(1&I[3]),C=3;C>0;C--)I[C]=I[C]>>>1|(1&I[C-1])<<31;I[0]=I[0]>>>1,E&&(I[0]=I[0]^225<<24)}this.state=fromArray(B)},GHASH.prototype.update=function(C){var E;for(this.cache=B.concat([this.cache,C]);this.cache.length>=16;)E=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(E)},GHASH.prototype.final=function(C,E){return this.cache.length&&this.ghash(B.concat([this.cache,z],16)),this.ghash(fromArray([0,C,0,E])),this.state},E.exports=GHASH},{"safe-buffer":494}],195:[function(C,E,I){"use strict";function incr32(C){for(var E,I=C.length;I--;){if(255!==(E=C.readUInt8(I))){E++,C.writeUInt8(E,I);break}C.writeUInt8(0,I)}}E.exports=incr32},{}],196:[function(C,E,I){"use strict";var B=C("buffer-xor");I.encrypt=function(C,E){var I=B(E,C._prev);return C._prev=C._cipher.encryptBlock(I),C._prev},I.decrypt=function(C,E){var I=C._prev;C._prev=E;var z=C._cipher.decryptBlock(E);return B(z,I)}},{"buffer-xor":219}],197:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=C("buffer-xor");function encryptStart(C,E,I){var q=E.length,Q=z(E,C._cache);return C._cache=C._cache.slice(q),C._prev=B.concat([C._prev,I?E:Q]),Q}I.encrypt=function(C,E,I){for(var z,q=B.allocUnsafe(0);E.length;){if(0===C._cache.length&&(C._cache=C._cipher.encryptBlock(C._prev),C._prev=B.allocUnsafe(0)),!(C._cache.length<=E.length)){q=B.concat([q,encryptStart(C,E,I)]);break}z=C._cache.length,q=B.concat([q,encryptStart(C,E.slice(0,z),I)]),E=E.slice(z)}return q}},{"buffer-xor":219,"safe-buffer":494}],198:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer;function encryptByte(C,E,I){for(var B,z,q=-1,Q=8,ee=0;++q<Q;)B=E&1<<7-q?128:0,ee+=(128&(z=C._cipher.encryptBlock(C._prev)[0]^B))>>q%8,C._prev=shiftIn(C._prev,I?B:z);return ee}function shiftIn(C,E){var I=C.length,z=-1,q=B.allocUnsafe(C.length);for(C=B.concat([C,B.from([E])]);++z<I;)q[z]=C[z]<<1|C[z+1]>>7;return q}I.encrypt=function(C,E,I){for(var z=E.length,q=B.allocUnsafe(z),Q=-1;++Q<z;)q[Q]=encryptByte(C,E[Q],I);return q}},{"safe-buffer":494}],199:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer;function encryptByte(C,E,I){var z=C._cipher.encryptBlock(C._prev)[0]^E;return C._prev=B.concat([C._prev.slice(1),B.from([I?E:z])]),z}I.encrypt=function(C,E,I){for(var z=E.length,q=B.allocUnsafe(z),Q=-1;++Q<z;)q[Q]=encryptByte(C,E[Q],I);return q}},{"safe-buffer":494}],200:[function(C,E,I){"use strict";var B=C("buffer-xor"),z=C("safe-buffer").Buffer,q=C("../incr32");function getBlock(C){var E=C._cipher.encryptBlockRaw(C._prev);return q(C._prev),E}var Q=16;I.encrypt=function(C,E){var I=Math.ceil(E.length/Q),q=C._cache.length;C._cache=z.concat([C._cache,z.allocUnsafe(I*Q)]);for(var ee=0;ee<I;ee++){var te=getBlock(C),ie=q+ee*Q;C._cache.writeUInt32BE(te[0],ie+0),C._cache.writeUInt32BE(te[1],ie+4),C._cache.writeUInt32BE(te[2],ie+8),C._cache.writeUInt32BE(te[3],ie+12)}var re=C._cache.slice(0,E.length);return C._cache=C._cache.slice(E.length),B(E,re)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(C,E,I){"use strict";I.encrypt=function(C,E){return C._cipher.encryptBlock(E)},I.decrypt=function(C,E){return C._cipher.decryptBlock(E)}},{}],202:[function(C,E,I){"use strict";var B={ECB:C("./ecb"),CBC:C("./cbc"),CFB:C("./cfb"),CFB8:C("./cfb8"),CFB1:C("./cfb1"),OFB:C("./ofb"),CTR:C("./ctr"),GCM:C("./ctr")},z=C("./list.json");for(var q in z)z[q].module=B[z[q].mode];E.exports=z},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(C,E,I){E.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(C,E,I){(function(E){(function(){"use strict";var B=C("buffer-xor");function getBlock(C){return C._prev=C._cipher.encryptBlock(C._prev),C._prev}I.encrypt=function(C,I){for(;C._cache.length<I.length;)C._cache=E.concat([C._cache,getBlock(C)]);var z=C._cache.slice(0,I.length);return C._cache=C._cache.slice(I.length),B(I,z)}}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(C,E,I){"use strict";var B=C("./aes"),z=C("safe-buffer").Buffer,q=C("cipher-base");function StreamCipher(C,E,I,Q){q.call(this),this._cipher=new B.AES(E),this._prev=z.from(I),this._cache=z.allocUnsafe(0),this._secCache=z.allocUnsafe(0),this._decrypt=Q,this._mode=C}C("inherits")(StreamCipher,q),StreamCipher.prototype._update=function(C){return this._mode.encrypt(this,C,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()},E.exports=StreamCipher},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(C,E,I){"use strict";var B=C("browserify-des"),z=C("browserify-aes/browser"),q=C("browserify-aes/modes"),Q=C("browserify-des/modes"),ee=C("evp_bytestokey");function createCipher(C,E){var I,B;if(C=C.toLowerCase(),q[C])I=q[C].key,B=q[C].iv;else{if(!Q[C])throw new TypeError("invalid suite type");I=8*Q[C].key,B=Q[C].iv}var z=ee(E,!1,I,B);return createCipheriv(C,z.key,z.iv)}function createDecipher(C,E){var I,B;if(C=C.toLowerCase(),q[C])I=q[C].key,B=q[C].iv;else{if(!Q[C])throw new TypeError("invalid suite type");I=8*Q[C].key,B=Q[C].iv}var z=ee(E,!1,I,B);return createDecipheriv(C,z.key,z.iv)}function createCipheriv(C,E,I){if(C=C.toLowerCase(),q[C])return z.createCipheriv(C,E,I);if(Q[C])return new B({key:E,iv:I,mode:C});throw new TypeError("invalid suite type")}function createDecipheriv(C,E,I){if(C=C.toLowerCase(),q[C])return z.createDecipheriv(C,E,I);if(Q[C])return new B({key:E,iv:I,mode:C,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(Q).concat(z.getCiphers())}I.createCipher=I.Cipher=createCipher,I.createCipheriv=I.Cipheriv=createCipheriv,I.createDecipher=I.Decipher=createDecipher,I.createDecipheriv=I.Decipheriv=createDecipheriv,I.listCiphers=I.getCiphers=getCiphers},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(C,E,I){"use strict";var B=C("cipher-base"),z=C("des.js"),q=C("inherits"),Q=C("safe-buffer").Buffer,ee={"des-ede3-cbc":z.CBC.instantiate(z.EDE),"des-ede3":z.EDE,"des-ede-cbc":z.CBC.instantiate(z.EDE),"des-ede":z.EDE,"des-cbc":z.CBC.instantiate(z.DES),"des-ecb":z.DES};function DES(C){B.call(this);var E,I=C.mode.toLowerCase(),z=ee[I];E=C.decrypt?"decrypt":"encrypt";var q=C.key;Q.isBuffer(q)||(q=Q.from(q)),"des-ede"!==I&&"des-ede-cbc"!==I||(q=Q.concat([q,q.slice(0,8)]));var te=C.iv;Q.isBuffer(te)||(te=Q.from(te)),this._des=z.create({key:q,iv:te,type:E})}ee.des=ee["des-cbc"],ee.des3=ee["des-ede3-cbc"],E.exports=DES,q(DES,B),DES.prototype._update=function(C){return Q.from(this._des.update(C))},DES.prototype._final=function(){return Q.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(C,E,I){"use strict";I["des-ecb"]={key:8,iv:0},I["des-cbc"]=I.des={key:8,iv:8},I["des-ede3-cbc"]=I.des3={key:24,iv:8},I["des-ede3"]={key:24,iv:0},I["des-ede-cbc"]={key:16,iv:8},I["des-ede"]={key:16,iv:0}},{}],209:[function(C,E,I){(function(I){(function(){"use strict";var B=C("bn.js"),z=C("randombytes");function blind(C){var E=getr(C);return{blinder:E.toRed(B.mont(C.modulus)).redPow(new B(C.publicExponent)).fromRed(),unblinder:E.invm(C.modulus)}}function getr(C){var E,I=C.modulus.byteLength();do{E=new B(z(I))}while(E.cmp(C.modulus)>=0||!E.umod(C.prime1)||!E.umod(C.prime2));return E}function crt(C,E){var z=blind(E),q=E.modulus.byteLength(),Q=new B(C).mul(z.blinder).umod(E.modulus),ee=Q.toRed(B.mont(E.prime1)),te=Q.toRed(B.mont(E.prime2)),ie=E.coefficient,re=E.prime1,ne=E.prime2,se=ee.redPow(E.exponent1).fromRed(),oe=te.redPow(E.exponent2).fromRed(),ae=se.isub(oe).imul(ie).umod(re).imul(ne);return oe.iadd(ae).imul(z.unblinder).umod(E.modulus).toArrayLike(I,"be",q)}crt.getr=getr,E.exports=crt}).call(this)}).call(this,C("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(C,E,I){"use strict";E.exports=C("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(C,E,I){E.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(C,E,I){E.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=C("create-hash"),q=C("readable-stream"),Q=C("inherits"),ee=C("./sign"),te=C("./verify"),ie=C("./algorithms.json");function Sign(C){q.Writable.call(this);var E=ie[C];if(!E)throw new Error("Unknown message digest");this._hashType=E.hash,this._hash=z(E.hash),this._tag=E.id,this._signType=E.sign}function Verify(C){q.Writable.call(this);var E=ie[C];if(!E)throw new Error("Unknown message digest");this._hash=z(E.hash),this._tag=E.id,this._signType=E.sign}function createSign(C){return new Sign(C)}function createVerify(C){return new Verify(C)}Object.keys(ie).forEach((function(C){ie[C].id=B.from(ie[C].id,"hex"),ie[C.toLowerCase()]=ie[C]})),Q(Sign,q.Writable),Sign.prototype._write=function _write(C,E,I){this._hash.update(C),I()},Sign.prototype.update=function update(C,E){return"string"==typeof C&&(C=B.from(C,E)),this._hash.update(C),this},Sign.prototype.sign=function signMethod(C,E){this.end();var I=this._hash.digest(),B=ee(I,C,this._hashType,this._signType,this._tag);return E?B.toString(E):B},Q(Verify,q.Writable),Verify.prototype._write=function _write(C,E,I){this._hash.update(C),I()},Verify.prototype.update=function update(C,E){return"string"==typeof C&&(C=B.from(C,E)),this._hash.update(C),this},Verify.prototype.verify=function verifyMethod(C,E,I){"string"==typeof E&&(E=B.from(E,I)),this.end();var z=this._hash.digest();return te(E,z,C,this._signType,this._tag)},E.exports={Sign:createSign,Verify:createVerify,createSign,createVerify}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=C("create-hmac"),q=C("browserify-rsa"),Q=C("elliptic").ec,ee=C("bn.js"),te=C("parse-asn1"),ie=C("./curves.json");function sign(C,E,I,z,Q){var ee=te(E);if(ee.curve){if("ecdsa"!==z&&"ecdsa/rsa"!==z)throw new Error("wrong private key type");return ecSign(C,ee)}if("dsa"===ee.type){if("dsa"!==z)throw new Error("wrong private key type");return dsaSign(C,ee,I)}if("rsa"!==z&&"ecdsa/rsa"!==z)throw new Error("wrong private key type");C=B.concat([Q,C]);for(var ie=ee.modulus.byteLength(),re=[0,1];C.length+re.length+1<ie;)re.push(255);re.push(0);for(var ne=-1;++ne<C.length;)re.push(C[ne]);return q(re,ee)}function ecSign(C,E){var I=ie[E.curve.join(".")];if(!I)throw new Error("unknown curve "+E.curve.join("."));var z=new Q(I).keyFromPrivate(E.privateKey).sign(C);return B.from(z.toDER())}function dsaSign(C,E,I){for(var B,z=E.params.priv_key,q=E.params.p,Q=E.params.q,te=E.params.g,ie=new ee(0),re=bits2int(C,Q).mod(Q),ne=!1,se=getKey(z,Q,C,I);!1===ne;)ie=makeR(te,B=makeKey(Q,se,I),q,Q),0===(ne=B.invm(Q).imul(re.add(z.mul(ie))).mod(Q)).cmpn(0)&&(ne=!1,ie=new ee(0));return toDER(ie,ne)}function toDER(C,E){C=C.toArray(),E=E.toArray(),128&C[0]&&(C=[0].concat(C)),128&E[0]&&(E=[0].concat(E));var I=[48,C.length+E.length+4,2,C.length];return I=I.concat(C,[2,E.length],E),B.from(I)}function getKey(C,E,I,q){if((C=B.from(C.toArray())).length<E.byteLength()){var Q=B.alloc(E.byteLength()-C.length);C=B.concat([Q,C])}var ee=I.length,te=bits2octets(I,E),ie=B.alloc(ee);ie.fill(1);var re=B.alloc(ee);return re=z(q,re).update(ie).update(B.from([0])).update(C).update(te).digest(),ie=z(q,re).update(ie).digest(),{k:re=z(q,re).update(ie).update(B.from([1])).update(C).update(te).digest(),v:ie=z(q,re).update(ie).digest()}}function bits2int(C,E){var I=new ee(C),B=(C.length<<3)-E.bitLength();return B>0&&I.ishrn(B),I}function bits2octets(C,E){C=(C=bits2int(C,E)).mod(E);var I=B.from(C.toArray());if(I.length<E.byteLength()){var z=B.alloc(E.byteLength()-I.length);I=B.concat([z,I])}return I}function makeKey(C,E,I){var q,Q;do{for(q=B.alloc(0);8*q.length<C.bitLength();)E.v=z(I,E.k).update(E.v).digest(),q=B.concat([q,E.v]);Q=bits2int(q,C),E.k=z(I,E.k).update(E.v).update(B.from([0])).digest(),E.v=z(I,E.k).update(E.v).digest()}while(-1!==Q.cmp(C));return Q}function makeR(C,E,I,B){return C.toRed(ee.mont(I)).redPow(E).fromRed().mod(B)}E.exports=sign,E.exports.getKey=getKey,E.exports.makeKey=makeKey},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=C("bn.js"),q=C("elliptic").ec,Q=C("parse-asn1"),ee=C("./curves.json");function verify(C,E,I,q,ee){var te=Q(I);if("ec"===te.type){if("ecdsa"!==q&&"ecdsa/rsa"!==q)throw new Error("wrong public key type");return ecVerify(C,E,te)}if("dsa"===te.type){if("dsa"!==q)throw new Error("wrong public key type");return dsaVerify(C,E,te)}if("rsa"!==q&&"ecdsa/rsa"!==q)throw new Error("wrong public key type");E=B.concat([ee,E]);for(var ie=te.modulus.byteLength(),re=[1],ne=0;E.length+re.length+2<ie;)re.push(255),ne++;re.push(0);for(var se=-1;++se<E.length;)re.push(E[se]);re=B.from(re);var oe=z.mont(te.modulus);C=(C=new z(C).toRed(oe)).redPow(new z(te.publicExponent)),C=B.from(C.fromRed().toArray());var ae=ne<8?1:0;for(ie=Math.min(C.length,re.length),C.length!==re.length&&(ae=1),se=-1;++se<ie;)ae|=C[se]^re[se];return 0===ae}function ecVerify(C,E,I){var B=ee[I.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+I.data.algorithm.curve.join("."));var z=new q(B),Q=I.data.subjectPrivateKey.data;return z.verify(E,C,Q)}function dsaVerify(C,E,I){var B=I.data.p,q=I.data.q,ee=I.data.g,te=I.data.pub_key,ie=Q.signature.decode(C,"der"),re=ie.s,ne=ie.r;checkValue(re,q),checkValue(ne,q);var se=z.mont(B),oe=re.invm(q);return 0===ee.toRed(se).redPow(new z(E).mul(oe).mod(q)).fromRed().mul(te.toRed(se).redPow(ne.mul(oe).mod(q)).fromRed()).mod(B).mod(q).cmp(ne)}function checkValue(C,E){if(C.cmpn(0)<=0)throw new Error("invalid sig");if(C.cmp(E)>=E)throw new Error("invalid sig")}E.exports=verify},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(C,E,I){},{}],217:[function(C,E,I){"use strict";var B=C("buffer"),z=B.Buffer;function copyProps(C,E){for(var I in C)E[I]=C[I]}function SafeBuffer(C,E,I){return z(C,E,I)}z.from&&z.alloc&&z.allocUnsafe&&z.allocUnsafeSlow?E.exports=B:(copyProps(B,I),I.Buffer=SafeBuffer),copyProps(z,SafeBuffer),SafeBuffer.from=function(C,E,I){if("number"==typeof C)throw new TypeError("Argument must not be a number");return z(C,E,I)},SafeBuffer.alloc=function(C,E,I){if("number"!=typeof C)throw new TypeError("Argument must be a number");var B=z(C);return void 0!==E?"string"==typeof I?B.fill(E,I):B.fill(E):B.fill(0),B},SafeBuffer.allocUnsafe=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return z(C)},SafeBuffer.allocUnsafeSlow=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return B.SlowBuffer(C)}},{buffer:220}],218:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=B.isEncoding||function(C){switch((C=""+C)&&C.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(C){if(!C)return"utf8";for(var E;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(E)return;C=(""+C).toLowerCase(),E=!0}}function normalizeEncoding(C){var E=_normalizeEncoding(C);if("string"!=typeof E&&(B.isEncoding===z||!z(C)))throw new Error("Unknown encoding: "+C);return E||C}function StringDecoder(C){var E;switch(this.encoding=normalizeEncoding(C),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,E=4;break;case"utf8":this.fillLast=utf8FillLast,E=4;break;case"base64":this.text=base64Text,this.end=base64End,E=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=B.allocUnsafe(E)}function utf8CheckByte(C){return C<=127?0:C>>5==6?2:C>>4==14?3:C>>3==30?4:C>>6==2?-1:-2}function utf8CheckIncomplete(C,E,I){var B=E.length-1;if(B<I)return 0;var z=utf8CheckByte(E[B]);return z>=0?(z>0&&(C.lastNeed=z-1),z):--B<I||-2===z?0:(z=utf8CheckByte(E[B]))>=0?(z>0&&(C.lastNeed=z-2),z):--B<I||-2===z?0:(z=utf8CheckByte(E[B]))>=0?(z>0&&(2===z?z=0:C.lastNeed=z-3),z):0}function utf8CheckExtraBytes(C,E,I){if(128!=(192&E[0]))return C.lastNeed=0,"�";if(C.lastNeed>1&&E.length>1){if(128!=(192&E[1]))return C.lastNeed=1,"�";if(C.lastNeed>2&&E.length>2&&128!=(192&E[2]))return C.lastNeed=2,"�"}}function utf8FillLast(C){var E=this.lastTotal-this.lastNeed,I=utf8CheckExtraBytes(this,C,E);return void 0!==I?I:this.lastNeed<=C.length?(C.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(C.copy(this.lastChar,E,0,C.length),void(this.lastNeed-=C.length))}function utf8Text(C,E){var I=utf8CheckIncomplete(this,C,E);if(!this.lastNeed)return C.toString("utf8",E);this.lastTotal=I;var B=C.length-(I-this.lastNeed);return C.copy(this.lastChar,0,B),C.toString("utf8",E,B)}function utf8End(C){var E=C&&C.length?this.write(C):"";return this.lastNeed?E+"�":E}function utf16Text(C,E){if((C.length-E)%2==0){var I=C.toString("utf16le",E);if(I){var B=I.charCodeAt(I.length-1);if(B>=55296&&B<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=C[C.length-1],C.toString("utf16le",E,C.length-1)}function utf16End(C){var E=C&&C.length?this.write(C):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,I)}return E}function base64Text(C,E){var I=(C.length-E)%3;return 0===I?C.toString("base64",E):(this.lastNeed=3-I,this.lastTotal=3,1===I?this.lastChar[0]=C[C.length-1]:(this.lastChar[0]=C[C.length-2],this.lastChar[1]=C[C.length-1]),C.toString("base64",E,C.length-I))}function base64End(C){var E=C&&C.length?this.write(C):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function simpleWrite(C){return C.toString(this.encoding)}function simpleEnd(C){return C&&C.length?this.write(C):""}I.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(C){if(0===C.length)return"";var E,I;if(this.lastNeed){if(void 0===(E=this.fillLast(C)))return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<C.length?E?E+this.text(C,I):this.text(C,I):E||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(C){if(this.lastNeed<=C.length)return C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);C.copy(this.lastChar,this.lastTotal-this.lastNeed,0,C.length),this.lastNeed-=C.length}},{"safe-buffer":217}],219:[function(C,E,I){(function(C){(function(){"use strict";E.exports=function xor(E,I){for(var B=Math.min(E.length,I.length),z=new C(B),q=0;q<B;++q)z[q]=E[q]^I[q];return z}}).call(this)}).call(this,C("buffer").Buffer)},{buffer:220}],220:[function(C,E,I){(function(E){(function(){"use strict";var E=C("base64-js"),B=C("ieee754");I.Buffer=Buffer,I.SlowBuffer=SlowBuffer,I.INSPECT_MAX_BYTES=50;var z=2147483647;function typedArraySupport(){try{var C=new Uint8Array(1);return C.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===C.foo()}catch(C){return!1}}function createBuffer(C){if(C>z)throw new RangeError('The value "'+C+'" is invalid for option "size"');var E=new Uint8Array(C);return E.__proto__=Buffer.prototype,E}function Buffer(C,E,I){if("number"==typeof C){if("string"==typeof E)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(C)}return from(C,E,I)}function from(C,E,I){if("string"==typeof C)return fromString(C,E);if(ArrayBuffer.isView(C))return fromArrayLike(C);if(null==C)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(isInstance(C,ArrayBuffer)||C&&isInstance(C.buffer,ArrayBuffer))return fromArrayBuffer(C,E,I);if("number"==typeof C)throw new TypeError('The "value" argument must not be of type number. Received type number');var B=C.valueOf&&C.valueOf();if(null!=B&&B!==C)return Buffer.from(B,E,I);var z=fromObject(C);if(z)return z;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof C[Symbol.toPrimitive])return Buffer.from(C[Symbol.toPrimitive]("string"),E,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}function assertSize(C){if("number"!=typeof C)throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function alloc(C,E,I){return assertSize(C),C<=0?createBuffer(C):void 0!==E?"string"==typeof I?createBuffer(C).fill(E,I):createBuffer(C).fill(E):createBuffer(C)}function allocUnsafe(C){return assertSize(C),createBuffer(C<0?0:0|checked(C))}function fromString(C,E){if("string"==typeof E&&""!==E||(E="utf8"),!Buffer.isEncoding(E))throw new TypeError("Unknown encoding: "+E);var I=0|byteLength(C,E),B=createBuffer(I),z=B.write(C,E);return z!==I&&(B=B.slice(0,z)),B}function fromArrayLike(C){for(var E=C.length<0?0:0|checked(C.length),I=createBuffer(E),B=0;B<E;B+=1)I[B]=255&C[B];return I}function fromArrayBuffer(C,E,I){if(E<0||C.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<E+(I||0))throw new RangeError('"length" is outside of buffer bounds');var B;return(B=void 0===E&&void 0===I?new Uint8Array(C):void 0===I?new Uint8Array(C,E):new Uint8Array(C,E,I)).__proto__=Buffer.prototype,B}function fromObject(C){if(Buffer.isBuffer(C)){var E=0|checked(C.length),I=createBuffer(E);return 0===I.length||C.copy(I,0,0,E),I}return void 0!==C.length?"number"!=typeof C.length||numberIsNaN(C.length)?createBuffer(0):fromArrayLike(C):"Buffer"===C.type&&Array.isArray(C.data)?fromArrayLike(C.data):void 0}function checked(C){if(C>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|C}function SlowBuffer(C){return+C!=C&&(C=0),Buffer.alloc(+C)}function byteLength(C,E){if(Buffer.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||isInstance(C,ArrayBuffer))return C.byteLength;if("string"!=typeof C)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);var I=C.length,B=arguments.length>2&&!0===arguments[2];if(!B&&0===I)return 0;for(var z=!1;;)switch(E){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return utf8ToBytes(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*I;case"hex":return I>>>1;case"base64":return base64ToBytes(C).length;default:if(z)return B?-1:utf8ToBytes(C).length;E=(""+E).toLowerCase(),z=!0}}function slowToString(C,E,I){var B=!1;if((void 0===E||E<0)&&(E=0),E>this.length)return"";if((void 0===I||I>this.length)&&(I=this.length),I<=0)return"";if((I>>>=0)<=(E>>>=0))return"";for(C||(C="utf8");;)switch(C){case"hex":return hexSlice(this,E,I);case"utf8":case"utf-8":return utf8Slice(this,E,I);case"ascii":return asciiSlice(this,E,I);case"latin1":case"binary":return latin1Slice(this,E,I);case"base64":return base64Slice(this,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,E,I);default:if(B)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),B=!0}}function swap(C,E,I){var B=C[E];C[E]=C[I],C[I]=B}function bidirectionalIndexOf(C,E,I,B,z){if(0===C.length)return-1;if("string"==typeof I?(B=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),numberIsNaN(I=+I)&&(I=z?0:C.length-1),I<0&&(I=C.length+I),I>=C.length){if(z)return-1;I=C.length-1}else if(I<0){if(!z)return-1;I=0}if("string"==typeof E&&(E=Buffer.from(E,B)),Buffer.isBuffer(E))return 0===E.length?-1:arrayIndexOf(C,E,I,B,z);if("number"==typeof E)return E&=255,"function"==typeof Uint8Array.prototype.indexOf?z?Uint8Array.prototype.indexOf.call(C,E,I):Uint8Array.prototype.lastIndexOf.call(C,E,I):arrayIndexOf(C,[E],I,B,z);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(C,E,I,B,z){var q,Q=1,ee=C.length,te=E.length;if(void 0!==B&&("ucs2"===(B=String(B).toLowerCase())||"ucs-2"===B||"utf16le"===B||"utf-16le"===B)){if(C.length<2||E.length<2)return-1;Q=2,ee/=2,te/=2,I/=2}function read(C,E){return 1===Q?C[E]:C.readUInt16BE(E*Q)}if(z){var ie=-1;for(q=I;q<ee;q++)if(read(C,q)===read(E,-1===ie?0:q-ie)){if(-1===ie&&(ie=q),q-ie+1===te)return ie*Q}else-1!==ie&&(q-=q-ie),ie=-1}else for(I+te>ee&&(I=ee-te),q=I;q>=0;q--){for(var re=!0,ne=0;ne<te;ne++)if(read(C,q+ne)!==read(E,ne)){re=!1;break}if(re)return q}return-1}function hexWrite(C,E,I,B){I=Number(I)||0;var z=C.length-I;B?(B=Number(B))>z&&(B=z):B=z;var q=E.length;B>q/2&&(B=q/2);for(var Q=0;Q<B;++Q){var ee=parseInt(E.substr(2*Q,2),16);if(numberIsNaN(ee))return Q;C[I+Q]=ee}return Q}function utf8Write(C,E,I,B){return blitBuffer(utf8ToBytes(E,C.length-I),C,I,B)}function asciiWrite(C,E,I,B){return blitBuffer(asciiToBytes(E),C,I,B)}function latin1Write(C,E,I,B){return asciiWrite(C,E,I,B)}function base64Write(C,E,I,B){return blitBuffer(base64ToBytes(E),C,I,B)}function ucs2Write(C,E,I,B){return blitBuffer(utf16leToBytes(E,C.length-I),C,I,B)}function base64Slice(C,I,B){return 0===I&&B===C.length?E.fromByteArray(C):E.fromByteArray(C.slice(I,B))}function utf8Slice(C,E,I){I=Math.min(C.length,I);for(var B=[],z=E;z<I;){var q,Q,ee,te,ie=C[z],re=null,ne=ie>239?4:ie>223?3:ie>191?2:1;if(z+ne<=I)switch(ne){case 1:ie<128&&(re=ie);break;case 2:128==(192&(q=C[z+1]))&&(te=(31&ie)<<6|63&q)>127&&(re=te);break;case 3:q=C[z+1],Q=C[z+2],128==(192&q)&&128==(192&Q)&&(te=(15&ie)<<12|(63&q)<<6|63&Q)>2047&&(te<55296||te>57343)&&(re=te);break;case 4:q=C[z+1],Q=C[z+2],ee=C[z+3],128==(192&q)&&128==(192&Q)&&128==(192&ee)&&(te=(15&ie)<<18|(63&q)<<12|(63&Q)<<6|63&ee)>65535&&te<1114112&&(re=te)}null===re?(re=65533,ne=1):re>65535&&(re-=65536,B.push(re>>>10&1023|55296),re=56320|1023&re),B.push(re),z+=ne}return decodeCodePointsArray(B)}I.kMaxLength=z,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),!Buffer.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(C,E,I){return from(C,E,I)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(C,E,I){return alloc(C,E,I)},Buffer.allocUnsafe=function(C){return allocUnsafe(C)},Buffer.allocUnsafeSlow=function(C){return allocUnsafe(C)},Buffer.isBuffer=function isBuffer(C){return null!=C&&!0===C._isBuffer&&C!==Buffer.prototype},Buffer.compare=function compare(C,E){if(isInstance(C,Uint8Array)&&(C=Buffer.from(C,C.offset,C.byteLength)),isInstance(E,Uint8Array)&&(E=Buffer.from(E,E.offset,E.byteLength)),!Buffer.isBuffer(C)||!Buffer.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===E)return 0;for(var I=C.length,B=E.length,z=0,q=Math.min(I,B);z<q;++z)if(C[z]!==E[z]){I=C[z],B=E[z];break}return I<B?-1:B<I?1:0},Buffer.isEncoding=function isEncoding(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(C,E){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return Buffer.alloc(0);var I;if(void 0===E)for(E=0,I=0;I<C.length;++I)E+=C[I].length;var B=Buffer.allocUnsafe(E),z=0;for(I=0;I<C.length;++I){var q=C[I];if(isInstance(q,Uint8Array)&&(q=Buffer.from(q)),!Buffer.isBuffer(q))throw new TypeError('"list" argument must be an Array of Buffers');q.copy(B,z),z+=q.length}return B},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<C;E+=2)swap(this,E,E+1);return this},Buffer.prototype.swap32=function swap32(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<C;E+=4)swap(this,E,E+3),swap(this,E+1,E+2);return this},Buffer.prototype.swap64=function swap64(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<C;E+=8)swap(this,E,E+7),swap(this,E+1,E+6),swap(this,E+2,E+5),swap(this,E+3,E+4);return this},Buffer.prototype.toString=function toString(){var C=this.length;return 0===C?"":0===arguments.length?utf8Slice(this,0,C):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function equals(C){if(!Buffer.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C||0===Buffer.compare(this,C)},Buffer.prototype.inspect=function inspect(){var C="",E=I.INSPECT_MAX_BYTES;return C=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(C+=" ... "),"<Buffer "+C+">"},Buffer.prototype.compare=function compare(C,E,I,B,z){if(isInstance(C,Uint8Array)&&(C=Buffer.from(C,C.offset,C.byteLength)),!Buffer.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(void 0===E&&(E=0),void 0===I&&(I=C?C.length:0),void 0===B&&(B=0),void 0===z&&(z=this.length),E<0||I>C.length||B<0||z>this.length)throw new RangeError("out of range index");if(B>=z&&E>=I)return 0;if(B>=z)return-1;if(E>=I)return 1;if(this===C)return 0;for(var q=(z>>>=0)-(B>>>=0),Q=(I>>>=0)-(E>>>=0),ee=Math.min(q,Q),te=this.slice(B,z),ie=C.slice(E,I),re=0;re<ee;++re)if(te[re]!==ie[re]){q=te[re],Q=ie[re];break}return q<Q?-1:Q<q?1:0},Buffer.prototype.includes=function includes(C,E,I){return-1!==this.indexOf(C,E,I)},Buffer.prototype.indexOf=function indexOf(C,E,I){return bidirectionalIndexOf(this,C,E,I,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(C,E,I){return bidirectionalIndexOf(this,C,E,I,!1)},Buffer.prototype.write=function write(C,E,I,B){if(void 0===E)B="utf8",I=this.length,E=0;else if(void 0===I&&"string"==typeof E)B=E,I=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E>>>=0,isFinite(I)?(I>>>=0,void 0===B&&(B="utf8")):(B=I,I=void 0)}var z=this.length-E;if((void 0===I||I>z)&&(I=z),C.length>0&&(I<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var q=!1;;)switch(B){case"hex":return hexWrite(this,C,E,I);case"utf8":case"utf-8":return utf8Write(this,C,E,I);case"ascii":return asciiWrite(this,C,E,I);case"latin1":case"binary":return latin1Write(this,C,E,I);case"base64":return base64Write(this,C,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,C,E,I);default:if(q)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),q=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var q=4096;function decodeCodePointsArray(C){var E=C.length;if(E<=q)return String.fromCharCode.apply(String,C);for(var I="",B=0;B<E;)I+=String.fromCharCode.apply(String,C.slice(B,B+=q));return I}function asciiSlice(C,E,I){var B="";I=Math.min(C.length,I);for(var z=E;z<I;++z)B+=String.fromCharCode(127&C[z]);return B}function latin1Slice(C,E,I){var B="";I=Math.min(C.length,I);for(var z=E;z<I;++z)B+=String.fromCharCode(C[z]);return B}function hexSlice(C,E,I){var B=C.length;(!E||E<0)&&(E=0),(!I||I<0||I>B)&&(I=B);for(var z="",q=E;q<I;++q)z+=toHex(C[q]);return z}function utf16leSlice(C,E,I){for(var B=C.slice(E,I),z="",q=0;q<B.length;q+=2)z+=String.fromCharCode(B[q]+256*B[q+1]);return z}function checkOffset(C,E,I){if(C%1!=0||C<0)throw new RangeError("offset is not uint");if(C+E>I)throw new RangeError("Trying to access beyond buffer length")}function checkInt(C,E,I,B,z,q){if(!Buffer.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>z||E<q)throw new RangeError('"value" argument is out of bounds');if(I+B>C.length)throw new RangeError("Index out of range")}function checkIEEE754(C,E,I,B,z,q){if(I+B>C.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function writeFloat(C,E,I,z,q){return E=+E,I>>>=0,q||checkIEEE754(C,E,I,4,34028234663852886e22,-34028234663852886e22),B.write(C,E,I,z,23,4),I+4}function writeDouble(C,E,I,z,q){return E=+E,I>>>=0,q||checkIEEE754(C,E,I,8,17976931348623157e292,-17976931348623157e292),B.write(C,E,I,z,52,8),I+8}Buffer.prototype.slice=function slice(C,E){var I=this.length;(C=~~C)<0?(C+=I)<0&&(C=0):C>I&&(C=I),(E=void 0===E?I:~~E)<0?(E+=I)<0&&(E=0):E>I&&(E=I),E<C&&(E=C);var B=this.subarray(C,E);return B.__proto__=Buffer.prototype,B},Buffer.prototype.readUIntLE=function readUIntLE(C,E,I){C>>>=0,E>>>=0,I||checkOffset(C,E,this.length);for(var B=this[C],z=1,q=0;++q<E&&(z*=256);)B+=this[C+q]*z;return B},Buffer.prototype.readUIntBE=function readUIntBE(C,E,I){C>>>=0,E>>>=0,I||checkOffset(C,E,this.length);for(var B=this[C+--E],z=1;E>0&&(z*=256);)B+=this[C+--E]*z;return B},Buffer.prototype.readUInt8=function readUInt8(C,E){return C>>>=0,E||checkOffset(C,1,this.length),this[C]},Buffer.prototype.readUInt16LE=function readUInt16LE(C,E){return C>>>=0,E||checkOffset(C,2,this.length),this[C]|this[C+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(C,E){return C>>>=0,E||checkOffset(C,2,this.length),this[C]<<8|this[C+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(C,E){return C>>>=0,E||checkOffset(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(C,E){return C>>>=0,E||checkOffset(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},Buffer.prototype.readIntLE=function readIntLE(C,E,I){C>>>=0,E>>>=0,I||checkOffset(C,E,this.length);for(var B=this[C],z=1,q=0;++q<E&&(z*=256);)B+=this[C+q]*z;return B>=(z*=128)&&(B-=Math.pow(2,8*E)),B},Buffer.prototype.readIntBE=function readIntBE(C,E,I){C>>>=0,E>>>=0,I||checkOffset(C,E,this.length);for(var B=E,z=1,q=this[C+--B];B>0&&(z*=256);)q+=this[C+--B]*z;return q>=(z*=128)&&(q-=Math.pow(2,8*E)),q},Buffer.prototype.readInt8=function readInt8(C,E){return C>>>=0,E||checkOffset(C,1,this.length),128&this[C]?-1*(255-this[C]+1):this[C]},Buffer.prototype.readInt16LE=function readInt16LE(C,E){C>>>=0,E||checkOffset(C,2,this.length);var I=this[C]|this[C+1]<<8;return 32768&I?4294901760|I:I},Buffer.prototype.readInt16BE=function readInt16BE(C,E){C>>>=0,E||checkOffset(C,2,this.length);var I=this[C+1]|this[C]<<8;return 32768&I?4294901760|I:I},Buffer.prototype.readInt32LE=function readInt32LE(C,E){return C>>>=0,E||checkOffset(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(C,E){return C>>>=0,E||checkOffset(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},Buffer.prototype.readFloatLE=function readFloatLE(C,E){return C>>>=0,E||checkOffset(C,4,this.length),B.read(this,C,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(C,E){return C>>>=0,E||checkOffset(C,4,this.length),B.read(this,C,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(C,E){return C>>>=0,E||checkOffset(C,8,this.length),B.read(this,C,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(C,E){return C>>>=0,E||checkOffset(C,8,this.length),B.read(this,C,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(C,E,I,B){C=+C,E>>>=0,I>>>=0,B||checkInt(this,C,E,I,Math.pow(2,8*I)-1,0);var z=1,q=0;for(this[E]=255&C;++q<I&&(z*=256);)this[E+q]=C/z&255;return E+I},Buffer.prototype.writeUIntBE=function writeUIntBE(C,E,I,B){C=+C,E>>>=0,I>>>=0,B||checkInt(this,C,E,I,Math.pow(2,8*I)-1,0);var z=I-1,q=1;for(this[E+z]=255&C;--z>=0&&(q*=256);)this[E+z]=C/q&255;return E+I},Buffer.prototype.writeUInt8=function writeUInt8(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,1,255,0),this[E]=255&C,E+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,2,65535,0),this[E]=255&C,this[E+1]=C>>>8,E+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,2,65535,0),this[E]=C>>>8,this[E+1]=255&C,E+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,4,4294967295,0),this[E+3]=C>>>24,this[E+2]=C>>>16,this[E+1]=C>>>8,this[E]=255&C,E+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,4,4294967295,0),this[E]=C>>>24,this[E+1]=C>>>16,this[E+2]=C>>>8,this[E+3]=255&C,E+4},Buffer.prototype.writeIntLE=function writeIntLE(C,E,I,B){if(C=+C,E>>>=0,!B){var z=Math.pow(2,8*I-1);checkInt(this,C,E,I,z-1,-z)}var q=0,Q=1,ee=0;for(this[E]=255&C;++q<I&&(Q*=256);)C<0&&0===ee&&0!==this[E+q-1]&&(ee=1),this[E+q]=(C/Q>>0)-ee&255;return E+I},Buffer.prototype.writeIntBE=function writeIntBE(C,E,I,B){if(C=+C,E>>>=0,!B){var z=Math.pow(2,8*I-1);checkInt(this,C,E,I,z-1,-z)}var q=I-1,Q=1,ee=0;for(this[E+q]=255&C;--q>=0&&(Q*=256);)C<0&&0===ee&&0!==this[E+q+1]&&(ee=1),this[E+q]=(C/Q>>0)-ee&255;return E+I},Buffer.prototype.writeInt8=function writeInt8(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,1,127,-128),C<0&&(C=255+C+1),this[E]=255&C,E+1},Buffer.prototype.writeInt16LE=function writeInt16LE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,2,32767,-32768),this[E]=255&C,this[E+1]=C>>>8,E+2},Buffer.prototype.writeInt16BE=function writeInt16BE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,2,32767,-32768),this[E]=C>>>8,this[E+1]=255&C,E+2},Buffer.prototype.writeInt32LE=function writeInt32LE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,4,2147483647,-2147483648),this[E]=255&C,this[E+1]=C>>>8,this[E+2]=C>>>16,this[E+3]=C>>>24,E+4},Buffer.prototype.writeInt32BE=function writeInt32BE(C,E,I){return C=+C,E>>>=0,I||checkInt(this,C,E,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[E]=C>>>24,this[E+1]=C>>>16,this[E+2]=C>>>8,this[E+3]=255&C,E+4},Buffer.prototype.writeFloatLE=function writeFloatLE(C,E,I){return writeFloat(this,C,E,!0,I)},Buffer.prototype.writeFloatBE=function writeFloatBE(C,E,I){return writeFloat(this,C,E,!1,I)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(C,E,I){return writeDouble(this,C,E,!0,I)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(C,E,I){return writeDouble(this,C,E,!1,I)},Buffer.prototype.copy=function copy(C,E,I,B){if(!Buffer.isBuffer(C))throw new TypeError("argument should be a Buffer");if(I||(I=0),B||0===B||(B=this.length),E>=C.length&&(E=C.length),E||(E=0),B>0&&B<I&&(B=I),B===I)return 0;if(0===C.length||0===this.length)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),C.length-E<B-I&&(B=C.length-E+I);var z=B-I;if(this===C&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(E,I,B);else if(this===C&&I<E&&E<B)for(var q=z-1;q>=0;--q)C[q+E]=this[q+I];else Uint8Array.prototype.set.call(C,this.subarray(I,B),E);return z},Buffer.prototype.fill=function fill(C,E,I,B){if("string"==typeof C){if("string"==typeof E?(B=E,E=0,I=this.length):"string"==typeof I&&(B=I,I=this.length),void 0!==B&&"string"!=typeof B)throw new TypeError("encoding must be a string");if("string"==typeof B&&!Buffer.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(1===C.length){var z=C.charCodeAt(0);("utf8"===B&&z<128||"latin1"===B)&&(C=z)}}else"number"==typeof C&&(C&=255);if(E<0||this.length<E||this.length<I)throw new RangeError("Out of range index");if(I<=E)return this;var q;if(E>>>=0,I=void 0===I?this.length:I>>>0,C||(C=0),"number"==typeof C)for(q=E;q<I;++q)this[q]=C;else{var Q=Buffer.isBuffer(C)?C:Buffer.from(C,B),ee=Q.length;if(0===ee)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(q=0;q<I-E;++q)this[q+E]=Q[q%ee]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function base64clean(C){if((C=(C=C.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;C.length%4!=0;)C+="=";return C}function toHex(C){return C<16?"0"+C.toString(16):C.toString(16)}function utf8ToBytes(C,E){var I;E=E||1/0;for(var B=C.length,z=null,q=[],Q=0;Q<B;++Q){if((I=C.charCodeAt(Q))>55295&&I<57344){if(!z){if(I>56319){(E-=3)>-1&&q.push(239,191,189);continue}if(Q+1===B){(E-=3)>-1&&q.push(239,191,189);continue}z=I;continue}if(I<56320){(E-=3)>-1&&q.push(239,191,189),z=I;continue}I=65536+(z-55296<<10|I-56320)}else z&&(E-=3)>-1&&q.push(239,191,189);if(z=null,I<128){if((E-=1)<0)break;q.push(I)}else if(I<2048){if((E-=2)<0)break;q.push(I>>6|192,63&I|128)}else if(I<65536){if((E-=3)<0)break;q.push(I>>12|224,I>>6&63|128,63&I|128)}else{if(!(I<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;q.push(I>>18|240,I>>12&63|128,I>>6&63|128,63&I|128)}}return q}function asciiToBytes(C){for(var E=[],I=0;I<C.length;++I)E.push(255&C.charCodeAt(I));return E}function utf16leToBytes(C,E){for(var I,B,z,q=[],Q=0;Q<C.length&&!((E-=2)<0);++Q)B=(I=C.charCodeAt(Q))>>8,z=I%256,q.push(z),q.push(B);return q}function base64ToBytes(C){return E.toByteArray(base64clean(C))}function blitBuffer(C,E,I,B){for(var z=0;z<B&&!(z+I>=E.length||z>=C.length);++z)E[z+I]=C[z];return z}function isInstance(C,E){return C instanceof E||null!=C&&null!=C.constructor&&null!=C.constructor.name&&C.constructor.name===E.name}function numberIsNaN(C){return C!=C}}).call(this)}).call(this,C("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=C("stream").Transform,q=C("string_decoder").StringDecoder;function CipherBase(C){z.call(this),this.hashMode="string"==typeof C,this.hashMode?this[C]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}C("inherits")(CipherBase,z),CipherBase.prototype.update=function(C,E,I){"string"==typeof C&&(C=B.from(C,E));var z=this._update(C);return this.hashMode?this:(I&&(z=this._toString(z,I)),z)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(C,E,I){var B;try{this.hashMode?this._update(C):this.push(this._update(C))}catch(C){B=C}finally{I(B)}},CipherBase.prototype._flush=function(C){var E;try{this.push(this.__final())}catch(C){E=C}C(E)},CipherBase.prototype._finalOrDigest=function(C){var E=this.__final()||B.alloc(0);return C&&(E=this._toString(E,C,!0)),E},CipherBase.prototype._toString=function(C,E,I){if(this._decoder||(this._decoder=new q(E),this._encoding=E),this._encoding!==E)throw new Error("can't switch encodings");var B=this._decoder.write(C);return I&&(B+=this._decoder.end()),B},E.exports=CipherBase},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(C,E,I){"use strict";var B=C("../internals/is-callable"),z=C("../internals/try-to-string"),q=TypeError;E.exports=function(C){if(B(C))return C;throw new q(z(C)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(C,E,I){"use strict";var B=C("../internals/is-constructor"),z=C("../internals/try-to-string"),q=TypeError;E.exports=function(C){if(B(C))return C;throw new q(z(C)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(C,E,I){"use strict";var B=C("../internals/is-callable"),z=String,q=TypeError;E.exports=function(C){if("object"==typeof C||B(C))return C;throw new q("Can't set "+z(C)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(C,E,I){"use strict";var B=C("../internals/well-known-symbol"),z=C("../internals/object-create"),q=C("../internals/object-define-property").f,Q=B("unscopables"),ee=Array.prototype;void 0===ee[Q]&&q(ee,Q,{configurable:!0,value:z(null)}),E.exports=function(C){ee[Q][C]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(C,E,I){"use strict";var B=C("../internals/object-is-prototype-of"),z=TypeError;E.exports=function(C,E){if(B(E,C))return C;throw new z("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(C,E,I){"use strict";var B=C("../internals/is-object"),z=String,q=TypeError;E.exports=function(C){if(B(C))return C;throw new q(z(C)+" is not an object")}},{"../internals/is-object":289}],228:[function(C,E,I){"use strict";var B=C("../internals/to-indexed-object"),z=C("../internals/to-absolute-index"),q=C("../internals/length-of-array-like"),createMethod=function(C){return function(E,I,Q){var ee,te=B(E),ie=q(te),re=z(Q,ie);if(C&&I!=I){for(;ie>re;)if((ee=te[re++])!=ee)return!0}else for(;ie>re;re++)if((C||re in te)&&te[re]===I)return C||re||0;return!C&&-1}};E.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(C,E,I){"use strict";var B=C("../internals/function-bind-context"),z=C("../internals/function-uncurry-this"),q=C("../internals/indexed-object"),Q=C("../internals/to-object"),ee=C("../internals/length-of-array-like"),te=C("../internals/array-species-create"),ie=z([].push),createMethod=function(C){var E=1===C,I=2===C,z=3===C,re=4===C,ne=6===C,se=7===C,oe=5===C||ne;return function(ae,le,ue,de){for(var ce,he,fe=Q(ae),pe=q(fe),me=B(le,ue),ge=ee(pe),ve=0,ye=de||te,be=E?ye(ae,ge):I||se?ye(ae,0):void 0;ge>ve;ve++)if((oe||ve in pe)&&(he=me(ce=pe[ve],ve,fe),C))if(E)be[ve]=he;else if(he)switch(C){case 3:return!0;case 5:return ce;case 6:return ve;case 2:ie(be,ce)}else switch(C){case 4:return!1;case 7:ie(be,ce)}return ne?-1:z||re?re:be}};E.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(C,E,I){"use strict";var B=C("../internals/to-absolute-index"),z=C("../internals/length-of-array-like"),q=C("../internals/create-property"),Q=Array,ee=Math.max;E.exports=function(C,E,I){for(var te=z(C),ie=B(E,te),re=B(void 0===I?te:I,te),ne=Q(ee(re-ie,0)),se=0;ie<re;ie++,se++)q(ne,se,C[ie]);return ne.length=se,ne}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this");E.exports=B([].slice)},{"../internals/function-uncurry-this":268}],232:[function(C,E,I){"use strict";var B=C("../internals/is-array"),z=C("../internals/is-constructor"),q=C("../internals/is-object"),Q=C("../internals/well-known-symbol")("species"),ee=Array;E.exports=function(C){var E;return B(C)&&(E=C.constructor,(z(E)&&(E===ee||B(E.prototype))||q(E)&&null===(E=E[Q]))&&(E=void 0)),void 0===E?ee:E}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(C,E,I){"use strict";var B=C("../internals/array-species-constructor");E.exports=function(C,E){return new(B(C))(0===E?0:E)}},{"../internals/array-species-constructor":232}],234:[function(C,E,I){"use strict";var B=C("../internals/well-known-symbol")("iterator"),z=!1;try{var q=0,Q={next:function(){return{done:!!q++}},return:function(){z=!0}};Q[B]=function(){return this},Array.from(Q,(function(){throw 2}))}catch(C){}E.exports=function(C,E){try{if(!E&&!z)return!1}catch(C){return!1}var I=!1;try{var q={};q[B]=function(){return{next:function(){return{done:I=!0}}}},C(q)}catch(C){}return I}},{"../internals/well-known-symbol":357}],235:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=B({}.toString),q=B("".slice);E.exports=function(C){return q(z(C),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(C,E,I){"use strict";var B=C("../internals/to-string-tag-support"),z=C("../internals/is-callable"),q=C("../internals/classof-raw"),Q=C("../internals/well-known-symbol")("toStringTag"),ee=Object,te="Arguments"===q(function(){return arguments}()),tryGet=function(C,E){try{return C[E]}catch(C){}};E.exports=B?q:function(C){var E,I,B;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(I=tryGet(E=ee(C),Q))?I:te?q(E):"Object"===(B=q(E))&&z(E.callee)?"Arguments":B}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(C,E,I){"use strict";var B=C("../internals/has-own-property"),z=C("../internals/own-keys"),q=C("../internals/object-get-own-property-descriptor"),Q=C("../internals/object-define-property");E.exports=function(C,E,I){for(var ee=z(E),te=Q.f,ie=q.f,re=0;re<ee.length;re++){var ne=ee[re];B(C,ne)||I&&B(I,ne)||te(C,ne,ie(E,ne))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(C,E,I){"use strict";var B=C("../internals/well-known-symbol")("match");E.exports=function(C){var E=/./;try{"/./"[C](E)}catch(I){try{return E[B]=!1,"/./"[C](E)}catch(C){}}return!1}},{"../internals/well-known-symbol":357}],239:[function(C,E,I){"use strict";var B=C("../internals/fails");E.exports=!B((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},{"../internals/fails":260}],240:[function(C,E,I){"use strict";E.exports=function(C,E){return{value:C,done:E}}},{}],241:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/object-define-property"),q=C("../internals/create-property-descriptor");E.exports=B?function(C,E,I){return z.f(C,E,q(1,I))}:function(C,E,I){return C[E]=I,C}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(C,E,I){"use strict";E.exports=function(C,E){return{enumerable:!(1&C),configurable:!(2&C),writable:!(4&C),value:E}}},{}],243:[function(C,E,I){"use strict";var B=C("../internals/to-property-key"),z=C("../internals/object-define-property"),q=C("../internals/create-property-descriptor");E.exports=function(C,E,I){var Q=B(E);Q in C?z.f(C,Q,q(0,I)):C[Q]=I}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(C,E,I){"use strict";var B=C("../internals/make-built-in"),z=C("../internals/object-define-property");E.exports=function(C,E,I){return I.get&&B(I.get,E,{getter:!0}),I.set&&B(I.set,E,{setter:!0}),z.f(C,E,I)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(C,E,I){"use strict";var B=C("../internals/is-callable"),z=C("../internals/object-define-property"),q=C("../internals/make-built-in"),Q=C("../internals/define-global-property");E.exports=function(C,E,I,ee){ee||(ee={});var te=ee.enumerable,ie=void 0!==ee.name?ee.name:E;if(B(I)&&q(I,ie,ee),ee.global)te?C[E]=I:Q(E,I);else{try{ee.unsafe?C[E]&&(te=!0):delete C[E]}catch(C){}te?C[E]=I:z.f(C,E,{value:I,enumerable:!1,configurable:!ee.nonConfigurable,writable:!ee.nonWritable})}return C}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(C,E,I){"use strict";var B=C("../internals/global"),z=Object.defineProperty;E.exports=function(C,E){try{z(B,C,{value:E,configurable:!0,writable:!0})}catch(I){B[C]=E}return E}},{"../internals/global":274}],247:[function(C,E,I){"use strict";var B=C("../internals/fails");E.exports=!B((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":260}],248:[function(C,E,I){"use strict";var B="object"==typeof document&&document.all,z=void 0===B&&void 0!==B;E.exports={all:B,IS_HTMLDDA:z}},{}],249:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/is-object"),q=B.document,Q=z(q)&&z(q.createElement);E.exports=function(C){return Q?q.createElement(C):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(C,E,I){"use strict";var B=C("../internals/engine-is-deno"),z=C("../internals/engine-is-node");E.exports=!B&&!z&&"object"==typeof window&&"object"==typeof document},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(C,E,I){"use strict";E.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},{}],252:[function(C,E,I){"use strict";var B=C("../internals/engine-user-agent");E.exports=/ipad|iphone|ipod/i.test(B)&&"undefined"!=typeof Pebble},{"../internals/engine-user-agent":256}],253:[function(C,E,I){"use strict";var B=C("../internals/engine-user-agent");E.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(B)},{"../internals/engine-user-agent":256}],254:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/classof-raw");E.exports="process"===z(B.process)},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(C,E,I){"use strict";var B=C("../internals/engine-user-agent");E.exports=/web0s(?!.*chrome)/i.test(B)},{"../internals/engine-user-agent":256}],256:[function(C,E,I){"use strict";E.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},{}],257:[function(C,E,I){"use strict";var B,z,q=C("../internals/global"),Q=C("../internals/engine-user-agent"),ee=q.process,te=q.Deno,ie=ee&&ee.versions||te&&te.version,re=ie&&ie.v8;re&&(z=(B=re.split("."))[0]>0&&B[0]<4?1:+(B[0]+B[1])),!z&&Q&&(!(B=Q.match(/Edge\/(\d+)/))||B[1]>=74)&&(B=Q.match(/Chrome\/(\d+)/))&&(z=+B[1]),E.exports=z},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(C,E,I){"use strict";E.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/object-get-own-property-descriptor").f,q=C("../internals/create-non-enumerable-property"),Q=C("../internals/define-built-in"),ee=C("../internals/define-global-property"),te=C("../internals/copy-constructor-properties"),ie=C("../internals/is-forced");E.exports=function(C,E){var I,re,ne,se,oe,ae=C.target,le=C.global,ue=C.stat;if(I=le?B:ue?B[ae]||ee(ae,{}):(B[ae]||{}).prototype)for(re in E){if(se=E[re],ne=C.dontCallGetSet?(oe=z(I,re))&&oe.value:I[re],!ie(le?re:ae+(ue?".":"#")+re,C.forced)&&void 0!==ne){if(typeof se==typeof ne)continue;te(se,ne)}(C.sham||ne&&ne.sham)&&q(se,"sham",!0),Q(I,re,se,C)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(C,E,I){"use strict";E.exports=function(C){try{return!!C()}catch(C){return!0}}},{}],261:[function(C,E,I){"use strict";var B=C("../internals/function-bind-native"),z=Function.prototype,q=z.apply,Q=z.call;E.exports="object"==typeof Reflect&&Reflect.apply||(B?Q.bind(q):function(){return Q.apply(q,arguments)})},{"../internals/function-bind-native":263}],262:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this-clause"),z=C("../internals/a-callable"),q=C("../internals/function-bind-native"),Q=B(B.bind);E.exports=function(C,E){return z(C),void 0===E?C:q?Q(C,E):function(){return C.apply(E,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(C,E,I){"use strict";var B=C("../internals/fails");E.exports=!B((function(){var C=function(){}.bind();return"function"!=typeof C||C.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(C,E,I){"use strict";var B=C("../internals/function-bind-native"),z=Function.prototype.call;E.exports=B?z.bind(z):function(){return z.apply(z,arguments)}},{"../internals/function-bind-native":263}],265:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/has-own-property"),q=Function.prototype,Q=B&&Object.getOwnPropertyDescriptor,ee=z(q,"name"),te=ee&&"something"===function something(){}.name,ie=ee&&(!B||B&&Q(q,"name").configurable);E.exports={EXISTS:ee,PROPER:te,CONFIGURABLE:ie}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/a-callable");E.exports=function(C,E,I){try{return B(z(Object.getOwnPropertyDescriptor(C,E)[I]))}catch(C){}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(C,E,I){"use strict";var B=C("../internals/classof-raw"),z=C("../internals/function-uncurry-this");E.exports=function(C){if("Function"===B(C))return z(C)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(C,E,I){"use strict";var B=C("../internals/function-bind-native"),z=Function.prototype,q=z.call,Q=B&&z.bind.bind(q,q);E.exports=B?Q:function(C){return function(){return q.apply(C,arguments)}}},{"../internals/function-bind-native":263}],269:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/is-callable"),aFunction=function(C){return z(C)?C:void 0};E.exports=function(C,E){return arguments.length<2?aFunction(B[C]):B[C]&&B[C][E]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(C,E,I){"use strict";var B=C("../internals/classof"),z=C("../internals/get-method"),q=C("../internals/is-null-or-undefined"),Q=C("../internals/iterators"),ee=C("../internals/well-known-symbol")("iterator");E.exports=function(C){if(!q(C))return z(C,ee)||z(C,"@@iterator")||Q[B(C)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(C,E,I){"use strict";var B=C("../internals/function-call"),z=C("../internals/a-callable"),q=C("../internals/an-object"),Q=C("../internals/try-to-string"),ee=C("../internals/get-iterator-method"),te=TypeError;E.exports=function(C,E){var I=arguments.length<2?ee(C):E;if(z(I))return q(B(I,C));throw new te(Q(C)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/is-array"),q=C("../internals/is-callable"),Q=C("../internals/classof-raw"),ee=C("../internals/to-string"),te=B([].push);E.exports=function(C){if(q(C))return C;if(z(C)){for(var E=C.length,I=[],B=0;B<E;B++){var ie=C[B];"string"==typeof ie?te(I,ie):"number"!=typeof ie&&"Number"!==Q(ie)&&"String"!==Q(ie)||te(I,ee(ie))}var re=I.length,ne=!0;return function(C,E){if(ne)return ne=!1,E;if(z(this))return E;for(var B=0;B<re;B++)if(I[B]===C)return E}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(C,E,I){"use strict";var B=C("../internals/a-callable"),z=C("../internals/is-null-or-undefined");E.exports=function(C,E){var I=C[E];return z(I)?void 0:B(I)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(C,E,B){(function(C){(function(){"use strict";var check=function(C){return C&&C.Math===Math&&C};E.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof C&&C)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],275:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/to-object"),q=B({}.hasOwnProperty);E.exports=Object.hasOwn||function hasOwn(C,E){return q(z(C),E)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(C,E,I){"use strict";E.exports={}},{}],277:[function(C,E,I){"use strict";E.exports=function(C,E){}},{}],278:[function(C,E,I){"use strict";var B=C("../internals/get-built-in");E.exports=B("document","documentElement")},{"../internals/get-built-in":269}],279:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/fails"),q=C("../internals/document-create-element");E.exports=!B&&!z((function(){return 7!==Object.defineProperty(q("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/fails"),q=C("../internals/classof-raw"),Q=Object,ee=B("".split);E.exports=z((function(){return!Q("z").propertyIsEnumerable(0)}))?function(C){return"String"===q(C)?ee(C,""):Q(C)}:Q},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/is-callable"),q=C("../internals/shared-store"),Q=B(Function.toString);z(q.inspectSource)||(q.inspectSource=function(C){return Q(C)}),E.exports=q.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(C,E,I){"use strict";var B,z,q,Q=C("../internals/weak-map-basic-detection"),ee=C("../internals/global"),te=C("../internals/is-object"),ie=C("../internals/create-non-enumerable-property"),re=C("../internals/has-own-property"),ne=C("../internals/shared-store"),se=C("../internals/shared-key"),oe=C("../internals/hidden-keys"),ae="Object already initialized",le=ee.TypeError,ue=ee.WeakMap,enforce=function(C){return q(C)?z(C):B(C,{})},getterFor=function(C){return function(E){var I;if(!te(E)||(I=z(E)).type!==C)throw new le("Incompatible receiver, "+C+" required");return I}};if(Q||ne.state){var de=ne.state||(ne.state=new ue);de.get=de.get,de.has=de.has,de.set=de.set,B=function(C,E){if(de.has(C))throw new le(ae);return E.facade=C,de.set(C,E),E},z=function(C){return de.get(C)||{}},q=function(C){return de.has(C)}}else{var ce=se("state");oe[ce]=!0,B=function(C,E){if(re(C,ce))throw new le(ae);return E.facade=C,ie(C,ce,E),E},z=function(C){return re(C,ce)?C[ce]:{}},q=function(C){return re(C,ce)}}E.exports={set:B,get:z,has:q,enforce,getterFor}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(C,E,I){"use strict";var B=C("../internals/well-known-symbol"),z=C("../internals/iterators"),q=B("iterator"),Q=Array.prototype;E.exports=function(C){return void 0!==C&&(z.Array===C||Q[q]===C)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(C,E,I){"use strict";var B=C("../internals/classof-raw");E.exports=Array.isArray||function isArray(C){return"Array"===B(C)}},{"../internals/classof-raw":235}],285:[function(C,E,I){"use strict";var B=C("../internals/document-all"),z=B.all;E.exports=B.IS_HTMLDDA?function(C){return"function"==typeof C||C===z}:function(C){return"function"==typeof C}},{"../internals/document-all":248}],286:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/fails"),q=C("../internals/is-callable"),Q=C("../internals/classof"),ee=C("../internals/get-built-in"),te=C("../internals/inspect-source"),noop=function(){},ie=[],re=ee("Reflect","construct"),ne=/^\s*(?:class|function)\b/,se=B(ne.exec),oe=!ne.test(noop),ae=function isConstructor(C){if(!q(C))return!1;try{return re(noop,ie,C),!0}catch(C){return!1}},le=function isConstructor(C){if(!q(C))return!1;switch(Q(C)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return oe||!!se(ne,te(C))}catch(C){return!0}};le.sham=!0,E.exports=!re||z((function(){var C;return ae(ae.call)||!ae(Object)||!ae((function(){C=!0}))||C}))?le:ae},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(C,E,I){"use strict";var B=C("../internals/fails"),z=C("../internals/is-callable"),q=/#|\.prototype\./,isForced=function(C,E){var I=ee[Q(C)];return I===ie||I!==te&&(z(E)?B(E):!!E)},Q=isForced.normalize=function(C){return String(C).replace(q,".").toLowerCase()},ee=isForced.data={},te=isForced.NATIVE="N",ie=isForced.POLYFILL="P";E.exports=isForced},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(C,E,I){"use strict";E.exports=function(C){return null==C}},{}],289:[function(C,E,I){"use strict";var B=C("../internals/is-callable"),z=C("../internals/document-all"),q=z.all;E.exports=z.IS_HTMLDDA?function(C){return"object"==typeof C?null!==C:B(C)||C===q}:function(C){return"object"==typeof C?null!==C:B(C)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(C,E,I){"use strict";E.exports=!1},{}],291:[function(C,E,I){"use strict";var B=C("../internals/is-object"),z=C("../internals/classof-raw"),q=C("../internals/well-known-symbol")("match");E.exports=function(C){var E;return B(C)&&(void 0!==(E=C[q])?!!E:"RegExp"===z(C))}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(C,E,I){"use strict";var B=C("../internals/get-built-in"),z=C("../internals/is-callable"),q=C("../internals/object-is-prototype-of"),Q=C("../internals/use-symbol-as-uid"),ee=Object;E.exports=Q?function(C){return"symbol"==typeof C}:function(C){var E=B("Symbol");return z(E)&&q(E.prototype,ee(C))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(C,E,I){"use strict";var B=C("../internals/function-bind-context"),z=C("../internals/function-call"),q=C("../internals/an-object"),Q=C("../internals/try-to-string"),ee=C("../internals/is-array-iterator-method"),te=C("../internals/length-of-array-like"),ie=C("../internals/object-is-prototype-of"),re=C("../internals/get-iterator"),ne=C("../internals/get-iterator-method"),se=C("../internals/iterator-close"),oe=TypeError,Result=function(C,E){this.stopped=C,this.result=E},ae=Result.prototype;E.exports=function(C,E,I){var le,ue,de,ce,he,fe,pe,me=I&&I.that,ge=!(!I||!I.AS_ENTRIES),ve=!(!I||!I.IS_RECORD),ye=!(!I||!I.IS_ITERATOR),be=!(!I||!I.INTERRUPTED),Ce=B(E,me),stop=function(C){return le&&se(le,"normal",C),new Result(!0,C)},callFn=function(C){return ge?(q(C),be?Ce(C[0],C[1],stop):Ce(C[0],C[1])):be?Ce(C,stop):Ce(C)};if(ve)le=C.iterator;else if(ye)le=C;else{if(!(ue=ne(C)))throw new oe(Q(C)+" is not iterable");if(ee(ue)){for(de=0,ce=te(C);ce>de;de++)if((he=callFn(C[de]))&&ie(ae,he))return he;return new Result(!1)}le=re(C,ue)}for(fe=ve?C.next:le.next;!(pe=z(fe,le)).done;){try{he=callFn(pe.value)}catch(C){se(le,"throw",C)}if("object"==typeof he&&he&&ie(ae,he))return he}return new Result(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(C,E,I){"use strict";var B=C("../internals/function-call"),z=C("../internals/an-object"),q=C("../internals/get-method");E.exports=function(C,E,I){var Q,ee;z(C);try{if(!(Q=q(C,"return"))){if("throw"===E)throw I;return I}Q=B(Q,C)}catch(C){ee=!0,Q=C}if("throw"===E)throw I;if(ee)throw Q;return z(Q),I}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(C,E,I){"use strict";var B=C("../internals/iterators-core").IteratorPrototype,z=C("../internals/object-create"),q=C("../internals/create-property-descriptor"),Q=C("../internals/set-to-string-tag"),ee=C("../internals/iterators"),returnThis=function(){return this};E.exports=function(C,E,I,te){var ie=E+" Iterator";return C.prototype=z(B,{next:q(+!te,I)}),Q(C,ie,!1,!0),ee[ie]=returnThis,C}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/function-call"),q=C("../internals/is-pure"),Q=C("../internals/function-name"),ee=C("../internals/is-callable"),te=C("../internals/iterator-create-constructor"),ie=C("../internals/object-get-prototype-of"),re=C("../internals/object-set-prototype-of"),ne=C("../internals/set-to-string-tag"),se=C("../internals/create-non-enumerable-property"),oe=C("../internals/define-built-in"),ae=C("../internals/well-known-symbol"),le=C("../internals/iterators"),ue=C("../internals/iterators-core"),de=Q.PROPER,ce=Q.CONFIGURABLE,he=ue.IteratorPrototype,fe=ue.BUGGY_SAFARI_ITERATORS,pe=ae("iterator"),me="keys",ge="values",ve="entries",returnThis=function(){return this};E.exports=function(C,E,I,Q,ae,ue,ye){te(I,E,Q);var be,Ce,we,getIterationMethod=function(C){if(C===ae&&Te)return Te;if(!fe&&C&&C in xe)return xe[C];switch(C){case me:return function keys(){return new I(this,C)};case ge:return function values(){return new I(this,C)};case ve:return function entries(){return new I(this,C)}}return function(){return new I(this)}},_e=E+" Iterator",Se=!1,xe=C.prototype,ke=xe[pe]||xe["@@iterator"]||ae&&xe[ae],Te=!fe&&ke||getIterationMethod(ae),Me="Array"===E&&xe.entries||ke;if(Me&&(be=ie(Me.call(new C)))!==Object.prototype&&be.next&&(q||ie(be)===he||(re?re(be,he):ee(be[pe])||oe(be,pe,returnThis)),ne(be,_e,!0,!0),q&&(le[_e]=returnThis)),de&&ae===ge&&ke&&ke.name!==ge&&(!q&&ce?se(xe,"name",ge):(Se=!0,Te=function values(){return z(ke,this)})),ae)if(Ce={values:getIterationMethod(ge),keys:ue?Te:getIterationMethod(me),entries:getIterationMethod(ve)},ye)for(we in Ce)(fe||Se||!(we in xe))&&oe(xe,we,Ce[we]);else B({target:E,proto:!0,forced:fe||Se},Ce);return q&&!ye||xe[pe]===Te||oe(xe,pe,Te,{name:ae}),le[E]=Te,Ce}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(C,E,I){"use strict";var B,z,q,Q=C("../internals/fails"),ee=C("../internals/is-callable"),te=C("../internals/is-object"),ie=C("../internals/object-create"),re=C("../internals/object-get-prototype-of"),ne=C("../internals/define-built-in"),se=C("../internals/well-known-symbol"),oe=C("../internals/is-pure"),ae=se("iterator"),le=!1;[].keys&&("next"in(q=[].keys())?(z=re(re(q)))!==Object.prototype&&(B=z):le=!0),!te(B)||Q((function(){var C={};return B[ae].call(C)!==C}))?B={}:oe&&(B=ie(B)),ee(B[ae])||ne(B,ae,(function(){return this})),E.exports={IteratorPrototype:B,BUGGY_SAFARI_ITERATORS:le}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(C,E,I){arguments[4][276][0].apply(I,arguments)},{dup:276}],299:[function(C,E,I){"use strict";var B=C("../internals/to-length");E.exports=function(C){return B(C.length)}},{"../internals/to-length":343}],300:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/fails"),q=C("../internals/is-callable"),Q=C("../internals/has-own-property"),ee=C("../internals/descriptors"),te=C("../internals/function-name").CONFIGURABLE,ie=C("../internals/inspect-source"),re=C("../internals/internal-state"),ne=re.enforce,se=re.get,oe=String,ae=Object.defineProperty,le=B("".slice),ue=B("".replace),de=B([].join),ce=ee&&!z((function(){return 8!==ae((function(){}),"length",{value:8}).length})),he=String(String).split("String"),fe=E.exports=function(C,E,I){"Symbol("===le(oe(E),0,7)&&(E="["+ue(oe(E),/^Symbol\(([^)]*)\)/,"$1")+"]"),I&&I.getter&&(E="get "+E),I&&I.setter&&(E="set "+E),(!Q(C,"name")||te&&C.name!==E)&&(ee?ae(C,"name",{value:E,configurable:!0}):C.name=E),ce&&I&&Q(I,"arity")&&C.length!==I.arity&&ae(C,"length",{value:I.arity});try{I&&Q(I,"constructor")&&I.constructor?ee&&ae(C,"prototype",{writable:!1}):C.prototype&&(C.prototype=void 0)}catch(C){}var B=ne(C);return Q(B,"source")||(B.source=de(he,"string"==typeof E?E:"")),C};Function.prototype.toString=fe((function toString(){return q(this)&&se(this).source||ie(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(C,E,I){"use strict";var B=Math.ceil,z=Math.floor;E.exports=Math.trunc||function trunc(C){var E=+C;return(E>0?z:B)(E)}},{}],302:[function(C,E,I){"use strict";var B,z,q,Q,ee,te=C("../internals/global"),ie=C("../internals/function-bind-context"),re=C("../internals/object-get-own-property-descriptor").f,ne=C("../internals/task").set,se=C("../internals/queue"),oe=C("../internals/engine-is-ios"),ae=C("../internals/engine-is-ios-pebble"),le=C("../internals/engine-is-webos-webkit"),ue=C("../internals/engine-is-node"),de=te.MutationObserver||te.WebKitMutationObserver,ce=te.document,he=te.process,fe=te.Promise,pe=re(te,"queueMicrotask"),me=pe&&pe.value;if(!me){var ge=new se,flush=function(){var C,E;for(ue&&(C=he.domain)&&C.exit();E=ge.get();)try{E()}catch(C){throw ge.head&&B(),C}C&&C.enter()};oe||ue||le||!de||!ce?!ae&&fe&&fe.resolve?((Q=fe.resolve(void 0)).constructor=fe,ee=ie(Q.then,Q),B=function(){ee(flush)}):ue?B=function(){he.nextTick(flush)}:(ne=ie(ne,te),B=function(){ne(flush)}):(z=!0,q=ce.createTextNode(""),new de(flush).observe(q,{characterData:!0}),B=function(){q.data=z=!z}),me=function(C){ge.head||B(),ge.add(C)}}E.exports=me},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(C,E,I){"use strict";var B=C("../internals/a-callable"),z=TypeError,PromiseCapability=function(C){var E,I;this.promise=new C((function(C,B){if(void 0!==E||void 0!==I)throw new z("Bad Promise constructor");E=C,I=B})),this.resolve=B(E),this.reject=B(I)};E.exports.f=function(C){return new PromiseCapability(C)}},{"../internals/a-callable":222}],304:[function(C,E,I){"use strict";var B=C("../internals/is-regexp"),z=TypeError;E.exports=function(C){if(B(C))throw new z("The method doesn't accept regular expressions");return C}},{"../internals/is-regexp":291}],305:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/function-uncurry-this"),q=C("../internals/function-call"),Q=C("../internals/fails"),ee=C("../internals/object-keys"),te=C("../internals/object-get-own-property-symbols"),ie=C("../internals/object-property-is-enumerable"),re=C("../internals/to-object"),ne=C("../internals/indexed-object"),se=Object.assign,oe=Object.defineProperty,ae=z([].concat);E.exports=!se||Q((function(){if(B&&1!==se({b:1},se(oe({},"a",{enumerable:!0,get:function(){oe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var C={},E={},I=Symbol("assign detection"),z="abcdefghijklmnopqrst";return C[I]=7,z.split("").forEach((function(C){E[C]=C})),7!==se({},C)[I]||ee(se({},E)).join("")!==z}))?function assign(C,E){for(var I=re(C),z=arguments.length,Q=1,se=te.f,oe=ie.f;z>Q;)for(var le,ue=ne(arguments[Q++]),de=se?ae(ee(ue),se(ue)):ee(ue),ce=de.length,he=0;ce>he;)le=de[he++],B&&!q(oe,ue,le)||(I[le]=ue[le]);return I}:se},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(C,E,I){"use strict";var B,z=C("../internals/an-object"),q=C("../internals/object-define-properties"),Q=C("../internals/enum-bug-keys"),ee=C("../internals/hidden-keys"),te=C("../internals/html"),ie=C("../internals/document-create-element"),re=C("../internals/shared-key"),ne=">",se="<",oe="prototype",ae="script",le=re("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(C){return se+ae+ne+C+se+"/"+ae+ne},NullProtoObjectViaActiveX=function(C){C.write(scriptTag("")),C.close();var E=C.parentWindow.Object;return C=null,E},NullProtoObjectViaIFrame=function(){var C,E=ie("iframe"),I="java"+ae+":";return E.style.display="none",te.appendChild(E),E.src=String(I),(C=E.contentWindow.document).open(),C.write(scriptTag("document.F=Object")),C.close(),C.F},NullProtoObject=function(){try{B=new ActiveXObject("htmlfile")}catch(C){}NullProtoObject="undefined"!=typeof document?document.domain&&B?NullProtoObjectViaActiveX(B):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(B);for(var C=Q.length;C--;)delete NullProtoObject[oe][Q[C]];return NullProtoObject()};ee[le]=!0,E.exports=Object.create||function create(C,E){var I;return null!==C?(EmptyConstructor[oe]=z(C),I=new EmptyConstructor,EmptyConstructor[oe]=null,I[le]=C):I=NullProtoObject(),void 0===E?I:q.f(I,E)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/v8-prototype-define-bug"),q=C("../internals/object-define-property"),Q=C("../internals/an-object"),ee=C("../internals/to-indexed-object"),te=C("../internals/object-keys");I.f=B&&!z?Object.defineProperties:function defineProperties(C,E){Q(C);for(var I,B=ee(E),z=te(E),ie=z.length,re=0;ie>re;)q.f(C,I=z[re++],B[I]);return C}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/ie8-dom-define"),q=C("../internals/v8-prototype-define-bug"),Q=C("../internals/an-object"),ee=C("../internals/to-property-key"),te=TypeError,ie=Object.defineProperty,re=Object.getOwnPropertyDescriptor,ne="enumerable",se="configurable",oe="writable";I.f=B?q?function defineProperty(C,E,I){if(Q(C),E=ee(E),Q(I),"function"==typeof C&&"prototype"===E&&"value"in I&&oe in I&&!I[oe]){var B=re(C,E);B&&B[oe]&&(C[E]=I.value,I={configurable:se in I?I[se]:B[se],enumerable:ne in I?I[ne]:B[ne],writable:!1})}return ie(C,E,I)}:ie:function defineProperty(C,E,I){if(Q(C),E=ee(E),Q(I),z)try{return ie(C,E,I)}catch(C){}if("get"in I||"set"in I)throw new te("Accessors not supported");return"value"in I&&(C[E]=I.value),C}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/function-call"),q=C("../internals/object-property-is-enumerable"),Q=C("../internals/create-property-descriptor"),ee=C("../internals/to-indexed-object"),te=C("../internals/to-property-key"),ie=C("../internals/has-own-property"),re=C("../internals/ie8-dom-define"),ne=Object.getOwnPropertyDescriptor;I.f=B?ne:function getOwnPropertyDescriptor(C,E){if(C=ee(C),E=te(E),re)try{return ne(C,E)}catch(C){}if(ie(C,E))return Q(!z(q.f,C,E),C[E])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(C,E,I){"use strict";var B=C("../internals/classof-raw"),z=C("../internals/to-indexed-object"),q=C("../internals/object-get-own-property-names").f,Q=C("../internals/array-slice-simple"),ee="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(C){try{return q(C)}catch(C){return Q(ee)}};E.exports.f=function getOwnPropertyNames(C){return ee&&"Window"===B(C)?getWindowNames(C):q(z(C))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(C,E,I){"use strict";var B=C("../internals/object-keys-internal"),z=C("../internals/enum-bug-keys").concat("length","prototype");I.f=Object.getOwnPropertyNames||function getOwnPropertyNames(C){return B(C,z)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(C,E,I){"use strict";I.f=Object.getOwnPropertySymbols},{}],313:[function(C,E,I){"use strict";var B=C("../internals/has-own-property"),z=C("../internals/is-callable"),q=C("../internals/to-object"),Q=C("../internals/shared-key"),ee=C("../internals/correct-prototype-getter"),te=Q("IE_PROTO"),ie=Object,re=ie.prototype;E.exports=ee?ie.getPrototypeOf:function(C){var E=q(C);if(B(E,te))return E[te];var I=E.constructor;return z(I)&&E instanceof I?I.prototype:E instanceof ie?re:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this");E.exports=B({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=C("../internals/has-own-property"),q=C("../internals/to-indexed-object"),Q=C("../internals/array-includes").indexOf,ee=C("../internals/hidden-keys"),te=B([].push);E.exports=function(C,E){var I,B=q(C),ie=0,re=[];for(I in B)!z(ee,I)&&z(B,I)&&te(re,I);for(;E.length>ie;)z(B,I=E[ie++])&&(~Q(re,I)||te(re,I));return re}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(C,E,I){"use strict";var B=C("../internals/object-keys-internal"),z=C("../internals/enum-bug-keys");E.exports=Object.keys||function keys(C){return B(C,z)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(C,E,I){"use strict";var B={}.propertyIsEnumerable,z=Object.getOwnPropertyDescriptor,q=z&&!B.call({1:2},1);I.f=q?function propertyIsEnumerable(C){var E=z(this,C);return!!E&&E.enumerable}:B},{}],318:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this-accessor"),z=C("../internals/an-object"),q=C("../internals/a-possible-prototype");E.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var C,E=!1,I={};try{(C=B(Object.prototype,"__proto__","set"))(I,[]),E=I instanceof Array}catch(C){}return function setPrototypeOf(I,B){return z(I),q(B),E?C(I,B):I.__proto__=B,I}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/fails"),q=C("../internals/function-uncurry-this"),Q=C("../internals/object-get-prototype-of"),ee=C("../internals/object-keys"),te=C("../internals/to-indexed-object"),ie=q(C("../internals/object-property-is-enumerable").f),re=q([].push),ne=B&&z((function(){var C=Object.create(null);return C[2]=2,!ie(C,2)})),createMethod=function(C){return function(E){for(var I,z=te(E),q=ee(z),se=ne&&null===Q(z),oe=q.length,ae=0,le=[];oe>ae;)I=q[ae++],B&&!(se?I in z:ie(z,I))||re(le,C?[I,z[I]]:z[I]);return le}};E.exports={entries:createMethod(!0),values:createMethod(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(C,E,I){"use strict";var B=C("../internals/function-call"),z=C("../internals/is-callable"),q=C("../internals/is-object"),Q=TypeError;E.exports=function(C,E){var I,ee;if("string"===E&&z(I=C.toString)&&!q(ee=B(I,C)))return ee;if(z(I=C.valueOf)&&!q(ee=B(I,C)))return ee;if("string"!==E&&z(I=C.toString)&&!q(ee=B(I,C)))return ee;throw new Q("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(C,E,I){"use strict";var B=C("../internals/get-built-in"),z=C("../internals/function-uncurry-this"),q=C("../internals/object-get-own-property-names"),Q=C("../internals/object-get-own-property-symbols"),ee=C("../internals/an-object"),te=z([].concat);E.exports=B("Reflect","ownKeys")||function ownKeys(C){var E=q.f(ee(C)),I=Q.f;return I?te(E,I(C)):E}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(C,E,I){"use strict";var B=C("../internals/global");E.exports=B},{"../internals/global":274}],323:[function(C,E,I){"use strict";E.exports=function(C){try{return{error:!1,value:C()}}catch(C){return{error:!0,value:C}}}},{}],324:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/promise-native-constructor"),q=C("../internals/is-callable"),Q=C("../internals/is-forced"),ee=C("../internals/inspect-source"),te=C("../internals/well-known-symbol"),ie=C("../internals/engine-is-browser"),re=C("../internals/engine-is-deno"),ne=C("../internals/is-pure"),se=C("../internals/engine-v8-version"),oe=z&&z.prototype,ae=te("species"),le=!1,ue=q(B.PromiseRejectionEvent),de=Q("Promise",(function(){var C=ee(z),E=C!==String(z);if(!E&&66===se)return!0;if(ne&&(!oe.catch||!oe.finally))return!0;if(!se||se<51||!/native code/.test(C)){var I=new z((function(C){C(1)})),FakePromise=function(C){C((function(){}),(function(){}))};if((I.constructor={})[ae]=FakePromise,!(le=I.then((function(){}))instanceof FakePromise))return!0}return!E&&(ie||re)&&!ue}));E.exports={CONSTRUCTOR:de,REJECTION_EVENT:ue,SUBCLASSING:le}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(C,E,I){"use strict";var B=C("../internals/global");E.exports=B.Promise},{"../internals/global":274}],326:[function(C,E,I){"use strict";var B=C("../internals/an-object"),z=C("../internals/is-object"),q=C("../internals/new-promise-capability");E.exports=function(C,E){if(B(C),z(E)&&E.constructor===C)return E;var I=q.f(C);return(0,I.resolve)(E),I.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(C,E,I){"use strict";var B=C("../internals/promise-native-constructor"),z=C("../internals/check-correctness-of-iteration"),q=C("../internals/promise-constructor-detection").CONSTRUCTOR;E.exports=q||!z((function(C){B.all(C).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(C,E,I){"use strict";var Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(C){var E={item:C,next:null},I=this.tail;I?I.next=E:this.head=E,this.tail=E},get:function(){var C=this.head;if(C)return null===(this.head=C.next)&&(this.tail=null),C.item}},E.exports=Queue},{}],329:[function(C,E,I){"use strict";var B=C("../internals/is-null-or-undefined"),z=TypeError;E.exports=function(C){if(B(C))throw new z("Can't call method on "+C);return C}},{"../internals/is-null-or-undefined":288}],330:[function(C,E,I){"use strict";var B=C("../internals/get-built-in"),z=C("../internals/define-built-in-accessor"),q=C("../internals/well-known-symbol"),Q=C("../internals/descriptors"),ee=q("species");E.exports=function(C){var E=B(C);Q&&E&&!E[ee]&&z(E,ee,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(C,E,I){"use strict";var B=C("../internals/object-define-property").f,z=C("../internals/has-own-property"),q=C("../internals/well-known-symbol")("toStringTag");E.exports=function(C,E,I){C&&!I&&(C=C.prototype),C&&!z(C,q)&&B(C,q,{configurable:!0,value:E})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(C,E,I){"use strict";var B=C("../internals/shared"),z=C("../internals/uid"),q=B("keys");E.exports=function(C){return q[C]||(q[C]=z(C))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/define-global-property"),q="__core-js_shared__",Q=B[q]||z(q,{});E.exports=Q},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(C,E,I){"use strict";var B=C("../internals/is-pure"),z=C("../internals/shared-store");(E.exports=function(C,E){return z[C]||(z[C]=void 0!==E?E:{})})("versions",[]).push({version:"3.33.0",mode:B?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(C,E,I){"use strict";var B=C("../internals/an-object"),z=C("../internals/a-constructor"),q=C("../internals/is-null-or-undefined"),Q=C("../internals/well-known-symbol")("species");E.exports=function(C,E){var I,ee=B(C).constructor;return void 0===ee||q(I=B(ee)[Q])?E:z(I)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(C,E,I){"use strict";var B=C("../internals/engine-v8-version"),z=C("../internals/fails"),q=C("../internals/global").String;E.exports=!!Object.getOwnPropertySymbols&&!z((function(){var C=Symbol("symbol detection");return!q(C)||!(Object(C)instanceof Symbol)||!Symbol.sham&&B&&B<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(C,E,I){"use strict";var B=C("../internals/function-call"),z=C("../internals/get-built-in"),q=C("../internals/well-known-symbol"),Q=C("../internals/define-built-in");E.exports=function(){var C=z("Symbol"),E=C&&C.prototype,I=E&&E.valueOf,ee=q("toPrimitive");E&&!E[ee]&&Q(E,ee,(function(C){return B(I,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(C,E,I){"use strict";var B=C("../internals/symbol-constructor-detection");E.exports=B&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(C,E,I){"use strict";var B,z,q,Q,ee=C("../internals/global"),te=C("../internals/function-apply"),ie=C("../internals/function-bind-context"),re=C("../internals/is-callable"),ne=C("../internals/has-own-property"),se=C("../internals/fails"),oe=C("../internals/html"),ae=C("../internals/array-slice"),le=C("../internals/document-create-element"),ue=C("../internals/validate-arguments-length"),de=C("../internals/engine-is-ios"),ce=C("../internals/engine-is-node"),he=ee.setImmediate,fe=ee.clearImmediate,pe=ee.process,me=ee.Dispatch,ge=ee.Function,ve=ee.MessageChannel,ye=ee.String,be=0,Ce={},we="onreadystatechange";se((function(){B=ee.location}));var run=function(C){if(ne(Ce,C)){var E=Ce[C];delete Ce[C],E()}},runner=function(C){return function(){run(C)}},eventListener=function(C){run(C.data)},globalPostMessageDefer=function(C){ee.postMessage(ye(C),B.protocol+"//"+B.host)};he&&fe||(he=function setImmediate(C){ue(arguments.length,1);var E=re(C)?C:ge(C),I=ae(arguments,1);return Ce[++be]=function(){te(E,void 0,I)},z(be),be},fe=function clearImmediate(C){delete Ce[C]},ce?z=function(C){pe.nextTick(runner(C))}:me&&me.now?z=function(C){me.now(runner(C))}:ve&&!de?(Q=(q=new ve).port2,q.port1.onmessage=eventListener,z=ie(Q.postMessage,Q)):ee.addEventListener&&re(ee.postMessage)&&!ee.importScripts&&B&&"file:"!==B.protocol&&!se(globalPostMessageDefer)?(z=globalPostMessageDefer,ee.addEventListener("message",eventListener,!1)):z=we in le("script")?function(C){oe.appendChild(le("script"))[we]=function(){oe.removeChild(this),run(C)}}:function(C){setTimeout(runner(C),0)}),E.exports={set:he,clear:fe}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(C,E,I){"use strict";var B=C("../internals/to-integer-or-infinity"),z=Math.max,q=Math.min;E.exports=function(C,E){var I=B(C);return I<0?z(I+E,0):q(I,E)}},{"../internals/to-integer-or-infinity":342}],341:[function(C,E,I){"use strict";var B=C("../internals/indexed-object"),z=C("../internals/require-object-coercible");E.exports=function(C){return B(z(C))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(C,E,I){"use strict";var B=C("../internals/math-trunc");E.exports=function(C){var E=+C;return E!=E||0===E?0:B(E)}},{"../internals/math-trunc":301}],343:[function(C,E,I){"use strict";var B=C("../internals/to-integer-or-infinity"),z=Math.min;E.exports=function(C){return C>0?z(B(C),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(C,E,I){"use strict";var B=C("../internals/require-object-coercible"),z=Object;E.exports=function(C){return z(B(C))}},{"../internals/require-object-coercible":329}],345:[function(C,E,I){"use strict";var B=C("../internals/function-call"),z=C("../internals/is-object"),q=C("../internals/is-symbol"),Q=C("../internals/get-method"),ee=C("../internals/ordinary-to-primitive"),te=C("../internals/well-known-symbol"),ie=TypeError,re=te("toPrimitive");E.exports=function(C,E){if(!z(C)||q(C))return C;var I,te=Q(C,re);if(te){if(void 0===E&&(E="default"),I=B(te,C,E),!z(I)||q(I))return I;throw new ie("Can't convert object to primitive value")}return void 0===E&&(E="number"),ee(C,E)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(C,E,I){"use strict";var B=C("../internals/to-primitive"),z=C("../internals/is-symbol");E.exports=function(C){var E=B(C,"string");return z(E)?E:E+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(C,E,I){"use strict";var B={};B[C("../internals/well-known-symbol")("toStringTag")]="z",E.exports="[object z]"===String(B)},{"../internals/well-known-symbol":357}],348:[function(C,E,I){"use strict";var B=C("../internals/classof"),z=String;E.exports=function(C){if("Symbol"===B(C))throw new TypeError("Cannot convert a Symbol value to a string");return z(C)}},{"../internals/classof":236}],349:[function(C,E,I){"use strict";var B=String;E.exports=function(C){try{return B(C)}catch(C){return"Object"}}},{}],350:[function(C,E,I){"use strict";var B=C("../internals/function-uncurry-this"),z=0,q=Math.random(),Q=B(1..toString);E.exports=function(C){return"Symbol("+(void 0===C?"":C)+")_"+Q(++z+q,36)}},{"../internals/function-uncurry-this":268}],351:[function(C,E,I){"use strict";var B=C("../internals/symbol-constructor-detection");E.exports=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/symbol-constructor-detection":336}],352:[function(C,E,I){"use strict";var B=C("../internals/descriptors"),z=C("../internals/fails");E.exports=B&&z((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(C,E,I){"use strict";var B=TypeError;E.exports=function(C,E){if(C<E)throw new B("Not enough arguments");return C}},{}],354:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/is-callable"),q=B.WeakMap;E.exports=z(q)&&/native code/.test(String(q))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(C,E,I){"use strict";var B=C("../internals/path"),z=C("../internals/has-own-property"),q=C("../internals/well-known-symbol-wrapped"),Q=C("../internals/object-define-property").f;E.exports=function(C){var E=B.Symbol||(B.Symbol={});z(E,C)||Q(E,C,{value:q.f(C)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(C,E,I){"use strict";var B=C("../internals/well-known-symbol");I.f=B},{"../internals/well-known-symbol":357}],357:[function(C,E,I){"use strict";var B=C("../internals/global"),z=C("../internals/shared"),q=C("../internals/has-own-property"),Q=C("../internals/uid"),ee=C("../internals/symbol-constructor-detection"),te=C("../internals/use-symbol-as-uid"),ie=B.Symbol,re=z("wks"),ne=te?ie.for||ie:ie&&ie.withoutSetter||Q;E.exports=function(C){return q(re,C)||(re[C]=ee&&q(ie,C)?ie[C]:ne("Symbol."+C)),re[C]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/array-iteration").findIndex,q=C("../internals/add-to-unscopables"),Q="findIndex",ee=!0;Q in[]&&Array(1)[Q]((function(){ee=!1})),B({target:"Array",proto:!0,forced:ee},{findIndex:function findIndex(C){return z(this,C,arguments.length>1?arguments[1]:void 0)}}),q(Q)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/array-iteration").find,q=C("../internals/add-to-unscopables"),Q="find",ee=!0;Q in[]&&Array(1)[Q]((function(){ee=!1})),B({target:"Array",proto:!0,forced:ee},{find:function find(C){return z(this,C,arguments.length>1?arguments[1]:void 0)}}),q(Q)},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/array-includes").includes,q=C("../internals/fails"),Q=C("../internals/add-to-unscopables");B({target:"Array",proto:!0,forced:q((function(){return!Array(1).includes()}))},{includes:function includes(C){return z(this,C,arguments.length>1?arguments[1]:void 0)}}),Q("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(C,E,I){"use strict";var B=C("../internals/to-indexed-object"),z=C("../internals/add-to-unscopables"),q=C("../internals/iterators"),Q=C("../internals/internal-state"),ee=C("../internals/object-define-property").f,te=C("../internals/iterator-define"),ie=C("../internals/create-iter-result-object"),re=C("../internals/is-pure"),ne=C("../internals/descriptors"),se="Array Iterator",oe=Q.set,ae=Q.getterFor(se);E.exports=te(Array,"Array",(function(C,E){oe(this,{type:se,target:B(C),index:0,kind:E})}),(function(){var C=ae(this),E=C.target,I=C.kind,B=C.index++;if(!E||B>=E.length)return C.target=void 0,ie(void 0,!0);switch(I){case"keys":return ie(B,!1);case"values":return ie(E[B],!1)}return ie([B,E[B]],!1)}),"values");var le=q.Arguments=q.Array;if(z("keys"),z("values"),z("entries"),!re&&ne&&"values"!==le.name)try{ee(le,"name",{value:"values"})}catch(C){}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/get-built-in"),q=C("../internals/function-apply"),Q=C("../internals/function-call"),ee=C("../internals/function-uncurry-this"),te=C("../internals/fails"),ie=C("../internals/is-callable"),re=C("../internals/is-symbol"),ne=C("../internals/array-slice"),se=C("../internals/get-json-replacer-function"),oe=C("../internals/symbol-constructor-detection"),ae=String,le=z("JSON","stringify"),ue=ee(/./.exec),de=ee("".charAt),ce=ee("".charCodeAt),he=ee("".replace),fe=ee(1..toString),pe=/[\uD800-\uDFFF]/g,me=/^[\uD800-\uDBFF]$/,ge=/^[\uDC00-\uDFFF]$/,ve=!oe||te((function(){var C=z("Symbol")("stringify detection");return"[null]"!==le([C])||"{}"!==le({a:C})||"{}"!==le(Object(C))})),ye=te((function(){return'"\\udf06\\ud834"'!==le("\udf06\ud834")||'"\\udead"'!==le("\udead")})),stringifyWithSymbolsFix=function(C,E){var I=ne(arguments),B=se(E);if(ie(B)||void 0!==C&&!re(C))return I[1]=function(C,E){if(ie(B)&&(E=Q(B,this,ae(C),E)),!re(E))return E},q(le,null,I)},fixIllFormed=function(C,E,I){var B=de(I,E-1),z=de(I,E+1);return ue(me,C)&&!ue(ge,z)||ue(ge,C)&&!ue(me,B)?"\\u"+fe(ce(C,0),16):C};le&&B({target:"JSON",stat:!0,arity:3,forced:ve||ye},{stringify:function stringify(C,E,I){var B=ne(arguments),z=q(ve?stringifyWithSymbolsFix:le,null,B);return ye&&"string"==typeof z?he(z,pe,fixIllFormed):z}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(C,E,I){"use strict";C("../internals/export")({target:"Number",stat:!0},{isNaN:function isNaN(C){return C!=C}})},{"../internals/export":259}],364:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/object-assign");B({target:"Object",stat:!0,arity:2,forced:Object.assign!==z},{assign:z})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/symbol-constructor-detection"),q=C("../internals/fails"),Q=C("../internals/object-get-own-property-symbols"),ee=C("../internals/to-object");B({target:"Object",stat:!0,forced:!z||q((function(){Q.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(C){var E=Q.f;return E?E(ee(C)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/to-object"),q=C("../internals/object-keys");B({target:"Object",stat:!0,forced:C("../internals/fails")((function(){q(1)}))},{keys:function keys(C){return q(z(C))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/object-to-array").values;B({target:"Object",stat:!0},{values:function values(C){return z(C)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/function-call"),q=C("../internals/a-callable"),Q=C("../internals/new-promise-capability"),ee=C("../internals/perform"),te=C("../internals/iterate");B({target:"Promise",stat:!0,forced:C("../internals/promise-statics-incorrect-iteration")},{all:function all(C){var E=this,I=Q.f(E),B=I.resolve,ie=I.reject,re=ee((function(){var I=q(E.resolve),Q=[],ee=0,re=1;te(C,(function(C){var q=ee++,te=!1;re++,z(I,E,C).then((function(C){te||(te=!0,Q[q]=C,--re||B(Q))}),ie)})),--re||B(Q)}));return re.error&&ie(re.value),I.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/is-pure"),q=C("../internals/promise-constructor-detection").CONSTRUCTOR,Q=C("../internals/promise-native-constructor"),ee=C("../internals/get-built-in"),te=C("../internals/is-callable"),ie=C("../internals/define-built-in"),re=Q&&Q.prototype;if(B({target:"Promise",proto:!0,forced:q,real:!0},{catch:function(C){return this.then(void 0,C)}}),!z&&te(Q)){var ne=ee("Promise").prototype.catch;re.catch!==ne&&ie(re,"catch",ne,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(C,E,I){"use strict";var B,z,q,Q,ee=C("../internals/export"),te=C("../internals/is-pure"),ie=C("../internals/engine-is-node"),re=C("../internals/global"),ne=C("../internals/function-call"),se=C("../internals/define-built-in"),oe=C("../internals/object-set-prototype-of"),ae=C("../internals/set-to-string-tag"),le=C("../internals/set-species"),ue=C("../internals/a-callable"),de=C("../internals/is-callable"),ce=C("../internals/is-object"),he=C("../internals/an-instance"),fe=C("../internals/species-constructor"),pe=C("../internals/task").set,me=C("../internals/microtask"),ge=C("../internals/host-report-errors"),ve=C("../internals/perform"),ye=C("../internals/queue"),be=C("../internals/internal-state"),Ce=C("../internals/promise-native-constructor"),we=C("../internals/promise-constructor-detection"),_e=C("../internals/new-promise-capability"),Se="Promise",xe=we.CONSTRUCTOR,ke=we.REJECTION_EVENT,Te=we.SUBCLASSING,Me=be.getterFor(Se),Re=be.set,Ee=Ce&&Ce.prototype,Pe=Ce,Ie=Ee,Ae=re.TypeError,Ne=re.document,De=re.process,Be=_e.f,Fe=Be,Oe=!!(Ne&&Ne.createEvent&&re.dispatchEvent),Le="unhandledrejection",$e="rejectionhandled",je=0,Ve=1,He=2,Ge=1,Ue=2,isThenable=function(C){var E;return!(!ce(C)||!de(E=C.then))&&E},callReaction=function(C,E){var I,B,z,q=E.value,Q=E.state===Ve,ee=Q?C.ok:C.fail,te=C.resolve,ie=C.reject,re=C.domain;try{ee?(Q||(E.rejection===Ue&&onHandleUnhandled(E),E.rejection=Ge),!0===ee?I=q:(re&&re.enter(),I=ee(q),re&&(re.exit(),z=!0)),I===C.promise?ie(new Ae("Promise-chain cycle")):(B=isThenable(I))?ne(B,I,te,ie):te(I)):ie(q)}catch(C){re&&!z&&re.exit(),ie(C)}},notify=function(C,E){C.notified||(C.notified=!0,me((function(){for(var I,B=C.reactions;I=B.get();)callReaction(I,C);C.notified=!1,E&&!C.rejection&&onUnhandled(C)})))},dispatchEvent=function(C,E,I){var B,z;Oe?((B=Ne.createEvent("Event")).promise=E,B.reason=I,B.initEvent(C,!1,!0),re.dispatchEvent(B)):B={promise:E,reason:I},!ke&&(z=re["on"+C])?z(B):C===Le&&ge("Unhandled promise rejection",I)},onUnhandled=function(C){ne(pe,re,(function(){var E,I=C.facade,B=C.value;if(isUnhandled(C)&&(E=ve((function(){ie?De.emit("unhandledRejection",B,I):dispatchEvent(Le,I,B)})),C.rejection=ie||isUnhandled(C)?Ue:Ge,E.error))throw E.value}))},isUnhandled=function(C){return C.rejection!==Ge&&!C.parent},onHandleUnhandled=function(C){ne(pe,re,(function(){var E=C.facade;ie?De.emit("rejectionHandled",E):dispatchEvent($e,E,C.value)}))},bind=function(C,E,I){return function(B){C(E,B,I)}},internalReject=function(C,E,I){C.done||(C.done=!0,I&&(C=I),C.value=E,C.state=He,notify(C,!0))},internalResolve=function(C,E,I){if(!C.done){C.done=!0,I&&(C=I);try{if(C.facade===E)throw new Ae("Promise can't be resolved itself");var B=isThenable(E);B?me((function(){var I={done:!1};try{ne(B,E,bind(internalResolve,I,C),bind(internalReject,I,C))}catch(E){internalReject(I,E,C)}})):(C.value=E,C.state=Ve,notify(C,!1))}catch(E){internalReject({done:!1},E,C)}}};if(xe&&(Ie=(Pe=function Promise(C){he(this,Ie),ue(C),ne(B,this);var E=Me(this);try{C(bind(internalResolve,E),bind(internalReject,E))}catch(C){internalReject(E,C)}}).prototype,(B=function Promise(C){Re(this,{type:Se,done:!1,notified:!1,parent:!1,reactions:new ye,rejection:!1,state:je,value:void 0})}).prototype=se(Ie,"then",(function then(C,E){var I=Me(this),B=Be(fe(this,Pe));return I.parent=!0,B.ok=!de(C)||C,B.fail=de(E)&&E,B.domain=ie?De.domain:void 0,I.state===je?I.reactions.add(B):me((function(){callReaction(B,I)})),B.promise})),z=function(){var C=new B,E=Me(C);this.promise=C,this.resolve=bind(internalResolve,E),this.reject=bind(internalReject,E)},_e.f=Be=function(C){return C===Pe||C===q?new z(C):Fe(C)},!te&&de(Ce)&&Ee!==Object.prototype)){Q=Ee.then,Te||se(Ee,"then",(function then(C,E){var I=this;return new Pe((function(C,E){ne(Q,I,C,E)})).then(C,E)}),{unsafe:!0});try{delete Ee.constructor}catch(C){}oe&&oe(Ee,Ie)}ee({global:!0,constructor:!0,wrap:!0,forced:xe},{Promise:Pe}),ae(Pe,Se,!1,!0),le(Se)},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/is-pure"),q=C("../internals/promise-native-constructor"),Q=C("../internals/fails"),ee=C("../internals/get-built-in"),te=C("../internals/is-callable"),ie=C("../internals/species-constructor"),re=C("../internals/promise-resolve"),ne=C("../internals/define-built-in"),se=q&&q.prototype;if(B({target:"Promise",proto:!0,real:!0,forced:!!q&&Q((function(){se.finally.call({then:function(){}},(function(){}))}))},{finally:function(C){var E=ie(this,ee("Promise")),I=te(C);return this.then(I?function(I){return re(E,C()).then((function(){return I}))}:C,I?function(I){return re(E,C()).then((function(){throw I}))}:C)}}),!z&&te(q)){var oe=ee("Promise").prototype.finally;se.finally!==oe&&ne(se,"finally",oe,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(C,E,I){"use strict";C("../modules/es.promise.constructor"),C("../modules/es.promise.all"),C("../modules/es.promise.catch"),C("../modules/es.promise.race"),C("../modules/es.promise.reject"),C("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/function-call"),q=C("../internals/a-callable"),Q=C("../internals/new-promise-capability"),ee=C("../internals/perform"),te=C("../internals/iterate");B({target:"Promise",stat:!0,forced:C("../internals/promise-statics-incorrect-iteration")},{race:function race(C){var E=this,I=Q.f(E),B=I.reject,ie=ee((function(){var Q=q(E.resolve);te(C,(function(C){z(Q,E,C).then(I.resolve,B)}))}));return ie.error&&B(ie.value),I.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/function-call"),q=C("../internals/new-promise-capability");B({target:"Promise",stat:!0,forced:C("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function reject(C){var E=q.f(this);return z(E.reject,void 0,C),E.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/get-built-in"),q=C("../internals/is-pure"),Q=C("../internals/promise-native-constructor"),ee=C("../internals/promise-constructor-detection").CONSTRUCTOR,te=C("../internals/promise-resolve"),ie=z("Promise"),re=q&&!ee;B({target:"Promise",stat:!0,forced:q||ee},{resolve:function resolve(C){return te(re&&this===ie?Q:this,C)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/function-uncurry-this"),q=C("../internals/to-absolute-index"),Q=RangeError,ee=String.fromCharCode,te=String.fromCodePoint,ie=z([].join);B({target:"String",stat:!0,arity:1,forced:!!te&&1!==te.length},{fromCodePoint:function fromCodePoint(C){for(var E,I=[],B=arguments.length,z=0;B>z;){if(E=+arguments[z++],q(E,1114111)!==E)throw new Q(E+" is not a valid code point");I[z]=E<65536?ee(E):ee(55296+((E-=65536)>>10),E%1024+56320)}return ie(I,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/function-uncurry-this"),q=C("../internals/not-a-regexp"),Q=C("../internals/require-object-coercible"),ee=C("../internals/to-string"),te=C("../internals/correct-is-regexp-logic"),ie=z("".indexOf);B({target:"String",proto:!0,forced:!te("includes")},{includes:function includes(C){return!!~ie(ee(Q(this)),ee(q(C)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(C,E,I){"use strict";C("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/global"),q=C("../internals/function-call"),Q=C("../internals/function-uncurry-this"),ee=C("../internals/is-pure"),te=C("../internals/descriptors"),ie=C("../internals/symbol-constructor-detection"),re=C("../internals/fails"),ne=C("../internals/has-own-property"),se=C("../internals/object-is-prototype-of"),oe=C("../internals/an-object"),ae=C("../internals/to-indexed-object"),le=C("../internals/to-property-key"),ue=C("../internals/to-string"),de=C("../internals/create-property-descriptor"),ce=C("../internals/object-create"),he=C("../internals/object-keys"),fe=C("../internals/object-get-own-property-names"),pe=C("../internals/object-get-own-property-names-external"),me=C("../internals/object-get-own-property-symbols"),ge=C("../internals/object-get-own-property-descriptor"),ve=C("../internals/object-define-property"),ye=C("../internals/object-define-properties"),be=C("../internals/object-property-is-enumerable"),Ce=C("../internals/define-built-in"),we=C("../internals/define-built-in-accessor"),_e=C("../internals/shared"),Se=C("../internals/shared-key"),xe=C("../internals/hidden-keys"),ke=C("../internals/uid"),Te=C("../internals/well-known-symbol"),Me=C("../internals/well-known-symbol-wrapped"),Re=C("../internals/well-known-symbol-define"),Ee=C("../internals/symbol-define-to-primitive"),Pe=C("../internals/set-to-string-tag"),Ie=C("../internals/internal-state"),Ae=C("../internals/array-iteration").forEach,Ne=Se("hidden"),De="Symbol",Be="prototype",Fe=Ie.set,Oe=Ie.getterFor(De),Le=Object[Be],$e=z.Symbol,je=$e&&$e[Be],Ve=z.RangeError,He=z.TypeError,Ge=z.QObject,Ue=ge.f,ze=ve.f,qe=pe.f,We=be.f,Ke=Q([].push),Xe=_e("symbols"),Je=_e("op-symbols"),Ye=_e("wks"),Ze=!Ge||!Ge[Be]||!Ge[Be].findChild,fallbackDefineProperty=function(C,E,I){var B=Ue(Le,E);B&&delete Le[E],ze(C,E,I),B&&C!==Le&&ze(Le,E,B)},Qe=te&&re((function(){return 7!==ce(ze({},"a",{get:function(){return ze(this,"a",{value:7}).a}})).a}))?fallbackDefineProperty:ze,wrap=function(C,E){var I=Xe[C]=ce(je);return Fe(I,{type:De,tag:C,description:E}),te||(I.description=E),I},et=function defineProperty(C,E,I){C===Le&&et(Je,E,I),oe(C);var B=le(E);return oe(I),ne(Xe,B)?(I.enumerable?(ne(C,Ne)&&C[Ne][B]&&(C[Ne][B]=!1),I=ce(I,{enumerable:de(0,!1)})):(ne(C,Ne)||ze(C,Ne,de(1,{})),C[Ne][B]=!0),Qe(C,B,I)):ze(C,B,I)},tt=function defineProperties(C,E){oe(C);var I=ae(E),B=he(I).concat($getOwnPropertySymbols(I));return Ae(B,(function(E){te&&!q(rt,I,E)||et(C,E,I[E])})),C},it=function create(C,E){return void 0===E?ce(C):tt(ce(C),E)},rt=function propertyIsEnumerable(C){var E=le(C),I=q(We,this,E);return!(this===Le&&ne(Xe,E)&&!ne(Je,E))&&(!(I||!ne(this,E)||!ne(Xe,E)||ne(this,Ne)&&this[Ne][E])||I)},nt=function getOwnPropertyDescriptor(C,E){var I=ae(C),B=le(E);if(I!==Le||!ne(Xe,B)||ne(Je,B)){var z=Ue(I,B);return!z||!ne(Xe,B)||ne(I,Ne)&&I[Ne][B]||(z.enumerable=!0),z}},st=function getOwnPropertyNames(C){var E=qe(ae(C)),I=[];return Ae(E,(function(C){ne(Xe,C)||ne(xe,C)||Ke(I,C)})),I},$getOwnPropertySymbols=function(C){var E=C===Le,I=qe(E?Je:ae(C)),B=[];return Ae(I,(function(C){!ne(Xe,C)||E&&!ne(Le,C)||Ke(B,Xe[C])})),B};ie||($e=function Symbol(){if(se(je,this))throw new He("Symbol is not a constructor");var C=arguments.length&&void 0!==arguments[0]?ue(arguments[0]):void 0,E=ke(C),setter=function(C){this===Le&&q(setter,Je,C),ne(this,Ne)&&ne(this[Ne],E)&&(this[Ne][E]=!1);var I=de(1,C);try{Qe(this,E,I)}catch(C){if(!(C instanceof Ve))throw C;fallbackDefineProperty(this,E,I)}};return te&&Ze&&Qe(Le,E,{configurable:!0,set:setter}),wrap(E,C)},Ce(je=$e[Be],"toString",(function toString(){return Oe(this).tag})),Ce($e,"withoutSetter",(function(C){return wrap(ke(C),C)})),be.f=rt,ve.f=et,ye.f=tt,ge.f=nt,fe.f=pe.f=st,me.f=$getOwnPropertySymbols,Me.f=function(C){return wrap(Te(C),C)},te&&(we(je,"description",{configurable:!0,get:function description(){return Oe(this).description}}),ee||Ce(Le,"propertyIsEnumerable",rt,{unsafe:!0}))),B({global:!0,constructor:!0,wrap:!0,forced:!ie,sham:!ie},{Symbol:$e}),Ae(he(Ye),(function(C){Re(C)})),B({target:De,stat:!0,forced:!ie},{useSetter:function(){Ze=!0},useSimple:function(){Ze=!1}}),B({target:"Object",stat:!0,forced:!ie,sham:!te},{create:it,defineProperty:et,defineProperties:tt,getOwnPropertyDescriptor:nt}),B({target:"Object",stat:!0,forced:!ie},{getOwnPropertyNames:st}),Ee(),Pe($e,De),xe[Ne]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/get-built-in"),q=C("../internals/has-own-property"),Q=C("../internals/to-string"),ee=C("../internals/shared"),te=C("../internals/symbol-registry-detection"),ie=ee("string-to-symbol-registry"),re=ee("symbol-to-string-registry");B({target:"Symbol",stat:!0,forced:!te},{for:function(C){var E=Q(C);if(q(ie,E))return ie[E];var I=z("Symbol")(E);return ie[E]=I,re[I]=E,I}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(C,E,I){"use strict";C("../modules/es.symbol.constructor"),C("../modules/es.symbol.for"),C("../modules/es.symbol.key-for"),C("../modules/es.json.stringify"),C("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(C,E,I){"use strict";var B=C("../internals/export"),z=C("../internals/has-own-property"),q=C("../internals/is-symbol"),Q=C("../internals/try-to-string"),ee=C("../internals/shared"),te=C("../internals/symbol-registry-detection"),ie=ee("symbol-to-string-registry");B({target:"Symbol",stat:!0,forced:!te},{keyFor:function keyFor(C){if(!q(C))throw new TypeError(Q(C)+" is not a symbol");if(z(ie,C))return ie[C]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(C,E,I){"use strict";function isArray(C){return Array.isArray?Array.isArray(C):"[object Array]"===objectToString(C)}function isBoolean(C){return"boolean"==typeof C}function isNull(C){return null===C}function isNullOrUndefined(C){return null==C}function isNumber(C){return"number"==typeof C}function isString(C){return"string"==typeof C}function isSymbol(C){return"symbol"==typeof C}function isUndefined(C){return void 0===C}function isRegExp(C){return"[object RegExp]"===objectToString(C)}function isObject(C){return"object"==typeof C&&null!==C}function isDate(C){return"[object Date]"===objectToString(C)}function isError(C){return"[object Error]"===objectToString(C)||C instanceof Error}function isFunction(C){return"function"==typeof C}function isPrimitive(C){return null===C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||"symbol"==typeof C||void 0===C}function objectToString(C){return Object.prototype.toString.call(C)}I.isArray=isArray,I.isBoolean=isBoolean,I.isNull=isNull,I.isNullOrUndefined=isNullOrUndefined,I.isNumber=isNumber,I.isString=isString,I.isSymbol=isSymbol,I.isUndefined=isUndefined,I.isRegExp=isRegExp,I.isObject=isObject,I.isDate=isDate,I.isError=isError,I.isFunction=isFunction,I.isPrimitive=isPrimitive,I.isBuffer=C("buffer").Buffer.isBuffer},{buffer:220}],384:[function(C,E,I){(function(I){(function(){"use strict";var B=C("elliptic"),z=C("bn.js");E.exports=function createECDH(C){return new ECDH(C)};var q={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function ECDH(C){this.curveType=q[C],this.curveType||(this.curveType={name:C}),this.curve=new B.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(C,E,B){Array.isArray(C)||(C=C.toArray());var z=new I(C);if(B&&z.length<B){var q=new I(B-z.length);q.fill(0),z=I.concat([q,z])}return E?z.toString(E):z}q.p224=q.secp224r1,q.p256=q.secp256r1=q.prime256v1,q.p192=q.secp192r1=q.prime192v1,q.p384=q.secp384r1,q.p521=q.secp521r1,ECDH.prototype.generateKeys=function(C,E){return this.keys=this.curve.genKeyPair(),this.getPublicKey(C,E)},ECDH.prototype.computeSecret=function(C,E,B){return E=E||"utf8",I.isBuffer(C)||(C=new I(C,E)),formatReturnValue(this.curve.keyFromPublic(C).getPublic().mul(this.keys.getPrivate()).getX(),B,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(C,E){var I=this.keys.getPublic("compressed"===E,!0);return"hybrid"===E&&(I[I.length-1]%2?I[0]=7:I[0]=6),formatReturnValue(I,C)},ECDH.prototype.getPrivateKey=function(C){return formatReturnValue(this.keys.getPrivate(),C)},ECDH.prototype.setPublicKey=function(C,E){return E=E||"utf8",I.isBuffer(C)||(C=new I(C,E)),this.keys._importPublic(C),this},ECDH.prototype.setPrivateKey=function(C,E){E=E||"utf8",I.isBuffer(C)||(C=new I(C,E));var B=new z(C);return B=B.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(B),this}}).call(this)}).call(this,C("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(C,E,I){arguments[4][184][0].apply(I,arguments)},{buffer:188,dup:184}],386:[function(C,E,I){"use strict";var B=C("inherits"),z=C("md5.js"),q=C("ripemd160"),Q=C("sha.js"),ee=C("cipher-base");function Hash(C){ee.call(this,"digest"),this._hash=C}B(Hash,ee),Hash.prototype._update=function(C){this._hash.update(C)},Hash.prototype._final=function(){return this._hash.digest()},E.exports=function createHash(C){return"md5"===(C=C.toLowerCase())?new z:"rmd160"===C||"ripemd160"===C?new q:new Hash(Q(C))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(C,E,I){"use strict";var B=C("md5.js");E.exports=function(C){return(new B).update(C).digest()}},{"md5.js":450}],388:[function(C,E,I){"use strict";var B=C("inherits"),z=C("./legacy"),q=C("cipher-base"),Q=C("safe-buffer").Buffer,ee=C("create-hash/md5"),te=C("ripemd160"),ie=C("sha.js"),re=Q.alloc(128);function Hmac(C,E){q.call(this,"digest"),"string"==typeof E&&(E=Q.from(E));var I="sha512"===C||"sha384"===C?128:64;this._alg=C,this._key=E,E.length>I?E=("rmd160"===C?new te:ie(C)).update(E).digest():E.length<I&&(E=Q.concat([E,re],I));for(var B=this._ipad=Q.allocUnsafe(I),z=this._opad=Q.allocUnsafe(I),ee=0;ee<I;ee++)B[ee]=54^E[ee],z[ee]=92^E[ee];this._hash="rmd160"===C?new te:ie(C),this._hash.update(B)}B(Hmac,q),Hmac.prototype._update=function(C){this._hash.update(C)},Hmac.prototype._final=function(){var C=this._hash.digest();return("rmd160"===this._alg?new te:ie(this._alg)).update(this._opad).update(C).digest()},E.exports=function createHmac(C,E){return"rmd160"===(C=C.toLowerCase())||"ripemd160"===C?new Hmac("rmd160",E):"md5"===C?new z(ee,E):new Hmac(C,E)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(C,E,I){"use strict";var B=C("inherits"),z=C("safe-buffer").Buffer,q=C("cipher-base"),Q=z.alloc(128),ee=64;function Hmac(C,E){q.call(this,"digest"),"string"==typeof E&&(E=z.from(E)),this._alg=C,this._key=E,E.length>ee?E=C(E):E.length<ee&&(E=z.concat([E,Q],ee));for(var I=this._ipad=z.allocUnsafe(ee),B=this._opad=z.allocUnsafe(ee),te=0;te<ee;te++)I[te]=54^E[te],B[te]=92^E[te];this._hash=[I]}B(Hmac,q),Hmac.prototype._update=function(C){this._hash.push(C)},Hmac.prototype._final=function(){var C=this._alg(z.concat(this._hash));return this._alg(z.concat([this._opad,C]))},E.exports=Hmac},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(C,E,I){"use strict";I.randomBytes=I.rng=I.pseudoRandomBytes=I.prng=C("randombytes"),I.createHash=I.Hash=C("create-hash"),I.createHmac=I.Hmac=C("create-hmac");var B=C("browserify-sign/algos"),z=Object.keys(B),q=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(z);I.getHashes=function(){return q};var Q=C("pbkdf2");I.pbkdf2=Q.pbkdf2,I.pbkdf2Sync=Q.pbkdf2Sync;var ee=C("browserify-cipher");I.Cipher=ee.Cipher,I.createCipher=ee.createCipher,I.Cipheriv=ee.Cipheriv,I.createCipheriv=ee.createCipheriv,I.Decipher=ee.Decipher,I.createDecipher=ee.createDecipher,I.Decipheriv=ee.Decipheriv,I.createDecipheriv=ee.createDecipheriv,I.getCiphers=ee.getCiphers,I.listCiphers=ee.listCiphers;var te=C("diffie-hellman");I.DiffieHellmanGroup=te.DiffieHellmanGroup,I.createDiffieHellmanGroup=te.createDiffieHellmanGroup,I.getDiffieHellman=te.getDiffieHellman,I.createDiffieHellman=te.createDiffieHellman,I.DiffieHellman=te.DiffieHellman;var ie=C("browserify-sign");I.createSign=ie.createSign,I.Sign=ie.Sign,I.createVerify=ie.createVerify,I.Verify=ie.Verify,I.createECDH=C("create-ecdh");var re=C("public-encrypt");I.publicEncrypt=re.publicEncrypt,I.privateEncrypt=re.privateEncrypt,I.publicDecrypt=re.publicDecrypt,I.privateDecrypt=re.privateDecrypt;var ne=C("randomfill");I.randomFill=ne.randomFill,I.randomFillSync=ne.randomFillSync,I.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},I.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(E,I,B){"use strict";var z,q;z=void 0,q=function(){var C=1e3,E=6e4,I=36e5,B="millisecond",z="second",q="minute",Q="hour",ee="day",te="week",ie="month",re="quarter",ne="year",se="date",oe="Invalid Date",ae=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,le=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ue={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var E=["th","st","nd","rd"],I=C%100;return"["+C+(E[(I-20)%10]||E[I]||E[0])+"]"}},m=function(C,E,I){var B=String(C);return!B||B.length>=E?C:""+Array(E+1-B.length).join(I)+C},de={s:m,z:function(C){var E=-C.utcOffset(),I=Math.abs(E),B=Math.floor(I/60),z=I%60;return(E<=0?"+":"-")+m(B,2,"0")+":"+m(z,2,"0")},m:function t(C,E){if(C.date()<E.date())return-t(E,C);var I=12*(E.year()-C.year())+(E.month()-C.month()),B=C.clone().add(I,ie),z=E-B<0,q=C.clone().add(I+(z?-1:1),ie);return+(-(I+(E-B)/(z?B-q:q-B))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:ie,y:ne,w:te,d:ee,D:se,h:Q,m:q,s:z,ms:B,Q:re}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return void 0===C}},ce="en",he={};he[ce]=ue;var fe="$isDayjsObject",S=function(C){return C instanceof ge||!(!C||!C[fe])},pe=function t(C,E,I){var B;if(!C)return ce;if("string"==typeof C){var z=C.toLowerCase();he[z]&&(B=z),E&&(he[z]=E,B=z);var q=C.split("-");if(!B&&q.length>1)return t(q[0])}else{var Q=C.name;he[Q]=C,B=Q}return!I&&B&&(ce=B),B||!I&&ce},O=function(C,E){if(S(C))return C.clone();var I="object"==typeof E?E:{};return I.date=C,I.args=arguments,new ge(I)},me=de;me.l=pe,me.i=S,me.w=function(C,E){return O(C,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var ge=function(){function M(C){this.$L=pe(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[fe]=!0}var ue=M.prototype;return ue.parse=function(C){this.$d=function(C){var E=C.date,I=C.utc;if(null===E)return new Date(NaN);if(me.u(E))return new Date;if(E instanceof Date)return new Date(E);if("string"==typeof E&&!/Z$/i.test(E)){var B=E.match(ae);if(B){var z=B[2]-1||0,q=(B[7]||"0").substring(0,3);return I?new Date(Date.UTC(B[1],z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,q)):new Date(B[1],z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,q)}}return new Date(E)}(C),this.init()},ue.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},ue.$utils=function(){return me},ue.isValid=function(){return!(this.$d.toString()===oe)},ue.isSame=function(C,E){var I=O(C);return this.startOf(E)<=I&&I<=this.endOf(E)},ue.isAfter=function(C,E){return O(C)<this.startOf(E)},ue.isBefore=function(C,E){return this.endOf(E)<O(C)},ue.$g=function(C,E,I){return me.u(C)?this[E]:this.set(I,C)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(C,E){var I=this,B=!!me.u(E)||E,re=me.p(C),l=function(C,E){var z=me.w(I.$u?Date.UTC(I.$y,E,C):new Date(I.$y,E,C),I);return B?z:z.endOf(ee)},$=function(C,E){return me.w(I.toDate()[C].apply(I.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(E)),I)},oe=this.$W,ae=this.$M,le=this.$D,ue="set"+(this.$u?"UTC":"");switch(re){case ne:return B?l(1,0):l(31,11);case ie:return B?l(1,ae):l(0,ae+1);case te:var de=this.$locale().weekStart||0,ce=(oe<de?oe+7:oe)-de;return l(B?le-ce:le+(6-ce),ae);case ee:case se:return $(ue+"Hours",0);case Q:return $(ue+"Minutes",1);case q:return $(ue+"Seconds",2);case z:return $(ue+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(C){return this.startOf(C,!1)},ue.$set=function(C,E){var I,te=me.p(C),re="set"+(this.$u?"UTC":""),oe=(I={},I[ee]=re+"Date",I[se]=re+"Date",I[ie]=re+"Month",I[ne]=re+"FullYear",I[Q]=re+"Hours",I[q]=re+"Minutes",I[z]=re+"Seconds",I[B]=re+"Milliseconds",I)[te],ae=te===ee?this.$D+(E-this.$W):E;if(te===ie||te===ne){var le=this.clone().set(se,1);le.$d[oe](ae),le.init(),this.$d=le.set(se,Math.min(this.$D,le.daysInMonth())).$d}else oe&&this.$d[oe](ae);return this.init(),this},ue.set=function(C,E){return this.clone().$set(C,E)},ue.get=function(C){return this[me.p(C)]()},ue.add=function(B,re){var se,oe=this;B=Number(B);var ae=me.p(re),y=function(C){var E=O(oe);return me.w(E.date(E.date()+Math.round(C*B)),oe)};if(ae===ie)return this.set(ie,this.$M+B);if(ae===ne)return this.set(ne,this.$y+B);if(ae===ee)return y(1);if(ae===te)return y(7);var le=(se={},se[q]=E,se[Q]=I,se[z]=C,se)[ae]||1,ue=this.$d.getTime()+B*le;return me.w(ue,this)},ue.subtract=function(C,E){return this.add(-1*C,E)},ue.format=function(C){var E=this,I=this.$locale();if(!this.isValid())return I.invalidDate||oe;var B=C||"YYYY-MM-DDTHH:mm:ssZ",z=me.z(this),q=this.$H,Q=this.$m,ee=this.$M,te=I.weekdays,ie=I.months,re=I.meridiem,h=function(C,I,z,q){return C&&(C[I]||C(E,B))||z[I].slice(0,q)},d=function(C){return me.s(q%12||12,C,"0")},ne=re||function(C,E,I){var B=C<12?"AM":"PM";return I?B.toLowerCase():B};return B.replace(le,(function(C,B){return B||function(C){switch(C){case"YY":return String(E.$y).slice(-2);case"YYYY":return me.s(E.$y,4,"0");case"M":return ee+1;case"MM":return me.s(ee+1,2,"0");case"MMM":return h(I.monthsShort,ee,ie,3);case"MMMM":return h(ie,ee);case"D":return E.$D;case"DD":return me.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return h(I.weekdaysMin,E.$W,te,2);case"ddd":return h(I.weekdaysShort,E.$W,te,3);case"dddd":return te[E.$W];case"H":return String(q);case"HH":return me.s(q,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return ne(q,Q,!0);case"A":return ne(q,Q,!1);case"m":return String(Q);case"mm":return me.s(Q,2,"0");case"s":return String(E.$s);case"ss":return me.s(E.$s,2,"0");case"SSS":return me.s(E.$ms,3,"0");case"Z":return z}return null}(C)||z.replace(":","")}))},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(B,se,oe){var ae,le=this,ue=me.p(se),de=O(B),ce=(de.utcOffset()-this.utcOffset())*E,he=this-de,D=function(){return me.m(le,de)};switch(ue){case ne:ae=D()/12;break;case ie:ae=D();break;case re:ae=D()/3;break;case te:ae=(he-ce)/6048e5;break;case ee:ae=(he-ce)/864e5;break;case Q:ae=he/I;break;case q:ae=he/E;break;case z:ae=he/C;break;default:ae=he}return oe?ae:me.a(ae)},ue.daysInMonth=function(){return this.endOf(ie).$D},ue.$locale=function(){return he[this.$L]},ue.locale=function(C,E){if(!C)return this.$L;var I=this.clone(),B=pe(C,E,!0);return B&&(I.$L=B),I},ue.clone=function(){return me.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},M}(),ve=ge.prototype;return O.prototype=ve,[["$ms",B],["$s",z],["$m",q],["$H",Q],["$W",ee],["$M",ie],["$y",ne],["$D",se]].forEach((function(C){ve[C[1]]=function(E){return this.$g(E,C[0],C[1])}})),O.extend=function(C,E){return C.$i||(C(E,ge,O),C.$i=!0),O},O.locale=pe,O.isDayjs=S,O.unix=function(C){return O(1e3*C)},O.en=he[ce],O.Ls=he,O.p={},O},"object"==typeof B&&void 0!==I?I.exports=q():"function"==typeof C&&C.amd?C(q):(z="undefined"!=typeof globalThis?globalThis:z||self).dayjs=q()},{}],392:[function(E,I,B){"use strict";var z,q;z=void 0,q=function(){var C={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},E=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,I=/\d\d/,B=/\d\d?/,z=/\d*[^-_:/,()\s\d]+/,q={},s=function(C){return(C=+C)+(C>68?1900:2e3)},a=function(C){return function(E){this[C]=+E}},Q=[/[+-]\d\d:?(\d\d)?|Z/,function(C){(this.zone||(this.zone={})).offset=function(C){if(!C)return 0;if("Z"===C)return 0;var E=C.match(/([+-]|\d\d)/g),I=60*E[1]+(+E[2]||0);return 0===I?0:"+"===E[0]?-I:I}(C)}],h=function(C){var E=q[C];return E&&(E.indexOf?E:E.s.concat(E.f))},u=function(C,E){var I,B=q.meridiem;if(B){for(var z=1;z<=24;z+=1)if(C.indexOf(B(z,0,E))>-1){I=z>12;break}}else I=C===(E?"pm":"PM");return I},ee={A:[z,function(C){this.afternoon=u(C,!1)}],a:[z,function(C){this.afternoon=u(C,!0)}],S:[/\d/,function(C){this.milliseconds=100*+C}],SS:[I,function(C){this.milliseconds=10*+C}],SSS:[/\d{3}/,function(C){this.milliseconds=+C}],s:[B,a("seconds")],ss:[B,a("seconds")],m:[B,a("minutes")],mm:[B,a("minutes")],H:[B,a("hours")],h:[B,a("hours")],HH:[B,a("hours")],hh:[B,a("hours")],D:[B,a("day")],DD:[I,a("day")],Do:[z,function(C){var E=q.ordinal,I=C.match(/\d+/);if(this.day=I[0],E)for(var B=1;B<=31;B+=1)E(B).replace(/\[|\]/g,"")===C&&(this.day=B)}],M:[B,a("month")],MM:[I,a("month")],MMM:[z,function(C){var E=h("months"),I=(h("monthsShort")||E.map((function(C){return C.slice(0,3)}))).indexOf(C)+1;if(I<1)throw new Error;this.month=I%12||I}],MMMM:[z,function(C){var E=h("months").indexOf(C)+1;if(E<1)throw new Error;this.month=E%12||E}],Y:[/[+-]?\d+/,a("year")],YY:[I,function(C){this.year=s(C)}],YYYY:[/\d{4}/,a("year")],Z:Q,ZZ:Q};function c(I){var B,z;B=I,z=q&&q.formats;for(var Q=(I=B.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(E,I,B){var q=B&&B.toUpperCase();return I||z[B]||C[B]||z[q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(C,E,I){return E||I.slice(1)}))}))).match(E),te=Q.length,ie=0;ie<te;ie+=1){var re=Q[ie],ne=ee[re],se=ne&&ne[0],oe=ne&&ne[1];Q[ie]=oe?{regex:se,parser:oe}:re.replace(/^\[|\]$/g,"")}return function(C){for(var E={},I=0,B=0;I<te;I+=1){var z=Q[I];if("string"==typeof z)B+=z.length;else{var q=z.regex,ee=z.parser,ie=C.slice(B),re=q.exec(ie)[0];ee.call(E,re),C=C.replace(re,"")}}return function(C){var E=C.afternoon;if(void 0!==E){var I=C.hours;E?I<12&&(C.hours+=12):12===I&&(C.hours=0),delete C.afternoon}}(E),E}}return function(C,E,I){I.p.customParseFormat=!0,C&&C.parseTwoDigitYear&&(s=C.parseTwoDigitYear);var B=E.prototype,z=B.parse;B.parse=function(C){var E=C.date,B=C.utc,Q=C.args;this.$u=B;var ee=Q[1];if("string"==typeof ee){var te=!0===Q[2],ie=!0===Q[3],re=te||ie,ne=Q[2];ie&&(ne=Q[2]),q=this.$locale(),!te&&ne&&(q=I.Ls[ne]),this.$d=function(C,E,I){try{if(["x","X"].indexOf(E)>-1)return new Date(("X"===E?1e3:1)*C);var B=c(E)(C),z=B.year,q=B.month,Q=B.day,ee=B.hours,te=B.minutes,ie=B.seconds,re=B.milliseconds,ne=B.zone,se=new Date,oe=Q||(z||q?1:se.getDate()),ae=z||se.getFullYear(),le=0;z&&!q||(le=q>0?q-1:se.getMonth());var ue=ee||0,de=te||0,ce=ie||0,he=re||0;return ne?new Date(Date.UTC(ae,le,oe,ue,de,ce,he+60*ne.offset*1e3)):I?new Date(Date.UTC(ae,le,oe,ue,de,ce,he)):new Date(ae,le,oe,ue,de,ce,he)}catch(C){return new Date("")}}(E,ee,B),this.init(),ne&&!0!==ne&&(this.$L=this.locale(ne).$L),re&&E!=this.format(ee)&&(this.$d=new Date("")),q={}}else if(ee instanceof Array)for(var se=ee.length,oe=1;oe<=se;oe+=1){Q[1]=ee[oe-1];var ae=I.apply(this,Q);if(ae.isValid()){this.$d=ae.$d,this.$L=ae.$L,this.init();break}oe===se&&(this.$d=new Date(""))}else z.call(this,C)}}},"object"==typeof B&&void 0!==I?I.exports=q():"function"==typeof C&&C.amd?C(q):(z="undefined"!=typeof globalThis?globalThis:z||self).dayjs_plugin_customParseFormat=q()},{}],393:[function(E,I,B){"use strict";var z,q;z=void 0,q=function(){var C="minute",E=/[+-]\d\d(?::?\d\d)?/g,I=/([+-]|\d\d)/g;return function(B,z,q){var Q=z.prototype;q.utc=function(C){return new z({date:C,utc:!0,args:arguments})},Q.utc=function(E){var I=q(this.toDate(),{locale:this.$L,utc:!0});return E?I.add(this.utcOffset(),C):I},Q.local=function(){return q(this.toDate(),{locale:this.$L,utc:!1})};var ee=Q.parse;Q.parse=function(C){C.utc&&(this.$u=!0),this.$utils().u(C.$offset)||(this.$offset=C.$offset),ee.call(this,C)};var te=Q.init;Q.init=function(){if(this.$u){var C=this.$d;this.$y=C.getUTCFullYear(),this.$M=C.getUTCMonth(),this.$D=C.getUTCDate(),this.$W=C.getUTCDay(),this.$H=C.getUTCHours(),this.$m=C.getUTCMinutes(),this.$s=C.getUTCSeconds(),this.$ms=C.getUTCMilliseconds()}else te.call(this)};var ie=Q.utcOffset;Q.utcOffset=function(B,z){var q=this.$utils().u;if(q(B))return this.$u?0:q(this.$offset)?ie.call(this):this.$offset;if("string"==typeof B&&(B=function(C){void 0===C&&(C="");var B=C.match(E);if(!B)return null;var z=(""+B[0]).match(I)||["-",0,0],q=z[0],Q=60*+z[1]+ +z[2];return 0===Q?0:"+"===q?Q:-Q}(B),null===B))return this;var Q=Math.abs(B)<=16?60*B:B,ee=this;if(z)return ee.$offset=Q,ee.$u=0===B,ee;if(0!==B){var te=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(ee=this.local().add(Q+te,C)).$offset=Q,ee.$x.$localOffset=te}else ee=this.utc();return ee};var re=Q.format;Q.format=function(C){var E=C||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return re.call(this,E)},Q.valueOf=function(){var C=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*C},Q.isUTC=function(){return!!this.$u},Q.toISOString=function(){return this.toDate().toISOString()},Q.toString=function(){return this.toDate().toUTCString()};var ne=Q.toDate;Q.toDate=function(C){return"s"===C&&this.$offset?q(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():ne.call(this)};var se=Q.diff;Q.diff=function(C,E,I){if(C&&this.$u===C.$u)return se.call(this,C,E,I);var B=this.local(),z=q(C).local();return se.call(B,z,E,I)}}},"object"==typeof B&&void 0!==I?I.exports=q():"function"==typeof C&&C.amd?C(q):(z="undefined"!=typeof globalThis?globalThis:z||self).dayjs_plugin_utc=q()},{}],394:[function(C,E,I){"use strict";I.utils=C("./des/utils"),I.Cipher=C("./des/cipher"),I.DES=C("./des/des"),I.CBC=C("./des/cbc"),I.EDE=C("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(C,E,I){"use strict";var B=C("minimalistic-assert"),z=C("inherits"),q={};function CBCState(C){B.equal(C.length,8,"Invalid IV length"),this.iv=new Array(8);for(var E=0;E<this.iv.length;E++)this.iv[E]=C[E]}function instantiate(C){function CBC(E){C.call(this,E),this._cbcInit()}z(CBC,C);for(var E=Object.keys(q),I=0;I<E.length;I++){var B=E[I];CBC.prototype[B]=q[B]}return CBC.create=function create(C){return new CBC(C)},CBC}I.instantiate=instantiate,q._cbcInit=function _cbcInit(){var C=new CBCState(this.options.iv);this._cbcState=C},q._update=function _update(C,E,I,B){var z=this._cbcState,q=this.constructor.super_.prototype,Q=z.iv;if("encrypt"===this.type){for(var ee=0;ee<this.blockSize;ee++)Q[ee]^=C[E+ee];for(q._update.call(this,Q,0,I,B),ee=0;ee<this.blockSize;ee++)Q[ee]=I[B+ee]}else{for(q._update.call(this,C,E,I,B),ee=0;ee<this.blockSize;ee++)I[B+ee]^=Q[ee];for(ee=0;ee<this.blockSize;ee++)Q[ee]=C[E+ee]}}},{inherits:440,"minimalistic-assert":453}],396:[function(C,E,I){"use strict";var B=C("minimalistic-assert");function Cipher(C){this.options=C,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==C.padding}E.exports=Cipher,Cipher.prototype._init=function _init(){},Cipher.prototype.update=function update(C){return 0===C.length?[]:"decrypt"===this.type?this._updateDecrypt(C):this._updateEncrypt(C)},Cipher.prototype._buffer=function _buffer(C,E){for(var I=Math.min(this.buffer.length-this.bufferOff,C.length-E),B=0;B<I;B++)this.buffer[this.bufferOff+B]=C[E+B];return this.bufferOff+=I,I},Cipher.prototype._flushBuffer=function _flushBuffer(C,E){return this._update(this.buffer,0,C,E),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function _updateEncrypt(C){var E=0,I=0,B=(this.bufferOff+C.length)/this.blockSize|0,z=new Array(B*this.blockSize);0!==this.bufferOff&&(E+=this._buffer(C,E),this.bufferOff===this.buffer.length&&(I+=this._flushBuffer(z,I)));for(var q=C.length-(C.length-E)%this.blockSize;E<q;E+=this.blockSize)this._update(C,E,z,I),I+=this.blockSize;for(;E<C.length;E++,this.bufferOff++)this.buffer[this.bufferOff]=C[E];return z},Cipher.prototype._updateDecrypt=function _updateDecrypt(C){for(var E=0,I=0,B=Math.ceil((this.bufferOff+C.length)/this.blockSize)-1,z=new Array(B*this.blockSize);B>0;B--)E+=this._buffer(C,E),I+=this._flushBuffer(z,I);return E+=this._buffer(C,E),z},Cipher.prototype.final=function final(C){var E,I;return C&&(E=this.update(C)),I="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),E?E.concat(I):I},Cipher.prototype._pad=function _pad(C,E){if(0===E)return!1;for(;E<C.length;)C[E++]=0;return!0},Cipher.prototype._finalEncrypt=function _finalEncrypt(){if(!this._pad(this.buffer,this.bufferOff))return[];var C=new Array(this.blockSize);return this._update(this.buffer,0,C,0),C},Cipher.prototype._unpad=function _unpad(C){return C},Cipher.prototype._finalDecrypt=function _finalDecrypt(){B.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var C=new Array(this.blockSize);return this._flushBuffer(C,0),this._unpad(C)}},{"minimalistic-assert":453}],397:[function(C,E,I){"use strict";var B=C("minimalistic-assert"),z=C("inherits"),q=C("./utils"),Q=C("./cipher");function DESState(){this.tmp=new Array(2),this.keys=null}function DES(C){Q.call(this,C);var E=new DESState;this._desState=E,this.deriveKeys(E,C.key)}z(DES,Q),E.exports=DES,DES.create=function create(C){return new DES(C)};var ee=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function deriveKeys(C,E){C.keys=new Array(32),B.equal(E.length,this.blockSize,"Invalid key length");var I=q.readUInt32BE(E,0),z=q.readUInt32BE(E,4);q.pc1(I,z,C.tmp,0),I=C.tmp[0],z=C.tmp[1];for(var Q=0;Q<C.keys.length;Q+=2){var te=ee[Q>>>1];I=q.r28shl(I,te),z=q.r28shl(z,te),q.pc2(I,z,C.keys,Q)}},DES.prototype._update=function _update(C,E,I,B){var z=this._desState,Q=q.readUInt32BE(C,E),ee=q.readUInt32BE(C,E+4);q.ip(Q,ee,z.tmp,0),Q=z.tmp[0],ee=z.tmp[1],"encrypt"===this.type?this._encrypt(z,Q,ee,z.tmp,0):this._decrypt(z,Q,ee,z.tmp,0),Q=z.tmp[0],ee=z.tmp[1],q.writeUInt32BE(I,Q,B),q.writeUInt32BE(I,ee,B+4)},DES.prototype._pad=function _pad(C,E){if(!1===this.padding)return!1;for(var I=C.length-E,B=E;B<C.length;B++)C[B]=I;return!0},DES.prototype._unpad=function _unpad(C){if(!1===this.padding)return C;for(var E=C[C.length-1],I=C.length-E;I<C.length;I++)B.equal(C[I],E);return C.slice(0,C.length-E)},DES.prototype._encrypt=function _encrypt(C,E,I,B,z){for(var Q=E,ee=I,te=0;te<C.keys.length;te+=2){var ie=C.keys[te],re=C.keys[te+1];q.expand(ee,C.tmp,0),ie^=C.tmp[0],re^=C.tmp[1];var ne=q.substitute(ie,re),se=ee;ee=(Q^q.permute(ne))>>>0,Q=se}q.rip(ee,Q,B,z)},DES.prototype._decrypt=function _decrypt(C,E,I,B,z){for(var Q=I,ee=E,te=C.keys.length-2;te>=0;te-=2){var ie=C.keys[te],re=C.keys[te+1];q.expand(Q,C.tmp,0),ie^=C.tmp[0],re^=C.tmp[1];var ne=q.substitute(ie,re),se=Q;Q=(ee^q.permute(ne))>>>0,ee=se}q.rip(Q,ee,B,z)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(C,E,I){"use strict";var B=C("minimalistic-assert"),z=C("inherits"),q=C("./cipher"),Q=C("./des");function EDEState(C,E){B.equal(E.length,24,"Invalid key length");var I=E.slice(0,8),z=E.slice(8,16),q=E.slice(16,24);this.ciphers="encrypt"===C?[Q.create({type:"encrypt",key:I}),Q.create({type:"decrypt",key:z}),Q.create({type:"encrypt",key:q})]:[Q.create({type:"decrypt",key:q}),Q.create({type:"encrypt",key:z}),Q.create({type:"decrypt",key:I})]}function EDE(C){q.call(this,C);var E=new EDEState(this.type,this.options.key);this._edeState=E}z(EDE,q),E.exports=EDE,EDE.create=function create(C){return new EDE(C)},EDE.prototype._update=function _update(C,E,I,B){var z=this._edeState;z.ciphers[0]._update(C,E,I,B),z.ciphers[1]._update(I,B,I,B),z.ciphers[2]._update(I,B,I,B)},EDE.prototype._pad=Q.prototype._pad,EDE.prototype._unpad=Q.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(C,E,I){"use strict";I.readUInt32BE=function readUInt32BE(C,E){return(C[0+E]<<24|C[1+E]<<16|C[2+E]<<8|C[3+E])>>>0},I.writeUInt32BE=function writeUInt32BE(C,E,I){C[0+I]=E>>>24,C[1+I]=E>>>16&255,C[2+I]=E>>>8&255,C[3+I]=255&E},I.ip=function ip(C,E,I,B){for(var z=0,q=0,Q=6;Q>=0;Q-=2){for(var ee=0;ee<=24;ee+=8)z<<=1,z|=E>>>ee+Q&1;for(ee=0;ee<=24;ee+=8)z<<=1,z|=C>>>ee+Q&1}for(Q=6;Q>=0;Q-=2){for(ee=1;ee<=25;ee+=8)q<<=1,q|=E>>>ee+Q&1;for(ee=1;ee<=25;ee+=8)q<<=1,q|=C>>>ee+Q&1}I[B+0]=z>>>0,I[B+1]=q>>>0},I.rip=function rip(C,E,I,B){for(var z=0,q=0,Q=0;Q<4;Q++)for(var ee=24;ee>=0;ee-=8)z<<=1,z|=E>>>ee+Q&1,z<<=1,z|=C>>>ee+Q&1;for(Q=4;Q<8;Q++)for(ee=24;ee>=0;ee-=8)q<<=1,q|=E>>>ee+Q&1,q<<=1,q|=C>>>ee+Q&1;I[B+0]=z>>>0,I[B+1]=q>>>0},I.pc1=function pc1(C,E,I,B){for(var z=0,q=0,Q=7;Q>=5;Q--){for(var ee=0;ee<=24;ee+=8)z<<=1,z|=E>>ee+Q&1;for(ee=0;ee<=24;ee+=8)z<<=1,z|=C>>ee+Q&1}for(ee=0;ee<=24;ee+=8)z<<=1,z|=E>>ee+Q&1;for(Q=1;Q<=3;Q++){for(ee=0;ee<=24;ee+=8)q<<=1,q|=E>>ee+Q&1;for(ee=0;ee<=24;ee+=8)q<<=1,q|=C>>ee+Q&1}for(ee=0;ee<=24;ee+=8)q<<=1,q|=C>>ee+Q&1;I[B+0]=z>>>0,I[B+1]=q>>>0},I.r28shl=function r28shl(C,E){return C<<E&268435455|C>>>28-E};var B=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];I.pc2=function pc2(C,E,I,z){for(var q=0,Q=0,ee=B.length>>>1,te=0;te<ee;te++)q<<=1,q|=C>>>B[te]&1;for(te=ee;te<B.length;te++)Q<<=1,Q|=E>>>B[te]&1;I[z+0]=q>>>0,I[z+1]=Q>>>0},I.expand=function expand(C,E,I){var B=0,z=0;B=(1&C)<<5|C>>>27;for(var q=23;q>=15;q-=4)B<<=6,B|=C>>>q&63;for(q=11;q>=3;q-=4)z|=C>>>q&63,z<<=6;z|=(31&C)<<1|C>>>31,E[I+0]=B>>>0,E[I+1]=z>>>0};var z=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];I.substitute=function substitute(C,E){for(var I=0,B=0;B<4;B++)I<<=4,I|=z[64*B+(C>>>18-6*B&63)];for(B=0;B<4;B++)I<<=4,I|=z[256+64*B+(E>>>18-6*B&63)];return I>>>0};var q=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];I.permute=function permute(C){for(var E=0,I=0;I<q.length;I++)E<<=1,E|=C>>>q[I]&1;return E>>>0},I.padSplit=function padSplit(C,E,I){for(var B=C.toString(2);B.length<E;)B="0"+B;for(var z=[],q=0;q<E;q+=I)z.push(B.slice(q,q+I));return z.join(" ")}},{}],400:[function(C,E,I){(function(E){(function(){"use strict";var B=C("./lib/generatePrime"),z=C("./lib/primes.json"),q=C("./lib/dh");function getDiffieHellman(C){var I=new E(z[C].prime,"hex"),B=new E(z[C].gen,"hex");return new q(I,B)}var Q={binary:!0,hex:!0,base64:!0};function createDiffieHellman(C,I,z,ee){return E.isBuffer(I)||void 0===Q[I]?createDiffieHellman(C,"binary",I,z):(I=I||"binary",ee=ee||"binary",z=z||new E([2]),E.isBuffer(z)||(z=new E(z,ee)),"number"==typeof C?new q(B(C,z),z,!0):(E.isBuffer(C)||(C=new E(C,I)),new q(C,z,!0)))}I.DiffieHellmanGroup=I.createDiffieHellmanGroup=I.getDiffieHellman=getDiffieHellman,I.createDiffieHellman=I.DiffieHellman=createDiffieHellman}).call(this)}).call(this,C("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(C,E,I){(function(I){(function(){"use strict";var B=C("bn.js"),z=new(C("miller-rabin")),q=new B(24),Q=new B(11),ee=new B(10),te=new B(3),ie=new B(7),re=C("./generatePrime"),ne=C("randombytes");function setPublicKey(C,E){return E=E||"utf8",I.isBuffer(C)||(C=new I(C,E)),this._pub=new B(C),this}function setPrivateKey(C,E){return E=E||"utf8",I.isBuffer(C)||(C=new I(C,E)),this._priv=new B(C),this}E.exports=DH;var se={};function checkPrime(C,E){var I=E.toString("hex"),B=[I,C.toString(16)].join("_");if(B in se)return se[B];var ne,oe=0;if(C.isEven()||!re.simpleSieve||!re.fermatTest(C)||!z.test(C))return oe+=1,oe+="02"===I||"05"===I?8:4,se[B]=oe,oe;switch(z.test(C.shrn(1))||(oe+=2),I){case"02":C.mod(q).cmp(Q)&&(oe+=8);break;case"05":(ne=C.mod(ee)).cmp(te)&&ne.cmp(ie)&&(oe+=8);break;default:oe+=4}return se[B]=oe,oe}function DH(C,E,I){this.setGenerator(E),this.__prime=new B(C),this._prime=B.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(C,E){var B=new I(C.toArray());return E?B.toString(E):B}Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new B(ne(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(C){var E=(C=(C=new B(C)).toRed(this._prime)).redPow(this._priv).fromRed(),z=new I(E.toArray()),q=this.getPrime();if(z.length<q.length){var Q=new I(q.length-z.length);Q.fill(0),z=I.concat([Q,z])}return z},DH.prototype.getPublicKey=function getPublicKey(C){return formatReturnValue(this._pub,C)},DH.prototype.getPrivateKey=function getPrivateKey(C){return formatReturnValue(this._priv,C)},DH.prototype.getPrime=function(C){return formatReturnValue(this.__prime,C)},DH.prototype.getGenerator=function(C){return formatReturnValue(this._gen,C)},DH.prototype.setGenerator=function(C,E){return E=E||"utf8",I.isBuffer(C)||(C=new I(C,E)),this.__gen=C,this._gen=new B(C),this}}).call(this)}).call(this,C("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(C,E,I){"use strict";var B=C("randombytes");E.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var z=C("bn.js"),q=new z(24),Q=new(C("miller-rabin")),ee=new z(1),te=new z(2),ie=new z(5),re=(new z(16),new z(8),new z(10)),ne=new z(3),se=(new z(7),new z(11)),oe=new z(4),ae=(new z(12),null);function _getPrimes(){if(null!==ae)return ae;var C=1048576,E=[];E[0]=2;for(var I=1,B=3;B<C;B+=2){for(var z=Math.ceil(Math.sqrt(B)),q=0;q<I&&E[q]<=z&&B%E[q]!=0;q++);I!==q&&E[q]<=z||(E[I++]=B)}return ae=E,E}function simpleSieve(C){for(var E=_getPrimes(),I=0;I<E.length;I++)if(0===C.modn(E[I]))return 0===C.cmpn(E[I]);return!0}function fermatTest(C){var E=z.mont(C);return 0===te.toRed(E).redPow(C.subn(1)).fromRed().cmpn(1)}function findPrime(C,E){if(C<16)return new z(2===E||5===E?[140,123]:[140,39]);var I,ae;for(E=new z(E);;){for(I=new z(B(Math.ceil(C/8)));I.bitLength()>C;)I.ishrn(1);if(I.isEven()&&I.iadd(ee),I.testn(1)||I.iadd(te),E.cmp(te)){if(!E.cmp(ie))for(;I.mod(re).cmp(ne);)I.iadd(oe)}else for(;I.mod(q).cmp(se);)I.iadd(oe);if(simpleSieve(ae=I.shrn(1))&&simpleSieve(I)&&fermatTest(ae)&&fermatTest(I)&&Q.test(ae)&&Q.test(I))return I}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(C,E,I){E.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(C,E,I){arguments[4][184][0].apply(I,arguments)},{buffer:188,dup:184}],405:[function(C,E,I){"use strict";var B=I;B.version=C("../package.json").version,B.utils=C("./elliptic/utils"),B.rand=C("brorand"),B.curve=C("./elliptic/curve"),B.curves=C("./elliptic/curves"),B.ec=C("./elliptic/ec"),B.eddsa=C("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("../utils"),q=z.getNAF,Q=z.getJSF,ee=z.assert;function BaseCurve(C,E){this.type=C,this.p=new B(E.p,16),this.red=E.prime?B.red(E.prime):B.mont(this.p),this.zero=new B(0).toRed(this.red),this.one=new B(1).toRed(this.red),this.two=new B(2).toRed(this.red),this.n=E.n&&new B(E.n,16),this.g=E.g&&this.pointFromJSON(E.g,E.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var I=this.n&&this.p.div(this.n);!I||I.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(C,E){this.curve=C,this.type=E,this.precomputed=null}E.exports=BaseCurve,BaseCurve.prototype.point=function point(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function _fixedNafMul(C,E){ee(C.precomputed);var I=C._getDoubles(),B=q(E,1,this._bitLength),z=(1<<I.step+1)-(I.step%2==0?2:1);z/=3;var Q,te,ie=[];for(Q=0;Q<B.length;Q+=I.step){te=0;for(var re=Q+I.step-1;re>=Q;re--)te=(te<<1)+B[re];ie.push(te)}for(var ne=this.jpoint(null,null,null),se=this.jpoint(null,null,null),oe=z;oe>0;oe--){for(Q=0;Q<ie.length;Q++)(te=ie[Q])===oe?se=se.mixedAdd(I.points[Q]):te===-oe&&(se=se.mixedAdd(I.points[Q].neg()));ne=ne.add(se)}return ne.toP()},BaseCurve.prototype._wnafMul=function _wnafMul(C,E){var I=4,B=C._getNAFPoints(I);I=B.wnd;for(var z=B.points,Q=q(E,I,this._bitLength),te=this.jpoint(null,null,null),ie=Q.length-1;ie>=0;ie--){for(var re=0;ie>=0&&0===Q[ie];ie--)re++;if(ie>=0&&re++,te=te.dblp(re),ie<0)break;var ne=Q[ie];ee(0!==ne),te="affine"===C.type?ne>0?te.mixedAdd(z[ne-1>>1]):te.mixedAdd(z[-ne-1>>1].neg()):ne>0?te.add(z[ne-1>>1]):te.add(z[-ne-1>>1].neg())}return"affine"===C.type?te.toP():te},BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(C,E,I,B,z){var ee,te,ie,re=this._wnafT1,ne=this._wnafT2,se=this._wnafT3,oe=0;for(ee=0;ee<B;ee++){var ae=(ie=E[ee])._getNAFPoints(C);re[ee]=ae.wnd,ne[ee]=ae.points}for(ee=B-1;ee>=1;ee-=2){var le=ee-1,ue=ee;if(1===re[le]&&1===re[ue]){var de=[E[le],null,null,E[ue]];0===E[le].y.cmp(E[ue].y)?(de[1]=E[le].add(E[ue]),de[2]=E[le].toJ().mixedAdd(E[ue].neg())):0===E[le].y.cmp(E[ue].y.redNeg())?(de[1]=E[le].toJ().mixedAdd(E[ue]),de[2]=E[le].add(E[ue].neg())):(de[1]=E[le].toJ().mixedAdd(E[ue]),de[2]=E[le].toJ().mixedAdd(E[ue].neg()));var ce=[-3,-1,-5,-7,0,7,5,1,3],he=Q(I[le],I[ue]);for(oe=Math.max(he[0].length,oe),se[le]=new Array(oe),se[ue]=new Array(oe),te=0;te<oe;te++){var fe=0|he[0][te],pe=0|he[1][te];se[le][te]=ce[3*(fe+1)+(pe+1)],se[ue][te]=0,ne[le]=de}}else se[le]=q(I[le],re[le],this._bitLength),se[ue]=q(I[ue],re[ue],this._bitLength),oe=Math.max(se[le].length,oe),oe=Math.max(se[ue].length,oe)}var me=this.jpoint(null,null,null),ge=this._wnafT4;for(ee=oe;ee>=0;ee--){for(var ve=0;ee>=0;){var ye=!0;for(te=0;te<B;te++)ge[te]=0|se[te][ee],0!==ge[te]&&(ye=!1);if(!ye)break;ve++,ee--}if(ee>=0&&ve++,me=me.dblp(ve),ee<0)break;for(te=0;te<B;te++){var be=ge[te];0!==be&&(be>0?ie=ne[te][be-1>>1]:be<0&&(ie=ne[te][-be-1>>1].neg()),me="affine"===ie.type?me.mixedAdd(ie):me.add(ie))}}for(ee=0;ee<B;ee++)ne[ee]=null;return z?me:me.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")},BasePoint.prototype.validate=function validate(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function decodePoint(C,E){C=z.toArray(C,E);var I=this.p.byteLength();if((4===C[0]||6===C[0]||7===C[0])&&C.length-1==2*I)return 6===C[0]?ee(C[C.length-1]%2==0):7===C[0]&&ee(C[C.length-1]%2==1),this.point(C.slice(1,1+I),C.slice(1+I,1+2*I));if((2===C[0]||3===C[0])&&C.length-1===I)return this.pointFromX(C.slice(1,1+I),3===C[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function encodeCompressed(C){return this.encode(C,!0)},BasePoint.prototype._encode=function _encode(C){var E=this.curve.p.byteLength(),I=this.getX().toArray("be",E);return C?[this.getY().isEven()?2:3].concat(I):[4].concat(I,this.getY().toArray("be",E))},BasePoint.prototype.encode=function encode(C,E){return z.encode(this._encode(E),C)},BasePoint.prototype.precompute=function precompute(C){if(this.precomputed)return this;var E={doubles:null,naf:null,beta:null};return E.naf=this._getNAFPoints(8),E.doubles=this._getDoubles(4,C),E.beta=this._getBeta(),this.precomputed=E,this},BasePoint.prototype._hasDoubles=function _hasDoubles(C){if(!this.precomputed)return!1;var E=this.precomputed.doubles;return!!E&&E.points.length>=Math.ceil((C.bitLength()+1)/E.step)},BasePoint.prototype._getDoubles=function _getDoubles(C,E){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var I=[this],B=this,z=0;z<E;z+=C){for(var q=0;q<C;q++)B=B.dbl();I.push(B)}return{step:C,points:I}},BasePoint.prototype._getNAFPoints=function _getNAFPoints(C){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var E=[this],I=(1<<C)-1,B=1===I?null:this.dbl(),z=1;z<I;z++)E[z]=E[z-1].add(B);return{wnd:C,points:E}},BasePoint.prototype._getBeta=function _getBeta(){return null},BasePoint.prototype.dblp=function dblp(C){for(var E=this,I=0;I<C;I++)E=E.dbl();return E}},{"../utils":419,"bn.js":420}],407:[function(C,E,I){"use strict";var B=C("../utils"),z=C("bn.js"),q=C("inherits"),Q=C("./base"),ee=B.assert;function EdwardsCurve(C){this.twisted=1!=(0|C.a),this.mOneA=this.twisted&&-1==(0|C.a),this.extended=this.mOneA,Q.call(this,"edwards",C),this.a=new z(C.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new z(C.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new z(C.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ee(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|C.c)}function Point(C,E,I,B,q){Q.BasePoint.call(this,C,"projective"),null===E&&null===I&&null===B?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new z(E,16),this.y=new z(I,16),this.z=B?new z(B,16):this.curve.one,this.t=q&&new z(q,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}q(EdwardsCurve,Q),E.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function _mulA(C){return this.mOneA?C.redNeg():this.a.redMul(C)},EdwardsCurve.prototype._mulC=function _mulC(C){return this.oneC?C:this.c.redMul(C)},EdwardsCurve.prototype.jpoint=function jpoint(C,E,I,B){return this.point(C,E,I,B)},EdwardsCurve.prototype.pointFromX=function pointFromX(C,E){(C=new z(C,16)).red||(C=C.toRed(this.red));var I=C.redSqr(),B=this.c2.redSub(this.a.redMul(I)),q=this.one.redSub(this.c2.redMul(this.d).redMul(I)),Q=B.redMul(q.redInvm()),ee=Q.redSqrt();if(0!==ee.redSqr().redSub(Q).cmp(this.zero))throw new Error("invalid point");var te=ee.fromRed().isOdd();return(E&&!te||!E&&te)&&(ee=ee.redNeg()),this.point(C,ee)},EdwardsCurve.prototype.pointFromY=function pointFromY(C,E){(C=new z(C,16)).red||(C=C.toRed(this.red));var I=C.redSqr(),B=I.redSub(this.c2),q=I.redMul(this.d).redMul(this.c2).redSub(this.a),Q=B.redMul(q.redInvm());if(0===Q.cmp(this.zero)){if(E)throw new Error("invalid point");return this.point(this.zero,C)}var ee=Q.redSqrt();if(0!==ee.redSqr().redSub(Q).cmp(this.zero))throw new Error("invalid point");return ee.fromRed().isOdd()!==E&&(ee=ee.redNeg()),this.point(ee,C)},EdwardsCurve.prototype.validate=function validate(C){if(C.isInfinity())return!0;C.normalize();var E=C.x.redSqr(),I=C.y.redSqr(),B=E.redMul(this.a).redAdd(I),z=this.c2.redMul(this.one.redAdd(this.d.redMul(E).redMul(I)));return 0===B.cmp(z)},q(Point,Q.BasePoint),EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(C){return Point.fromJSON(this,C)},EdwardsCurve.prototype.point=function point(C,E,I,B){return new Point(this,C,E,I,B)},Point.fromJSON=function fromJSON(C,E){return new Point(C,E[0],E[1],E[2])},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function _extDbl(){var C=this.x.redSqr(),E=this.y.redSqr(),I=this.z.redSqr();I=I.redIAdd(I);var B=this.curve._mulA(C),z=this.x.redAdd(this.y).redSqr().redISub(C).redISub(E),q=B.redAdd(E),Q=q.redSub(I),ee=B.redSub(E),te=z.redMul(Q),ie=q.redMul(ee),re=z.redMul(ee),ne=Q.redMul(q);return this.curve.point(te,ie,ne,re)},Point.prototype._projDbl=function _projDbl(){var C,E,I,B,z,q,Q=this.x.redAdd(this.y).redSqr(),ee=this.x.redSqr(),te=this.y.redSqr();if(this.curve.twisted){var ie=(B=this.curve._mulA(ee)).redAdd(te);this.zOne?(C=Q.redSub(ee).redSub(te).redMul(ie.redSub(this.curve.two)),E=ie.redMul(B.redSub(te)),I=ie.redSqr().redSub(ie).redSub(ie)):(z=this.z.redSqr(),q=ie.redSub(z).redISub(z),C=Q.redSub(ee).redISub(te).redMul(q),E=ie.redMul(B.redSub(te)),I=ie.redMul(q))}else B=ee.redAdd(te),z=this.curve._mulC(this.z).redSqr(),q=B.redSub(z).redSub(z),C=this.curve._mulC(Q.redISub(B)).redMul(q),E=this.curve._mulC(B).redMul(ee.redISub(te)),I=B.redMul(q);return this.curve.point(C,E,I)},Point.prototype.dbl=function dbl(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function _extAdd(C){var E=this.y.redSub(this.x).redMul(C.y.redSub(C.x)),I=this.y.redAdd(this.x).redMul(C.y.redAdd(C.x)),B=this.t.redMul(this.curve.dd).redMul(C.t),z=this.z.redMul(C.z.redAdd(C.z)),q=I.redSub(E),Q=z.redSub(B),ee=z.redAdd(B),te=I.redAdd(E),ie=q.redMul(Q),re=ee.redMul(te),ne=q.redMul(te),se=Q.redMul(ee);return this.curve.point(ie,re,se,ne)},Point.prototype._projAdd=function _projAdd(C){var E,I,B=this.z.redMul(C.z),z=B.redSqr(),q=this.x.redMul(C.x),Q=this.y.redMul(C.y),ee=this.curve.d.redMul(q).redMul(Q),te=z.redSub(ee),ie=z.redAdd(ee),re=this.x.redAdd(this.y).redMul(C.x.redAdd(C.y)).redISub(q).redISub(Q),ne=B.redMul(te).redMul(re);return this.curve.twisted?(E=B.redMul(ie).redMul(Q.redSub(this.curve._mulA(q))),I=te.redMul(ie)):(E=B.redMul(ie).redMul(Q.redSub(q)),I=this.curve._mulC(te).redMul(ie)),this.curve.point(ne,E,I)},Point.prototype.add=function add(C){return this.isInfinity()?C:C.isInfinity()?this:this.curve.extended?this._extAdd(C):this._projAdd(C)},Point.prototype.mul=function mul(C){return this._hasDoubles(C)?this.curve._fixedNafMul(this,C):this.curve._wnafMul(this,C)},Point.prototype.mulAdd=function mulAdd(C,E,I){return this.curve._wnafMulAdd(1,[this,E],[C,I],2,!1)},Point.prototype.jmulAdd=function jmulAdd(C,E,I){return this.curve._wnafMulAdd(1,[this,E],[C,I],2,!0)},Point.prototype.normalize=function normalize(){if(this.zOne)return this;var C=this.z.redInvm();return this.x=this.x.redMul(C),this.y=this.y.redMul(C),this.t&&(this.t=this.t.redMul(C)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function getX(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function getY(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function eq(C){return this===C||0===this.getX().cmp(C.getX())&&0===this.getY().cmp(C.getY())},Point.prototype.eqXToP=function eqXToP(C){var E=C.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(E))return!0;for(var I=C.clone(),B=this.curve.redN.redMul(this.z);;){if(I.iadd(this.curve.n),I.cmp(this.curve.p)>=0)return!1;if(E.redIAdd(B),0===this.x.cmp(E))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(C,E,I){"use strict";var B=I;B.base=C("./base"),B.short=C("./short"),B.mont=C("./mont"),B.edwards=C("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("inherits"),q=C("./base"),Q=C("../utils");function MontCurve(C){q.call(this,"mont",C),this.a=new B(C.a,16).toRed(this.red),this.b=new B(C.b,16).toRed(this.red),this.i4=new B(4).toRed(this.red).redInvm(),this.two=new B(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(C,E,I){q.BasePoint.call(this,C,"projective"),null===E&&null===I?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new B(E,16),this.z=new B(I,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}z(MontCurve,q),E.exports=MontCurve,MontCurve.prototype.validate=function validate(C){var E=C.normalize().x,I=E.redSqr(),B=I.redMul(E).redAdd(I.redMul(this.a)).redAdd(E);return 0===B.redSqrt().redSqr().cmp(B)},z(Point,q.BasePoint),MontCurve.prototype.decodePoint=function decodePoint(C,E){return this.point(Q.toArray(C,E),1)},MontCurve.prototype.point=function point(C,E){return new Point(this,C,E)},MontCurve.prototype.pointFromJSON=function pointFromJSON(C){return Point.fromJSON(this,C)},Point.prototype.precompute=function precompute(){},Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function fromJSON(C,E){return new Point(C,E[0],E[1]||C.one)},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function dbl(){var C=this.x.redAdd(this.z).redSqr(),E=this.x.redSub(this.z).redSqr(),I=C.redSub(E),B=C.redMul(E),z=I.redMul(E.redAdd(this.curve.a24.redMul(I)));return this.curve.point(B,z)},Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function diffAdd(C,E){var I=this.x.redAdd(this.z),B=this.x.redSub(this.z),z=C.x.redAdd(C.z),q=C.x.redSub(C.z).redMul(I),Q=z.redMul(B),ee=E.z.redMul(q.redAdd(Q).redSqr()),te=E.x.redMul(q.redISub(Q).redSqr());return this.curve.point(ee,te)},Point.prototype.mul=function mul(C){for(var E=C.clone(),I=this,B=this.curve.point(null,null),z=this,q=[];0!==E.cmpn(0);E.iushrn(1))q.push(E.andln(1));for(var Q=q.length-1;Q>=0;Q--)0===q[Q]?(I=I.diffAdd(B,z),B=B.dbl()):(B=I.diffAdd(B,z),I=I.dbl());return B},Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function eq(C){return 0===this.getX().cmp(C.getX())},Point.prototype.normalize=function normalize(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function getX(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(C,E,I){"use strict";var B=C("../utils"),z=C("bn.js"),q=C("inherits"),Q=C("./base"),ee=B.assert;function ShortCurve(C){Q.call(this,"short",C),this.a=new z(C.a,16).toRed(this.red),this.b=new z(C.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(C),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(C,E,I,B){Q.BasePoint.call(this,C,"affine"),null===E&&null===I?(this.x=null,this.y=null,this.inf=!0):(this.x=new z(E,16),this.y=new z(I,16),B&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(C,E,I,B){Q.BasePoint.call(this,C,"jacobian"),null===E&&null===I&&null===B?(this.x=this.curve.one,this.y=this.curve.one,this.z=new z(0)):(this.x=new z(E,16),this.y=new z(I,16),this.z=new z(B,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}q(ShortCurve,Q),E.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function _getEndomorphism(C){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var E,I;if(C.beta)E=new z(C.beta,16).toRed(this.red);else{var B=this._getEndoRoots(this.p);E=(E=B[0].cmp(B[1])<0?B[0]:B[1]).toRed(this.red)}if(C.lambda)I=new z(C.lambda,16);else{var q=this._getEndoRoots(this.n);0===this.g.mul(q[0]).x.cmp(this.g.x.redMul(E))?I=q[0]:(I=q[1],ee(0===this.g.mul(I).x.cmp(this.g.x.redMul(E))))}return{beta:E,lambda:I,basis:C.basis?C.basis.map((function(C){return{a:new z(C.a,16),b:new z(C.b,16)}})):this._getEndoBasis(I)}}},ShortCurve.prototype._getEndoRoots=function _getEndoRoots(C){var E=C===this.p?this.red:z.mont(C),I=new z(2).toRed(E).redInvm(),B=I.redNeg(),q=new z(3).toRed(E).redNeg().redSqrt().redMul(I);return[B.redAdd(q).fromRed(),B.redSub(q).fromRed()]},ShortCurve.prototype._getEndoBasis=function _getEndoBasis(C){for(var E,I,B,q,Q,ee,te,ie,re,ne=this.n.ushrn(Math.floor(this.n.bitLength()/2)),se=C,oe=this.n.clone(),ae=new z(1),le=new z(0),ue=new z(0),de=new z(1),ce=0;0!==se.cmpn(0);){var he=oe.div(se);ie=oe.sub(he.mul(se)),re=ue.sub(he.mul(ae));var fe=de.sub(he.mul(le));if(!B&&ie.cmp(ne)<0)E=te.neg(),I=ae,B=ie.neg(),q=re;else if(B&&2==++ce)break;te=ie,oe=se,se=ie,ue=ae,ae=re,de=le,le=fe}Q=ie.neg(),ee=re;var pe=B.sqr().add(q.sqr());return Q.sqr().add(ee.sqr()).cmp(pe)>=0&&(Q=E,ee=I),B.negative&&(B=B.neg(),q=q.neg()),Q.negative&&(Q=Q.neg(),ee=ee.neg()),[{a:B,b:q},{a:Q,b:ee}]},ShortCurve.prototype._endoSplit=function _endoSplit(C){var E=this.endo.basis,I=E[0],B=E[1],z=B.b.mul(C).divRound(this.n),q=I.b.neg().mul(C).divRound(this.n),Q=z.mul(I.a),ee=q.mul(B.a),te=z.mul(I.b),ie=q.mul(B.b);return{k1:C.sub(Q).sub(ee),k2:te.add(ie).neg()}},ShortCurve.prototype.pointFromX=function pointFromX(C,E){(C=new z(C,16)).red||(C=C.toRed(this.red));var I=C.redSqr().redMul(C).redIAdd(C.redMul(this.a)).redIAdd(this.b),B=I.redSqrt();if(0!==B.redSqr().redSub(I).cmp(this.zero))throw new Error("invalid point");var q=B.fromRed().isOdd();return(E&&!q||!E&&q)&&(B=B.redNeg()),this.point(C,B)},ShortCurve.prototype.validate=function validate(C){if(C.inf)return!0;var E=C.x,I=C.y,B=this.a.redMul(E),z=E.redSqr().redMul(E).redIAdd(B).redIAdd(this.b);return 0===I.redSqr().redISub(z).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(C,E,I){for(var B=this._endoWnafT1,z=this._endoWnafT2,q=0;q<C.length;q++){var Q=this._endoSplit(E[q]),ee=C[q],te=ee._getBeta();Q.k1.negative&&(Q.k1.ineg(),ee=ee.neg(!0)),Q.k2.negative&&(Q.k2.ineg(),te=te.neg(!0)),B[2*q]=ee,B[2*q+1]=te,z[2*q]=Q.k1,z[2*q+1]=Q.k2}for(var ie=this._wnafMulAdd(1,B,z,2*q,I),re=0;re<2*q;re++)B[re]=null,z[re]=null;return ie},q(Point,Q.BasePoint),ShortCurve.prototype.point=function point(C,E,I){return new Point(this,C,E,I)},ShortCurve.prototype.pointFromJSON=function pointFromJSON(C,E){return Point.fromJSON(this,C,E)},Point.prototype._getBeta=function _getBeta(){if(this.curve.endo){var C=this.precomputed;if(C&&C.beta)return C.beta;var E=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(C){var I=this.curve,endoMul=function(C){return I.point(C.x.redMul(I.endo.beta),C.y)};C.beta=E,E.precomputed={beta:null,naf:C.naf&&{wnd:C.naf.wnd,points:C.naf.points.map(endoMul)},doubles:C.doubles&&{step:C.doubles.step,points:C.doubles.points.map(endoMul)}}}return E}},Point.prototype.toJSON=function toJSON(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function fromJSON(C,E,I){"string"==typeof E&&(E=JSON.parse(E));var B=C.point(E[0],E[1],I);if(!E[2])return B;function obj2point(E){return C.point(E[0],E[1],I)}var z=E[2];return B.precomputed={beta:null,doubles:z.doubles&&{step:z.doubles.step,points:[B].concat(z.doubles.points.map(obj2point))},naf:z.naf&&{wnd:z.naf.wnd,points:[B].concat(z.naf.points.map(obj2point))}},B},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return this.inf},Point.prototype.add=function add(C){if(this.inf)return C;if(C.inf)return this;if(this.eq(C))return this.dbl();if(this.neg().eq(C))return this.curve.point(null,null);if(0===this.x.cmp(C.x))return this.curve.point(null,null);var E=this.y.redSub(C.y);0!==E.cmpn(0)&&(E=E.redMul(this.x.redSub(C.x).redInvm()));var I=E.redSqr().redISub(this.x).redISub(C.x),B=E.redMul(this.x.redSub(I)).redISub(this.y);return this.curve.point(I,B)},Point.prototype.dbl=function dbl(){if(this.inf)return this;var C=this.y.redAdd(this.y);if(0===C.cmpn(0))return this.curve.point(null,null);var E=this.curve.a,I=this.x.redSqr(),B=C.redInvm(),z=I.redAdd(I).redIAdd(I).redIAdd(E).redMul(B),q=z.redSqr().redISub(this.x.redAdd(this.x)),Q=z.redMul(this.x.redSub(q)).redISub(this.y);return this.curve.point(q,Q)},Point.prototype.getX=function getX(){return this.x.fromRed()},Point.prototype.getY=function getY(){return this.y.fromRed()},Point.prototype.mul=function mul(C){return C=new z(C,16),this.isInfinity()?this:this._hasDoubles(C)?this.curve._fixedNafMul(this,C):this.curve.endo?this.curve._endoWnafMulAdd([this],[C]):this.curve._wnafMul(this,C)},Point.prototype.mulAdd=function mulAdd(C,E,I){var B=[this,E],z=[C,I];return this.curve.endo?this.curve._endoWnafMulAdd(B,z):this.curve._wnafMulAdd(1,B,z,2)},Point.prototype.jmulAdd=function jmulAdd(C,E,I){var B=[this,E],z=[C,I];return this.curve.endo?this.curve._endoWnafMulAdd(B,z,!0):this.curve._wnafMulAdd(1,B,z,2,!0)},Point.prototype.eq=function eq(C){return this===C||this.inf===C.inf&&(this.inf||0===this.x.cmp(C.x)&&0===this.y.cmp(C.y))},Point.prototype.neg=function neg(C){if(this.inf)return this;var E=this.curve.point(this.x,this.y.redNeg());if(C&&this.precomputed){var I=this.precomputed,negate=function(C){return C.neg()};E.precomputed={naf:I.naf&&{wnd:I.naf.wnd,points:I.naf.points.map(negate)},doubles:I.doubles&&{step:I.doubles.step,points:I.doubles.points.map(negate)}}}return E},Point.prototype.toJ=function toJ(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},q(JPoint,Q.BasePoint),ShortCurve.prototype.jpoint=function jpoint(C,E,I){return new JPoint(this,C,E,I)},JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var C=this.z.redInvm(),E=C.redSqr(),I=this.x.redMul(E),B=this.y.redMul(E).redMul(C);return this.curve.point(I,B)},JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function add(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var E=C.z.redSqr(),I=this.z.redSqr(),B=this.x.redMul(E),z=C.x.redMul(I),q=this.y.redMul(E.redMul(C.z)),Q=C.y.redMul(I.redMul(this.z)),ee=B.redSub(z),te=q.redSub(Q);if(0===ee.cmpn(0))return 0!==te.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var ie=ee.redSqr(),re=ie.redMul(ee),ne=B.redMul(ie),se=te.redSqr().redIAdd(re).redISub(ne).redISub(ne),oe=te.redMul(ne.redISub(se)).redISub(q.redMul(re)),ae=this.z.redMul(C.z).redMul(ee);return this.curve.jpoint(se,oe,ae)},JPoint.prototype.mixedAdd=function mixedAdd(C){if(this.isInfinity())return C.toJ();if(C.isInfinity())return this;var E=this.z.redSqr(),I=this.x,B=C.x.redMul(E),z=this.y,q=C.y.redMul(E).redMul(this.z),Q=I.redSub(B),ee=z.redSub(q);if(0===Q.cmpn(0))return 0!==ee.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var te=Q.redSqr(),ie=te.redMul(Q),re=I.redMul(te),ne=ee.redSqr().redIAdd(ie).redISub(re).redISub(re),se=ee.redMul(re.redISub(ne)).redISub(z.redMul(ie)),oe=this.z.redMul(Q);return this.curve.jpoint(ne,se,oe)},JPoint.prototype.dblp=function dblp(C){if(0===C)return this;if(this.isInfinity())return this;if(!C)return this.dbl();var E;if(this.curve.zeroA||this.curve.threeA){var I=this;for(E=0;E<C;E++)I=I.dbl();return I}var B=this.curve.a,z=this.curve.tinv,q=this.x,Q=this.y,ee=this.z,te=ee.redSqr().redSqr(),ie=Q.redAdd(Q);for(E=0;E<C;E++){var re=q.redSqr(),ne=ie.redSqr(),se=ne.redSqr(),oe=re.redAdd(re).redIAdd(re).redIAdd(B.redMul(te)),ae=q.redMul(ne),le=oe.redSqr().redISub(ae.redAdd(ae)),ue=ae.redISub(le),de=oe.redMul(ue);de=de.redIAdd(de).redISub(se);var ce=ie.redMul(ee);E+1<C&&(te=te.redMul(se)),q=le,ee=ce,ie=de}return this.curve.jpoint(q,ie.redMul(z),ee)},JPoint.prototype.dbl=function dbl(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function _zeroDbl(){var C,E,I;if(this.zOne){var B=this.x.redSqr(),z=this.y.redSqr(),q=z.redSqr(),Q=this.x.redAdd(z).redSqr().redISub(B).redISub(q);Q=Q.redIAdd(Q);var ee=B.redAdd(B).redIAdd(B),te=ee.redSqr().redISub(Q).redISub(Q),ie=q.redIAdd(q);ie=(ie=ie.redIAdd(ie)).redIAdd(ie),C=te,E=ee.redMul(Q.redISub(te)).redISub(ie),I=this.y.redAdd(this.y)}else{var re=this.x.redSqr(),ne=this.y.redSqr(),se=ne.redSqr(),oe=this.x.redAdd(ne).redSqr().redISub(re).redISub(se);oe=oe.redIAdd(oe);var ae=re.redAdd(re).redIAdd(re),le=ae.redSqr(),ue=se.redIAdd(se);ue=(ue=ue.redIAdd(ue)).redIAdd(ue),C=le.redISub(oe).redISub(oe),E=ae.redMul(oe.redISub(C)).redISub(ue),I=(I=this.y.redMul(this.z)).redIAdd(I)}return this.curve.jpoint(C,E,I)},JPoint.prototype._threeDbl=function _threeDbl(){var C,E,I;if(this.zOne){var B=this.x.redSqr(),z=this.y.redSqr(),q=z.redSqr(),Q=this.x.redAdd(z).redSqr().redISub(B).redISub(q);Q=Q.redIAdd(Q);var ee=B.redAdd(B).redIAdd(B).redIAdd(this.curve.a),te=ee.redSqr().redISub(Q).redISub(Q);C=te;var ie=q.redIAdd(q);ie=(ie=ie.redIAdd(ie)).redIAdd(ie),E=ee.redMul(Q.redISub(te)).redISub(ie),I=this.y.redAdd(this.y)}else{var re=this.z.redSqr(),ne=this.y.redSqr(),se=this.x.redMul(ne),oe=this.x.redSub(re).redMul(this.x.redAdd(re));oe=oe.redAdd(oe).redIAdd(oe);var ae=se.redIAdd(se),le=(ae=ae.redIAdd(ae)).redAdd(ae);C=oe.redSqr().redISub(le),I=this.y.redAdd(this.z).redSqr().redISub(ne).redISub(re);var ue=ne.redSqr();ue=(ue=(ue=ue.redIAdd(ue)).redIAdd(ue)).redIAdd(ue),E=oe.redMul(ae.redISub(C)).redISub(ue)}return this.curve.jpoint(C,E,I)},JPoint.prototype._dbl=function _dbl(){var C=this.curve.a,E=this.x,I=this.y,B=this.z,z=B.redSqr().redSqr(),q=E.redSqr(),Q=I.redSqr(),ee=q.redAdd(q).redIAdd(q).redIAdd(C.redMul(z)),te=E.redAdd(E),ie=(te=te.redIAdd(te)).redMul(Q),re=ee.redSqr().redISub(ie.redAdd(ie)),ne=ie.redISub(re),se=Q.redSqr();se=(se=(se=se.redIAdd(se)).redIAdd(se)).redIAdd(se);var oe=ee.redMul(ne).redISub(se),ae=I.redAdd(I).redMul(B);return this.curve.jpoint(re,oe,ae)},JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var C=this.x.redSqr(),E=this.y.redSqr(),I=this.z.redSqr(),B=E.redSqr(),z=C.redAdd(C).redIAdd(C),q=z.redSqr(),Q=this.x.redAdd(E).redSqr().redISub(C).redISub(B),ee=(Q=(Q=(Q=Q.redIAdd(Q)).redAdd(Q).redIAdd(Q)).redISub(q)).redSqr(),te=B.redIAdd(B);te=(te=(te=te.redIAdd(te)).redIAdd(te)).redIAdd(te);var ie=z.redIAdd(Q).redSqr().redISub(q).redISub(ee).redISub(te),re=E.redMul(ie);re=(re=re.redIAdd(re)).redIAdd(re);var ne=this.x.redMul(ee).redISub(re);ne=(ne=ne.redIAdd(ne)).redIAdd(ne);var se=this.y.redMul(ie.redMul(te.redISub(ie)).redISub(Q.redMul(ee)));se=(se=(se=se.redIAdd(se)).redIAdd(se)).redIAdd(se);var oe=this.z.redAdd(Q).redSqr().redISub(I).redISub(ee);return this.curve.jpoint(ne,se,oe)},JPoint.prototype.mul=function mul(C,E){return C=new z(C,E),this.curve._wnafMul(this,C)},JPoint.prototype.eq=function eq(C){if("affine"===C.type)return this.eq(C.toJ());if(this===C)return!0;var E=this.z.redSqr(),I=C.z.redSqr();if(0!==this.x.redMul(I).redISub(C.x.redMul(E)).cmpn(0))return!1;var B=E.redMul(this.z),z=I.redMul(C.z);return 0===this.y.redMul(z).redISub(C.y.redMul(B)).cmpn(0)},JPoint.prototype.eqXToP=function eqXToP(C){var E=this.z.redSqr(),I=C.toRed(this.curve.red).redMul(E);if(0===this.x.cmp(I))return!0;for(var B=C.clone(),z=this.curve.redN.redMul(E);;){if(B.iadd(this.curve.n),B.cmp(this.curve.p)>=0)return!1;if(I.redIAdd(z),0===this.x.cmp(I))return!0}},JPoint.prototype.inspect=function inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function isInfinity(){return 0===this.z.cmpn(0)}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(C,E,I){"use strict";var B,z=I,q=C("hash.js"),Q=C("./curve"),ee=C("./utils").assert;function PresetCurve(C){"short"===C.type?this.curve=new Q.short(C):"edwards"===C.type?this.curve=new Q.edwards(C):this.curve=new Q.mont(C),this.g=this.curve.g,this.n=this.curve.n,this.hash=C.hash,ee(this.g.validate(),"Invalid curve"),ee(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(C,E){Object.defineProperty(z,C,{configurable:!0,enumerable:!0,get:function(){var I=new PresetCurve(E);return Object.defineProperty(z,C,{configurable:!0,enumerable:!0,value:I}),I}})}z.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:q.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:q.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:q.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:q.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:q.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:q.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:q.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{B=C("./precomputed/secp256k1")}catch(C){B=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:q.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",B]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("hmac-drbg"),q=C("../utils"),Q=C("../curves"),ee=C("brorand"),te=q.assert,ie=C("./key"),re=C("./signature");function EC(C){if(!(this instanceof EC))return new EC(C);"string"==typeof C&&(te(Object.prototype.hasOwnProperty.call(Q,C),"Unknown curve "+C),C=Q[C]),C instanceof Q.PresetCurve&&(C={curve:C}),this.curve=C.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=C.curve.g,this.g.precompute(C.curve.n.bitLength()+1),this.hash=C.hash||C.curve.hash}E.exports=EC,EC.prototype.keyPair=function keyPair(C){return new ie(this,C)},EC.prototype.keyFromPrivate=function keyFromPrivate(C,E){return ie.fromPrivate(this,C,E)},EC.prototype.keyFromPublic=function keyFromPublic(C,E){return ie.fromPublic(this,C,E)},EC.prototype.genKeyPair=function genKeyPair(C){C||(C={});for(var E=new z({hash:this.hash,pers:C.pers,persEnc:C.persEnc||"utf8",entropy:C.entropy||ee(this.hash.hmacStrength),entropyEnc:C.entropy&&C.entropyEnc||"utf8",nonce:this.n.toArray()}),I=this.n.byteLength(),q=this.n.sub(new B(2));;){var Q=new B(E.generate(I));if(!(Q.cmp(q)>0))return Q.iaddn(1),this.keyFromPrivate(Q)}},EC.prototype._truncateToN=function _truncateToN(C,E){var I=8*C.byteLength()-this.n.bitLength();return I>0&&(C=C.ushrn(I)),!E&&C.cmp(this.n)>=0?C.sub(this.n):C},EC.prototype.sign=function sign(C,E,I,q){"object"==typeof I&&(q=I,I=null),q||(q={}),E=this.keyFromPrivate(E,I),C=this._truncateToN(new B(C,16));for(var Q=this.n.byteLength(),ee=E.getPrivate().toArray("be",Q),te=C.toArray("be",Q),ie=new z({hash:this.hash,entropy:ee,nonce:te,pers:q.pers,persEnc:q.persEnc||"utf8"}),ne=this.n.sub(new B(1)),se=0;;se++){var oe=q.k?q.k(se):new B(ie.generate(this.n.byteLength()));if(!((oe=this._truncateToN(oe,!0)).cmpn(1)<=0||oe.cmp(ne)>=0)){var ae=this.g.mul(oe);if(!ae.isInfinity()){var le=ae.getX(),ue=le.umod(this.n);if(0!==ue.cmpn(0)){var de=oe.invm(this.n).mul(ue.mul(E.getPrivate()).iadd(C));if(0!==(de=de.umod(this.n)).cmpn(0)){var ce=(ae.getY().isOdd()?1:0)|(0!==le.cmp(ue)?2:0);return q.canonical&&de.cmp(this.nh)>0&&(de=this.n.sub(de),ce^=1),new re({r:ue,s:de,recoveryParam:ce})}}}}}},EC.prototype.verify=function verify(C,E,I,z){C=this._truncateToN(new B(C,16)),I=this.keyFromPublic(I,z);var q=(E=new re(E,"hex")).r,Q=E.s;if(q.cmpn(1)<0||q.cmp(this.n)>=0)return!1;if(Q.cmpn(1)<0||Q.cmp(this.n)>=0)return!1;var ee,te=Q.invm(this.n),ie=te.mul(C).umod(this.n),ne=te.mul(q).umod(this.n);return this.curve._maxwellTrick?!(ee=this.g.jmulAdd(ie,I.getPublic(),ne)).isInfinity()&&ee.eqXToP(q):!(ee=this.g.mulAdd(ie,I.getPublic(),ne)).isInfinity()&&0===ee.getX().umod(this.n).cmp(q)},EC.prototype.recoverPubKey=function(C,E,I,z){te((3&I)===I,"The recovery param is more than two bits"),E=new re(E,z);var q=this.n,Q=new B(C),ee=E.r,ie=E.s,ne=1&I,se=I>>1;if(ee.cmp(this.curve.p.umod(this.curve.n))>=0&&se)throw new Error("Unable to find sencond key candinate");ee=se?this.curve.pointFromX(ee.add(this.curve.n),ne):this.curve.pointFromX(ee,ne);var oe=E.r.invm(q),ae=q.sub(Q).mul(oe).umod(q),le=ie.mul(oe).umod(q);return this.g.mulAdd(ae,ee,le)},EC.prototype.getKeyRecoveryParam=function(C,E,I,B){if(null!==(E=new re(E,B)).recoveryParam)return E.recoveryParam;for(var z=0;z<4;z++){var q;try{q=this.recoverPubKey(C,E,z)}catch(C){continue}if(q.eq(I))return z}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("../utils").assert;function KeyPair(C,E){this.ec=C,this.priv=null,this.pub=null,E.priv&&this._importPrivate(E.priv,E.privEnc),E.pub&&this._importPublic(E.pub,E.pubEnc)}E.exports=KeyPair,KeyPair.fromPublic=function fromPublic(C,E,I){return E instanceof KeyPair?E:new KeyPair(C,{pub:E,pubEnc:I})},KeyPair.fromPrivate=function fromPrivate(C,E,I){return E instanceof KeyPair?E:new KeyPair(C,{priv:E,privEnc:I})},KeyPair.prototype.validate=function validate(){var C=this.getPublic();return C.isInfinity()?{result:!1,reason:"Invalid public key"}:C.validate()?C.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function getPublic(C,E){return"string"==typeof C&&(E=C,C=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),E?this.pub.encode(E,C):this.pub},KeyPair.prototype.getPrivate=function getPrivate(C){return"hex"===C?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function _importPrivate(C,E){this.priv=new B(C,E||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function _importPublic(C,E){if(C.x||C.y)return"mont"===this.ec.curve.type?z(C.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||z(C.x&&C.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(C.x,C.y));this.pub=this.ec.curve.decodePoint(C,E)},KeyPair.prototype.derive=function derive(C){return C.validate()||z(C.validate(),"public point not validated"),C.mul(this.priv).getX()},KeyPair.prototype.sign=function sign(C,E,I){return this.ec.sign(C,this,E,I)},KeyPair.prototype.verify=function verify(C,E){return this.ec.verify(C,E,this)},KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("../utils"),q=z.assert;function Signature(C,E){if(C instanceof Signature)return C;this._importDER(C,E)||(q(C.r&&C.s,"Signature without r or s"),this.r=new B(C.r,16),this.s=new B(C.s,16),void 0===C.recoveryParam?this.recoveryParam=null:this.recoveryParam=C.recoveryParam)}function Position(){this.place=0}function getLength(C,E){var I=C[E.place++];if(!(128&I))return I;var B=15&I;if(0===B||B>4)return!1;for(var z=0,q=0,Q=E.place;q<B;q++,Q++)z<<=8,z|=C[Q],z>>>=0;return!(z<=127)&&(E.place=Q,z)}function rmPadding(C){for(var E=0,I=C.length-1;!C[E]&&!(128&C[E+1])&&E<I;)E++;return 0===E?C:C.slice(E)}function constructLength(C,E){if(E<128)C.push(E);else{var I=1+(Math.log(E)/Math.LN2>>>3);for(C.push(128|I);--I;)C.push(E>>>(I<<3)&255);C.push(E)}}E.exports=Signature,Signature.prototype._importDER=function _importDER(C,E){C=z.toArray(C,E);var I=new Position;if(48!==C[I.place++])return!1;var q=getLength(C,I);if(!1===q)return!1;if(q+I.place!==C.length)return!1;if(2!==C[I.place++])return!1;var Q=getLength(C,I);if(!1===Q)return!1;var ee=C.slice(I.place,Q+I.place);if(I.place+=Q,2!==C[I.place++])return!1;var te=getLength(C,I);if(!1===te)return!1;if(C.length!==te+I.place)return!1;var ie=C.slice(I.place,te+I.place);if(0===ee[0]){if(!(128&ee[1]))return!1;ee=ee.slice(1)}if(0===ie[0]){if(!(128&ie[1]))return!1;ie=ie.slice(1)}return this.r=new B(ee),this.s=new B(ie),this.recoveryParam=null,!0},Signature.prototype.toDER=function toDER(C){var E=this.r.toArray(),I=this.s.toArray();for(128&E[0]&&(E=[0].concat(E)),128&I[0]&&(I=[0].concat(I)),E=rmPadding(E),I=rmPadding(I);!(I[0]||128&I[1]);)I=I.slice(1);var B=[2];constructLength(B,E.length),(B=B.concat(E)).push(2),constructLength(B,I.length);var q=B.concat(I),Q=[48];return constructLength(Q,q.length),Q=Q.concat(q),z.encode(Q,C)}},{"../utils":419,"bn.js":420}],415:[function(C,E,I){"use strict";var B=C("hash.js"),z=C("../curves"),q=C("../utils"),Q=q.assert,ee=q.parseBytes,te=C("./key"),ie=C("./signature");function EDDSA(C){if(Q("ed25519"===C,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(C);C=z[C].curve,this.curve=C,this.g=C.g,this.g.precompute(C.n.bitLength()+1),this.pointClass=C.point().constructor,this.encodingLength=Math.ceil(C.n.bitLength()/8),this.hash=B.sha512}E.exports=EDDSA,EDDSA.prototype.sign=function sign(C,E){C=ee(C);var I=this.keyFromSecret(E),B=this.hashInt(I.messagePrefix(),C),z=this.g.mul(B),q=this.encodePoint(z),Q=this.hashInt(q,I.pubBytes(),C).mul(I.priv()),te=B.add(Q).umod(this.curve.n);return this.makeSignature({R:z,S:te,Rencoded:q})},EDDSA.prototype.verify=function verify(C,E,I){C=ee(C),E=this.makeSignature(E);var B=this.keyFromPublic(I),z=this.hashInt(E.Rencoded(),B.pubBytes(),C),q=this.g.mul(E.S());return E.R().add(B.pub().mul(z)).eq(q)},EDDSA.prototype.hashInt=function hashInt(){for(var C=this.hash(),E=0;E<arguments.length;E++)C.update(arguments[E]);return q.intFromLE(C.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function keyFromPublic(C){return te.fromPublic(this,C)},EDDSA.prototype.keyFromSecret=function keyFromSecret(C){return te.fromSecret(this,C)},EDDSA.prototype.makeSignature=function makeSignature(C){return C instanceof ie?C:new ie(this,C)},EDDSA.prototype.encodePoint=function encodePoint(C){var E=C.getY().toArray("le",this.encodingLength);return E[this.encodingLength-1]|=C.getX().isOdd()?128:0,E},EDDSA.prototype.decodePoint=function decodePoint(C){var E=(C=q.parseBytes(C)).length-1,I=C.slice(0,E).concat(-129&C[E]),B=0!=(128&C[E]),z=q.intFromLE(I);return this.curve.pointFromY(z,B)},EDDSA.prototype.encodeInt=function encodeInt(C){return C.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function decodeInt(C){return q.intFromLE(C)},EDDSA.prototype.isPoint=function isPoint(C){return C instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(C,E,I){"use strict";var B=C("../utils"),z=B.assert,q=B.parseBytes,Q=B.cachedProperty;function KeyPair(C,E){this.eddsa=C,this._secret=q(E.secret),C.isPoint(E.pub)?this._pub=E.pub:this._pubBytes=q(E.pub)}KeyPair.fromPublic=function fromPublic(C,E){return E instanceof KeyPair?E:new KeyPair(C,{pub:E})},KeyPair.fromSecret=function fromSecret(C,E){return E instanceof KeyPair?E:new KeyPair(C,{secret:E})},KeyPair.prototype.secret=function secret(){return this._secret},Q(KeyPair,"pubBytes",(function pubBytes(){return this.eddsa.encodePoint(this.pub())})),Q(KeyPair,"pub",(function pub(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Q(KeyPair,"privBytes",(function privBytes(){var C=this.eddsa,E=this.hash(),I=C.encodingLength-1,B=E.slice(0,C.encodingLength);return B[0]&=248,B[I]&=127,B[I]|=64,B})),Q(KeyPair,"priv",(function priv(){return this.eddsa.decodeInt(this.privBytes())})),Q(KeyPair,"hash",(function hash(){return this.eddsa.hash().update(this.secret()).digest()})),Q(KeyPair,"messagePrefix",(function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)})),KeyPair.prototype.sign=function sign(C){return z(this._secret,"KeyPair can only verify"),this.eddsa.sign(C,this)},KeyPair.prototype.verify=function verify(C,E){return this.eddsa.verify(C,E,this)},KeyPair.prototype.getSecret=function getSecret(C){return z(this._secret,"KeyPair is public only"),B.encode(this.secret(),C)},KeyPair.prototype.getPublic=function getPublic(C){return B.encode(this.pubBytes(),C)},E.exports=KeyPair},{"../utils":419}],417:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("../utils"),q=z.assert,Q=z.cachedProperty,ee=z.parseBytes;function Signature(C,E){this.eddsa=C,"object"!=typeof E&&(E=ee(E)),Array.isArray(E)&&(E={R:E.slice(0,C.encodingLength),S:E.slice(C.encodingLength)}),q(E.R&&E.S,"Signature without R or S"),C.isPoint(E.R)&&(this._R=E.R),E.S instanceof B&&(this._S=E.S),this._Rencoded=Array.isArray(E.R)?E.R:E.Rencoded,this._Sencoded=Array.isArray(E.S)?E.S:E.Sencoded}Q(Signature,"S",(function S(){return this.eddsa.decodeInt(this.Sencoded())})),Q(Signature,"R",(function R(){return this.eddsa.decodePoint(this.Rencoded())})),Q(Signature,"Rencoded",(function Rencoded(){return this.eddsa.encodePoint(this.R())})),Q(Signature,"Sencoded",(function Sencoded(){return this.eddsa.encodeInt(this.S())})),Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function toHex(){return z.encode(this.toBytes(),"hex").toUpperCase()},E.exports=Signature},{"../utils":419,"bn.js":420}],418:[function(C,E,I){"use strict";E.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(C,E,I){"use strict";var B=I,z=C("bn.js"),q=C("minimalistic-assert"),Q=C("minimalistic-crypto-utils");function getNAF(C,E,I){var B=new Array(Math.max(C.bitLength(),I)+1);B.fill(0);for(var z=1<<E+1,q=C.clone(),Q=0;Q<B.length;Q++){var ee,te=q.andln(z-1);q.isOdd()?(ee=te>(z>>1)-1?(z>>1)-te:te,q.isubn(ee)):ee=0,B[Q]=ee,q.iushrn(1)}return B}function getJSF(C,E){var I=[[],[]];C=C.clone(),E=E.clone();for(var B,z=0,q=0;C.cmpn(-z)>0||E.cmpn(-q)>0;){var Q,ee,te=C.andln(3)+z&3,ie=E.andln(3)+q&3;3===te&&(te=-1),3===ie&&(ie=-1),Q=0==(1&te)?0:3!=(B=C.andln(7)+z&7)&&5!==B||2!==ie?te:-te,I[0].push(Q),ee=0==(1&ie)?0:3!=(B=E.andln(7)+q&7)&&5!==B||2!==te?ie:-ie,I[1].push(ee),2*z===Q+1&&(z=1-z),2*q===ee+1&&(q=1-q),C.iushrn(1),E.iushrn(1)}return I}function cachedProperty(C,E,I){var B="_"+E;C.prototype[E]=function cachedProperty(){return void 0!==this[B]?this[B]:this[B]=I.call(this)}}function parseBytes(C){return"string"==typeof C?B.toArray(C,"hex"):C}function intFromLE(C){return new z(C,"hex","le")}B.assert=q,B.toArray=Q.toArray,B.zero2=Q.zero2,B.toHex=Q.toHex,B.encode=Q.encode,B.getNAF=getNAF,B.getJSF=getJSF,B.cachedProperty=cachedProperty,B.parseBytes=parseBytes,B.intFromLE=intFromLE},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(C,E,I){arguments[4][184][0].apply(I,arguments)},{buffer:188,dup:184}],421:[function(C,E,I){E.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(C,E,I){"use strict";var B=Object.create||objectCreatePolyfill,z=Object.keys||objectKeysPolyfill,q=Function.prototype.bind||functionBindPolyfill;function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=B(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}E.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var Q,ee=10;try{var te={};Object.defineProperty&&Object.defineProperty(te,"x",{value:0}),Q=0===te.x}catch(C){Q=!1}function $getMaxListeners(C){return void 0===C._maxListeners?EventEmitter.defaultMaxListeners:C._maxListeners}function emitNone(C,E,I){if(E)C.call(I);else for(var B=C.length,z=arrayClone(C,B),q=0;q<B;++q)z[q].call(I)}function emitOne(C,E,I,B){if(E)C.call(I,B);else for(var z=C.length,q=arrayClone(C,z),Q=0;Q<z;++Q)q[Q].call(I,B)}function emitTwo(C,E,I,B,z){if(E)C.call(I,B,z);else for(var q=C.length,Q=arrayClone(C,q),ee=0;ee<q;++ee)Q[ee].call(I,B,z)}function emitThree(C,E,I,B,z,q){if(E)C.call(I,B,z,q);else for(var Q=C.length,ee=arrayClone(C,Q),te=0;te<Q;++te)ee[te].call(I,B,z,q)}function emitMany(C,E,I,B){if(E)C.apply(I,B);else for(var z=C.length,q=arrayClone(C,z),Q=0;Q<z;++Q)q[Q].apply(I,B)}function _addListener(C,E,I,z){var q,Q,ee;if("function"!=typeof I)throw new TypeError('"listener" argument must be a function');if((Q=C._events)?(Q.newListener&&(C.emit("newListener",E,I.listener?I.listener:I),Q=C._events),ee=Q[E]):(Q=C._events=B(null),C._eventsCount=0),ee){if("function"==typeof ee?ee=Q[E]=z?[I,ee]:[ee,I]:z?ee.unshift(I):ee.push(I),!ee.warned&&(q=$getMaxListeners(C))&&q>0&&ee.length>q){ee.warned=!0;var te=new Error("Possible EventEmitter memory leak detected. "+ee.length+' "'+String(E)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');te.name="MaxListenersExceededWarning",te.emitter=C,te.type=E,te.count=ee.length,"object"==typeof console&&console.warn}}else ee=Q[E]=I,++C._eventsCount;return C}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var C=new Array(arguments.length),E=0;E<C.length;++E)C[E]=arguments[E];this.listener.apply(this.target,C)}}function _onceWrap(C,E,I){var B={fired:!1,wrapFn:void 0,target:C,type:E,listener:I},z=q.call(onceWrapper,B);return z.listener=I,B.wrapFn=z,z}function _listeners(C,E,I){var B=C._events;if(!B)return[];var z=B[E];return z?"function"==typeof z?I?[z.listener||z]:[z]:I?unwrapListeners(z):arrayClone(z,z.length):[]}function listenerCount(C){var E=this._events;if(E){var I=E[C];if("function"==typeof I)return 1;if(I)return I.length}return 0}function spliceOne(C,E){for(var I=E,B=I+1,z=C.length;B<z;I+=1,B+=1)C[I]=C[B];C.pop()}function arrayClone(C,E){for(var I=new Array(E),B=0;B<E;++B)I[B]=C[B];return I}function unwrapListeners(C){for(var E=new Array(C.length),I=0;I<E.length;++I)E[I]=C[I].listener||C[I];return E}function objectCreatePolyfill(C){var F=function(){};return F.prototype=C,new F}function objectKeysPolyfill(C){var E=[];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&E.push(I);return I}function functionBindPolyfill(C){var E=this;return function(){return E.apply(C,arguments)}}Q?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return ee},set:function(C){if("number"!=typeof C||C<0||C!=C)throw new TypeError('"defaultMaxListeners" must be a positive number');ee=C}}):EventEmitter.defaultMaxListeners=ee,EventEmitter.prototype.setMaxListeners=function setMaxListeners(C){if("number"!=typeof C||C<0||isNaN(C))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=C,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function emit(C){var E,I,B,z,q,Q,ee="error"===C;if(Q=this._events)ee=ee&&null==Q.error;else if(!ee)return!1;if(ee){if(arguments.length>1&&(E=arguments[1]),E instanceof Error)throw E;var te=new Error('Unhandled "error" event. ('+E+")");throw te.context=E,te}if(!(I=Q[C]))return!1;var ie="function"==typeof I;switch(B=arguments.length){case 1:emitNone(I,ie,this);break;case 2:emitOne(I,ie,this,arguments[1]);break;case 3:emitTwo(I,ie,this,arguments[1],arguments[2]);break;case 4:emitThree(I,ie,this,arguments[1],arguments[2],arguments[3]);break;default:for(z=new Array(B-1),q=1;q<B;q++)z[q-1]=arguments[q];emitMany(I,ie,this,z)}return!0},EventEmitter.prototype.addListener=function addListener(C,E){return _addListener(this,C,E,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(C,E){return _addListener(this,C,E,!0)},EventEmitter.prototype.once=function once(C,E){if("function"!=typeof E)throw new TypeError('"listener" argument must be a function');return this.on(C,_onceWrap(this,C,E)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(C,E){if("function"!=typeof E)throw new TypeError('"listener" argument must be a function');return this.prependListener(C,_onceWrap(this,C,E)),this},EventEmitter.prototype.removeListener=function removeListener(C,E){var I,z,q,Q,ee;if("function"!=typeof E)throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(I=z[C]))return this;if(I===E||I.listener===E)0==--this._eventsCount?this._events=B(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,I.listener||E));else if("function"!=typeof I){for(q=-1,Q=I.length-1;Q>=0;Q--)if(I[Q]===E||I[Q].listener===E){ee=I[Q].listener,q=Q;break}if(q<0)return this;0===q?I.shift():spliceOne(I,q),1===I.length&&(z[C]=I[0]),z.removeListener&&this.emit("removeListener",C,ee||E)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(C){var E,I,q;if(!(I=this._events))return this;if(!I.removeListener)return 0===arguments.length?(this._events=B(null),this._eventsCount=0):I[C]&&(0==--this._eventsCount?this._events=B(null):delete I[C]),this;if(0===arguments.length){var Q,ee=z(I);for(q=0;q<ee.length;++q)"removeListener"!==(Q=ee[q])&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=B(null),this._eventsCount=0,this}if("function"==typeof(E=I[C]))this.removeListener(C,E);else if(E)for(q=E.length-1;q>=0;q--)this.removeListener(C,E[q]);return this},EventEmitter.prototype.listeners=function listeners(C){return _listeners(this,C,!0)},EventEmitter.prototype.rawListeners=function rawListeners(C){return _listeners(this,C,!1)},EventEmitter.listenerCount=function(C,E){return"function"==typeof C.listenerCount?C.listenerCount(E):listenerCount.call(C,E)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=C("md5.js");function EVP_BytesToKey(C,E,I,q){if(B.isBuffer(C)||(C=B.from(C,"binary")),E&&(B.isBuffer(E)||(E=B.from(E,"binary")),8!==E.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var Q=I/8,ee=B.alloc(Q),te=B.alloc(q||0),ie=B.alloc(0);Q>0||q>0;){var re=new z;re.update(ie),re.update(C),E&&re.update(E),ie=re.digest();var ne=0;if(Q>0){var se=ee.length-Q;ne=Math.min(Q,ie.length),ie.copy(ee,se,0,ne),Q-=ne}if(ne<ie.length&&q>0){var oe=te.length-q,ae=Math.min(q,ie.length-ne);ie.copy(te,oe,ne,ne+ae),q-=ae}}return ie.fill(0),{key:ee,iv:te}}E.exports=EVP_BytesToKey},{"md5.js":450,"safe-buffer":494}],424:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.CsvParserStream=I.ParserOptions=I.parseFile=I.parseStream=I.parseString=I.parse=I.FormatterOptions=I.CsvFormatterStream=I.writeToPath=I.writeToString=I.writeToBuffer=I.writeToStream=I.write=I.format=void 0;var B=C("@fast-csv/format");Object.defineProperty(I,"format",{enumerable:!0,get:function(){return B.format}}),Object.defineProperty(I,"write",{enumerable:!0,get:function(){return B.write}}),Object.defineProperty(I,"writeToStream",{enumerable:!0,get:function(){return B.writeToStream}}),Object.defineProperty(I,"writeToBuffer",{enumerable:!0,get:function(){return B.writeToBuffer}}),Object.defineProperty(I,"writeToString",{enumerable:!0,get:function(){return B.writeToString}}),Object.defineProperty(I,"writeToPath",{enumerable:!0,get:function(){return B.writeToPath}}),Object.defineProperty(I,"CsvFormatterStream",{enumerable:!0,get:function(){return B.CsvFormatterStream}}),Object.defineProperty(I,"FormatterOptions",{enumerable:!0,get:function(){return B.FormatterOptions}});var z=C("@fast-csv/parse");Object.defineProperty(I,"parse",{enumerable:!0,get:function(){return z.parse}}),Object.defineProperty(I,"parseString",{enumerable:!0,get:function(){return z.parseString}}),Object.defineProperty(I,"parseStream",{enumerable:!0,get:function(){return z.parseStream}}),Object.defineProperty(I,"parseFile",{enumerable:!0,get:function(){return z.parseFile}}),Object.defineProperty(I,"ParserOptions",{enumerable:!0,get:function(){return z.ParserOptions}}),Object.defineProperty(I,"CsvParserStream",{enumerable:!0,get:function(){return z.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer,z=C("readable-stream").Transform;function throwIfNotStringOrBuffer(C,E){if(!B.isBuffer(C)&&"string"!=typeof C)throw new TypeError(E+" must be a string or a buffer")}function HashBase(C){z.call(this),this._block=B.allocUnsafe(C),this._blockSize=C,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}C("inherits")(HashBase,z),HashBase.prototype._transform=function(C,E,I){var B=null;try{this.update(C,E)}catch(C){B=C}I(B)},HashBase.prototype._flush=function(C){var E=null;try{this.push(this.digest())}catch(C){E=C}C(E)},HashBase.prototype.update=function(C,E){if(throwIfNotStringOrBuffer(C,"Data"),this._finalized)throw new Error("Digest already called");B.isBuffer(C)||(C=B.from(C,E));for(var I=this._block,z=0;this._blockOffset+C.length-z>=this._blockSize;){for(var q=this._blockOffset;q<this._blockSize;)I[q++]=C[z++];this._update(),this._blockOffset=0}for(;z<C.length;)I[this._blockOffset++]=C[z++];for(var Q=0,ee=8*C.length;ee>0;++Q)this._length[Q]+=ee,(ee=this._length[Q]/4294967296|0)>0&&(this._length[Q]-=4294967296*ee);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(C){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var E=this._digest();void 0!==C&&(E=E.toString(C)),this._block.fill(0),this._blockOffset=0;for(var I=0;I<4;++I)this._length[I]=0;return E},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},E.exports=HashBase},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(C,E,I){"use strict";var B=I;B.utils=C("./hash/utils"),B.common=C("./hash/common"),B.sha=C("./hash/sha"),B.ripemd=C("./hash/ripemd"),B.hmac=C("./hash/hmac"),B.sha1=B.sha.sha1,B.sha256=B.sha.sha256,B.sha224=B.sha.sha224,B.sha384=B.sha.sha384,B.sha512=B.sha.sha512,B.ripemd160=B.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(C,E,I){"use strict";var B=C("./utils"),z=C("minimalistic-assert");function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}I.BlockHash=BlockHash,BlockHash.prototype.update=function update(C,E){if(C=B.toArray(C,E),this.pending?this.pending=this.pending.concat(C):this.pending=C,this.pendingTotal+=C.length,this.pending.length>=this._delta8){var I=(C=this.pending).length%this._delta8;this.pending=C.slice(C.length-I,C.length),0===this.pending.length&&(this.pending=null),C=B.join32(C,0,C.length-I,this.endian);for(var z=0;z<C.length;z+=this._delta32)this._update(C,z,z+this._delta32)}return this},BlockHash.prototype.digest=function digest(C){return this.update(this._pad()),z(null===this.pending),this._digest(C)},BlockHash.prototype._pad=function pad(){var C=this.pendingTotal,E=this._delta8,I=E-(C+this.padLength)%E,B=new Array(I+this.padLength);B[0]=128;for(var z=1;z<I;z++)B[z]=0;if(C<<=3,"big"===this.endian){for(var q=8;q<this.padLength;q++)B[z++]=0;B[z++]=0,B[z++]=0,B[z++]=0,B[z++]=0,B[z++]=C>>>24&255,B[z++]=C>>>16&255,B[z++]=C>>>8&255,B[z++]=255&C}else for(B[z++]=255&C,B[z++]=C>>>8&255,B[z++]=C>>>16&255,B[z++]=C>>>24&255,B[z++]=0,B[z++]=0,B[z++]=0,B[z++]=0,q=8;q<this.padLength;q++)B[z++]=0;return B}},{"./utils":437,"minimalistic-assert":453}],428:[function(C,E,I){"use strict";var B=C("./utils"),z=C("minimalistic-assert");function Hmac(C,E,I){if(!(this instanceof Hmac))return new Hmac(C,E,I);this.Hash=C,this.blockSize=C.blockSize/8,this.outSize=C.outSize/8,this.inner=null,this.outer=null,this._init(B.toArray(E,I))}E.exports=Hmac,Hmac.prototype._init=function init(C){C.length>this.blockSize&&(C=(new this.Hash).update(C).digest()),z(C.length<=this.blockSize);for(var E=C.length;E<this.blockSize;E++)C.push(0);for(E=0;E<C.length;E++)C[E]^=54;for(this.inner=(new this.Hash).update(C),E=0;E<C.length;E++)C[E]^=106;this.outer=(new this.Hash).update(C)},Hmac.prototype.update=function update(C,E){return this.inner.update(C,E),this},Hmac.prototype.digest=function digest(C){return this.outer.update(this.inner.digest()),this.outer.digest(C)}},{"./utils":437,"minimalistic-assert":453}],429:[function(C,E,I){"use strict";var B=C("./utils"),z=C("./common"),q=B.rotl32,Q=B.sum32,ee=B.sum32_3,te=B.sum32_4,ie=z.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;ie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(C,E,I,B){return C<=15?E^I^B:C<=31?E&I|~E&B:C<=47?(E|~I)^B:C<=63?E&B|I&~B:E^(I|~B)}function K(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function Kh(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}B.inherits(RIPEMD160,ie),I.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function update(C,E){for(var I=this.h[0],B=this.h[1],z=this.h[2],ie=this.h[3],ae=this.h[4],le=I,ue=B,de=z,ce=ie,he=ae,fe=0;fe<80;fe++){var pe=Q(q(te(I,f(fe,B,z,ie),C[re[fe]+E],K(fe)),se[fe]),ae);I=ae,ae=ie,ie=q(z,10),z=B,B=pe,pe=Q(q(te(le,f(79-fe,ue,de,ce),C[ne[fe]+E],Kh(fe)),oe[fe]),he),le=he,he=ce,ce=q(de,10),de=ue,ue=pe}pe=ee(this.h[1],z,ce),this.h[1]=ee(this.h[2],ie,he),this.h[2]=ee(this.h[3],ae,le),this.h[3]=ee(this.h[4],I,ue),this.h[4]=ee(this.h[0],B,de),this.h[0]=pe},RIPEMD160.prototype._digest=function digest(C){return"hex"===C?B.toHex32(this.h,"little"):B.split32(this.h,"little")};var re=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ne=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],se=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],oe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(C,E,I){"use strict";I.sha1=C("./sha/1"),I.sha224=C("./sha/224"),I.sha256=C("./sha/256"),I.sha384=C("./sha/384"),I.sha512=C("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(C,E,I){"use strict";var B=C("../utils"),z=C("../common"),q=C("./common"),Q=B.rotl32,ee=B.sum32,te=B.sum32_5,ie=q.ft_1,re=z.BlockHash,ne=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;re.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}B.inherits(SHA1,re),E.exports=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function _update(C,E){for(var I=this.W,B=0;B<16;B++)I[B]=C[E+B];for(;B<I.length;B++)I[B]=Q(I[B-3]^I[B-8]^I[B-14]^I[B-16],1);var z=this.h[0],q=this.h[1],re=this.h[2],se=this.h[3],oe=this.h[4];for(B=0;B<I.length;B++){var ae=~~(B/20),le=te(Q(z,5),ie(ae,q,re,se),oe,I[B],ne[ae]);oe=se,se=re,re=Q(q,30),q=z,z=le}this.h[0]=ee(this.h[0],z),this.h[1]=ee(this.h[1],q),this.h[2]=ee(this.h[2],re),this.h[3]=ee(this.h[3],se),this.h[4]=ee(this.h[4],oe)},SHA1.prototype._digest=function digest(C){return"hex"===C?B.toHex32(this.h,"big"):B.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(C,E,I){"use strict";var B=C("../utils"),z=C("./256");function SHA224(){if(!(this instanceof SHA224))return new SHA224;z.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}B.inherits(SHA224,z),E.exports=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function digest(C){return"hex"===C?B.toHex32(this.h.slice(0,7),"big"):B.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(C,E,I){"use strict";var B=C("../utils"),z=C("../common"),q=C("./common"),Q=C("minimalistic-assert"),ee=B.sum32,te=B.sum32_4,ie=B.sum32_5,re=q.ch32,ne=q.maj32,se=q.s0_256,oe=q.s1_256,ae=q.g0_256,le=q.g1_256,ue=z.BlockHash,de=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;ue.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=de,this.W=new Array(64)}B.inherits(SHA256,ue),E.exports=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function _update(C,E){for(var I=this.W,B=0;B<16;B++)I[B]=C[E+B];for(;B<I.length;B++)I[B]=te(le(I[B-2]),I[B-7],ae(I[B-15]),I[B-16]);var z=this.h[0],q=this.h[1],ue=this.h[2],de=this.h[3],ce=this.h[4],he=this.h[5],fe=this.h[6],pe=this.h[7];for(Q(this.k.length===I.length),B=0;B<I.length;B++){var me=ie(pe,oe(ce),re(ce,he,fe),this.k[B],I[B]),ge=ee(se(z),ne(z,q,ue));pe=fe,fe=he,he=ce,ce=ee(de,me),de=ue,ue=q,q=z,z=ee(me,ge)}this.h[0]=ee(this.h[0],z),this.h[1]=ee(this.h[1],q),this.h[2]=ee(this.h[2],ue),this.h[3]=ee(this.h[3],de),this.h[4]=ee(this.h[4],ce),this.h[5]=ee(this.h[5],he),this.h[6]=ee(this.h[6],fe),this.h[7]=ee(this.h[7],pe)},SHA256.prototype._digest=function digest(C){return"hex"===C?B.toHex32(this.h,"big"):B.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(C,E,I){"use strict";var B=C("../utils"),z=C("./512");function SHA384(){if(!(this instanceof SHA384))return new SHA384;z.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}B.inherits(SHA384,z),E.exports=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function digest(C){return"hex"===C?B.toHex32(this.h.slice(0,12),"big"):B.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(C,E,I){"use strict";var B=C("../utils"),z=C("../common"),q=C("minimalistic-assert"),Q=B.rotr64_hi,ee=B.rotr64_lo,te=B.shr64_hi,ie=B.shr64_lo,re=B.sum64,ne=B.sum64_hi,se=B.sum64_lo,oe=B.sum64_4_hi,ae=B.sum64_4_lo,le=B.sum64_5_hi,ue=B.sum64_5_lo,de=z.BlockHash,ce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;de.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ce,this.W=new Array(160)}function ch64_hi(C,E,I,B,z){var q=C&I^~C&z;return q<0&&(q+=4294967296),q}function ch64_lo(C,E,I,B,z,q){var Q=E&B^~E&q;return Q<0&&(Q+=4294967296),Q}function maj64_hi(C,E,I,B,z){var q=C&I^C&z^I&z;return q<0&&(q+=4294967296),q}function maj64_lo(C,E,I,B,z,q){var Q=E&B^E&q^B&q;return Q<0&&(Q+=4294967296),Q}function s0_512_hi(C,E){var I=Q(C,E,28)^Q(E,C,2)^Q(E,C,7);return I<0&&(I+=4294967296),I}function s0_512_lo(C,E){var I=ee(C,E,28)^ee(E,C,2)^ee(E,C,7);return I<0&&(I+=4294967296),I}function s1_512_hi(C,E){var I=Q(C,E,14)^Q(C,E,18)^Q(E,C,9);return I<0&&(I+=4294967296),I}function s1_512_lo(C,E){var I=ee(C,E,14)^ee(C,E,18)^ee(E,C,9);return I<0&&(I+=4294967296),I}function g0_512_hi(C,E){var I=Q(C,E,1)^Q(C,E,8)^te(C,E,7);return I<0&&(I+=4294967296),I}function g0_512_lo(C,E){var I=ee(C,E,1)^ee(C,E,8)^ie(C,E,7);return I<0&&(I+=4294967296),I}function g1_512_hi(C,E){var I=Q(C,E,19)^Q(E,C,29)^te(C,E,6);return I<0&&(I+=4294967296),I}function g1_512_lo(C,E){var I=ee(C,E,19)^ee(E,C,29)^ie(C,E,6);return I<0&&(I+=4294967296),I}B.inherits(SHA512,de),E.exports=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function _prepareBlock(C,E){for(var I=this.W,B=0;B<32;B++)I[B]=C[E+B];for(;B<I.length;B+=2){var z=g1_512_hi(I[B-4],I[B-3]),q=g1_512_lo(I[B-4],I[B-3]),Q=I[B-14],ee=I[B-13],te=g0_512_hi(I[B-30],I[B-29]),ie=g0_512_lo(I[B-30],I[B-29]),re=I[B-32],ne=I[B-31];I[B]=oe(z,q,Q,ee,te,ie,re,ne),I[B+1]=ae(z,q,Q,ee,te,ie,re,ne)}},SHA512.prototype._update=function _update(C,E){this._prepareBlock(C,E);var I=this.W,B=this.h[0],z=this.h[1],Q=this.h[2],ee=this.h[3],te=this.h[4],ie=this.h[5],oe=this.h[6],ae=this.h[7],de=this.h[8],ce=this.h[9],he=this.h[10],fe=this.h[11],pe=this.h[12],me=this.h[13],ge=this.h[14],ve=this.h[15];q(this.k.length===I.length);for(var ye=0;ye<I.length;ye+=2){var be=ge,Ce=ve,we=s1_512_hi(de,ce),_e=s1_512_lo(de,ce),Se=ch64_hi(de,ce,he,fe,pe,me),xe=ch64_lo(de,ce,he,fe,pe,me),ke=this.k[ye],Te=this.k[ye+1],Me=I[ye],Re=I[ye+1],Ee=le(be,Ce,we,_e,Se,xe,ke,Te,Me,Re),Pe=ue(be,Ce,we,_e,Se,xe,ke,Te,Me,Re);be=s0_512_hi(B,z),Ce=s0_512_lo(B,z),we=maj64_hi(B,z,Q,ee,te,ie),_e=maj64_lo(B,z,Q,ee,te,ie);var Ie=ne(be,Ce,we,_e),Ae=se(be,Ce,we,_e);ge=pe,ve=me,pe=he,me=fe,he=de,fe=ce,de=ne(oe,ae,Ee,Pe),ce=se(ae,ae,Ee,Pe),oe=te,ae=ie,te=Q,ie=ee,Q=B,ee=z,B=ne(Ee,Pe,Ie,Ae),z=se(Ee,Pe,Ie,Ae)}re(this.h,0,B,z),re(this.h,2,Q,ee),re(this.h,4,te,ie),re(this.h,6,oe,ae),re(this.h,8,de,ce),re(this.h,10,he,fe),re(this.h,12,pe,me),re(this.h,14,ge,ve)},SHA512.prototype._digest=function digest(C){return"hex"===C?B.toHex32(this.h,"big"):B.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(C,E,I){"use strict";var B=C("../utils").rotr32;function ft_1(C,E,I,B){return 0===C?ch32(E,I,B):1===C||3===C?p32(E,I,B):2===C?maj32(E,I,B):void 0}function ch32(C,E,I){return C&E^~C&I}function maj32(C,E,I){return C&E^C&I^E&I}function p32(C,E,I){return C^E^I}function s0_256(C){return B(C,2)^B(C,13)^B(C,22)}function s1_256(C){return B(C,6)^B(C,11)^B(C,25)}function g0_256(C){return B(C,7)^B(C,18)^C>>>3}function g1_256(C){return B(C,17)^B(C,19)^C>>>10}I.ft_1=ft_1,I.ch32=ch32,I.maj32=maj32,I.p32=p32,I.s0_256=s0_256,I.s1_256=s1_256,I.g0_256=g0_256,I.g1_256=g1_256},{"../utils":437}],437:[function(C,E,I){"use strict";var B=C("minimalistic-assert"),z=C("inherits");function isSurrogatePair(C,E){return 55296==(64512&C.charCodeAt(E))&&!(E<0||E+1>=C.length)&&56320==(64512&C.charCodeAt(E+1))}function toArray(C,E){if(Array.isArray(C))return C.slice();if(!C)return[];var I=[];if("string"==typeof C)if(E){if("hex"===E)for((C=C.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(C="0"+C),z=0;z<C.length;z+=2)I.push(parseInt(C[z]+C[z+1],16))}else for(var B=0,z=0;z<C.length;z++){var q=C.charCodeAt(z);q<128?I[B++]=q:q<2048?(I[B++]=q>>6|192,I[B++]=63&q|128):isSurrogatePair(C,z)?(q=65536+((1023&q)<<10)+(1023&C.charCodeAt(++z)),I[B++]=q>>18|240,I[B++]=q>>12&63|128,I[B++]=q>>6&63|128,I[B++]=63&q|128):(I[B++]=q>>12|224,I[B++]=q>>6&63|128,I[B++]=63&q|128)}else for(z=0;z<C.length;z++)I[z]=0|C[z];return I}function toHex(C){for(var E="",I=0;I<C.length;I++)E+=zero2(C[I].toString(16));return E}function htonl(C){return(C>>>24|C>>>8&65280|C<<8&16711680|(255&C)<<24)>>>0}function toHex32(C,E){for(var I="",B=0;B<C.length;B++){var z=C[B];"little"===E&&(z=htonl(z)),I+=zero8(z.toString(16))}return I}function zero2(C){return 1===C.length?"0"+C:C}function zero8(C){return 7===C.length?"0"+C:6===C.length?"00"+C:5===C.length?"000"+C:4===C.length?"0000"+C:3===C.length?"00000"+C:2===C.length?"000000"+C:1===C.length?"0000000"+C:C}function join32(C,E,I,z){var q=I-E;B(q%4==0);for(var Q=new Array(q/4),ee=0,te=E;ee<Q.length;ee++,te+=4){var ie;ie="big"===z?C[te]<<24|C[te+1]<<16|C[te+2]<<8|C[te+3]:C[te+3]<<24|C[te+2]<<16|C[te+1]<<8|C[te],Q[ee]=ie>>>0}return Q}function split32(C,E){for(var I=new Array(4*C.length),B=0,z=0;B<C.length;B++,z+=4){var q=C[B];"big"===E?(I[z]=q>>>24,I[z+1]=q>>>16&255,I[z+2]=q>>>8&255,I[z+3]=255&q):(I[z+3]=q>>>24,I[z+2]=q>>>16&255,I[z+1]=q>>>8&255,I[z]=255&q)}return I}function rotr32(C,E){return C>>>E|C<<32-E}function rotl32(C,E){return C<<E|C>>>32-E}function sum32(C,E){return C+E>>>0}function sum32_3(C,E,I){return C+E+I>>>0}function sum32_4(C,E,I,B){return C+E+I+B>>>0}function sum32_5(C,E,I,B,z){return C+E+I+B+z>>>0}function sum64(C,E,I,B){var z=C[E],q=B+C[E+1]>>>0,Q=(q<B?1:0)+I+z;C[E]=Q>>>0,C[E+1]=q}function sum64_hi(C,E,I,B){return(E+B>>>0<E?1:0)+C+I>>>0}function sum64_lo(C,E,I,B){return E+B>>>0}function sum64_4_hi(C,E,I,B,z,q,Q,ee){var te=0,ie=E;return te+=(ie=ie+B>>>0)<E?1:0,te+=(ie=ie+q>>>0)<q?1:0,C+I+z+Q+(te+=(ie=ie+ee>>>0)<ee?1:0)>>>0}function sum64_4_lo(C,E,I,B,z,q,Q,ee){return E+B+q+ee>>>0}function sum64_5_hi(C,E,I,B,z,q,Q,ee,te,ie){var re=0,ne=E;return re+=(ne=ne+B>>>0)<E?1:0,re+=(ne=ne+q>>>0)<q?1:0,re+=(ne=ne+ee>>>0)<ee?1:0,C+I+z+Q+te+(re+=(ne=ne+ie>>>0)<ie?1:0)>>>0}function sum64_5_lo(C,E,I,B,z,q,Q,ee,te,ie){return E+B+q+ee+ie>>>0}function rotr64_hi(C,E,I){return(E<<32-I|C>>>I)>>>0}function rotr64_lo(C,E,I){return(C<<32-I|E>>>I)>>>0}function shr64_hi(C,E,I){return C>>>I}function shr64_lo(C,E,I){return(C<<32-I|E>>>I)>>>0}I.inherits=z,I.toArray=toArray,I.toHex=toHex,I.htonl=htonl,I.toHex32=toHex32,I.zero2=zero2,I.zero8=zero8,I.join32=join32,I.split32=split32,I.rotr32=rotr32,I.rotl32=rotl32,I.sum32=sum32,I.sum32_3=sum32_3,I.sum32_4=sum32_4,I.sum32_5=sum32_5,I.sum64=sum64,I.sum64_hi=sum64_hi,I.sum64_lo=sum64_lo,I.sum64_4_hi=sum64_4_hi,I.sum64_4_lo=sum64_4_lo,I.sum64_5_hi=sum64_5_hi,I.sum64_5_lo=sum64_5_lo,I.rotr64_hi=rotr64_hi,I.rotr64_lo=rotr64_lo,I.shr64_hi=shr64_hi,I.shr64_lo=shr64_lo},{inherits:440,"minimalistic-assert":453}],438:[function(C,E,I){"use strict";var B=C("hash.js"),z=C("minimalistic-crypto-utils"),q=C("minimalistic-assert");function HmacDRBG(C){if(!(this instanceof HmacDRBG))return new HmacDRBG(C);this.hash=C.hash,this.predResist=!!C.predResist,this.outLen=this.hash.outSize,this.minEntropy=C.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var E=z.toArray(C.entropy,C.entropyEnc||"hex"),I=z.toArray(C.nonce,C.nonceEnc||"hex"),B=z.toArray(C.pers,C.persEnc||"hex");q(E.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(E,I,B)}E.exports=HmacDRBG,HmacDRBG.prototype._init=function init(C,E,I){var B=C.concat(E).concat(I);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var z=0;z<this.V.length;z++)this.K[z]=0,this.V[z]=1;this._update(B),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function hmac(){return new B.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function update(C){var E=this._hmac().update(this.V).update([0]);C&&(E=E.update(C)),this.K=E.digest(),this.V=this._hmac().update(this.V).digest(),C&&(this.K=this._hmac().update(this.V).update([1]).update(C).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function reseed(C,E,I,B){"string"!=typeof E&&(B=I,I=E,E=null),C=z.toArray(C,E),I=z.toArray(I,B),q(C.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(C.concat(I||[])),this._reseed=1},HmacDRBG.prototype.generate=function generate(C,E,I,B){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof E&&(B=I,I=E,E=null),I&&(I=z.toArray(I,B||"hex"),this._update(I));for(var q=[];q.length<C;)this.V=this._hmac().update(this.V).digest(),q=q.concat(this.V);var Q=q.slice(0,C);return this._update(I),this._reseed++,z.encode(Q,E)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(C,E,I){"use strict";I.read=function(C,E,I,B,z){var q,Q,ee=8*z-B-1,te=(1<<ee)-1,ie=te>>1,re=-7,ne=I?z-1:0,se=I?-1:1,oe=C[E+ne];for(ne+=se,q=oe&(1<<-re)-1,oe>>=-re,re+=ee;re>0;q=256*q+C[E+ne],ne+=se,re-=8);for(Q=q&(1<<-re)-1,q>>=-re,re+=B;re>0;Q=256*Q+C[E+ne],ne+=se,re-=8);if(0===q)q=1-ie;else{if(q===te)return Q?NaN:1/0*(oe?-1:1);Q+=Math.pow(2,B),q-=ie}return(oe?-1:1)*Q*Math.pow(2,q-B)},I.write=function(C,E,I,B,z,q){var Q,ee,te,ie=8*q-z-1,re=(1<<ie)-1,ne=re>>1,se=23===z?Math.pow(2,-24)-Math.pow(2,-77):0,oe=B?0:q-1,ae=B?1:-1,le=E<0||0===E&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===1/0?(ee=isNaN(E)?1:0,Q=re):(Q=Math.floor(Math.log(E)/Math.LN2),E*(te=Math.pow(2,-Q))<1&&(Q--,te*=2),(E+=Q+ne>=1?se/te:se*Math.pow(2,1-ne))*te>=2&&(Q++,te/=2),Q+ne>=re?(ee=0,Q=re):Q+ne>=1?(ee=(E*te-1)*Math.pow(2,z),Q+=ne):(ee=E*Math.pow(2,ne-1)*Math.pow(2,z),Q=0));z>=8;C[I+oe]=255&ee,oe+=ae,ee/=256,z-=8);for(Q=Q<<z|ee,ie+=z;ie>0;C[I+oe]=255&Q,oe+=ae,Q/=256,ie-=8);C[I+oe-ae]|=128*le}},{}],440:[function(C,E,I){"use strict";"function"==typeof Object.create?E.exports=function inherits(C,E){E&&(C.super_=E,C.prototype=Object.create(E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}))}:E.exports=function inherits(C,E){if(E){C.super_=E;var TempCtor=function(){};TempCtor.prototype=E.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}}},{}],441:[function(E,B,z){(function(I,q,Q,ee,te,ie,re,ne){(function(){"use strict";!function(E){"object"==typeof z&&void 0!==B?B.exports=E():"function"==typeof C&&C.amd?C([],E):("undefined"!=typeof window?window:void 0!==q?q:"undefined"!=typeof self?self:this).JSZip=E()}((function(){return function s(C,I,B){function u(q,Q){if(!I[q]){if(!C[q]){var ee="function"==typeof E&&E;if(!Q&&ee)return ee(q,!0);if(z)return z(q,!0);var te=new Error("Cannot find module '"+q+"'");throw te.code="MODULE_NOT_FOUND",te}var ie=I[q]={exports:{}};C[q][0].call(ie.exports,(function(E){return u(C[q][1][E]||E)}),ie,ie.exports,s,C,I,B)}return I[q].exports}for(var z="function"==typeof E&&E,q=0;q<B.length;q++)u(B[q]);return u}({1:[function(C,E,I){var B=C("./utils"),z=C("./support"),q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";I.encode=function(C){for(var E,I,z,Q,ee,te,ie,re=[],ne=0,se=C.length,oe=se,ae="string"!==B.getTypeOf(C);ne<C.length;)oe=se-ne,z=ae?(E=C[ne++],I=ne<se?C[ne++]:0,ne<se?C[ne++]:0):(E=C.charCodeAt(ne++),I=ne<se?C.charCodeAt(ne++):0,ne<se?C.charCodeAt(ne++):0),Q=E>>2,ee=(3&E)<<4|I>>4,te=1<oe?(15&I)<<2|z>>6:64,ie=2<oe?63&z:64,re.push(q.charAt(Q)+q.charAt(ee)+q.charAt(te)+q.charAt(ie));return re.join("")},I.decode=function(C){var E,I,B,Q,ee,te,ie=0,re=0,ne="data:";if(C.substr(0,ne.length)===ne)throw new Error("Invalid base64 input, it looks like a data url.");var se,oe=3*(C=C.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(C.charAt(C.length-1)===q.charAt(64)&&oe--,C.charAt(C.length-2)===q.charAt(64)&&oe--,oe%1!=0)throw new Error("Invalid base64 input, bad content length.");for(se=z.uint8array?new Uint8Array(0|oe):new Array(0|oe);ie<C.length;)E=q.indexOf(C.charAt(ie++))<<2|(Q=q.indexOf(C.charAt(ie++)))>>4,I=(15&Q)<<4|(ee=q.indexOf(C.charAt(ie++)))>>2,B=(3&ee)<<6|(te=q.indexOf(C.charAt(ie++))),se[re++]=E,64!==ee&&(se[re++]=I),64!==te&&(se[re++]=B);return se}},{"./support":30,"./utils":32}],2:[function(C,E,I){var B=C("./external"),z=C("./stream/DataWorker"),q=C("./stream/Crc32Probe"),Q=C("./stream/DataLengthProbe");function o(C,E,I,B,z){this.compressedSize=C,this.uncompressedSize=E,this.crc32=I,this.compression=B,this.compressedContent=z}o.prototype={getContentWorker:function(){var C=new z(B.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Q("data_length")),E=this;return C.on("end",(function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),C},getCompressedWorker:function(){return new z(B.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(C,E,I){return C.pipe(new q).pipe(new Q("uncompressedSize")).pipe(E.compressWorker(I)).pipe(new Q("compressedSize")).withStreamInfo("compression",E)},E.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(C,E,I){var B=C("./stream/GenericWorker");I.STORE={magic:"\0\0",compressWorker:function(){return new B("STORE compression")},uncompressWorker:function(){return new B("STORE decompression")}},I.DEFLATE=C("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(C,E,I){var B=C("./utils"),z=function(){for(var C,E=[],I=0;I<256;I++){C=I;for(var B=0;B<8;B++)C=1&C?3988292384^C>>>1:C>>>1;E[I]=C}return E}();E.exports=function(C,E){return void 0!==C&&C.length?"string"!==B.getTypeOf(C)?function(C,E,I,B){var q=z,Q=B+I;C^=-1;for(var ee=B;ee<Q;ee++)C=C>>>8^q[255&(C^E[ee])];return-1^C}(0|E,C,C.length,0):function(C,E,I,B){var q=z,Q=B+I;C^=-1;for(var ee=B;ee<Q;ee++)C=C>>>8^q[255&(C^E.charCodeAt(ee))];return-1^C}(0|E,C,C.length,0):0}},{"./utils":32}],5:[function(C,E,I){I.base64=!1,I.binary=!1,I.dir=!1,I.createFolders=!0,I.date=null,I.compression=null,I.compressionOptions=null,I.comment=null,I.unixPermissions=null,I.dosPermissions=null},{}],6:[function(C,E,I){var B=null;B="undefined"!=typeof Promise?Promise:C("lie"),E.exports={Promise:B}},{lie:37}],7:[function(C,E,I){var B="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,z=C("pako"),q=C("./utils"),Q=C("./stream/GenericWorker"),ee=B?"uint8array":"array";function h(C,E){Q.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=E,this.meta={}}I.magic="\b\0",q.inherits(h,Q),h.prototype.processChunk=function(C){this.meta=C.meta,null===this._pako&&this._createPako(),this._pako.push(q.transformTo(ee,C.data),!1)},h.prototype.flush=function(){Q.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){Q.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new z[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(E){C.push({data:E,meta:C.meta})}},I.compressWorker=function(C){return new h("Deflate",C)},I.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(C,E,I){function A(C,E){var I,B="";for(I=0;I<E;I++)B+=String.fromCharCode(255&C),C>>>=8;return B}function n(C,E,I,z,te,ie){var re,ne,se=C.file,oe=C.compression,ae=ie!==q.utf8encode,le=B.transformTo("string",ie(se.name)),ue=B.transformTo("string",q.utf8encode(se.name)),de=se.comment,ce=B.transformTo("string",ie(de)),he=B.transformTo("string",q.utf8encode(de)),fe=ue.length!==se.name.length,pe=he.length!==de.length,me="",ge="",ve="",ye=se.dir,be=se.date,Ce={crc32:0,compressedSize:0,uncompressedSize:0};E&&!I||(Ce.crc32=C.crc32,Ce.compressedSize=C.compressedSize,Ce.uncompressedSize=C.uncompressedSize);var we=0;E&&(we|=8),ae||!fe&&!pe||(we|=2048);var _e=0,Se=0;ye&&(_e|=16),"UNIX"===te?(Se=798,_e|=function(C,E){var I=C;return C||(I=E?16893:33204),(65535&I)<<16}(se.unixPermissions,ye)):(Se=20,_e|=function(C){return 63&(C||0)}(se.dosPermissions)),re=be.getUTCHours(),re<<=6,re|=be.getUTCMinutes(),re<<=5,re|=be.getUTCSeconds()/2,ne=be.getUTCFullYear()-1980,ne<<=4,ne|=be.getUTCMonth()+1,ne<<=5,ne|=be.getUTCDate(),fe&&(ge=A(1,1)+A(Q(le),4)+ue,me+="up"+A(ge.length,2)+ge),pe&&(ve=A(1,1)+A(Q(ce),4)+he,me+="uc"+A(ve.length,2)+ve);var xe="";return xe+="\n\0",xe+=A(we,2),xe+=oe.magic,xe+=A(re,2),xe+=A(ne,2),xe+=A(Ce.crc32,4),xe+=A(Ce.compressedSize,4),xe+=A(Ce.uncompressedSize,4),xe+=A(le.length,2),xe+=A(me.length,2),{fileRecord:ee.LOCAL_FILE_HEADER+xe+le+me,dirRecord:ee.CENTRAL_FILE_HEADER+A(Se,2)+xe+A(ce.length,2)+"\0\0\0\0"+A(_e,4)+A(z,4)+le+me+ce}}var B=C("../utils"),z=C("../stream/GenericWorker"),q=C("../utf8"),Q=C("../crc32"),ee=C("../signature");function s(C,E,I,B){z.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=I,this.encodeFileName=B,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}B.inherits(s,z),s.prototype.push=function(C){var E=C.meta.percent||0,I=this.entriesCount,B=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,z.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:I?(E+100*(I-B-1))/I:100}}))},s.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var E=this.streamFiles&&!C.file.dir;if(E){var I=n(C,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:I.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(C){this.accumulate=!1;var E=this.streamFiles&&!C.file.dir,I=n(C,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(I.dirRecord),E)this.push({data:function(C){return ee.DATA_DESCRIPTOR+A(C.crc32,4)+A(C.compressedSize,4)+A(C.uncompressedSize,4)}(C),meta:{percent:100}});else for(this.push({data:I.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var C=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var I=this.bytesWritten-C,z=function(C,E,I,z,q){var Q=B.transformTo("string",q(z));return ee.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A(C,2)+A(C,2)+A(E,4)+A(I,4)+A(Q.length,2)+Q}(this.dirRecords.length,I,C,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(C){this._sources.push(C);var E=this;return C.on("data",(function(C){E.processChunk(C)})),C.on("end",(function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()})),C.on("error",(function(C){E.error(C)})),this},s.prototype.resume=function(){return!!z.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(C){var E=this._sources;if(!z.prototype.error.call(this,C))return!1;for(var I=0;I<E.length;I++)try{E[I].error(C)}catch(C){}return!0},s.prototype.lock=function(){z.prototype.lock.call(this);for(var C=this._sources,E=0;E<C.length;E++)C[E].lock()},E.exports=s},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(C,E,I){var B=C("../compressions"),z=C("./ZipFileWorker");I.generateWorker=function(C,E,I){var q=new z(E.streamFiles,I,E.platform,E.encodeFileName),Q=0;try{C.forEach((function(C,I){Q++;var z=function(C,E){var I=C||E,z=B[I];if(!z)throw new Error(I+" is not a valid compression method !");return z}(I.options.compression,E.compression),ee=I.options.compressionOptions||E.compressionOptions||{},te=I.dir,ie=I.date;I._compressWorker(z,ee).withStreamInfo("file",{name:C,dir:te,date:ie,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(q)})),q.entriesCount=Q}catch(C){q.error(C)}return q}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(C,E,I){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var C=new n;for(var E in this)"function"!=typeof this[E]&&(C[E]=this[E]);return C}}(n.prototype=C("./object")).loadAsync=C("./load"),n.support=C("./support"),n.defaults=C("./defaults"),n.version="3.10.1",n.loadAsync=function(C,E){return(new n).loadAsync(C,E)},n.external=C("./external"),E.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(C,E,I){var B=C("./utils"),z=C("./external"),q=C("./utf8"),Q=C("./zipEntries"),ee=C("./stream/Crc32Probe"),te=C("./nodejsUtils");function f(C){return new z.Promise((function(E,I){var B=C.decompressed.getContentWorker().pipe(new ee);B.on("error",(function(C){I(C)})).on("end",(function(){B.streamInfo.crc32!==C.decompressed.crc32?I(new Error("Corrupted zip : CRC32 mismatch")):E()})).resume()}))}E.exports=function(C,E){var I=this;return E=B.extend(E||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:q.utf8decode}),te.isNode&&te.isStream(C)?z.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):B.prepareContent("the loaded zip file",C,!0,E.optimizedBinaryString,E.base64).then((function(C){var I=new Q(E);return I.load(C),I})).then((function(C){var I=[z.Promise.resolve(C)],B=C.files;if(E.checkCRC32)for(var q=0;q<B.length;q++)I.push(f(B[q]));return z.Promise.all(I)})).then((function(C){for(var z=C.shift(),q=z.files,Q=0;Q<q.length;Q++){var ee=q[Q],te=ee.fileNameStr,ie=B.resolve(ee.fileNameStr);I.file(ie,ee.decompressed,{binary:!0,optimizedBinaryString:!0,date:ee.date,dir:ee.dir,comment:ee.fileCommentStr.length?ee.fileCommentStr:null,unixPermissions:ee.unixPermissions,dosPermissions:ee.dosPermissions,createFolders:E.createFolders}),ee.dir||(I.file(ie).unsafeOriginalName=te)}return z.zipComment.length&&(I.comment=z.zipComment),I}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(C,E,I){var B=C("../utils"),z=C("../stream/GenericWorker");function s(C,E){z.call(this,"Nodejs stream input adapter for "+C),this._upstreamEnded=!1,this._bindStream(E)}B.inherits(s,z),s.prototype._bindStream=function(C){var E=this;(this._stream=C).pause(),C.on("data",(function(C){E.push({data:C,meta:{percent:0}})})).on("error",(function(C){E.isPaused?this.generatedError=C:E.error(C)})).on("end",(function(){E.isPaused?E._upstreamEnded=!0:E.end()}))},s.prototype.pause=function(){return!!z.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!z.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},E.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(C,E,I){var B=C("readable-stream").Readable;function n(C,E,I){B.call(this,E),this._helper=C;var z=this;C.on("data",(function(C,E){z.push(C)||z._helper.pause(),I&&I(E)})).on("error",(function(C){z.emit("error",C)})).on("end",(function(){z.push(null)}))}C("../utils").inherits(n,B),n.prototype._read=function(){this._helper.resume()},E.exports=n},{"../utils":32,"readable-stream":16}],14:[function(C,E,I){E.exports={isNode:void 0!==Q,newBufferFrom:function(C,E){if(Q.from&&Q.from!==Uint8Array.from)return Q.from(C,E);if("number"==typeof C)throw new Error('The "data" argument must not be a number');return new Q(C,E)},allocBuffer:function(C){if(Q.alloc)return Q.alloc(C);var E=new Q(C);return E.fill(0),E},isBuffer:function(C){return Q.isBuffer(C)},isStream:function(C){return C&&"function"==typeof C.on&&"function"==typeof C.pause&&"function"==typeof C.resume}}},{}],15:[function(C,E,I){function s(C,E,I){var B,Q=z.getTypeOf(E),re=z.extend(I||{},ee);re.date=re.date||new Date,null!==re.compression&&(re.compression=re.compression.toUpperCase()),"string"==typeof re.unixPermissions&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(C=g(C)),re.createFolders&&(B=_(C))&&b.call(this,B,!0);var oe="string"===Q&&!1===re.binary&&!1===re.base64;I&&void 0!==I.binary||(re.binary=!oe),(E instanceof te&&0===E.uncompressedSize||re.dir||!E||0===E.length)&&(re.base64=!1,re.binary=!0,E="",re.compression="STORE",Q="string");var ae=null;ae=E instanceof te||E instanceof q?E:ne.isNode&&ne.isStream(E)?new se(C,E):z.prepareContent(C,E,re.binary,re.optimizedBinaryString,re.base64);var le=new ie(C,ae,re);this.files[C]=le}var B=C("./utf8"),z=C("./utils"),q=C("./stream/GenericWorker"),Q=C("./stream/StreamHelper"),ee=C("./defaults"),te=C("./compressedObject"),ie=C("./zipObject"),re=C("./generate"),ne=C("./nodejsUtils"),se=C("./nodejs/NodejsStreamInputAdapter"),_=function(C){"/"===C.slice(-1)&&(C=C.substring(0,C.length-1));var E=C.lastIndexOf("/");return 0<E?C.substring(0,E):""},g=function(C){return"/"!==C.slice(-1)&&(C+="/"),C},b=function(C,E){return E=void 0!==E?E:ee.createFolders,C=g(C),this.files[C]||s.call(this,C,null,{dir:!0,createFolders:E}),this.files[C]};function h(C){return"[object RegExp]"===Object.prototype.toString.call(C)}var oe={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var E,I,B;for(E in this.files)B=this.files[E],(I=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&C(I,B)},filter:function(C){var E=[];return this.forEach((function(I,B){C(I,B)&&E.push(B)})),E},file:function(C,E,I){if(1!==arguments.length)return C=this.root+C,s.call(this,C,E,I),this;if(h(C)){var B=C;return this.filter((function(C,E){return!E.dir&&B.test(C)}))}var z=this.files[this.root+C];return z&&!z.dir?z:null},folder:function(C){if(!C)return this;if(h(C))return this.filter((function(E,I){return I.dir&&C.test(E)}));var E=this.root+C,I=b.call(this,E),B=this.clone();return B.root=I.name,B},remove:function(C){C=this.root+C;var E=this.files[C];if(E||("/"!==C.slice(-1)&&(C+="/"),E=this.files[C]),E&&!E.dir)delete this.files[C];else for(var I=this.filter((function(E,I){return I.name.slice(0,C.length)===C})),B=0;B<I.length;B++)delete this.files[I[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var E,I={};try{if((I=z.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:B.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),"binarystring"===I.type&&(I.type="string"),!I.type)throw new Error("No output type specified.");z.checkSupport(I.type),"darwin"!==I.platform&&"freebsd"!==I.platform&&"linux"!==I.platform&&"sunos"!==I.platform||(I.platform="UNIX"),"win32"===I.platform&&(I.platform="DOS");var ee=I.comment||this.comment||"";E=re.generateWorker(this,I,ee)}catch(C){(E=new q("error")).error(C)}return new Q(E,I.type||"string",I.mimeType)},generateAsync:function(C,E){return this.generateInternalStream(C).accumulate(E)},generateNodeStream:function(C,E){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(E)}};E.exports=oe},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(C,E,I){E.exports=C("stream")},{stream:void 0}],17:[function(C,E,I){var B=C("./DataReader");function i(C){B.call(this,C);for(var E=0;E<this.data.length;E++)C[E]=255&C[E]}C("../utils").inherits(i,B),i.prototype.byteAt=function(C){return this.data[this.zero+C]},i.prototype.lastIndexOfSignature=function(C){for(var E=C.charCodeAt(0),I=C.charCodeAt(1),B=C.charCodeAt(2),z=C.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===E&&this.data[q+1]===I&&this.data[q+2]===B&&this.data[q+3]===z)return q-this.zero;return-1},i.prototype.readAndCheckSignature=function(C){var E=C.charCodeAt(0),I=C.charCodeAt(1),B=C.charCodeAt(2),z=C.charCodeAt(3),q=this.readData(4);return E===q[0]&&I===q[1]&&B===q[2]&&z===q[3]},i.prototype.readData=function(C){if(this.checkOffset(C),0===C)return[];var E=this.data.slice(this.zero+this.index,this.zero+this.index+C);return this.index+=C,E},E.exports=i},{"../utils":32,"./DataReader":18}],18:[function(C,E,I){var B=C("../utils");function i(C){this.data=C,this.length=C.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(C){this.checkIndex(this.index+C)},checkIndex:function(C){if(this.length<this.zero+C||C<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+C+"). Corrupted zip ?")},setIndex:function(C){this.checkIndex(C),this.index=C},skip:function(C){this.setIndex(this.index+C)},byteAt:function(){},readInt:function(C){var E,I=0;for(this.checkOffset(C),E=this.index+C-1;E>=this.index;E--)I=(I<<8)+this.byteAt(E);return this.index+=C,I},readString:function(C){return B.transformTo("string",this.readData(C))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var C=this.readInt(4);return new Date(Date.UTC(1980+(C>>25&127),(C>>21&15)-1,C>>16&31,C>>11&31,C>>5&63,(31&C)<<1))}},E.exports=i},{"../utils":32}],19:[function(C,E,I){var B=C("./Uint8ArrayReader");function i(C){B.call(this,C)}C("../utils").inherits(i,B),i.prototype.readData=function(C){this.checkOffset(C);var E=this.data.slice(this.zero+this.index,this.zero+this.index+C);return this.index+=C,E},E.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(C,E,I){var B=C("./DataReader");function i(C){B.call(this,C)}C("../utils").inherits(i,B),i.prototype.byteAt=function(C){return this.data.charCodeAt(this.zero+C)},i.prototype.lastIndexOfSignature=function(C){return this.data.lastIndexOf(C)-this.zero},i.prototype.readAndCheckSignature=function(C){return C===this.readData(4)},i.prototype.readData=function(C){this.checkOffset(C);var E=this.data.slice(this.zero+this.index,this.zero+this.index+C);return this.index+=C,E},E.exports=i},{"../utils":32,"./DataReader":18}],21:[function(C,E,I){var B=C("./ArrayReader");function i(C){B.call(this,C)}C("../utils").inherits(i,B),i.prototype.readData=function(C){if(this.checkOffset(C),0===C)return new Uint8Array(0);var E=this.data.subarray(this.zero+this.index,this.zero+this.index+C);return this.index+=C,E},E.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(C,E,I){var B=C("../utils"),z=C("../support"),q=C("./ArrayReader"),Q=C("./StringReader"),ee=C("./NodeBufferReader"),te=C("./Uint8ArrayReader");E.exports=function(C){var E=B.getTypeOf(C);return B.checkSupport(E),"string"!==E||z.uint8array?"nodebuffer"===E?new ee(C):z.uint8array?new te(B.transformTo("uint8array",C)):new q(B.transformTo("array",C)):new Q(C)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(C,E,I){I.LOCAL_FILE_HEADER="PK",I.CENTRAL_FILE_HEADER="PK",I.CENTRAL_DIRECTORY_END="PK",I.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",I.ZIP64_CENTRAL_DIRECTORY_END="PK",I.DATA_DESCRIPTOR="PK\b"},{}],24:[function(C,E,I){var B=C("./GenericWorker"),z=C("../utils");function s(C){B.call(this,"ConvertWorker to "+C),this.destType=C}z.inherits(s,B),s.prototype.processChunk=function(C){this.push({data:z.transformTo(this.destType,C.data),meta:C.meta})},E.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(C,E,I){var B=C("./GenericWorker"),z=C("../crc32");function s(){B.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}C("../utils").inherits(s,B),s.prototype.processChunk=function(C){this.streamInfo.crc32=z(C.data,this.streamInfo.crc32||0),this.push(C)},E.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(C,E,I){var B=C("../utils"),z=C("./GenericWorker");function s(C){z.call(this,"DataLengthProbe for "+C),this.propName=C,this.withStreamInfo(C,0)}B.inherits(s,z),s.prototype.processChunk=function(C){if(C){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+C.data.length}z.prototype.processChunk.call(this,C)},E.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(C,E,I){var B=C("../utils"),z=C("./GenericWorker");function s(C){z.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,C.then((function(C){E.dataIsReady=!0,E.data=C,E.max=C&&C.length||0,E.type=B.getTypeOf(C),E.isPaused||E._tickAndRepeat()}),(function(C){E.error(C)}))}B.inherits(s,z),s.prototype.cleanUp=function(){z.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!z.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,B.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(B.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var C=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":C=this.data.substring(this.index,E);break;case"uint8array":C=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":C=this.data.slice(this.index,E)}return this.index=E,this.push({data:C,meta:{percent:this.max?this.index/this.max*100:0}})},E.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(C,E,I){function n(C){this.name=C||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(C){this.emit("data",C)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(C){this.emit("error",C)}return!0},error:function(C){return!this.isFinished&&(this.isPaused?this.generatedError=C:(this.isFinished=!0,this.emit("error",C),this.previous&&this.previous.error(C),this.cleanUp()),!0)},on:function(C,E){return this._listeners[C].push(E),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(C,E){if(this._listeners[C])for(var I=0;I<this._listeners[C].length;I++)this._listeners[C][I].call(this,E)},pipe:function(C){return C.registerPrevious(this)},registerPrevious:function(C){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=C.streamInfo,this.mergeStreamInfo(),this.previous=C;var E=this;return C.on("data",(function(C){E.processChunk(C)})),C.on("end",(function(){E.end()})),C.on("error",(function(C){E.error(C)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var C=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),C=!0),this.previous&&this.previous.resume(),!C},flush:function(){},processChunk:function(C){this.push(C)},withStreamInfo:function(C,E){return this.extraStreamInfo[C]=E,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var C in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,C)&&(this.streamInfo[C]=this.extraStreamInfo[C])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var C="Worker "+this.name;return this.previous?this.previous+" -> "+C:C}},E.exports=n},{}],29:[function(C,E,I){var B=C("../utils"),z=C("./ConvertWorker"),q=C("./GenericWorker"),ee=C("../base64"),te=C("../support"),ie=C("../external"),re=null;if(te.nodestream)try{re=C("../nodejs/NodejsStreamOutputAdapter")}catch(C){}function l(C,E){return new ie.Promise((function(I,z){var q=[],te=C._internalType,ie=C._outputType,re=C._mimeType;C.on("data",(function(C,I){q.push(C),E&&E(I)})).on("error",(function(C){q=[],z(C)})).on("end",(function(){try{var C=function(C,E,I){switch(C){case"blob":return B.newBlob(B.transformTo("arraybuffer",E),I);case"base64":return ee.encode(E);default:return B.transformTo(C,E)}}(ie,function(C,E){var I,B=0,z=null,q=0;for(I=0;I<E.length;I++)q+=E[I].length;switch(C){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(z=new Uint8Array(q),I=0;I<E.length;I++)z.set(E[I],B),B+=E[I].length;return z;case"nodebuffer":return Q.concat(E);default:throw new Error("concat : unsupported type '"+C+"'")}}(te,q),re);I(C)}catch(C){z(C)}q=[]})).resume()}))}function f(C,E,I){var Q=E;switch(E){case"blob":case"arraybuffer":Q="uint8array";break;case"base64":Q="string"}try{this._internalType=Q,this._outputType=E,this._mimeType=I,B.checkSupport(Q),this._worker=C.pipe(new z(Q)),C.lock()}catch(C){this._worker=new q("error"),this._worker.error(C)}}f.prototype={accumulate:function(C){return l(this,C)},on:function(C,E){var I=this;return"data"===C?this._worker.on(C,(function(C){E.call(I,C.data,C.meta)})):this._worker.on(C,(function(){B.delay(E,arguments,I)})),this},resume:function(){return B.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(B.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new re(this,{objectMode:"nodebuffer"!==this._outputType},C)}},E.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(C,E,I){if(I.base64=!0,I.array=!0,I.string=!0,I.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,I.nodebuffer=void 0!==Q,I.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)I.blob=!1;else{var B=new ArrayBuffer(0);try{I.blob=0===new Blob([B],{type:"application/zip"}).size}catch(C){try{var z=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);z.append(B),I.blob=0===z.getBlob("application/zip").size}catch(C){I.blob=!1}}}try{I.nodestream=!!C("readable-stream").Readable}catch(C){I.nodestream=!1}},{"readable-stream":16}],31:[function(C,E,I){for(var B=C("./utils"),z=C("./support"),q=C("./nodejsUtils"),Q=C("./stream/GenericWorker"),ee=new Array(256),te=0;te<256;te++)ee[te]=252<=te?6:248<=te?5:240<=te?4:224<=te?3:192<=te?2:1;function a(){Q.call(this,"utf-8 decode"),this.leftOver=null}function l(){Q.call(this,"utf-8 encode")}ee[254]=ee[254]=1,I.utf8encode=function(C){return z.nodebuffer?q.newBufferFrom(C,"utf-8"):function(C){var E,I,B,q,Q,ee=C.length,te=0;for(q=0;q<ee;q++)55296==(64512&(I=C.charCodeAt(q)))&&q+1<ee&&56320==(64512&(B=C.charCodeAt(q+1)))&&(I=65536+(I-55296<<10)+(B-56320),q++),te+=I<128?1:I<2048?2:I<65536?3:4;for(E=z.uint8array?new Uint8Array(te):new Array(te),q=Q=0;Q<te;q++)55296==(64512&(I=C.charCodeAt(q)))&&q+1<ee&&56320==(64512&(B=C.charCodeAt(q+1)))&&(I=65536+(I-55296<<10)+(B-56320),q++),I<128?E[Q++]=I:(I<2048?E[Q++]=192|I>>>6:(I<65536?E[Q++]=224|I>>>12:(E[Q++]=240|I>>>18,E[Q++]=128|I>>>12&63),E[Q++]=128|I>>>6&63),E[Q++]=128|63&I);return E}(C)},I.utf8decode=function(C){return z.nodebuffer?B.transformTo("nodebuffer",C).toString("utf-8"):function(C){var E,I,z,q,Q=C.length,te=new Array(2*Q);for(E=I=0;E<Q;)if((z=C[E++])<128)te[I++]=z;else if(4<(q=ee[z]))te[I++]=65533,E+=q-1;else{for(z&=2===q?31:3===q?15:7;1<q&&E<Q;)z=z<<6|63&C[E++],q--;1<q?te[I++]=65533:z<65536?te[I++]=z:(z-=65536,te[I++]=55296|z>>10&1023,te[I++]=56320|1023&z)}return te.length!==I&&(te.subarray?te=te.subarray(0,I):te.length=I),B.applyFromCharCode(te)}(C=B.transformTo(z.uint8array?"uint8array":"array",C))},B.inherits(a,Q),a.prototype.processChunk=function(C){var E=B.transformTo(z.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(z.uint8array){var q=E;(E=new Uint8Array(q.length+this.leftOver.length)).set(this.leftOver,0),E.set(q,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var Q=function(C,E){var I;for((E=E||C.length)>C.length&&(E=C.length),I=E-1;0<=I&&128==(192&C[I]);)I--;return I<0||0===I?E:I+ee[C[I]]>E?I:E}(E),te=E;Q!==E.length&&(z.uint8array?(te=E.subarray(0,Q),this.leftOver=E.subarray(Q,E.length)):(te=E.slice(0,Q),this.leftOver=E.slice(Q,E.length))),this.push({data:I.utf8decode(te),meta:C.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:I.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},I.Utf8DecodeWorker=a,B.inherits(l,Q),l.prototype.processChunk=function(C){this.push({data:I.utf8encode(C.data),meta:C.meta})},I.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(C,E,I){var B=C("./support"),z=C("./base64"),q=C("./nodejsUtils"),Q=C("./external");function n(C){return C}function l(C,E){for(var I=0;I<C.length;++I)E[I]=255&C.charCodeAt(I);return E}C("setimmediate"),I.newBlob=function(C,E){I.checkSupport("blob");try{return new Blob([C],{type:E})}catch(I){try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return B.append(C),B.getBlob(E)}catch(C){throw new Error("Bug : can't construct the Blob.")}}};var ee={stringifyByChunk:function(C,E,I){var B=[],z=0,q=C.length;if(q<=I)return String.fromCharCode.apply(null,C);for(;z<q;)"array"===E||"nodebuffer"===E?B.push(String.fromCharCode.apply(null,C.slice(z,Math.min(z+I,q)))):B.push(String.fromCharCode.apply(null,C.subarray(z,Math.min(z+I,q)))),z+=I;return B.join("")},stringifyByChar:function(C){for(var E="",I=0;I<C.length;I++)E+=String.fromCharCode(C[I]);return E},applyCanBeUsed:{uint8array:function(){try{return B.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(C){return!1}}(),nodebuffer:function(){try{return B.nodebuffer&&1===String.fromCharCode.apply(null,q.allocBuffer(1)).length}catch(C){return!1}}()}};function s(C){var E=65536,B=I.getTypeOf(C),z=!0;if("uint8array"===B?z=ee.applyCanBeUsed.uint8array:"nodebuffer"===B&&(z=ee.applyCanBeUsed.nodebuffer),z)for(;1<E;)try{return ee.stringifyByChunk(C,B,E)}catch(C){E=Math.floor(E/2)}return ee.stringifyByChar(C)}function f(C,E){for(var I=0;I<C.length;I++)E[I]=C[I];return E}I.applyFromCharCode=s;var te={};te.string={string:n,array:function(C){return l(C,new Array(C.length))},arraybuffer:function(C){return te.string.uint8array(C).buffer},uint8array:function(C){return l(C,new Uint8Array(C.length))},nodebuffer:function(C){return l(C,q.allocBuffer(C.length))}},te.array={string:s,array:n,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return q.newBufferFrom(C)}},te.arraybuffer={string:function(C){return s(new Uint8Array(C))},array:function(C){return f(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:n,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return q.newBufferFrom(new Uint8Array(C))}},te.uint8array={string:s,array:function(C){return f(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:n,nodebuffer:function(C){return q.newBufferFrom(C)}},te.nodebuffer={string:s,array:function(C){return f(C,new Array(C.length))},arraybuffer:function(C){return te.nodebuffer.uint8array(C).buffer},uint8array:function(C){return f(C,new Uint8Array(C.length))},nodebuffer:n},I.transformTo=function(C,E){if(E=E||"",!C)return E;I.checkSupport(C);var B=I.getTypeOf(E);return te[B][C](E)},I.resolve=function(C){for(var E=C.split("/"),I=[],B=0;B<E.length;B++){var z=E[B];"."===z||""===z&&0!==B&&B!==E.length-1||(".."===z?I.pop():I.push(z))}return I.join("/")},I.getTypeOf=function(C){return"string"==typeof C?"string":"[object Array]"===Object.prototype.toString.call(C)?"array":B.nodebuffer&&q.isBuffer(C)?"nodebuffer":B.uint8array&&C instanceof Uint8Array?"uint8array":B.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},I.checkSupport=function(C){if(!B[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},I.MAX_VALUE_16BITS=65535,I.MAX_VALUE_32BITS=-1,I.pretty=function(C){var E,I,B="";for(I=0;I<(C||"").length;I++)B+="\\x"+((E=C.charCodeAt(I))<16?"0":"")+E.toString(16).toUpperCase();return B},I.delay=function(C,E,I){ne((function(){C.apply(I||null,E||[])}))},I.inherits=function(C,E){function r(){}r.prototype=E.prototype,C.prototype=new r},I.extend=function(){var C,E,I={};for(C=0;C<arguments.length;C++)for(E in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],E)&&void 0===I[E]&&(I[E]=arguments[C][E]);return I},I.prepareContent=function(C,E,q,ee,te){return Q.Promise.resolve(E).then((function(C){return B.blob&&(C instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C)))&&"undefined"!=typeof FileReader?new Q.Promise((function(E,I){var B=new FileReader;B.onload=function(C){E(C.target.result)},B.onerror=function(C){I(C.target.error)},B.readAsArrayBuffer(C)})):C})).then((function(E){var ie=I.getTypeOf(E);return ie?("arraybuffer"===ie?E=I.transformTo("uint8array",E):"string"===ie&&(te?E=z.decode(E):q&&!0!==ee&&(E=function(C){return l(C,B.uint8array?new Uint8Array(C.length):new Array(C.length))}(E))),E):Q.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(C,E,I){var B=C("./reader/readerFor"),z=C("./utils"),q=C("./signature"),Q=C("./zipEntry"),ee=C("./support");function h(C){this.files=[],this.loadOptions=C}h.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var E=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+z.pretty(E)+", expected "+z.pretty(C)+")")}},isSignature:function(C,E){var I=this.reader.index;this.reader.setIndex(C);var B=this.reader.readString(4)===E;return this.reader.setIndex(I),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),E=ee.uint8array?"uint8array":"array",I=z.transformTo(E,C);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,E,I,B=this.zip64EndOfCentralSize-44;0<B;)C=this.reader.readInt(2),E=this.reader.readInt(4),I=this.reader.readData(E),this.zip64ExtensibleData[C]={id:C,length:E,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,E;for(C=0;C<this.files.length;C++)E=this.files[C],this.reader.setIndex(E.localHeaderOffset),this.checkSignature(q.LOCAL_FILE_HEADER),E.readLocalPart(this.reader),E.handleUTF8(),E.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(q.CENTRAL_FILE_HEADER);)(C=new Q({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(q.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,q.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var E=C;if(this.checkSignature(q.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===z.MAX_VALUE_16BITS||this.diskWithCentralDirStart===z.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===z.MAX_VALUE_16BITS||this.centralDirRecords===z.MAX_VALUE_16BITS||this.centralDirSize===z.MAX_VALUE_32BITS||this.centralDirOffset===z.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(q.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(q.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,q.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(q.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(q.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var B=E-I;if(0<B)this.isSignature(E,q.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(C){this.reader=B(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},E.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(C,E,I){var B=C("./reader/readerFor"),z=C("./utils"),q=C("./compressedObject"),Q=C("./crc32"),ee=C("./utf8"),te=C("./compressions"),ie=C("./support");function l(C,E){this.options=C,this.loadOptions=E}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(C){var E,I;if(C.skip(22),this.fileNameLength=C.readInt(2),I=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(I),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(E=function(C){for(var E in te)if(Object.prototype.hasOwnProperty.call(te,E)&&te[E].magic===C)return te[E];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+z.pretty(this.compressionMethod)+" unknown (inner file : "+z.transformTo("string",this.fileName)+")");this.decompressed=new q(this.compressedSize,this.uncompressedSize,this.crc32,E,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var E=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(E),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==C&&(this.dosPermissions=63&this.externalFileAttributes),3==C&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=B(this.extraFields[1].value);this.uncompressedSize===z.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===z.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===z.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===z.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var E,I,B,z=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<z;)E=C.readInt(2),I=C.readInt(2),B=C.readData(I),this.extraFields[E]={id:E,length:I,value:B};C.setIndex(z)},handleUTF8:function(){var C=ie.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ee.utf8decode(this.fileName),this.fileCommentStr=ee.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(null!==E)this.fileNameStr=E;else{var I=z.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(I)}var B=this.findExtraFieldUnicodeComment();if(null!==B)this.fileCommentStr=B;else{var q=z.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(q)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var E=B(C.value);return 1!==E.readInt(1)||Q(this.fileName)!==E.readInt(4)?null:ee.utf8decode(E.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var E=B(C.value);return 1!==E.readInt(1)||Q(this.fileComment)!==E.readInt(4)?null:ee.utf8decode(E.readData(C.length-5))}return null}},E.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(C,E,I){function n(C,E,I){this.name=C,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=E,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var B=C("./stream/StreamHelper"),z=C("./stream/DataWorker"),q=C("./utf8"),Q=C("./compressedObject"),ee=C("./stream/GenericWorker");n.prototype={internalStream:function(C){var E=null,I="string";try{if(!C)throw new Error("No output type specified.");var z="string"===(I=C.toLowerCase())||"text"===I;"binarystring"!==I&&"text"!==I||(I="string"),E=this._decompressWorker();var Q=!this._dataBinary;Q&&!z&&(E=E.pipe(new q.Utf8EncodeWorker)),!Q&&z&&(E=E.pipe(new q.Utf8DecodeWorker))}catch(C){(E=new ee("error")).error(C)}return new B(E,I,"")},async:function(C,E){return this.internalStream(C).accumulate(E)},nodeStream:function(C,E){return this.internalStream(C||"nodebuffer").toNodejsStream(E)},_compressWorker:function(C,E){if(this._data instanceof Q&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new q.Utf8EncodeWorker)),Q.createWorkerFrom(I,C,E)},_decompressWorker:function(){return this._data instanceof Q?this._data.getContentWorker():this._data instanceof ee?this._data:new z(this._data)}};for(var te=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},ie=0;ie<te.length;ie++)n.prototype[te[ie]]=l;E.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(C,E,I){(function(C){var I,B,z=C.MutationObserver||C.WebKitMutationObserver;if(z){var q=0,Q=new z(u),ee=C.document.createTextNode("");Q.observe(ee,{characterData:!0}),I=function(){ee.data=q=++q%2}}else if(C.setImmediate||void 0===C.MessageChannel)I="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var E=C.document.createElement("script");E.onreadystatechange=function(){u(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},C.document.documentElement.appendChild(E)}:function(){setTimeout(u,0)};else{var te=new C.MessageChannel;te.port1.onmessage=u,I=function(){te.port2.postMessage(0)}}var ie=[];function u(){var C,E;B=!0;for(var I=ie.length;I;){for(E=ie,ie=[],C=-1;++C<I;)E[C]();I=ie.length}B=!1}E.exports=function(C){1!==ie.push(C)||B||I()}}).call(this,void 0!==q?q:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(C,E,I){var B=C("immediate");function u(){}var z={},q=["REJECTED"],Q=["FULFILLED"],ee=["PENDING"];function o(C){if("function"!=typeof C)throw new TypeError("resolver must be a function");this.state=ee,this.queue=[],this.outcome=void 0,C!==u&&d(this,C)}function h(C,E,I){this.promise=C,"function"==typeof E&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),"function"==typeof I&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function f(C,E,I){B((function(){var B;try{B=E(I)}catch(B){return z.reject(C,B)}B===C?z.reject(C,new TypeError("Cannot resolve promise with itself")):z.resolve(C,B)}))}function c(C){var E=C&&C.then;if(C&&("object"==typeof C||"function"==typeof C)&&"function"==typeof E)return function(){E.apply(C,arguments)}}function d(C,E){var I=!1;function n(E){I||(I=!0,z.reject(C,E))}function i(E){I||(I=!0,z.resolve(C,E))}var B=p((function(){E(i,n)}));"error"===B.status&&n(B.value)}function p(C,E){var I={};try{I.value=C(E),I.status="success"}catch(C){I.status="error",I.value=C}return I}(E.exports=o).prototype.finally=function(C){if("function"!=typeof C)return this;var E=this.constructor;return this.then((function(I){return E.resolve(C()).then((function(){return I}))}),(function(I){return E.resolve(C()).then((function(){throw I}))}))},o.prototype.catch=function(C){return this.then(null,C)},o.prototype.then=function(C,E){if("function"!=typeof C&&this.state===Q||"function"!=typeof E&&this.state===q)return this;var I=new this.constructor(u);return this.state!==ee?f(I,this.state===Q?C:E,this.outcome):this.queue.push(new h(I,C,E)),I},h.prototype.callFulfilled=function(C){z.resolve(this.promise,C)},h.prototype.otherCallFulfilled=function(C){f(this.promise,this.onFulfilled,C)},h.prototype.callRejected=function(C){z.reject(this.promise,C)},h.prototype.otherCallRejected=function(C){f(this.promise,this.onRejected,C)},z.resolve=function(C,E){var I=p(c,E);if("error"===I.status)return z.reject(C,I.value);var B=I.value;if(B)d(C,B);else{C.state=Q,C.outcome=E;for(var q=-1,ee=C.queue.length;++q<ee;)C.queue[q].callFulfilled(E)}return C},z.reject=function(C,E){C.state=q,C.outcome=E;for(var I=-1,B=C.queue.length;++I<B;)C.queue[I].callRejected(E);return C},o.resolve=function(C){return C instanceof this?C:z.resolve(new this(u),C)},o.reject=function(C){var E=new this(u);return z.reject(E,C)},o.all=function(C){var E=this;if("[object Array]"!==Object.prototype.toString.call(C))return this.reject(new TypeError("must be an array"));var I=C.length,B=!1;if(!I)return this.resolve([]);for(var q=new Array(I),Q=0,ee=-1,te=new this(u);++ee<I;)h(C[ee],ee);return te;function h(C,ee){E.resolve(C).then((function(C){q[ee]=C,++Q!==I||B||(B=!0,z.resolve(te,q))}),(function(C){B||(B=!0,z.reject(te,C))}))}},o.race=function(C){var E=this;if("[object Array]"!==Object.prototype.toString.call(C))return this.reject(new TypeError("must be an array"));var I=C.length,B=!1;if(!I)return this.resolve([]);for(var q,Q=-1,ee=new this(u);++Q<I;)q=C[Q],E.resolve(q).then((function(C){B||(B=!0,z.resolve(ee,C))}),(function(C){B||(B=!0,z.reject(ee,C))}));return ee}},{immediate:36}],38:[function(C,E,I){var B={};(0,C("./lib/utils/common").assign)(B,C("./lib/deflate"),C("./lib/inflate"),C("./lib/zlib/constants")),E.exports=B},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(C,E,I){var B=C("./zlib/deflate"),z=C("./utils/common"),q=C("./utils/strings"),Q=C("./zlib/messages"),ee=C("./zlib/zstream"),te=Object.prototype.toString,ie=0,re=-1,ne=0,se=8;function p(C){if(!(this instanceof p))return new p(C);this.options=z.assign({level:re,method:se,chunkSize:16384,windowBits:15,memLevel:8,strategy:ne,to:""},C||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ee,this.strm.avail_out=0;var I=B.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(I!==ie)throw new Error(Q[I]);if(E.header&&B.deflateSetHeader(this.strm,E.header),E.dictionary){var oe;if(oe="string"==typeof E.dictionary?q.string2buf(E.dictionary):"[object ArrayBuffer]"===te.call(E.dictionary)?new Uint8Array(E.dictionary):E.dictionary,(I=B.deflateSetDictionary(this.strm,oe))!==ie)throw new Error(Q[I]);this._dict_set=!0}}function n(C,E){var I=new p(E);if(I.push(C,!0),I.err)throw I.msg||Q[I.err];return I.result}p.prototype.push=function(C,E){var I,Q,ee=this.strm,re=this.options.chunkSize;if(this.ended)return!1;Q=E===~~E?E:!0===E?4:0,"string"==typeof C?ee.input=q.string2buf(C):"[object ArrayBuffer]"===te.call(C)?ee.input=new Uint8Array(C):ee.input=C,ee.next_in=0,ee.avail_in=ee.input.length;do{if(0===ee.avail_out&&(ee.output=new z.Buf8(re),ee.next_out=0,ee.avail_out=re),1!==(I=B.deflate(ee,Q))&&I!==ie)return this.onEnd(I),!(this.ended=!0);0!==ee.avail_out&&(0!==ee.avail_in||4!==Q&&2!==Q)||("string"===this.options.to?this.onData(q.buf2binstring(z.shrinkBuf(ee.output,ee.next_out))):this.onData(z.shrinkBuf(ee.output,ee.next_out)))}while((0<ee.avail_in||0===ee.avail_out)&&1!==I);return 4===Q?(I=B.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===ie):2!==Q||(this.onEnd(ie),!(ee.avail_out=0))},p.prototype.onData=function(C){this.chunks.push(C)},p.prototype.onEnd=function(C){C===ie&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=z.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},I.Deflate=p,I.deflate=n,I.deflateRaw=function(C,E){return(E=E||{}).raw=!0,n(C,E)},I.gzip=function(C,E){return(E=E||{}).gzip=!0,n(C,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(C,E,I){var B=C("./zlib/inflate"),z=C("./utils/common"),q=C("./utils/strings"),Q=C("./zlib/constants"),ee=C("./zlib/messages"),te=C("./zlib/zstream"),ie=C("./zlib/gzheader"),re=Object.prototype.toString;function a(C){if(!(this instanceof a))return new a(C);this.options=z.assign({chunkSize:16384,windowBits:0,to:""},C||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,0===E.windowBits&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||C&&C.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&0==(15&E.windowBits)&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new te,this.strm.avail_out=0;var I=B.inflateInit2(this.strm,E.windowBits);if(I!==Q.Z_OK)throw new Error(ee[I]);this.header=new ie,B.inflateGetHeader(this.strm,this.header)}function o(C,E){var I=new a(E);if(I.push(C,!0),I.err)throw I.msg||ee[I.err];return I.result}a.prototype.push=function(C,E){var I,ee,te,ie,ne,se,oe=this.strm,ae=this.options.chunkSize,le=this.options.dictionary,ue=!1;if(this.ended)return!1;ee=E===~~E?E:!0===E?Q.Z_FINISH:Q.Z_NO_FLUSH,"string"==typeof C?oe.input=q.binstring2buf(C):"[object ArrayBuffer]"===re.call(C)?oe.input=new Uint8Array(C):oe.input=C,oe.next_in=0,oe.avail_in=oe.input.length;do{if(0===oe.avail_out&&(oe.output=new z.Buf8(ae),oe.next_out=0,oe.avail_out=ae),(I=B.inflate(oe,Q.Z_NO_FLUSH))===Q.Z_NEED_DICT&&le&&(se="string"==typeof le?q.string2buf(le):"[object ArrayBuffer]"===re.call(le)?new Uint8Array(le):le,I=B.inflateSetDictionary(this.strm,se)),I===Q.Z_BUF_ERROR&&!0===ue&&(I=Q.Z_OK,ue=!1),I!==Q.Z_STREAM_END&&I!==Q.Z_OK)return this.onEnd(I),!(this.ended=!0);oe.next_out&&(0!==oe.avail_out&&I!==Q.Z_STREAM_END&&(0!==oe.avail_in||ee!==Q.Z_FINISH&&ee!==Q.Z_SYNC_FLUSH)||("string"===this.options.to?(te=q.utf8border(oe.output,oe.next_out),ie=oe.next_out-te,ne=q.buf2string(oe.output,te),oe.next_out=ie,oe.avail_out=ae-ie,ie&&z.arraySet(oe.output,oe.output,te,ie,0),this.onData(ne)):this.onData(z.shrinkBuf(oe.output,oe.next_out)))),0===oe.avail_in&&0===oe.avail_out&&(ue=!0)}while((0<oe.avail_in||0===oe.avail_out)&&I!==Q.Z_STREAM_END);return I===Q.Z_STREAM_END&&(ee=Q.Z_FINISH),ee===Q.Z_FINISH?(I=B.inflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===Q.Z_OK):ee!==Q.Z_SYNC_FLUSH||(this.onEnd(Q.Z_OK),!(oe.avail_out=0))},a.prototype.onData=function(C){this.chunks.push(C)},a.prototype.onEnd=function(C){C===Q.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=z.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},I.Inflate=a,I.inflate=o,I.inflateRaw=function(C,E){return(E=E||{}).raw=!0,o(C,E)},I.ungzip=o},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(C,E,I){var B="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;I.assign=function(C){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var I=E.shift();if(I){if("object"!=typeof I)throw new TypeError(I+"must be non-object");for(var B in I)I.hasOwnProperty(B)&&(C[B]=I[B])}}return C},I.shrinkBuf=function(C,E){return C.length===E?C:C.subarray?C.subarray(0,E):(C.length=E,C)};var z={arraySet:function(C,E,I,B,z){if(E.subarray&&C.subarray)C.set(E.subarray(I,I+B),z);else for(var q=0;q<B;q++)C[z+q]=E[I+q]},flattenChunks:function(C){var E,I,B,z,q,Q;for(E=B=0,I=C.length;E<I;E++)B+=C[E].length;for(Q=new Uint8Array(B),E=z=0,I=C.length;E<I;E++)q=C[E],Q.set(q,z),z+=q.length;return Q}},q={arraySet:function(C,E,I,B,z){for(var q=0;q<B;q++)C[z+q]=E[I+q]},flattenChunks:function(C){return[].concat.apply([],C)}};I.setTyped=function(C){C?(I.Buf8=Uint8Array,I.Buf16=Uint16Array,I.Buf32=Int32Array,I.assign(I,z)):(I.Buf8=Array,I.Buf16=Array,I.Buf32=Array,I.assign(I,q))},I.setTyped(B)},{}],42:[function(C,E,I){var B=C("./common"),z=!0,q=!0;try{String.fromCharCode.apply(null,[0])}catch(C){z=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(C){q=!1}for(var Q=new B.Buf8(256),ee=0;ee<256;ee++)Q[ee]=252<=ee?6:248<=ee?5:240<=ee?4:224<=ee?3:192<=ee?2:1;function l(C,E){if(E<65537&&(C.subarray&&q||!C.subarray&&z))return String.fromCharCode.apply(null,B.shrinkBuf(C,E));for(var I="",Q=0;Q<E;Q++)I+=String.fromCharCode(C[Q]);return I}Q[254]=Q[254]=1,I.string2buf=function(C){var E,I,z,q,Q,ee=C.length,te=0;for(q=0;q<ee;q++)55296==(64512&(I=C.charCodeAt(q)))&&q+1<ee&&56320==(64512&(z=C.charCodeAt(q+1)))&&(I=65536+(I-55296<<10)+(z-56320),q++),te+=I<128?1:I<2048?2:I<65536?3:4;for(E=new B.Buf8(te),q=Q=0;Q<te;q++)55296==(64512&(I=C.charCodeAt(q)))&&q+1<ee&&56320==(64512&(z=C.charCodeAt(q+1)))&&(I=65536+(I-55296<<10)+(z-56320),q++),I<128?E[Q++]=I:(I<2048?E[Q++]=192|I>>>6:(I<65536?E[Q++]=224|I>>>12:(E[Q++]=240|I>>>18,E[Q++]=128|I>>>12&63),E[Q++]=128|I>>>6&63),E[Q++]=128|63&I);return E},I.buf2binstring=function(C){return l(C,C.length)},I.binstring2buf=function(C){for(var E=new B.Buf8(C.length),I=0,z=E.length;I<z;I++)E[I]=C.charCodeAt(I);return E},I.buf2string=function(C,E){var I,B,z,q,ee=E||C.length,te=new Array(2*ee);for(I=B=0;I<ee;)if((z=C[I++])<128)te[B++]=z;else if(4<(q=Q[z]))te[B++]=65533,I+=q-1;else{for(z&=2===q?31:3===q?15:7;1<q&&I<ee;)z=z<<6|63&C[I++],q--;1<q?te[B++]=65533:z<65536?te[B++]=z:(z-=65536,te[B++]=55296|z>>10&1023,te[B++]=56320|1023&z)}return l(te,B)},I.utf8border=function(C,E){var I;for((E=E||C.length)>C.length&&(E=C.length),I=E-1;0<=I&&128==(192&C[I]);)I--;return I<0||0===I?E:I+Q[C[I]]>E?I:E}},{"./common":41}],43:[function(C,E,I){E.exports=function(C,E,I,B){for(var z=65535&C|0,q=C>>>16&65535|0,Q=0;0!==I;){for(I-=Q=2e3<I?2e3:I;q=q+(z=z+E[B++]|0)|0,--Q;);z%=65521,q%=65521}return z|q<<16|0}},{}],44:[function(C,E,I){E.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(C,E,I){var B=function(){for(var C,E=[],I=0;I<256;I++){C=I;for(var B=0;B<8;B++)C=1&C?3988292384^C>>>1:C>>>1;E[I]=C}return E}();E.exports=function(C,E,I,z){var q=B,Q=z+I;C^=-1;for(var ee=z;ee<Q;ee++)C=C>>>8^q[255&(C^E[ee])];return-1^C}},{}],46:[function(C,E,I){var B,z=C("../utils/common"),q=C("./trees"),Q=C("./adler32"),ee=C("./crc32"),te=C("./messages"),ie=0,re=4,ne=0,se=-2,oe=-1,ae=4,le=2,ue=8,de=9,ce=286,he=30,fe=19,pe=2*ce+1,me=15,ge=3,ve=258,ye=ve+ge+1,be=42,Ce=113,we=1,_e=2,Se=3,xe=4;function R(C,E){return C.msg=te[E],E}function T(C){return(C<<1)-(4<C?9:0)}function D(C){for(var E=C.length;0<=--E;)C[E]=0}function F(C){var E=C.state,I=E.pending;I>C.avail_out&&(I=C.avail_out),0!==I&&(z.arraySet(C.output,E.pending_buf,E.pending_out,I,C.next_out),C.next_out+=I,E.pending_out+=I,C.total_out+=I,C.avail_out-=I,E.pending-=I,0===E.pending&&(E.pending_out=0))}function N(C,E){q._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,E),C.block_start=C.strstart,F(C.strm)}function U(C,E){C.pending_buf[C.pending++]=E}function P(C,E){C.pending_buf[C.pending++]=E>>>8&255,C.pending_buf[C.pending++]=255&E}function L(C,E){var I,B,z=C.max_chain_length,q=C.strstart,Q=C.prev_length,ee=C.nice_match,te=C.strstart>C.w_size-ye?C.strstart-(C.w_size-ye):0,ie=C.window,re=C.w_mask,ne=C.prev,se=C.strstart+ve,oe=ie[q+Q-1],ae=ie[q+Q];C.prev_length>=C.good_match&&(z>>=2),ee>C.lookahead&&(ee=C.lookahead);do{if(ie[(I=E)+Q]===ae&&ie[I+Q-1]===oe&&ie[I]===ie[q]&&ie[++I]===ie[q+1]){q+=2,I++;do{}while(ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&ie[++q]===ie[++I]&&q<se);if(B=ve-(se-q),q=se-ve,Q<B){if(C.match_start=E,ee<=(Q=B))break;oe=ie[q+Q-1],ae=ie[q+Q]}}}while((E=ne[E&re])>te&&0!=--z);return Q<=C.lookahead?Q:C.lookahead}function j(C){var E,I,B,q,te,ie,re,ne,se,oe,ae=C.w_size;do{if(q=C.window_size-C.lookahead-C.strstart,C.strstart>=ae+(ae-ye)){for(z.arraySet(C.window,C.window,ae,ae,0),C.match_start-=ae,C.strstart-=ae,C.block_start-=ae,E=I=C.hash_size;B=C.head[--E],C.head[E]=ae<=B?B-ae:0,--I;);for(E=I=ae;B=C.prev[--E],C.prev[E]=ae<=B?B-ae:0,--I;);q+=ae}if(0===C.strm.avail_in)break;if(ie=C.strm,re=C.window,ne=C.strstart+C.lookahead,oe=void 0,(se=q)<(oe=ie.avail_in)&&(oe=se),I=0===oe?0:(ie.avail_in-=oe,z.arraySet(re,ie.input,ie.next_in,oe,ne),1===ie.state.wrap?ie.adler=Q(ie.adler,re,oe,ne):2===ie.state.wrap&&(ie.adler=ee(ie.adler,re,oe,ne)),ie.next_in+=oe,ie.total_in+=oe,oe),C.lookahead+=I,C.lookahead+C.insert>=ge)for(te=C.strstart-C.insert,C.ins_h=C.window[te],C.ins_h=(C.ins_h<<C.hash_shift^C.window[te+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[te+ge-1])&C.hash_mask,C.prev[te&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=te,te++,C.insert--,!(C.lookahead+C.insert<ge)););}while(C.lookahead<ye&&0!==C.strm.avail_in)}function Z(C,E){for(var I,B;;){if(C.lookahead<ye){if(j(C),C.lookahead<ye&&E===ie)return we;if(0===C.lookahead)break}if(I=0,C.lookahead>=ge&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ge-1])&C.hash_mask,I=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),0!==I&&C.strstart-I<=C.w_size-ye&&(C.match_length=L(C,I)),C.match_length>=ge)if(B=q._tr_tally(C,C.strstart-C.match_start,C.match_length-ge),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=ge){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ge-1])&C.hash_mask,I=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,0!=--C.match_length;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else B=q._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(B&&(N(C,!1),0===C.strm.avail_out))return we}return C.insert=C.strstart<ge-1?C.strstart:ge-1,E===re?(N(C,!0),0===C.strm.avail_out?Se:xe):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?we:_e}function W(C,E){for(var I,B,z;;){if(C.lookahead<ye){if(j(C),C.lookahead<ye&&E===ie)return we;if(0===C.lookahead)break}if(I=0,C.lookahead>=ge&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ge-1])&C.hash_mask,I=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=ge-1,0!==I&&C.prev_length<C.max_lazy_match&&C.strstart-I<=C.w_size-ye&&(C.match_length=L(C,I),C.match_length<=5&&(1===C.strategy||C.match_length===ge&&4096<C.strstart-C.match_start)&&(C.match_length=ge-1)),C.prev_length>=ge&&C.match_length<=C.prev_length){for(z=C.strstart+C.lookahead-ge,B=q._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-ge),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=z&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+ge-1])&C.hash_mask,I=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),0!=--C.prev_length;);if(C.match_available=0,C.match_length=ge-1,C.strstart++,B&&(N(C,!1),0===C.strm.avail_out))return we}else if(C.match_available){if((B=q._tr_tally(C,0,C.window[C.strstart-1]))&&N(C,!1),C.strstart++,C.lookahead--,0===C.strm.avail_out)return we}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(B=q._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<ge-1?C.strstart:ge-1,E===re?(N(C,!0),0===C.strm.avail_out?Se:xe):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?we:_e}function M(C,E,I,B,z){this.good_length=C,this.max_lazy=E,this.nice_length=I,this.max_chain=B,this.func=z}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ue,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new z.Buf16(2*pe),this.dyn_dtree=new z.Buf16(2*(2*he+1)),this.bl_tree=new z.Buf16(2*(2*fe+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new z.Buf16(me+1),this.heap=new z.Buf16(2*ce+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new z.Buf16(2*ce+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(C){var E;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=le,(E=C.state).pending=0,E.pending_out=0,E.wrap<0&&(E.wrap=-E.wrap),E.status=E.wrap?be:Ce,C.adler=2===E.wrap?0:1,E.last_flush=ie,q._tr_init(E),ne):R(C,se)}function K(C){var E=G(C);return E===ne&&function(C){C.window_size=2*C.w_size,D(C.head),C.max_lazy_match=B[C.level].max_lazy,C.good_match=B[C.level].good_length,C.nice_match=B[C.level].nice_length,C.max_chain_length=B[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=ge-1,C.match_available=0,C.ins_h=0}(C.state),E}function Y(C,E,I,B,q,Q){if(!C)return se;var ee=1;if(E===oe&&(E=6),B<0?(ee=0,B=-B):15<B&&(ee=2,B-=16),q<1||de<q||I!==ue||B<8||15<B||E<0||9<E||Q<0||ae<Q)return R(C,se);8===B&&(B=9);var te=new H;return(C.state=te).strm=C,te.wrap=ee,te.gzhead=null,te.w_bits=B,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=q+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+ge-1)/ge),te.window=new z.Buf8(2*te.w_size),te.head=new z.Buf16(te.hash_size),te.prev=new z.Buf16(te.w_size),te.lit_bufsize=1<<q+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new z.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=E,te.strategy=Q,te.method=I,K(C)}B=[new M(0,0,0,0,(function(C,E){var I=65535;for(I>C.pending_buf_size-5&&(I=C.pending_buf_size-5);;){if(C.lookahead<=1){if(j(C),0===C.lookahead&&E===ie)return we;if(0===C.lookahead)break}C.strstart+=C.lookahead,C.lookahead=0;var B=C.block_start+I;if((0===C.strstart||C.strstart>=B)&&(C.lookahead=C.strstart-B,C.strstart=B,N(C,!1),0===C.strm.avail_out))return we;if(C.strstart-C.block_start>=C.w_size-ye&&(N(C,!1),0===C.strm.avail_out))return we}return C.insert=0,E===re?(N(C,!0),0===C.strm.avail_out?Se:xe):(C.strstart>C.block_start&&(N(C,!1),C.strm.avail_out),we)})),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],I.deflateInit=function(C,E){return Y(C,E,ue,15,8,0)},I.deflateInit2=Y,I.deflateReset=K,I.deflateResetKeep=G,I.deflateSetHeader=function(C,E){return C&&C.state?2!==C.state.wrap?se:(C.state.gzhead=E,ne):se},I.deflate=function(C,E){var I,z,Q,te;if(!C||!C.state||5<E||E<0)return C?R(C,se):se;if(z=C.state,!C.output||!C.input&&0!==C.avail_in||666===z.status&&E!==re)return R(C,0===C.avail_out?-5:se);if(z.strm=C,I=z.last_flush,z.last_flush=E,z.status===be)if(2===z.wrap)C.adler=0,U(z,31),U(z,139),U(z,8),z.gzhead?(U(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),U(z,255&z.gzhead.time),U(z,z.gzhead.time>>8&255),U(z,z.gzhead.time>>16&255),U(z,z.gzhead.time>>24&255),U(z,9===z.level?2:2<=z.strategy||z.level<2?4:0),U(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(U(z,255&z.gzhead.extra.length),U(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(C.adler=ee(C.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(U(z,0),U(z,0),U(z,0),U(z,0),U(z,0),U(z,9===z.level?2:2<=z.strategy||z.level<2?4:0),U(z,3),z.status=Ce);else{var oe=ue+(z.w_bits-8<<4)<<8;oe|=(2<=z.strategy||z.level<2?0:z.level<6?1:6===z.level?2:3)<<6,0!==z.strstart&&(oe|=32),oe+=31-oe%31,z.status=Ce,P(z,oe),0!==z.strstart&&(P(z,C.adler>>>16),P(z,65535&C.adler)),C.adler=1}if(69===z.status)if(z.gzhead.extra){for(Q=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>Q&&(C.adler=ee(C.adler,z.pending_buf,z.pending-Q,Q)),F(C),Q=z.pending,z.pending!==z.pending_buf_size));)U(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>Q&&(C.adler=ee(C.adler,z.pending_buf,z.pending-Q,Q)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(73===z.status)if(z.gzhead.name){Q=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Q&&(C.adler=ee(C.adler,z.pending_buf,z.pending-Q,Q)),F(C),Q=z.pending,z.pending===z.pending_buf_size)){te=1;break}te=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,U(z,te)}while(0!==te);z.gzhead.hcrc&&z.pending>Q&&(C.adler=ee(C.adler,z.pending_buf,z.pending-Q,Q)),0===te&&(z.gzindex=0,z.status=91)}else z.status=91;if(91===z.status)if(z.gzhead.comment){Q=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Q&&(C.adler=ee(C.adler,z.pending_buf,z.pending-Q,Q)),F(C),Q=z.pending,z.pending===z.pending_buf_size)){te=1;break}te=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,U(z,te)}while(0!==te);z.gzhead.hcrc&&z.pending>Q&&(C.adler=ee(C.adler,z.pending_buf,z.pending-Q,Q)),0===te&&(z.status=103)}else z.status=103;if(103===z.status&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&F(C),z.pending+2<=z.pending_buf_size&&(U(z,255&C.adler),U(z,C.adler>>8&255),C.adler=0,z.status=Ce)):z.status=Ce),0!==z.pending){if(F(C),0===C.avail_out)return z.last_flush=-1,ne}else if(0===C.avail_in&&T(E)<=T(I)&&E!==re)return R(C,-5);if(666===z.status&&0!==C.avail_in)return R(C,-5);if(0!==C.avail_in||0!==z.lookahead||E!==ie&&666!==z.status){var ae=2===z.strategy?function(C,E){for(var I;;){if(0===C.lookahead&&(j(C),0===C.lookahead)){if(E===ie)return we;break}if(C.match_length=0,I=q._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,I&&(N(C,!1),0===C.strm.avail_out))return we}return C.insert=0,E===re?(N(C,!0),0===C.strm.avail_out?Se:xe):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?we:_e}(z,E):3===z.strategy?function(C,E){for(var I,B,z,Q,ee=C.window;;){if(C.lookahead<=ve){if(j(C),C.lookahead<=ve&&E===ie)return we;if(0===C.lookahead)break}if(C.match_length=0,C.lookahead>=ge&&0<C.strstart&&(B=ee[z=C.strstart-1])===ee[++z]&&B===ee[++z]&&B===ee[++z]){Q=C.strstart+ve;do{}while(B===ee[++z]&&B===ee[++z]&&B===ee[++z]&&B===ee[++z]&&B===ee[++z]&&B===ee[++z]&&B===ee[++z]&&B===ee[++z]&&z<Q);C.match_length=ve-(Q-z),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=ge?(I=q._tr_tally(C,1,C.match_length-ge),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(I=q._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),I&&(N(C,!1),0===C.strm.avail_out))return we}return C.insert=0,E===re?(N(C,!0),0===C.strm.avail_out?Se:xe):C.last_lit&&(N(C,!1),0===C.strm.avail_out)?we:_e}(z,E):B[z.level].func(z,E);if(ae!==Se&&ae!==xe||(z.status=666),ae===we||ae===Se)return 0===C.avail_out&&(z.last_flush=-1),ne;if(ae===_e&&(1===E?q._tr_align(z):5!==E&&(q._tr_stored_block(z,0,0,!1),3===E&&(D(z.head),0===z.lookahead&&(z.strstart=0,z.block_start=0,z.insert=0))),F(C),0===C.avail_out))return z.last_flush=-1,ne}return E!==re?ne:z.wrap<=0?1:(2===z.wrap?(U(z,255&C.adler),U(z,C.adler>>8&255),U(z,C.adler>>16&255),U(z,C.adler>>24&255),U(z,255&C.total_in),U(z,C.total_in>>8&255),U(z,C.total_in>>16&255),U(z,C.total_in>>24&255)):(P(z,C.adler>>>16),P(z,65535&C.adler)),F(C),0<z.wrap&&(z.wrap=-z.wrap),0!==z.pending?ne:1)},I.deflateEnd=function(C){var E;return C&&C.state?(E=C.state.status)!==be&&69!==E&&73!==E&&91!==E&&103!==E&&E!==Ce&&666!==E?R(C,se):(C.state=null,E===Ce?R(C,-3):ne):se},I.deflateSetDictionary=function(C,E){var I,B,q,ee,te,ie,re,oe,ae=E.length;if(!C||!C.state)return se;if(2===(ee=(I=C.state).wrap)||1===ee&&I.status!==be||I.lookahead)return se;for(1===ee&&(C.adler=Q(C.adler,E,ae,0)),I.wrap=0,ae>=I.w_size&&(0===ee&&(D(I.head),I.strstart=0,I.block_start=0,I.insert=0),oe=new z.Buf8(I.w_size),z.arraySet(oe,E,ae-I.w_size,I.w_size,0),E=oe,ae=I.w_size),te=C.avail_in,ie=C.next_in,re=C.input,C.avail_in=ae,C.next_in=0,C.input=E,j(I);I.lookahead>=ge;){for(B=I.strstart,q=I.lookahead-(ge-1);I.ins_h=(I.ins_h<<I.hash_shift^I.window[B+ge-1])&I.hash_mask,I.prev[B&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=B,B++,--q;);I.strstart=B,I.lookahead=ge-1,j(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=ge-1,I.match_available=0,C.next_in=ie,C.input=re,C.avail_in=te,I.wrap=ee,ne},I.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(C,E,I){E.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(C,E,I){E.exports=function(C,E){var I,B,z,q,Q,ee,te,ie,re,ne,se,oe,ae,le,ue,de,ce,he,fe,pe,me,ge,ve,ye,be;I=C.state,B=C.next_in,ye=C.input,z=B+(C.avail_in-5),q=C.next_out,be=C.output,Q=q-(E-C.avail_out),ee=q+(C.avail_out-257),te=I.dmax,ie=I.wsize,re=I.whave,ne=I.wnext,se=I.window,oe=I.hold,ae=I.bits,le=I.lencode,ue=I.distcode,de=(1<<I.lenbits)-1,ce=(1<<I.distbits)-1;e:do{ae<15&&(oe+=ye[B++]<<ae,ae+=8,oe+=ye[B++]<<ae,ae+=8),he=le[oe&de];t:for(;;){if(oe>>>=fe=he>>>24,ae-=fe,0==(fe=he>>>16&255))be[q++]=65535&he;else{if(!(16&fe)){if(0==(64&fe)){he=le[(65535&he)+(oe&(1<<fe)-1)];continue t}if(32&fe){I.mode=12;break e}C.msg="invalid literal/length code",I.mode=30;break e}pe=65535&he,(fe&=15)&&(ae<fe&&(oe+=ye[B++]<<ae,ae+=8),pe+=oe&(1<<fe)-1,oe>>>=fe,ae-=fe),ae<15&&(oe+=ye[B++]<<ae,ae+=8,oe+=ye[B++]<<ae,ae+=8),he=ue[oe&ce];i:for(;;){if(oe>>>=fe=he>>>24,ae-=fe,!(16&(fe=he>>>16&255))){if(0==(64&fe)){he=ue[(65535&he)+(oe&(1<<fe)-1)];continue i}C.msg="invalid distance code",I.mode=30;break e}if(me=65535&he,ae<(fe&=15)&&(oe+=ye[B++]<<ae,(ae+=8)<fe&&(oe+=ye[B++]<<ae,ae+=8)),te<(me+=oe&(1<<fe)-1)){C.msg="invalid distance too far back",I.mode=30;break e}if(oe>>>=fe,ae-=fe,(fe=q-Q)<me){if(re<(fe=me-fe)&&I.sane){C.msg="invalid distance too far back",I.mode=30;break e}if(ve=se,(ge=0)===ne){if(ge+=ie-fe,fe<pe){for(pe-=fe;be[q++]=se[ge++],--fe;);ge=q-me,ve=be}}else if(ne<fe){if(ge+=ie+ne-fe,(fe-=ne)<pe){for(pe-=fe;be[q++]=se[ge++],--fe;);if(ge=0,ne<pe){for(pe-=fe=ne;be[q++]=se[ge++],--fe;);ge=q-me,ve=be}}}else if(ge+=ne-fe,fe<pe){for(pe-=fe;be[q++]=se[ge++],--fe;);ge=q-me,ve=be}for(;2<pe;)be[q++]=ve[ge++],be[q++]=ve[ge++],be[q++]=ve[ge++],pe-=3;pe&&(be[q++]=ve[ge++],1<pe&&(be[q++]=ve[ge++]))}else{for(ge=q-me;be[q++]=be[ge++],be[q++]=be[ge++],be[q++]=be[ge++],2<(pe-=3););pe&&(be[q++]=be[ge++],1<pe&&(be[q++]=be[ge++]))}break}}break}}while(B<z&&q<ee);B-=pe=ae>>3,oe&=(1<<(ae-=pe<<3))-1,C.next_in=B,C.next_out=q,C.avail_in=B<z?z-B+5:5-(B-z),C.avail_out=q<ee?ee-q+257:257-(q-ee),I.hold=oe,I.bits=ae}},{}],49:[function(C,E,I){var B=C("../utils/common"),z=C("./adler32"),q=C("./crc32"),Q=C("./inffast"),ee=C("./inftrees"),te=1,ie=2,re=0,ne=-2,se=1,oe=852,ae=592;function L(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new B.Buf16(320),this.work=new B.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(C){var E;return C&&C.state?(E=C.state,C.total_in=C.total_out=E.total=0,C.msg="",E.wrap&&(C.adler=1&E.wrap),E.mode=se,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new B.Buf32(oe),E.distcode=E.distdyn=new B.Buf32(ae),E.sane=1,E.back=-1,re):ne}function o(C){var E;return C&&C.state?((E=C.state).wsize=0,E.whave=0,E.wnext=0,a(C)):ne}function h(C,E){var I,B;return C&&C.state?(B=C.state,E<0?(I=0,E=-E):(I=1+(E>>4),E<48&&(E&=15)),E&&(E<8||15<E)?ne:(null!==B.window&&B.wbits!==E&&(B.window=null),B.wrap=I,B.wbits=E,o(C))):ne}function u(C,E){var I,B;return C?(B=new s,(C.state=B).window=null,(I=h(C,E))!==re&&(C.state=null),I):ne}var le,ue,de=!0;function j(C){if(de){var E;for(le=new B.Buf32(512),ue=new B.Buf32(32),E=0;E<144;)C.lens[E++]=8;for(;E<256;)C.lens[E++]=9;for(;E<280;)C.lens[E++]=7;for(;E<288;)C.lens[E++]=8;for(ee(te,C.lens,0,288,le,0,C.work,{bits:9}),E=0;E<32;)C.lens[E++]=5;ee(ie,C.lens,0,32,ue,0,C.work,{bits:5}),de=!1}C.lencode=le,C.lenbits=9,C.distcode=ue,C.distbits=5}function Z(C,E,I,z){var q,Q=C.state;return null===Q.window&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new B.Buf8(Q.wsize)),z>=Q.wsize?(B.arraySet(Q.window,E,I-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(z<(q=Q.wsize-Q.wnext)&&(q=z),B.arraySet(Q.window,E,I-z,q,Q.wnext),(z-=q)?(B.arraySet(Q.window,E,I-z,z,0),Q.wnext=z,Q.whave=Q.wsize):(Q.wnext+=q,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=q))),0}I.inflateReset=o,I.inflateReset2=h,I.inflateResetKeep=a,I.inflateInit=function(C){return u(C,15)},I.inflateInit2=u,I.inflate=function(C,E){var I,oe,ae,le,ue,de,ce,he,fe,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee=0,Pe=new B.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&0!==C.avail_in)return ne;12===(I=C.state).mode&&(I.mode=13),ue=C.next_out,ae=C.output,ce=C.avail_out,le=C.next_in,oe=C.input,de=C.avail_in,he=I.hold,fe=I.bits,pe=de,me=ce,Te=re;e:for(;;)switch(I.mode){case se:if(0===I.wrap){I.mode=13;break}for(;fe<16;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(2&I.wrap&&35615===he){Pe[I.check=0]=255&he,Pe[1]=he>>>8&255,I.check=q(I.check,Pe,2,0),fe=he=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&he)<<8)+(he>>8))%31){C.msg="incorrect header check",I.mode=30;break}if(8!=(15&he)){C.msg="unknown compression method",I.mode=30;break}if(fe-=4,ke=8+(15&(he>>>=4)),0===I.wbits)I.wbits=ke;else if(ke>I.wbits){C.msg="invalid window size",I.mode=30;break}I.dmax=1<<ke,C.adler=I.check=1,I.mode=512&he?10:12,fe=he=0;break;case 2:for(;fe<16;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(I.flags=he,8!=(255&I.flags)){C.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){C.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=he>>8&1),512&I.flags&&(Pe[0]=255&he,Pe[1]=he>>>8&255,I.check=q(I.check,Pe,2,0)),fe=he=0,I.mode=3;case 3:for(;fe<32;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}I.head&&(I.head.time=he),512&I.flags&&(Pe[0]=255&he,Pe[1]=he>>>8&255,Pe[2]=he>>>16&255,Pe[3]=he>>>24&255,I.check=q(I.check,Pe,4,0)),fe=he=0,I.mode=4;case 4:for(;fe<16;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}I.head&&(I.head.xflags=255&he,I.head.os=he>>8),512&I.flags&&(Pe[0]=255&he,Pe[1]=he>>>8&255,I.check=q(I.check,Pe,2,0)),fe=he=0,I.mode=5;case 5:if(1024&I.flags){for(;fe<16;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}I.length=he,I.head&&(I.head.extra_len=he),512&I.flags&&(Pe[0]=255&he,Pe[1]=he>>>8&255,I.check=q(I.check,Pe,2,0)),fe=he=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(de<(ge=I.length)&&(ge=de),ge&&(I.head&&(ke=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),B.arraySet(I.head.extra,oe,le,ge,ke)),512&I.flags&&(I.check=q(I.check,oe,ge,le)),de-=ge,le+=ge,I.length-=ge),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(0===de)break e;for(ge=0;ke=oe[le+ge++],I.head&&ke&&I.length<65536&&(I.head.name+=String.fromCharCode(ke)),ke&&ge<de;);if(512&I.flags&&(I.check=q(I.check,oe,ge,le)),de-=ge,le+=ge,ke)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(0===de)break e;for(ge=0;ke=oe[le+ge++],I.head&&ke&&I.length<65536&&(I.head.comment+=String.fromCharCode(ke)),ke&&ge<de;);if(512&I.flags&&(I.check=q(I.check,oe,ge,le)),de-=ge,le+=ge,ke)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;fe<16;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(he!==(65535&I.check)){C.msg="header crc mismatch",I.mode=30;break}fe=he=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),C.adler=I.check=0,I.mode=12;break;case 10:for(;fe<32;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}C.adler=I.check=L(he),fe=he=0,I.mode=11;case 11:if(0===I.havedict)return C.next_out=ue,C.avail_out=ce,C.next_in=le,C.avail_in=de,I.hold=he,I.bits=fe,2;C.adler=I.check=1,I.mode=12;case 12:if(5===E||6===E)break e;case 13:if(I.last){he>>>=7&fe,fe-=7&fe,I.mode=27;break}for(;fe<3;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}switch(I.last=1&he,fe-=1,3&(he>>>=1)){case 0:I.mode=14;break;case 1:if(j(I),I.mode=20,6!==E)break;he>>>=2,fe-=2;break e;case 2:I.mode=17;break;case 3:C.msg="invalid block type",I.mode=30}he>>>=2,fe-=2;break;case 14:for(he>>>=7&fe,fe-=7&fe;fe<32;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if((65535&he)!=(he>>>16^65535)){C.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&he,fe=he=0,I.mode=15,6===E)break e;case 15:I.mode=16;case 16:if(ge=I.length){if(de<ge&&(ge=de),ce<ge&&(ge=ce),0===ge)break e;B.arraySet(ae,oe,le,ge,ue),de-=ge,le+=ge,ce-=ge,ue+=ge,I.length-=ge;break}I.mode=12;break;case 17:for(;fe<14;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(I.nlen=257+(31&he),he>>>=5,fe-=5,I.ndist=1+(31&he),he>>>=5,fe-=5,I.ncode=4+(15&he),he>>>=4,fe-=4,286<I.nlen||30<I.ndist){C.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;fe<3;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}I.lens[Ie[I.have++]]=7&he,he>>>=3,fe-=3}for(;I.have<19;)I.lens[Ie[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,Me={bits:I.lenbits},Te=ee(0,I.lens,0,19,I.lencode,0,I.work,Me),I.lenbits=Me.bits,Te){C.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;Ce=(Ee=I.lencode[he&(1<<I.lenbits)-1])>>>16&255,we=65535&Ee,!((be=Ee>>>24)<=fe);){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(we<16)he>>>=be,fe-=be,I.lens[I.have++]=we;else{if(16===we){for(Re=be+2;fe<Re;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(he>>>=be,fe-=be,0===I.have){C.msg="invalid bit length repeat",I.mode=30;break}ke=I.lens[I.have-1],ge=3+(3&he),he>>>=2,fe-=2}else if(17===we){for(Re=be+3;fe<Re;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}fe-=be,ke=0,ge=3+(7&(he>>>=be)),he>>>=3,fe-=3}else{for(Re=be+7;fe<Re;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}fe-=be,ke=0,ge=11+(127&(he>>>=be)),he>>>=7,fe-=7}if(I.have+ge>I.nlen+I.ndist){C.msg="invalid bit length repeat",I.mode=30;break}for(;ge--;)I.lens[I.have++]=ke}}if(30===I.mode)break;if(0===I.lens[256]){C.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,Me={bits:I.lenbits},Te=ee(te,I.lens,0,I.nlen,I.lencode,0,I.work,Me),I.lenbits=Me.bits,Te){C.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,Me={bits:I.distbits},Te=ee(ie,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,Me),I.distbits=Me.bits,Te){C.msg="invalid distances set",I.mode=30;break}if(I.mode=20,6===E)break e;case 20:I.mode=21;case 21:if(6<=de&&258<=ce){C.next_out=ue,C.avail_out=ce,C.next_in=le,C.avail_in=de,I.hold=he,I.bits=fe,Q(C,me),ue=C.next_out,ae=C.output,ce=C.avail_out,le=C.next_in,oe=C.input,de=C.avail_in,he=I.hold,fe=I.bits,12===I.mode&&(I.back=-1);break}for(I.back=0;Ce=(Ee=I.lencode[he&(1<<I.lenbits)-1])>>>16&255,we=65535&Ee,!((be=Ee>>>24)<=fe);){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(Ce&&0==(240&Ce)){for(_e=be,Se=Ce,xe=we;Ce=(Ee=I.lencode[xe+((he&(1<<_e+Se)-1)>>_e)])>>>16&255,we=65535&Ee,!(_e+(be=Ee>>>24)<=fe);){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}he>>>=_e,fe-=_e,I.back+=_e}if(he>>>=be,fe-=be,I.back+=be,I.length=we,0===Ce){I.mode=26;break}if(32&Ce){I.back=-1,I.mode=12;break}if(64&Ce){C.msg="invalid literal/length code",I.mode=30;break}I.extra=15&Ce,I.mode=22;case 22:if(I.extra){for(Re=I.extra;fe<Re;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}I.length+=he&(1<<I.extra)-1,he>>>=I.extra,fe-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;Ce=(Ee=I.distcode[he&(1<<I.distbits)-1])>>>16&255,we=65535&Ee,!((be=Ee>>>24)<=fe);){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(0==(240&Ce)){for(_e=be,Se=Ce,xe=we;Ce=(Ee=I.distcode[xe+((he&(1<<_e+Se)-1)>>_e)])>>>16&255,we=65535&Ee,!(_e+(be=Ee>>>24)<=fe);){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}he>>>=_e,fe-=_e,I.back+=_e}if(he>>>=be,fe-=be,I.back+=be,64&Ce){C.msg="invalid distance code",I.mode=30;break}I.offset=we,I.extra=15&Ce,I.mode=24;case 24:if(I.extra){for(Re=I.extra;fe<Re;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}I.offset+=he&(1<<I.extra)-1,he>>>=I.extra,fe-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){C.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(0===ce)break e;if(ge=me-ce,I.offset>ge){if((ge=I.offset-ge)>I.whave&&I.sane){C.msg="invalid distance too far back",I.mode=30;break}ve=ge>I.wnext?(ge-=I.wnext,I.wsize-ge):I.wnext-ge,ge>I.length&&(ge=I.length),ye=I.window}else ye=ae,ve=ue-I.offset,ge=I.length;for(ce<ge&&(ge=ce),ce-=ge,I.length-=ge;ae[ue++]=ye[ve++],--ge;);0===I.length&&(I.mode=21);break;case 26:if(0===ce)break e;ae[ue++]=I.length,ce--,I.mode=21;break;case 27:if(I.wrap){for(;fe<32;){if(0===de)break e;de--,he|=oe[le++]<<fe,fe+=8}if(me-=ce,C.total_out+=me,I.total+=me,me&&(C.adler=I.check=I.flags?q(I.check,ae,me,ue-me):z(I.check,ae,me,ue-me)),me=ce,(I.flags?he:L(he))!==I.check){C.msg="incorrect data check",I.mode=30;break}fe=he=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;fe<32;){if(0===de)break e;de--,he+=oe[le++]<<fe,fe+=8}if(he!==(4294967295&I.total)){C.msg="incorrect length check",I.mode=30;break}fe=he=0}I.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;default:return ne}return C.next_out=ue,C.avail_out=ce,C.next_in=le,C.avail_in=de,I.hold=he,I.bits=fe,(I.wsize||me!==C.avail_out&&I.mode<30&&(I.mode<27||4!==E))&&Z(C,C.output,C.next_out,me-C.avail_out)?(I.mode=31,-4):(pe-=C.avail_in,me-=C.avail_out,C.total_in+=pe,C.total_out+=me,I.total+=me,I.wrap&&me&&(C.adler=I.check=I.flags?q(I.check,ae,me,C.next_out-me):z(I.check,ae,me,C.next_out-me)),C.data_type=I.bits+(I.last?64:0)+(12===I.mode?128:0)+(20===I.mode||15===I.mode?256:0),(0==pe&&0===me||4===E)&&Te===re&&(Te=-5),Te)},I.inflateEnd=function(C){if(!C||!C.state)return ne;var E=C.state;return E.window&&(E.window=null),C.state=null,re},I.inflateGetHeader=function(C,E){var I;return C&&C.state?0==(2&(I=C.state).wrap)?ne:((I.head=E).done=!1,re):ne},I.inflateSetDictionary=function(C,E){var I,B=E.length;return C&&C.state?0!==(I=C.state).wrap&&11!==I.mode?ne:11===I.mode&&z(1,E,B,0)!==I.check?-3:Z(C,E,B,B)?(I.mode=31,-4):(I.havedict=1,re):ne},I.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(C,E,I){var B=C("../utils/common"),z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],q=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ee=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];E.exports=function(C,E,I,te,ie,re,ne,se){var oe,ae,le,ue,de,ce,he,fe,pe,me=se.bits,ge=0,ve=0,ye=0,be=0,Ce=0,we=0,_e=0,Se=0,xe=0,ke=0,Te=null,Me=0,Re=new B.Buf16(16),Ee=new B.Buf16(16),Pe=null,Ie=0;for(ge=0;ge<=15;ge++)Re[ge]=0;for(ve=0;ve<te;ve++)Re[E[I+ve]]++;for(Ce=me,be=15;1<=be&&0===Re[be];be--);if(be<Ce&&(Ce=be),0===be)return ie[re++]=20971520,ie[re++]=20971520,se.bits=1,0;for(ye=1;ye<be&&0===Re[ye];ye++);for(Ce<ye&&(Ce=ye),ge=Se=1;ge<=15;ge++)if(Se<<=1,(Se-=Re[ge])<0)return-1;if(0<Se&&(0===C||1!==be))return-1;for(Ee[1]=0,ge=1;ge<15;ge++)Ee[ge+1]=Ee[ge]+Re[ge];for(ve=0;ve<te;ve++)0!==E[I+ve]&&(ne[Ee[E[I+ve]]++]=ve);if(ce=0===C?(Te=Pe=ne,19):1===C?(Te=z,Me-=257,Pe=q,Ie-=257,256):(Te=Q,Pe=ee,-1),ge=ye,de=re,_e=ve=ke=0,le=-1,ue=(xe=1<<(we=Ce))-1,1===C&&852<xe||2===C&&592<xe)return 1;for(;;){for(he=ge-_e,pe=ne[ve]<ce?(fe=0,ne[ve]):ne[ve]>ce?(fe=Pe[Ie+ne[ve]],Te[Me+ne[ve]]):(fe=96,0),oe=1<<ge-_e,ye=ae=1<<we;ie[de+(ke>>_e)+(ae-=oe)]=he<<24|fe<<16|pe|0,0!==ae;);for(oe=1<<ge-1;ke&oe;)oe>>=1;if(0!==oe?(ke&=oe-1,ke+=oe):ke=0,ve++,0==--Re[ge]){if(ge===be)break;ge=E[I+ne[ve]]}if(Ce<ge&&(ke&ue)!==le){for(0===_e&&(_e=Ce),de+=ye,Se=1<<(we=ge-_e);we+_e<be&&!((Se-=Re[we+_e])<=0);)we++,Se<<=1;if(xe+=1<<we,1===C&&852<xe||2===C&&592<xe)return 1;ie[le=ke&ue]=Ce<<24|we<<16|de-re|0}}return 0!==ke&&(ie[de+ke]=ge-_e<<24|64<<16|0),se.bits=Ce,0}},{"../utils/common":41}],51:[function(C,E,I){E.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(C,E,I){var B=C("../utils/common"),z=0,q=1;function n(C){for(var E=C.length;0<=--E;)C[E]=0}var Q=0,ee=29,te=256,ie=te+1+ee,re=30,ne=19,se=2*ie+1,oe=15,ae=16,le=7,ue=256,de=16,ce=17,he=18,fe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pe=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ve=new Array(2*(ie+2));n(ve);var ye=new Array(2*re);n(ye);var be=new Array(512);n(be);var Ce=new Array(256);n(Ce);var we=new Array(ee);n(we);var _e,Se,xe,ke=new Array(re);function D(C,E,I,B,z){this.static_tree=C,this.extra_bits=E,this.extra_base=I,this.elems=B,this.max_length=z,this.has_stree=C&&C.length}function F(C,E){this.dyn_tree=C,this.max_code=0,this.stat_desc=E}function N(C){return C<256?be[C]:be[256+(C>>>7)]}function U(C,E){C.pending_buf[C.pending++]=255&E,C.pending_buf[C.pending++]=E>>>8&255}function P(C,E,I){C.bi_valid>ae-I?(C.bi_buf|=E<<C.bi_valid&65535,U(C,C.bi_buf),C.bi_buf=E>>ae-C.bi_valid,C.bi_valid+=I-ae):(C.bi_buf|=E<<C.bi_valid&65535,C.bi_valid+=I)}function L(C,E,I){P(C,I[2*E],I[2*E+1])}function j(C,E){for(var I=0;I|=1&C,C>>>=1,I<<=1,0<--E;);return I>>>1}function Z(C,E,I){var B,z,q=new Array(oe+1),Q=0;for(B=1;B<=oe;B++)q[B]=Q=Q+I[B-1]<<1;for(z=0;z<=E;z++){var ee=C[2*z+1];0!==ee&&(C[2*z]=j(q[ee]++,ee))}}function W(C){var E;for(E=0;E<ie;E++)C.dyn_ltree[2*E]=0;for(E=0;E<re;E++)C.dyn_dtree[2*E]=0;for(E=0;E<ne;E++)C.bl_tree[2*E]=0;C.dyn_ltree[2*ue]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function M(C){8<C.bi_valid?U(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function H(C,E,I,B){var z=2*E,q=2*I;return C[z]<C[q]||C[z]===C[q]&&B[E]<=B[I]}function G(C,E,I){for(var B=C.heap[I],z=I<<1;z<=C.heap_len&&(z<C.heap_len&&H(E,C.heap[z+1],C.heap[z],C.depth)&&z++,!H(E,B,C.heap[z],C.depth));)C.heap[I]=C.heap[z],I=z,z<<=1;C.heap[I]=B}function K(C,E,I){var B,z,q,Q,ee=0;if(0!==C.last_lit)for(;B=C.pending_buf[C.d_buf+2*ee]<<8|C.pending_buf[C.d_buf+2*ee+1],z=C.pending_buf[C.l_buf+ee],ee++,0===B?L(C,z,E):(L(C,(q=Ce[z])+te+1,E),0!==(Q=fe[q])&&P(C,z-=we[q],Q),L(C,q=N(--B),I),0!==(Q=pe[q])&&P(C,B-=ke[q],Q)),ee<C.last_lit;);L(C,ue,E)}function Y(C,E){var I,B,z,q=E.dyn_tree,Q=E.stat_desc.static_tree,ee=E.stat_desc.has_stree,te=E.stat_desc.elems,ie=-1;for(C.heap_len=0,C.heap_max=se,I=0;I<te;I++)0!==q[2*I]?(C.heap[++C.heap_len]=ie=I,C.depth[I]=0):q[2*I+1]=0;for(;C.heap_len<2;)q[2*(z=C.heap[++C.heap_len]=ie<2?++ie:0)]=1,C.depth[z]=0,C.opt_len--,ee&&(C.static_len-=Q[2*z+1]);for(E.max_code=ie,I=C.heap_len>>1;1<=I;I--)G(C,q,I);for(z=te;I=C.heap[1],C.heap[1]=C.heap[C.heap_len--],G(C,q,1),B=C.heap[1],C.heap[--C.heap_max]=I,C.heap[--C.heap_max]=B,q[2*z]=q[2*I]+q[2*B],C.depth[z]=(C.depth[I]>=C.depth[B]?C.depth[I]:C.depth[B])+1,q[2*I+1]=q[2*B+1]=z,C.heap[1]=z++,G(C,q,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(C,E){var I,B,z,q,Q,ee,te=E.dyn_tree,ie=E.max_code,re=E.stat_desc.static_tree,ne=E.stat_desc.has_stree,ae=E.stat_desc.extra_bits,le=E.stat_desc.extra_base,ue=E.stat_desc.max_length,de=0;for(q=0;q<=oe;q++)C.bl_count[q]=0;for(te[2*C.heap[C.heap_max]+1]=0,I=C.heap_max+1;I<se;I++)ue<(q=te[2*te[2*(B=C.heap[I])+1]+1]+1)&&(q=ue,de++),te[2*B+1]=q,ie<B||(C.bl_count[q]++,Q=0,le<=B&&(Q=ae[B-le]),ee=te[2*B],C.opt_len+=ee*(q+Q),ne&&(C.static_len+=ee*(re[2*B+1]+Q)));if(0!==de){do{for(q=ue-1;0===C.bl_count[q];)q--;C.bl_count[q]--,C.bl_count[q+1]+=2,C.bl_count[ue]--,de-=2}while(0<de);for(q=ue;0!==q;q--)for(B=C.bl_count[q];0!==B;)ie<(z=C.heap[--I])||(te[2*z+1]!==q&&(C.opt_len+=(q-te[2*z+1])*te[2*z],te[2*z+1]=q),B--)}}(C,E),Z(q,ie,C.bl_count)}function X(C,E,I){var B,z,q=-1,Q=E[1],ee=0,te=7,ie=4;for(0===Q&&(te=138,ie=3),E[2*(I+1)+1]=65535,B=0;B<=I;B++)z=Q,Q=E[2*(B+1)+1],++ee<te&&z===Q||(ee<ie?C.bl_tree[2*z]+=ee:0!==z?(z!==q&&C.bl_tree[2*z]++,C.bl_tree[2*de]++):ee<=10?C.bl_tree[2*ce]++:C.bl_tree[2*he]++,q=z,ie=(ee=0)===Q?(te=138,3):z===Q?(te=6,3):(te=7,4))}function V(C,E,I){var B,z,q=-1,Q=E[1],ee=0,te=7,ie=4;for(0===Q&&(te=138,ie=3),B=0;B<=I;B++)if(z=Q,Q=E[2*(B+1)+1],!(++ee<te&&z===Q)){if(ee<ie)for(;L(C,z,C.bl_tree),0!=--ee;);else 0!==z?(z!==q&&(L(C,z,C.bl_tree),ee--),L(C,de,C.bl_tree),P(C,ee-3,2)):ee<=10?(L(C,ce,C.bl_tree),P(C,ee-3,3)):(L(C,he,C.bl_tree),P(C,ee-11,7));q=z,ie=(ee=0)===Q?(te=138,3):z===Q?(te=6,3):(te=7,4)}}n(ke);var Te=!1;function J(C,E,I,z){P(C,(Q<<1)+(z?1:0),3),function(C,E,I,z){M(C),z&&(U(C,I),U(C,~I)),B.arraySet(C.pending_buf,C.window,E,I,C.pending),C.pending+=I}(C,E,I,!0)}I._tr_init=function(C){Te||(function(){var C,E,I,B,z,q=new Array(oe+1);for(B=I=0;B<ee-1;B++)for(we[B]=I,C=0;C<1<<fe[B];C++)Ce[I++]=B;for(Ce[I-1]=B,B=z=0;B<16;B++)for(ke[B]=z,C=0;C<1<<pe[B];C++)be[z++]=B;for(z>>=7;B<re;B++)for(ke[B]=z<<7,C=0;C<1<<pe[B]-7;C++)be[256+z++]=B;for(E=0;E<=oe;E++)q[E]=0;for(C=0;C<=143;)ve[2*C+1]=8,C++,q[8]++;for(;C<=255;)ve[2*C+1]=9,C++,q[9]++;for(;C<=279;)ve[2*C+1]=7,C++,q[7]++;for(;C<=287;)ve[2*C+1]=8,C++,q[8]++;for(Z(ve,ie+1,q),C=0;C<re;C++)ye[2*C+1]=5,ye[2*C]=j(C,5);_e=new D(ve,fe,te+1,ie,oe),Se=new D(ye,pe,0,re,oe),xe=new D(new Array(0),me,0,ne,le)}(),Te=!0),C.l_desc=new F(C.dyn_ltree,_e),C.d_desc=new F(C.dyn_dtree,Se),C.bl_desc=new F(C.bl_tree,xe),C.bi_buf=0,C.bi_valid=0,W(C)},I._tr_stored_block=J,I._tr_flush_block=function(C,E,I,B){var Q,ee,ie=0;0<C.level?(2===C.strm.data_type&&(C.strm.data_type=function(C){var E,I=4093624447;for(E=0;E<=31;E++,I>>>=1)if(1&I&&0!==C.dyn_ltree[2*E])return z;if(0!==C.dyn_ltree[18]||0!==C.dyn_ltree[20]||0!==C.dyn_ltree[26])return q;for(E=32;E<te;E++)if(0!==C.dyn_ltree[2*E])return q;return z}(C)),Y(C,C.l_desc),Y(C,C.d_desc),ie=function(C){var E;for(X(C,C.dyn_ltree,C.l_desc.max_code),X(C,C.dyn_dtree,C.d_desc.max_code),Y(C,C.bl_desc),E=ne-1;3<=E&&0===C.bl_tree[2*ge[E]+1];E--);return C.opt_len+=3*(E+1)+5+5+4,E}(C),Q=C.opt_len+3+7>>>3,(ee=C.static_len+3+7>>>3)<=Q&&(Q=ee)):Q=ee=I+5,I+4<=Q&&-1!==E?J(C,E,I,B):4===C.strategy||ee===Q?(P(C,2+(B?1:0),3),K(C,ve,ye)):(P(C,4+(B?1:0),3),function(C,E,I,B){var z;for(P(C,E-257,5),P(C,I-1,5),P(C,B-4,4),z=0;z<B;z++)P(C,C.bl_tree[2*ge[z]+1],3);V(C,C.dyn_ltree,E-1),V(C,C.dyn_dtree,I-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,ie+1),K(C,C.dyn_ltree,C.dyn_dtree)),W(C),B&&M(C)},I._tr_tally=function(C,E,I){return C.pending_buf[C.d_buf+2*C.last_lit]=E>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&E,C.pending_buf[C.l_buf+C.last_lit]=255&I,C.last_lit++,0===E?C.dyn_ltree[2*I]++:(C.matches++,E--,C.dyn_ltree[2*(Ce[I]+te+1)]++,C.dyn_dtree[2*N(E)]++),C.last_lit===C.lit_bufsize-1},I._tr_align=function(C){P(C,2,3),L(C,ue,ve),function(C){16===C.bi_valid?(U(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(C,E,I){E.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(C,E,B){(function(C){!function(C,E){if(!C.setImmediate){var B,z,q,Q,ee=1,te={},ie=!1,re=C.document,ne=Object.getPrototypeOf&&Object.getPrototypeOf(C);ne=ne&&ne.setTimeout?ne:C,B="[object process]"==={}.toString.call(C.process)?function(C){I.nextTick((function(){c(C)}))}:function(){if(C.postMessage&&!C.importScripts){var E=!0,I=C.onmessage;return C.onmessage=function(){E=!1},C.postMessage("","*"),C.onmessage=I,E}}()?(Q="setImmediate$"+Math.random()+"$",C.addEventListener?C.addEventListener("message",d,!1):C.attachEvent("onmessage",d),function(E){C.postMessage(Q+E,"*")}):C.MessageChannel?((q=new MessageChannel).port1.onmessage=function(C){c(C.data)},function(C){q.port2.postMessage(C)}):re&&"onreadystatechange"in re.createElement("script")?(z=re.documentElement,function(C){var E=re.createElement("script");E.onreadystatechange=function(){c(C),E.onreadystatechange=null,z.removeChild(E),E=null},z.appendChild(E)}):function(C){setTimeout(c,0,C)},ne.setImmediate=function(C){"function"!=typeof C&&(C=new Function(""+C));for(var E=new Array(arguments.length-1),I=0;I<E.length;I++)E[I]=arguments[I+1];var z={callback:C,args:E};return te[ee]=z,B(ee),ee++},ne.clearImmediate=f}function f(C){delete te[C]}function c(C){if(ie)setTimeout(c,0,C);else{var I=te[C];if(I){ie=!0;try{!function(C){var I=C.callback,B=C.args;switch(B.length){case 0:I();break;case 1:I(B[0]);break;case 2:I(B[0],B[1]);break;case 3:I(B[0],B[1],B[2]);break;default:I.apply(E,B)}}(I)}finally{f(C),ie=!1}}}}function d(E){E.source===C&&"string"==typeof E.data&&0===E.data.indexOf(Q)&&c(+E.data.slice(Q.length))}}("undefined"==typeof self?void 0===C?this:C:self)}).call(this,void 0!==q?q:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,E("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],E("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(C,E,B){(function(C){(function(){"use strict";var I=1/0,B="[object Symbol]",z=/[\\^$.*+?()[\]{}|]/g,q=RegExp(z.source),Q="object"==typeof C&&C&&C.Object===Object&&C,ee="object"==typeof self&&self&&self.Object===Object&&self,te=Q||ee||Function("return this")(),ie=Object.prototype.toString,re=te.Symbol,ne=re?re.prototype:void 0,se=ne?ne.toString:void 0;function baseToString(C){if("string"==typeof C)return C;if(isSymbol(C))return se?se.call(C):"";var E=C+"";return"0"==E&&1/C==-I?"-0":E}function isObjectLike(C){return!!C&&"object"==typeof C}function isSymbol(C){return"symbol"==typeof C||isObjectLike(C)&&ie.call(C)==B}function toString(C){return null==C?"":baseToString(C)}function escapeRegExp(C){return(C=toString(C))&&q.test(C)?C.replace(z,"\\$&"):C}E.exports=escapeRegExp}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],443:[function(C,E,B){(function(C){(function(){"use strict";var I=200,z="Expected a function",q="__lodash_hash_undefined__",Q=1,ee=2,te=1/0,ie=9007199254740991,re="[object Arguments]",ne="[object Array]",se="[object Boolean]",oe="[object Date]",ae="[object Error]",le="[object Function]",ue="[object GeneratorFunction]",de="[object Map]",ce="[object Number]",he="[object Object]",fe="[object Promise]",pe="[object RegExp]",me="[object Set]",ge="[object String]",ve="[object Symbol]",ye="[object WeakMap]",be="[object ArrayBuffer]",Ce="[object DataView]",we="[object Float64Array]",_e="[object Int8Array]",Se="[object Int16Array]",xe="[object Int32Array]",ke="[object Uint8Array]",Te="[object Uint8ClampedArray]",Me="[object Uint16Array]",Re="[object Uint32Array]",Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pe=/^\w*$/,Ie=/^\./,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ne=/[\\^$.*+?()[\]{}|]/g,De=/\\(\\)?/g,Be=/^\[object .+?Constructor\]$/,Fe=/^(?:0|[1-9]\d*)$/,Oe={};Oe["[object Float32Array]"]=Oe[we]=Oe[_e]=Oe[Se]=Oe[xe]=Oe[ke]=Oe[Te]=Oe[Me]=Oe[Re]=!0,Oe[re]=Oe[ne]=Oe[be]=Oe[se]=Oe[Ce]=Oe[oe]=Oe[ae]=Oe[le]=Oe[de]=Oe[ce]=Oe[he]=Oe[pe]=Oe[me]=Oe[ge]=Oe[ye]=!1;var Le="object"==typeof C&&C&&C.Object===Object&&C,$e="object"==typeof self&&self&&self.Object===Object&&self,je=Le||$e||Function("return this")(),Ve="object"==typeof B&&B&&!B.nodeType&&B,He=Ve&&"object"==typeof E&&E&&!E.nodeType&&E,Ge=He&&He.exports===Ve&&Le.process,Ue=function(){try{return Ge&&Ge.binding("util")}catch(C){}}(),ze=Ue&&Ue.isTypedArray;function arrayAggregator(C,E,I,B){for(var z=-1,q=C?C.length:0;++z<q;){var Q=C[z];E(B,Q,I(Q),C)}return B}function arraySome(C,E){for(var I=-1,B=C?C.length:0;++I<B;)if(E(C[I],I,C))return!0;return!1}function baseProperty(C){return function(E){return null==E?void 0:E[C]}}function baseTimes(C,E){for(var I=-1,B=Array(C);++I<C;)B[I]=E(I);return B}function baseUnary(C){return function(E){return C(E)}}function getValue(C,E){return null==C?void 0:C[E]}function isHostObject(C){var E=!1;if(null!=C&&"function"!=typeof C.toString)try{E=!!(C+"")}catch(C){}return E}function mapToArray(C){var E=-1,I=Array(C.size);return C.forEach((function(C,B){I[++E]=[B,C]})),I}function overArg(C,E){return function(I){return C(E(I))}}function setToArray(C){var E=-1,I=Array(C.size);return C.forEach((function(C){I[++E]=C})),I}var qe,We=Array.prototype,Ke=Function.prototype,Xe=Object.prototype,Je=je["__core-js_shared__"],Ye=(qe=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||""))?"Symbol(src)_1."+qe:"",Ze=Ke.toString,Qe=Xe.hasOwnProperty,et=Xe.toString,tt=RegExp("^"+Ze.call(Qe).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),it=je.Symbol,rt=je.Uint8Array,nt=Xe.propertyIsEnumerable,st=We.splice,ot=overArg(Object.keys,Object),at=getNative(je,"DataView"),ut=getNative(je,"Map"),dt=getNative(je,"Promise"),ct=getNative(je,"Set"),ht=getNative(je,"WeakMap"),pt=getNative(Object,"create"),mt=toSource(at),vt=toSource(ut),yt=toSource(dt),bt=toSource(ct),Ct=toSource(ht),wt=it?it.prototype:void 0,_t=wt?wt.valueOf:void 0,St=wt?wt.toString:void 0;function Hash(C){var E=-1,I=C?C.length:0;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function hashClear(){this.__data__=pt?pt(null):{}}function hashDelete(C){return this.has(C)&&delete this.__data__[C]}function hashGet(C){var E=this.__data__;if(pt){var I=E[C];return I===q?void 0:I}return Qe.call(E,C)?E[C]:void 0}function hashHas(C){var E=this.__data__;return pt?void 0!==E[C]:Qe.call(E,C)}function hashSet(C,E){return this.__data__[C]=pt&&void 0===E?q:E,this}function ListCache(C){var E=-1,I=C?C.length:0;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(C){var E=this.__data__,I=assocIndexOf(E,C);return!(I<0||(I==E.length-1?E.pop():st.call(E,I,1),0))}function listCacheGet(C){var E=this.__data__,I=assocIndexOf(E,C);return I<0?void 0:E[I][1]}function listCacheHas(C){return assocIndexOf(this.__data__,C)>-1}function listCacheSet(C,E){var I=this.__data__,B=assocIndexOf(I,C);return B<0?I.push([C,E]):I[B][1]=E,this}function MapCache(C){var E=-1,I=C?C.length:0;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(ut||ListCache),string:new Hash}}function mapCacheDelete(C){return getMapData(this,C).delete(C)}function mapCacheGet(C){return getMapData(this,C).get(C)}function mapCacheHas(C){return getMapData(this,C).has(C)}function mapCacheSet(C,E){return getMapData(this,C).set(C,E),this}function SetCache(C){var E=-1,I=C?C.length:0;for(this.__data__=new MapCache;++E<I;)this.add(C[E])}function setCacheAdd(C){return this.__data__.set(C,q),this}function setCacheHas(C){return this.__data__.has(C)}function Stack(C){this.__data__=new ListCache(C)}function stackClear(){this.__data__=new ListCache}function stackDelete(C){return this.__data__.delete(C)}function stackGet(C){return this.__data__.get(C)}function stackHas(C){return this.__data__.has(C)}function stackSet(C,E){var B=this.__data__;if(B instanceof ListCache){var z=B.__data__;if(!ut||z.length<I-1)return z.push([C,E]),this;B=this.__data__=new MapCache(z)}return B.set(C,E),this}function arrayLikeKeys(C,E){var I=Et(C)||isArguments(C)?baseTimes(C.length,String):[],B=I.length,z=!!B;for(var q in C)!E&&!Qe.call(C,q)||z&&("length"==q||isIndex(q,B))||I.push(q);return I}function assocIndexOf(C,E){for(var I=C.length;I--;)if(eq(C[I][0],E))return I;return-1}function baseAggregator(C,E,I,B){return xt(C,(function(C,z,q){E(B,C,I(C),q)})),B}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var xt=createBaseEach(baseForOwn),kt=createBaseFor();function baseForOwn(C,E){return C&&kt(C,E,keys)}function baseGet(C,E){for(var I=0,B=(E=isKey(E,C)?[E]:castPath(E)).length;null!=C&&I<B;)C=C[toKey(E[I++])];return I&&I==B?C:void 0}function baseGetTag(C){return et.call(C)}function baseHasIn(C,E){return null!=C&&E in Object(C)}function baseIsEqual(C,E,I,B,z){return C===E||(null==C||null==E||!isObject(C)&&!isObjectLike(E)?C!=C&&E!=E:baseIsEqualDeep(C,E,baseIsEqual,I,B,z))}function baseIsEqualDeep(C,E,I,B,z,q){var Q=Et(C),te=Et(E),ie=ne,se=ne;Q||(ie=(ie=Tt(C))==re?he:ie),te||(se=(se=Tt(E))==re?he:se);var oe=ie==he&&!isHostObject(C),ae=se==he&&!isHostObject(E),le=ie==se;if(le&&!oe)return q||(q=new Stack),Q||Pt(C)?equalArrays(C,E,I,B,z,q):equalByTag(C,E,ie,I,B,z,q);if(!(z&ee)){var ue=oe&&Qe.call(C,"__wrapped__"),de=ae&&Qe.call(E,"__wrapped__");if(ue||de){var ce=ue?C.value():C,fe=de?E.value():E;return q||(q=new Stack),I(ce,fe,B,z,q)}}return!!le&&(q||(q=new Stack),equalObjects(C,E,I,B,z,q))}function baseIsMatch(C,E,I,B){var z=I.length,q=z,te=!B;if(null==C)return!q;for(C=Object(C);z--;){var ie=I[z];if(te&&ie[2]?ie[1]!==C[ie[0]]:!(ie[0]in C))return!1}for(;++z<q;){var re=(ie=I[z])[0],ne=C[re],se=ie[1];if(te&&ie[2]){if(void 0===ne&&!(re in C))return!1}else{var oe=new Stack;if(B)var ae=B(ne,se,re,C,E,oe);if(!(void 0===ae?baseIsEqual(se,ne,B,Q|ee,oe):ae))return!1}}return!0}function baseIsNative(C){return!(!isObject(C)||isMasked(C))&&(isFunction(C)||isHostObject(C)?tt:Be).test(toSource(C))}function baseIsTypedArray(C){return isObjectLike(C)&&isLength(C.length)&&!!Oe[et.call(C)]}function baseIteratee(C){return"function"==typeof C?C:null==C?identity:"object"==typeof C?Et(C)?baseMatchesProperty(C[0],C[1]):baseMatches(C):property(C)}function baseKeys(C){if(!isPrototype(C))return ot(C);var E=[];for(var I in Object(C))Qe.call(C,I)&&"constructor"!=I&&E.push(I);return E}function baseMatches(C){var E=getMatchData(C);return 1==E.length&&E[0][2]?matchesStrictComparable(E[0][0],E[0][1]):function(I){return I===C||baseIsMatch(I,C,E)}}function baseMatchesProperty(C,E){return isKey(C)&&isStrictComparable(E)?matchesStrictComparable(toKey(C),E):function(I){var B=get(I,C);return void 0===B&&B===E?hasIn(I,C):baseIsEqual(E,B,void 0,Q|ee)}}function basePropertyDeep(C){return function(E){return baseGet(E,C)}}function baseToString(C){if("string"==typeof C)return C;if(isSymbol(C))return St?St.call(C):"";var E=C+"";return"0"==E&&1/C==-te?"-0":E}function castPath(C){return Et(C)?C:Mt(C)}function createAggregator(C,E){return function(I,B){var z=Et(I)?arrayAggregator:baseAggregator,q=E?E():{};return z(I,C,baseIteratee(B,2),q)}}function createBaseEach(C,E){return function(I,B){if(null==I)return I;if(!isArrayLike(I))return C(I,B);for(var z=I.length,q=E?z:-1,Q=Object(I);(E?q--:++q<z)&&!1!==B(Q[q],q,Q););return I}}function createBaseFor(C){return function(E,I,B){for(var z=-1,q=Object(E),Q=B(E),ee=Q.length;ee--;){var te=Q[C?ee:++z];if(!1===I(q[te],te,q))break}return E}}function equalArrays(C,E,I,B,z,q){var te=z&ee,ie=C.length,re=E.length;if(ie!=re&&!(te&&re>ie))return!1;var ne=q.get(C);if(ne&&q.get(E))return ne==E;var se=-1,oe=!0,ae=z&Q?new SetCache:void 0;for(q.set(C,E),q.set(E,C);++se<ie;){var le=C[se],ue=E[se];if(B)var de=te?B(ue,le,se,E,C,q):B(le,ue,se,C,E,q);if(void 0!==de){if(de)continue;oe=!1;break}if(ae){if(!arraySome(E,(function(C,E){if(!ae.has(E)&&(le===C||I(le,C,B,z,q)))return ae.add(E)}))){oe=!1;break}}else if(le!==ue&&!I(le,ue,B,z,q)){oe=!1;break}}return q.delete(C),q.delete(E),oe}function equalByTag(C,E,I,B,z,q,te){switch(I){case Ce:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case be:return!(C.byteLength!=E.byteLength||!B(new rt(C),new rt(E)));case se:case oe:case ce:return eq(+C,+E);case ae:return C.name==E.name&&C.message==E.message;case pe:case ge:return C==E+"";case de:var ie=mapToArray;case me:var re=q&ee;if(ie||(ie=setToArray),C.size!=E.size&&!re)return!1;var ne=te.get(C);if(ne)return ne==E;q|=Q,te.set(C,E);var le=equalArrays(ie(C),ie(E),B,z,q,te);return te.delete(C),le;case ve:if(_t)return _t.call(C)==_t.call(E)}return!1}function equalObjects(C,E,I,B,z,q){var Q=z&ee,te=keys(C),ie=te.length;if(ie!=keys(E).length&&!Q)return!1;for(var re=ie;re--;){var ne=te[re];if(!(Q?ne in E:Qe.call(E,ne)))return!1}var se=q.get(C);if(se&&q.get(E))return se==E;var oe=!0;q.set(C,E),q.set(E,C);for(var ae=Q;++re<ie;){var le=C[ne=te[re]],ue=E[ne];if(B)var de=Q?B(ue,le,ne,E,C,q):B(le,ue,ne,C,E,q);if(!(void 0===de?le===ue||I(le,ue,B,z,q):de)){oe=!1;break}ae||(ae="constructor"==ne)}if(oe&&!ae){var ce=C.constructor,he=E.constructor;ce==he||!("constructor"in C)||!("constructor"in E)||"function"==typeof ce&&ce instanceof ce&&"function"==typeof he&&he instanceof he||(oe=!1)}return q.delete(C),q.delete(E),oe}function getMapData(C,E){var I=C.__data__;return isKeyable(E)?I["string"==typeof E?"string":"hash"]:I.map}function getMatchData(C){for(var E=keys(C),I=E.length;I--;){var B=E[I],z=C[B];E[I]=[B,z,isStrictComparable(z)]}return E}function getNative(C,E){var I=getValue(C,E);return baseIsNative(I)?I:void 0}var Tt=baseGetTag;function hasPath(C,E,I){for(var B,z=-1,q=(E=isKey(E,C)?[E]:castPath(E)).length;++z<q;){var Q=toKey(E[z]);if(!(B=null!=C&&I(C,Q)))break;C=C[Q]}return B||!!(q=C?C.length:0)&&isLength(q)&&isIndex(Q,q)&&(Et(C)||isArguments(C))}function isIndex(C,E){return!!(E=null==E?ie:E)&&("number"==typeof C||Fe.test(C))&&C>-1&&C%1==0&&C<E}function isKey(C,E){if(Et(C))return!1;var I=typeof C;return!("number"!=I&&"symbol"!=I&&"boolean"!=I&&null!=C&&!isSymbol(C))||Pe.test(C)||!Ee.test(C)||null!=E&&C in Object(E)}function isKeyable(C){var E=typeof C;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==C:null===C}function isMasked(C){return!!Ye&&Ye in C}function isPrototype(C){var E=C&&C.constructor;return C===("function"==typeof E&&E.prototype||Xe)}function isStrictComparable(C){return C==C&&!isObject(C)}function matchesStrictComparable(C,E){return function(I){return null!=I&&I[C]===E&&(void 0!==E||C in Object(I))}}(at&&Tt(new at(new ArrayBuffer(1)))!=Ce||ut&&Tt(new ut)!=de||dt&&Tt(dt.resolve())!=fe||ct&&Tt(new ct)!=me||ht&&Tt(new ht)!=ye)&&(Tt=function(C){var E=et.call(C),I=E==he?C.constructor:void 0,B=I?toSource(I):void 0;if(B)switch(B){case mt:return Ce;case vt:return de;case yt:return fe;case bt:return me;case Ct:return ye}return E});var Mt=memoize((function(C){C=toString(C);var E=[];return Ie.test(C)&&E.push(""),C.replace(Ae,(function(C,I,B,z){E.push(B?z.replace(De,"$1"):I||C)})),E}));function toKey(C){if("string"==typeof C||isSymbol(C))return C;var E=C+"";return"0"==E&&1/C==-te?"-0":E}function toSource(C){if(null!=C){try{return Ze.call(C)}catch(C){}try{return C+""}catch(C){}}return""}var Rt=createAggregator((function(C,E,I){Qe.call(C,I)?C[I].push(E):C[I]=[E]}));function memoize(C,E){if("function"!=typeof C||E&&"function"!=typeof E)throw new TypeError(z);var memoized=function(){var I=arguments,B=E?E.apply(this,I):I[0],z=memoized.cache;if(z.has(B))return z.get(B);var q=C.apply(this,I);return memoized.cache=z.set(B,q),q};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(C,E){return C===E||C!=C&&E!=E}function isArguments(C){return isArrayLikeObject(C)&&Qe.call(C,"callee")&&(!nt.call(C,"callee")||et.call(C)==re)}memoize.Cache=MapCache;var Et=Array.isArray;function isArrayLike(C){return null!=C&&isLength(C.length)&&!isFunction(C)}function isArrayLikeObject(C){return isObjectLike(C)&&isArrayLike(C)}function isFunction(C){var E=isObject(C)?et.call(C):"";return E==le||E==ue}function isLength(C){return"number"==typeof C&&C>-1&&C%1==0&&C<=ie}function isObject(C){var E=typeof C;return!!C&&("object"==E||"function"==E)}function isObjectLike(C){return!!C&&"object"==typeof C}function isSymbol(C){return"symbol"==typeof C||isObjectLike(C)&&et.call(C)==ve}var Pt=ze?baseUnary(ze):baseIsTypedArray;function toString(C){return null==C?"":baseToString(C)}function get(C,E,I){var B=null==C?void 0:baseGet(C,E);return void 0===B?I:B}function hasIn(C,E){return null!=C&&hasPath(C,E,baseHasIn)}function keys(C){return isArrayLike(C)?arrayLikeKeys(C):baseKeys(C)}function identity(C){return C}function property(C){return isKey(C)?baseProperty(toKey(C)):basePropertyDeep(C)}E.exports=Rt}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],444:[function(C,E,I){"use strict";var B="[object Boolean]",z=Object.prototype.toString;function isBoolean(C){return!0===C||!1===C||isObjectLike(C)&&z.call(C)==B}function isObjectLike(C){return!!C&&"object"==typeof C}E.exports=isBoolean},{}],445:[function(C,E,B){(function(C){(function(){"use strict";var I=200,z="__lodash_hash_undefined__",q=1,Q=2,ee=9007199254740991,te="[object Arguments]",ie="[object Array]",re="[object AsyncFunction]",ne="[object Boolean]",se="[object Date]",oe="[object Error]",ae="[object Function]",le="[object GeneratorFunction]",ue="[object Map]",de="[object Number]",ce="[object Null]",he="[object Object]",fe="[object Promise]",pe="[object Proxy]",me="[object RegExp]",ge="[object Set]",ve="[object String]",ye="[object Symbol]",be="[object Undefined]",Ce="[object WeakMap]",we="[object ArrayBuffer]",_e="[object DataView]",Se="[object Float64Array]",xe="[object Int8Array]",ke="[object Int16Array]",Te="[object Int32Array]",Me="[object Uint8Array]",Re="[object Uint8ClampedArray]",Ee="[object Uint16Array]",Pe="[object Uint32Array]",Ie=/[\\^$.*+?()[\]{}|]/g,Ae=/^\[object .+?Constructor\]$/,Ne=/^(?:0|[1-9]\d*)$/,De={};De["[object Float32Array]"]=De[Se]=De[xe]=De[ke]=De[Te]=De[Me]=De[Re]=De[Ee]=De[Pe]=!0,De[te]=De[ie]=De[we]=De[ne]=De[_e]=De[se]=De[oe]=De[ae]=De[ue]=De[de]=De[he]=De[me]=De[ge]=De[ve]=De[Ce]=!1;var Be="object"==typeof C&&C&&C.Object===Object&&C,Fe="object"==typeof self&&self&&self.Object===Object&&self,Oe=Be||Fe||Function("return this")(),Le="object"==typeof B&&B&&!B.nodeType&&B,$e=Le&&"object"==typeof E&&E&&!E.nodeType&&E,je=$e&&$e.exports===Le,Ve=je&&Be.process,He=function(){try{return Ve&&Ve.binding&&Ve.binding("util")}catch(C){}}(),Ge=He&&He.isTypedArray;function arrayFilter(C,E){for(var I=-1,B=null==C?0:C.length,z=0,q=[];++I<B;){var Q=C[I];E(Q,I,C)&&(q[z++]=Q)}return q}function arrayPush(C,E){for(var I=-1,B=E.length,z=C.length;++I<B;)C[z+I]=E[I];return C}function arraySome(C,E){for(var I=-1,B=null==C?0:C.length;++I<B;)if(E(C[I],I,C))return!0;return!1}function baseTimes(C,E){for(var I=-1,B=Array(C);++I<C;)B[I]=E(I);return B}function baseUnary(C){return function(E){return C(E)}}function cacheHas(C,E){return C.has(E)}function getValue(C,E){return null==C?void 0:C[E]}function mapToArray(C){var E=-1,I=Array(C.size);return C.forEach((function(C,B){I[++E]=[B,C]})),I}function overArg(C,E){return function(I){return C(E(I))}}function setToArray(C){var E=-1,I=Array(C.size);return C.forEach((function(C){I[++E]=C})),I}var Ue,ze=Array.prototype,qe=Function.prototype,We=Object.prototype,Ke=Oe["__core-js_shared__"],Xe=qe.toString,Je=We.hasOwnProperty,Ye=(Ue=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",Ze=We.toString,Qe=RegExp("^"+Xe.call(Je).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=je?Oe.Buffer:void 0,tt=Oe.Symbol,it=Oe.Uint8Array,rt=We.propertyIsEnumerable,nt=ze.splice,st=tt?tt.toStringTag:void 0,ot=Object.getOwnPropertySymbols,at=et?et.isBuffer:void 0,ut=overArg(Object.keys,Object),dt=getNative(Oe,"DataView"),ct=getNative(Oe,"Map"),ht=getNative(Oe,"Promise"),pt=getNative(Oe,"Set"),mt=getNative(Oe,"WeakMap"),vt=getNative(Object,"create"),yt=toSource(dt),bt=toSource(ct),Ct=toSource(ht),wt=toSource(pt),_t=toSource(mt),St=tt?tt.prototype:void 0,xt=St?St.valueOf:void 0;function Hash(C){var E=-1,I=null==C?0:C.length;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function hashClear(){this.__data__=vt?vt(null):{},this.size=0}function hashDelete(C){var E=this.has(C)&&delete this.__data__[C];return this.size-=E?1:0,E}function hashGet(C){var E=this.__data__;if(vt){var I=E[C];return I===z?void 0:I}return Je.call(E,C)?E[C]:void 0}function hashHas(C){var E=this.__data__;return vt?void 0!==E[C]:Je.call(E,C)}function hashSet(C,E){var I=this.__data__;return this.size+=this.has(C)?0:1,I[C]=vt&&void 0===E?z:E,this}function ListCache(C){var E=-1,I=null==C?0:C.length;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(C){var E=this.__data__,I=assocIndexOf(E,C);return!(I<0||(I==E.length-1?E.pop():nt.call(E,I,1),--this.size,0))}function listCacheGet(C){var E=this.__data__,I=assocIndexOf(E,C);return I<0?void 0:E[I][1]}function listCacheHas(C){return assocIndexOf(this.__data__,C)>-1}function listCacheSet(C,E){var I=this.__data__,B=assocIndexOf(I,C);return B<0?(++this.size,I.push([C,E])):I[B][1]=E,this}function MapCache(C){var E=-1,I=null==C?0:C.length;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(ct||ListCache),string:new Hash}}function mapCacheDelete(C){var E=getMapData(this,C).delete(C);return this.size-=E?1:0,E}function mapCacheGet(C){return getMapData(this,C).get(C)}function mapCacheHas(C){return getMapData(this,C).has(C)}function mapCacheSet(C,E){var I=getMapData(this,C),B=I.size;return I.set(C,E),this.size+=I.size==B?0:1,this}function SetCache(C){var E=-1,I=null==C?0:C.length;for(this.__data__=new MapCache;++E<I;)this.add(C[E])}function setCacheAdd(C){return this.__data__.set(C,z),this}function setCacheHas(C){return this.__data__.has(C)}function Stack(C){var E=this.__data__=new ListCache(C);this.size=E.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(C){var E=this.__data__,I=E.delete(C);return this.size=E.size,I}function stackGet(C){return this.__data__.get(C)}function stackHas(C){return this.__data__.has(C)}function stackSet(C,E){var B=this.__data__;if(B instanceof ListCache){var z=B.__data__;if(!ct||z.length<I-1)return z.push([C,E]),this.size=++B.size,this;B=this.__data__=new MapCache(z)}return B.set(C,E),this.size=B.size,this}function arrayLikeKeys(C,E){var I=Rt(C),B=!I&&Mt(C),z=!I&&!B&&Et(C),q=!I&&!B&&!z&&Pt(C),Q=I||B||z||q,ee=Q?baseTimes(C.length,String):[],te=ee.length;for(var ie in C)!E&&!Je.call(C,ie)||Q&&("length"==ie||z&&("offset"==ie||"parent"==ie)||q&&("buffer"==ie||"byteLength"==ie||"byteOffset"==ie)||isIndex(ie,te))||ee.push(ie);return ee}function assocIndexOf(C,E){for(var I=C.length;I--;)if(eq(C[I][0],E))return I;return-1}function baseGetAllKeys(C,E,I){var B=E(C);return Rt(C)?B:arrayPush(B,I(C))}function baseGetTag(C){return null==C?void 0===C?be:ce:st&&st in Object(C)?getRawTag(C):objectToString(C)}function baseIsArguments(C){return isObjectLike(C)&&baseGetTag(C)==te}function baseIsEqual(C,E,I,B,z){return C===E||(null==C||null==E||!isObjectLike(C)&&!isObjectLike(E)?C!=C&&E!=E:baseIsEqualDeep(C,E,I,B,baseIsEqual,z))}function baseIsEqualDeep(C,E,I,B,z,Q){var ee=Rt(C),re=Rt(E),ne=ee?ie:Tt(C),se=re?ie:Tt(E),oe=(ne=ne==te?he:ne)==he,ae=(se=se==te?he:se)==he,le=ne==se;if(le&&Et(C)){if(!Et(E))return!1;ee=!0,oe=!1}if(le&&!oe)return Q||(Q=new Stack),ee||Pt(C)?equalArrays(C,E,I,B,z,Q):equalByTag(C,E,ne,I,B,z,Q);if(!(I&q)){var ue=oe&&Je.call(C,"__wrapped__"),de=ae&&Je.call(E,"__wrapped__");if(ue||de){var ce=ue?C.value():C,fe=de?E.value():E;return Q||(Q=new Stack),z(ce,fe,I,B,Q)}}return!!le&&(Q||(Q=new Stack),equalObjects(C,E,I,B,z,Q))}function baseIsNative(C){return!(!isObject(C)||isMasked(C))&&(isFunction(C)?Qe:Ae).test(toSource(C))}function baseIsTypedArray(C){return isObjectLike(C)&&isLength(C.length)&&!!De[baseGetTag(C)]}function baseKeys(C){if(!isPrototype(C))return ut(C);var E=[];for(var I in Object(C))Je.call(C,I)&&"constructor"!=I&&E.push(I);return E}function equalArrays(C,E,I,B,z,ee){var te=I&q,ie=C.length,re=E.length;if(ie!=re&&!(te&&re>ie))return!1;var ne=ee.get(C);if(ne&&ee.get(E))return ne==E;var se=-1,oe=!0,ae=I&Q?new SetCache:void 0;for(ee.set(C,E),ee.set(E,C);++se<ie;){var le=C[se],ue=E[se];if(B)var de=te?B(ue,le,se,E,C,ee):B(le,ue,se,C,E,ee);if(void 0!==de){if(de)continue;oe=!1;break}if(ae){if(!arraySome(E,(function(C,E){if(!cacheHas(ae,E)&&(le===C||z(le,C,I,B,ee)))return ae.push(E)}))){oe=!1;break}}else if(le!==ue&&!z(le,ue,I,B,ee)){oe=!1;break}}return ee.delete(C),ee.delete(E),oe}function equalByTag(C,E,I,B,z,ee,te){switch(I){case _e:if(C.byteLength!=E.byteLength||C.byteOffset!=E.byteOffset)return!1;C=C.buffer,E=E.buffer;case we:return!(C.byteLength!=E.byteLength||!ee(new it(C),new it(E)));case ne:case se:case de:return eq(+C,+E);case oe:return C.name==E.name&&C.message==E.message;case me:case ve:return C==E+"";case ue:var ie=mapToArray;case ge:var re=B&q;if(ie||(ie=setToArray),C.size!=E.size&&!re)return!1;var ae=te.get(C);if(ae)return ae==E;B|=Q,te.set(C,E);var le=equalArrays(ie(C),ie(E),B,z,ee,te);return te.delete(C),le;case ye:if(xt)return xt.call(C)==xt.call(E)}return!1}function equalObjects(C,E,I,B,z,Q){var ee=I&q,te=getAllKeys(C),ie=te.length;if(ie!=getAllKeys(E).length&&!ee)return!1;for(var re=ie;re--;){var ne=te[re];if(!(ee?ne in E:Je.call(E,ne)))return!1}var se=Q.get(C);if(se&&Q.get(E))return se==E;var oe=!0;Q.set(C,E),Q.set(E,C);for(var ae=ee;++re<ie;){var le=C[ne=te[re]],ue=E[ne];if(B)var de=ee?B(ue,le,ne,E,C,Q):B(le,ue,ne,C,E,Q);if(!(void 0===de?le===ue||z(le,ue,I,B,Q):de)){oe=!1;break}ae||(ae="constructor"==ne)}if(oe&&!ae){var ce=C.constructor,he=E.constructor;ce==he||!("constructor"in C)||!("constructor"in E)||"function"==typeof ce&&ce instanceof ce&&"function"==typeof he&&he instanceof he||(oe=!1)}return Q.delete(C),Q.delete(E),oe}function getAllKeys(C){return baseGetAllKeys(C,keys,kt)}function getMapData(C,E){var I=C.__data__;return isKeyable(E)?I["string"==typeof E?"string":"hash"]:I.map}function getNative(C,E){var I=getValue(C,E);return baseIsNative(I)?I:void 0}function getRawTag(C){var E=Je.call(C,st),I=C[st];try{C[st]=void 0;var B=!0}catch(C){}var z=Ze.call(C);return B&&(E?C[st]=I:delete C[st]),z}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var kt=ot?function(C){return null==C?[]:(C=Object(C),arrayFilter(ot(C),(function(E){return rt.call(C,E)})))}:stubArray,Tt=baseGetTag;function isIndex(C,E){return!!(E=null==E?ee:E)&&("number"==typeof C||Ne.test(C))&&C>-1&&C%1==0&&C<E}function isKeyable(C){var E=typeof C;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==C:null===C}function isMasked(C){return!!Ye&&Ye in C}function isPrototype(C){var E=C&&C.constructor;return C===("function"==typeof E&&E.prototype||We)}function objectToString(C){return Ze.call(C)}function toSource(C){if(null!=C){try{return Xe.call(C)}catch(C){}try{return C+""}catch(C){}}return""}function eq(C,E){return C===E||C!=C&&E!=E}(dt&&Tt(new dt(new ArrayBuffer(1)))!=_e||ct&&Tt(new ct)!=ue||ht&&Tt(ht.resolve())!=fe||pt&&Tt(new pt)!=ge||mt&&Tt(new mt)!=Ce)&&(Tt=function(C){var E=baseGetTag(C),I=E==he?C.constructor:void 0,B=I?toSource(I):"";if(B)switch(B){case yt:return _e;case bt:return ue;case Ct:return fe;case wt:return ge;case _t:return Ce}return E});var Mt=baseIsArguments(function(){return arguments}())?baseIsArguments:function(C){return isObjectLike(C)&&Je.call(C,"callee")&&!rt.call(C,"callee")},Rt=Array.isArray;function isArrayLike(C){return null!=C&&isLength(C.length)&&!isFunction(C)}var Et=at||stubFalse;function isEqual(C,E){return baseIsEqual(C,E)}function isFunction(C){if(!isObject(C))return!1;var E=baseGetTag(C);return E==ae||E==le||E==re||E==pe}function isLength(C){return"number"==typeof C&&C>-1&&C%1==0&&C<=ee}function isObject(C){var E=typeof C;return null!=C&&("object"==E||"function"==E)}function isObjectLike(C){return null!=C&&"object"==typeof C}var Pt=Ge?baseUnary(Ge):baseIsTypedArray;function keys(C){return isArrayLike(C)?arrayLikeKeys(C):baseKeys(C)}function stubArray(){return[]}function stubFalse(){return!1}E.exports=isEqual}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],446:[function(C,E,B){(function(C){(function(){"use strict";var I="[object AsyncFunction]",B="[object Function]",z="[object GeneratorFunction]",q="[object Null]",Q="[object Proxy]",ee="[object Undefined]",te="object"==typeof C&&C&&C.Object===Object&&C,ie="object"==typeof self&&self&&self.Object===Object&&self,re=te||ie||Function("return this")(),ne=Object.prototype,se=ne.hasOwnProperty,oe=ne.toString,ae=re.Symbol,le=ae?ae.toStringTag:void 0;function baseGetTag(C){return null==C?void 0===C?ee:q:le&&le in Object(C)?getRawTag(C):objectToString(C)}function getRawTag(C){var E=se.call(C,le),I=C[le];try{C[le]=void 0;var B=!0}catch(C){}var z=oe.call(C);return B&&(E?C[le]=I:delete C[le]),z}function objectToString(C){return oe.call(C)}function isFunction(C){if(!isObject(C))return!1;var E=baseGetTag(C);return E==B||E==z||E==I||E==Q}function isObject(C){var E=typeof C;return null!=C&&("object"==E||"function"==E)}E.exports=isFunction}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],447:[function(C,E,I){"use strict";function isNil(C){return null==C}E.exports=isNil},{}],448:[function(C,E,I){"use strict";function isUndefined(C){return void 0===C}E.exports=isUndefined},{}],449:[function(C,E,B){(function(C){(function(){"use strict";var I=200,B="__lodash_hash_undefined__",z=1/0,q="[object Function]",Q="[object GeneratorFunction]",ee=/[\\^$.*+?()[\]{}|]/g,te=/^\[object .+?Constructor\]$/,ie="object"==typeof C&&C&&C.Object===Object&&C,re="object"==typeof self&&self&&self.Object===Object&&self,ne=ie||re||Function("return this")();function arrayIncludes(C,E){return!(!C||!C.length)&&baseIndexOf(C,E,0)>-1}function arrayIncludesWith(C,E,I){for(var B=-1,z=C?C.length:0;++B<z;)if(I(E,C[B]))return!0;return!1}function baseFindIndex(C,E,I,B){for(var z=C.length,q=I+(B?1:-1);B?q--:++q<z;)if(E(C[q],q,C))return q;return-1}function baseIndexOf(C,E,I){if(E!=E)return baseFindIndex(C,baseIsNaN,I);for(var B=I-1,z=C.length;++B<z;)if(C[B]===E)return B;return-1}function baseIsNaN(C){return C!=C}function cacheHas(C,E){return C.has(E)}function getValue(C,E){return null==C?void 0:C[E]}function isHostObject(C){var E=!1;if(null!=C&&"function"!=typeof C.toString)try{E=!!(C+"")}catch(C){}return E}function setToArray(C){var E=-1,I=Array(C.size);return C.forEach((function(C){I[++E]=C})),I}var se,oe=Array.prototype,ae=Function.prototype,le=Object.prototype,ue=ne["__core-js_shared__"],de=(se=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||""))?"Symbol(src)_1."+se:"",ce=ae.toString,he=le.hasOwnProperty,fe=le.toString,pe=RegExp("^"+ce.call(he).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=oe.splice,ge=getNative(ne,"Map"),ve=getNative(ne,"Set"),ye=getNative(Object,"create");function Hash(C){var E=-1,I=C?C.length:0;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function hashClear(){this.__data__=ye?ye(null):{}}function hashDelete(C){return this.has(C)&&delete this.__data__[C]}function hashGet(C){var E=this.__data__;if(ye){var I=E[C];return I===B?void 0:I}return he.call(E,C)?E[C]:void 0}function hashHas(C){var E=this.__data__;return ye?void 0!==E[C]:he.call(E,C)}function hashSet(C,E){return this.__data__[C]=ye&&void 0===E?B:E,this}function ListCache(C){var E=-1,I=C?C.length:0;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(C){var E=this.__data__,I=assocIndexOf(E,C);return!(I<0||(I==E.length-1?E.pop():me.call(E,I,1),0))}function listCacheGet(C){var E=this.__data__,I=assocIndexOf(E,C);return I<0?void 0:E[I][1]}function listCacheHas(C){return assocIndexOf(this.__data__,C)>-1}function listCacheSet(C,E){var I=this.__data__,B=assocIndexOf(I,C);return B<0?I.push([C,E]):I[B][1]=E,this}function MapCache(C){var E=-1,I=C?C.length:0;for(this.clear();++E<I;){var B=C[E];this.set(B[0],B[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(ge||ListCache),string:new Hash}}function mapCacheDelete(C){return getMapData(this,C).delete(C)}function mapCacheGet(C){return getMapData(this,C).get(C)}function mapCacheHas(C){return getMapData(this,C).has(C)}function mapCacheSet(C,E){return getMapData(this,C).set(C,E),this}function SetCache(C){var E=-1,I=C?C.length:0;for(this.__data__=new MapCache;++E<I;)this.add(C[E])}function setCacheAdd(C){return this.__data__.set(C,B),this}function setCacheHas(C){return this.__data__.has(C)}function assocIndexOf(C,E){for(var I=C.length;I--;)if(eq(C[I][0],E))return I;return-1}function baseIsNative(C){return!(!isObject(C)||isMasked(C))&&(isFunction(C)||isHostObject(C)?pe:te).test(toSource(C))}function baseUniq(C,E,B){var z=-1,q=arrayIncludes,Q=C.length,ee=!0,te=[],ie=te;if(B)ee=!1,q=arrayIncludesWith;else if(Q>=I){var re=E?null:be(C);if(re)return setToArray(re);ee=!1,q=cacheHas,ie=new SetCache}else ie=E?[]:te;e:for(;++z<Q;){var ne=C[z],se=E?E(ne):ne;if(ne=B||0!==ne?ne:0,ee&&se==se){for(var oe=ie.length;oe--;)if(ie[oe]===se)continue e;E&&ie.push(se),te.push(ne)}else q(ie,se,B)||(ie!==te&&ie.push(se),te.push(ne))}return te}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var be=ve&&1/setToArray(new ve([,-0]))[1]==z?function(C){return new ve(C)}:noop;function getMapData(C,E){var I=C.__data__;return isKeyable(E)?I["string"==typeof E?"string":"hash"]:I.map}function getNative(C,E){var I=getValue(C,E);return baseIsNative(I)?I:void 0}function isKeyable(C){var E=typeof C;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==C:null===C}function isMasked(C){return!!de&&de in C}function toSource(C){if(null!=C){try{return ce.call(C)}catch(C){}try{return C+""}catch(C){}}return""}function uniq(C){return C&&C.length?baseUniq(C):[]}function eq(C,E){return C===E||C!=C&&E!=E}function isFunction(C){var E=isObject(C)?fe.call(C):"";return E==q||E==Q}function isObject(C){var E=typeof C;return!!C&&("object"==E||"function"==E)}function noop(){}E.exports=uniq}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],450:[function(C,E,I){"use strict";var B=C("inherits"),z=C("hash-base"),q=C("safe-buffer").Buffer,Q=new Array(16);function MD5(){z.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(C,E){return C<<E|C>>>32-E}function fnF(C,E,I,B,z,q,Q){return rotl(C+(E&I|~E&B)+z+q|0,Q)+E|0}function fnG(C,E,I,B,z,q,Q){return rotl(C+(E&B|I&~B)+z+q|0,Q)+E|0}function fnH(C,E,I,B,z,q,Q){return rotl(C+(E^I^B)+z+q|0,Q)+E|0}function fnI(C,E,I,B,z,q,Q){return rotl(C+(I^(E|~B))+z+q|0,Q)+E|0}B(MD5,z),MD5.prototype._update=function(){for(var C=Q,E=0;E<16;++E)C[E]=this._block.readInt32LE(4*E);var I=this._a,B=this._b,z=this._c,q=this._d;I=fnF(I,B,z,q,C[0],3614090360,7),q=fnF(q,I,B,z,C[1],3905402710,12),z=fnF(z,q,I,B,C[2],606105819,17),B=fnF(B,z,q,I,C[3],3250441966,22),I=fnF(I,B,z,q,C[4],4118548399,7),q=fnF(q,I,B,z,C[5],1200080426,12),z=fnF(z,q,I,B,C[6],2821735955,17),B=fnF(B,z,q,I,C[7],4249261313,22),I=fnF(I,B,z,q,C[8],1770035416,7),q=fnF(q,I,B,z,C[9],2336552879,12),z=fnF(z,q,I,B,C[10],4294925233,17),B=fnF(B,z,q,I,C[11],2304563134,22),I=fnF(I,B,z,q,C[12],1804603682,7),q=fnF(q,I,B,z,C[13],4254626195,12),z=fnF(z,q,I,B,C[14],2792965006,17),I=fnG(I,B=fnF(B,z,q,I,C[15],1236535329,22),z,q,C[1],4129170786,5),q=fnG(q,I,B,z,C[6],3225465664,9),z=fnG(z,q,I,B,C[11],643717713,14),B=fnG(B,z,q,I,C[0],3921069994,20),I=fnG(I,B,z,q,C[5],3593408605,5),q=fnG(q,I,B,z,C[10],38016083,9),z=fnG(z,q,I,B,C[15],3634488961,14),B=fnG(B,z,q,I,C[4],3889429448,20),I=fnG(I,B,z,q,C[9],568446438,5),q=fnG(q,I,B,z,C[14],3275163606,9),z=fnG(z,q,I,B,C[3],4107603335,14),B=fnG(B,z,q,I,C[8],1163531501,20),I=fnG(I,B,z,q,C[13],2850285829,5),q=fnG(q,I,B,z,C[2],4243563512,9),z=fnG(z,q,I,B,C[7],1735328473,14),I=fnH(I,B=fnG(B,z,q,I,C[12],2368359562,20),z,q,C[5],4294588738,4),q=fnH(q,I,B,z,C[8],2272392833,11),z=fnH(z,q,I,B,C[11],1839030562,16),B=fnH(B,z,q,I,C[14],4259657740,23),I=fnH(I,B,z,q,C[1],2763975236,4),q=fnH(q,I,B,z,C[4],1272893353,11),z=fnH(z,q,I,B,C[7],4139469664,16),B=fnH(B,z,q,I,C[10],3200236656,23),I=fnH(I,B,z,q,C[13],681279174,4),q=fnH(q,I,B,z,C[0],3936430074,11),z=fnH(z,q,I,B,C[3],3572445317,16),B=fnH(B,z,q,I,C[6],76029189,23),I=fnH(I,B,z,q,C[9],3654602809,4),q=fnH(q,I,B,z,C[12],3873151461,11),z=fnH(z,q,I,B,C[15],530742520,16),I=fnI(I,B=fnH(B,z,q,I,C[2],3299628645,23),z,q,C[0],4096336452,6),q=fnI(q,I,B,z,C[7],1126891415,10),z=fnI(z,q,I,B,C[14],2878612391,15),B=fnI(B,z,q,I,C[5],4237533241,21),I=fnI(I,B,z,q,C[12],1700485571,6),q=fnI(q,I,B,z,C[3],2399980690,10),z=fnI(z,q,I,B,C[10],4293915773,15),B=fnI(B,z,q,I,C[1],2240044497,21),I=fnI(I,B,z,q,C[8],1873313359,6),q=fnI(q,I,B,z,C[15],4264355552,10),z=fnI(z,q,I,B,C[6],2734768916,15),B=fnI(B,z,q,I,C[13],1309151649,21),I=fnI(I,B,z,q,C[4],4149444226,6),q=fnI(q,I,B,z,C[11],3174756917,10),z=fnI(z,q,I,B,C[2],718787259,15),B=fnI(B,z,q,I,C[9],3951481745,21),this._a=this._a+I|0,this._b=this._b+B|0,this._c=this._c+z|0,this._d=this._d+q|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=q.allocUnsafe(16);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C},E.exports=MD5},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("brorand");function MillerRabin(C){this.rand=C||new z.Rand}E.exports=MillerRabin,MillerRabin.create=function create(C){return new MillerRabin(C)},MillerRabin.prototype._randbelow=function _randbelow(C){var E=C.bitLength(),I=Math.ceil(E/8);do{var z=new B(this.rand.generate(I))}while(z.cmp(C)>=0);return z},MillerRabin.prototype._randrange=function _randrange(C,E){var I=E.sub(C);return C.add(this._randbelow(I))},MillerRabin.prototype.test=function test(C,E,I){var z=C.bitLength(),q=B.mont(C),Q=new B(1).toRed(q);E||(E=Math.max(1,z/48|0));for(var ee=C.subn(1),te=0;!ee.testn(te);te++);for(var ie=C.shrn(te),re=ee.toRed(q),ne=!0;E>0;E--){var se=this._randrange(new B(2),ee);I&&I(se);var oe=se.toRed(q).redPow(ie);if(0!==oe.cmp(Q)&&0!==oe.cmp(re)){for(var ae=1;ae<te;ae++){if(0===(oe=oe.redSqr()).cmp(Q))return!1;if(0===oe.cmp(re))break}if(ae===te)return!1}}return ne},MillerRabin.prototype.getDivisor=function getDivisor(C,E){var I=C.bitLength(),z=B.mont(C),q=new B(1).toRed(z);E||(E=Math.max(1,I/48|0));for(var Q=C.subn(1),ee=0;!Q.testn(ee);ee++);for(var te=C.shrn(ee),ie=Q.toRed(z);E>0;E--){var re=this._randrange(new B(2),Q),ne=C.gcd(re);if(0!==ne.cmpn(1))return ne;var se=re.toRed(z).redPow(te);if(0!==se.cmp(q)&&0!==se.cmp(ie)){for(var oe=1;oe<ee;oe++){if(0===(se=se.redSqr()).cmp(q))return se.fromRed().subn(1).gcd(C);if(0===se.cmp(ie))break}if(oe===ee)return(se=se.redSqr()).fromRed().subn(1).gcd(C)}}return!1}},{"bn.js":452,brorand:187}],452:[function(C,E,I){arguments[4][184][0].apply(I,arguments)},{buffer:188,dup:184}],453:[function(C,E,I){"use strict";function assert(C,E){if(!C)throw new Error(E||"Assertion failed")}E.exports=assert,assert.equal=function assertEqual(C,E,I){if(C!=E)throw new Error(I||"Assertion failed: "+C+" != "+E)}},{}],454:[function(C,E,I){"use strict";var B=I;function toArray(C,E){if(Array.isArray(C))return C.slice();if(!C)return[];var I=[];if("string"!=typeof C){for(var B=0;B<C.length;B++)I[B]=0|C[B];return I}if("hex"===E)for((C=C.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(C="0"+C),B=0;B<C.length;B+=2)I.push(parseInt(C[B]+C[B+1],16));else for(B=0;B<C.length;B++){var z=C.charCodeAt(B),q=z>>8,Q=255&z;q?I.push(q,Q):I.push(Q)}return I}function zero2(C){return 1===C.length?"0"+C:C}function toHex(C){for(var E="",I=0;I<C.length;I++)E+=zero2(C[I].toString(16));return E}B.toArray=toArray,B.zero2=zero2,B.toHex=toHex,B.encode=function encode(C,E){return"hex"===E?toHex(C):C}},{}],455:[function(C,E,I){E.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(C,E,I){"use strict";var B=C("asn1.js");I.certificate=C("./certificate");var z=B.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));I.RSAPrivateKey=z;var q=B.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));I.RSAPublicKey=q;var Q=B.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(ee),this.key("subjectPublicKey").bitstr())}));I.PublicKey=Q;var ee=B.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),te=B.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(ee),this.key("subjectPrivateKey").octstr())}));I.PrivateKey=te;var ie=B.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));I.EncryptedPrivateKey=ie;var re=B.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));I.DSAPrivateKey=re,I.DSAparam=B.define("DSAparam",(function(){this.int()}));var ne=B.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(se),this.key("publicKey").optional().explicit(1).bitstr())}));I.ECPrivateKey=ne;var se=B.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));I.signature=B.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(C,E,I){"use strict";var B=C("asn1.js"),z=B.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),q=B.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),Q=B.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),ee=B.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(Q),this.key("subjectPublicKey").bitstr())})),te=B.define("RelativeDistinguishedName",(function(){this.setof(q)})),ie=B.define("RDNSequence",(function(){this.seqof(te)})),re=B.define("Name",(function(){this.choice({rdnSequence:this.use(ie)})})),ne=B.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(z),this.key("notAfter").use(z))})),se=B.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),oe=B.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(Q),this.key("issuer").use(re),this.key("validity").use(ne),this.key("subject").use(re),this.key("subjectPublicKeyInfo").use(ee),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(se).optional())})),ae=B.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(oe),this.key("signatureAlgorithm").use(Q),this.key("signatureValue").bitstr())}));E.exports=ae},{"asn1.js":170}],458:[function(C,E,I){"use strict";var B=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,z=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,q=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,Q=C("evp_bytestokey"),ee=C("browserify-aes"),te=C("safe-buffer").Buffer;E.exports=function(C,E){var I,ie=C.toString(),re=ie.match(B);if(re){var ne="aes"+re[1],se=te.from(re[2],"hex"),oe=te.from(re[3].replace(/[\r\n]/g,""),"base64"),ae=Q(E,se.slice(0,8),parseInt(re[1],10)).key,le=[],ue=ee.createDecipheriv(ne,ae,se);le.push(ue.update(oe)),le.push(ue.final()),I=te.concat(le)}else{var de=ie.match(q);I=te.from(de[2].replace(/[\r\n]/g,""),"base64")}return{tag:ie.match(z)[1],data:I}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(C,E,I){"use strict";var B=C("./asn1"),z=C("./aesid.json"),q=C("./fixProc"),Q=C("browserify-aes"),ee=C("pbkdf2"),te=C("safe-buffer").Buffer;function parseKeys(C){var E;"object"!=typeof C||te.isBuffer(C)||(E=C.passphrase,C=C.key),"string"==typeof C&&(C=te.from(C));var I,z,Q=q(C,E),ee=Q.tag,ie=Q.data;switch(ee){case"CERTIFICATE":z=B.certificate.decode(ie,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(z||(z=B.PublicKey.decode(ie,"der")),I=z.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return B.RSAPublicKey.decode(z.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return z.subjectPrivateKey=z.subjectPublicKey,{type:"ec",data:z};case"1.2.840.10040.4.1":return z.algorithm.params.pub_key=B.DSAparam.decode(z.subjectPublicKey.data,"der"),{type:"dsa",data:z.algorithm.params};default:throw new Error("unknown key id "+I)}case"ENCRYPTED PRIVATE KEY":ie=decrypt(ie=B.EncryptedPrivateKey.decode(ie,"der"),E);case"PRIVATE KEY":switch(I=(z=B.PrivateKey.decode(ie,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return B.RSAPrivateKey.decode(z.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:z.algorithm.curve,privateKey:B.ECPrivateKey.decode(z.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return z.algorithm.params.priv_key=B.DSAparam.decode(z.subjectPrivateKey,"der"),{type:"dsa",params:z.algorithm.params};default:throw new Error("unknown key id "+I)}case"RSA PUBLIC KEY":return B.RSAPublicKey.decode(ie,"der");case"RSA PRIVATE KEY":return B.RSAPrivateKey.decode(ie,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:B.DSAPrivateKey.decode(ie,"der")};case"EC PRIVATE KEY":return{curve:(ie=B.ECPrivateKey.decode(ie,"der")).parameters.value,privateKey:ie.privateKey};default:throw new Error("unknown key type "+ee)}}function decrypt(C,E){var I=C.algorithm.decrypt.kde.kdeparams.salt,B=parseInt(C.algorithm.decrypt.kde.kdeparams.iters.toString(),10),q=z[C.algorithm.decrypt.cipher.algo.join(".")],ie=C.algorithm.decrypt.cipher.iv,re=C.subjectPrivateKey,ne=parseInt(q.split("-")[1],10)/8,se=ee.pbkdf2Sync(E,I,B,ne,"sha1"),oe=Q.createDecipheriv(q,se,ie),ae=[];return ae.push(oe.update(re)),ae.push(oe.final()),te.concat(ae)}E.exports=parseKeys,parseKeys.signature=B.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(C,E,I){"use strict";I.pbkdf2=C("./lib/async"),I.pbkdf2Sync=C("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(C,E,B){(function(I){(function(){"use strict";var B,z,q=C("safe-buffer").Buffer,Q=C("./precondition"),ee=C("./default-encoding"),te=C("./sync"),ie=C("./to-buffer"),re=I.crypto&&I.crypto.subtle,ne={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},se=[];function checkNative(C){if(I.process&&!I.process.browser)return Promise.resolve(!1);if(!re||!re.importKey||!re.deriveBits)return Promise.resolve(!1);if(void 0!==se[C])return se[C];var E=browserPbkdf2(B=B||q.alloc(8),B,10,128,C).then((function(){return!0})).catch((function(){return!1}));return se[C]=E,E}function getNextTick(){return z||(z=I.process&&I.process.nextTick?I.process.nextTick:I.queueMicrotask?I.queueMicrotask:I.setImmediate?I.setImmediate:I.setTimeout)}function browserPbkdf2(C,E,I,B,z){return re.importKey("raw",C,{name:"PBKDF2"},!1,["deriveBits"]).then((function(C){return re.deriveBits({name:"PBKDF2",salt:E,iterations:I,hash:{name:z}},C,B<<3)})).then((function(C){return q.from(C)}))}function resolvePromise(C,E){C.then((function(C){getNextTick()((function(){E(null,C)}))}),(function(C){getNextTick()((function(){E(C)}))}))}E.exports=function(C,E,B,z,q,re){"function"==typeof q&&(re=q,q=void 0);var se=ne[(q=q||"sha1").toLowerCase()];if(se&&"function"==typeof I.Promise){if(Q(B,z),C=ie(C,ee,"Password"),E=ie(E,ee,"Salt"),"function"!=typeof re)throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(se).then((function(I){return I?browserPbkdf2(C,E,B,z,se):te(C,E,B,z,q)})),re)}else getNextTick()((function(){var I;try{I=te(C,E,B,z,q)}catch(C){return re(C)}re(null,I)}))}}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(C,E,B){(function(C,I){(function(){"use strict";var B;B=I.process&&I.process.browser?"utf-8":I.process&&I.process.version?parseInt(C.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",E.exports=B}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467}],463:[function(C,E,I){"use strict";var B=Math.pow(2,30)-1;E.exports=function(C,E){if("number"!=typeof C)throw new TypeError("Iterations not a number");if(C<0)throw new TypeError("Bad iterations");if("number"!=typeof E)throw new TypeError("Key length not a number");if(E<0||E>B||E!=E)throw new TypeError("Bad key length")}},{}],464:[function(C,E,I){"use strict";var B=C("create-hash/md5"),z=C("ripemd160"),q=C("sha.js"),Q=C("safe-buffer").Buffer,ee=C("./precondition"),te=C("./default-encoding"),ie=C("./to-buffer"),re=Q.alloc(128),ne={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac(C,E,I){var B=getDigest(C),z="sha512"===C||"sha384"===C?128:64;E.length>z?E=B(E):E.length<z&&(E=Q.concat([E,re],z));for(var q=Q.allocUnsafe(z+ne[C]),ee=Q.allocUnsafe(z+ne[C]),te=0;te<z;te++)q[te]=54^E[te],ee[te]=92^E[te];var ie=Q.allocUnsafe(z+I+4);q.copy(ie,0,0,z),this.ipad1=ie,this.ipad2=q,this.opad=ee,this.alg=C,this.blocksize=z,this.hash=B,this.size=ne[C]}function getDigest(C){function shaFunc(E){return q(C).update(E).digest()}function rmd160Func(C){return(new z).update(C).digest()}return"rmd160"===C||"ripemd160"===C?rmd160Func:"md5"===C?B:shaFunc}function pbkdf2(C,E,I,B,z){ee(I,B);var q=new Hmac(z=z||"sha1",C=ie(C,te,"Password"),(E=ie(E,te,"Salt")).length),re=Q.allocUnsafe(B),se=Q.allocUnsafe(E.length+4);E.copy(se,0,0,E.length);for(var oe=0,ae=ne[z],le=Math.ceil(B/ae),ue=1;ue<=le;ue++){se.writeUInt32BE(ue,E.length);for(var de=q.run(se,q.ipad1),ce=de,he=1;he<I;he++){ce=q.run(ce,q.ipad2);for(var fe=0;fe<ae;fe++)de[fe]^=ce[fe]}de.copy(re,oe),oe+=ae}return re}Hmac.prototype.run=function(C,E){return C.copy(E,this.blocksize),this.hash(E).copy(this.opad,this.blocksize),this.hash(this.opad)},E.exports=pbkdf2},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer;E.exports=function(C,E,I){if(B.isBuffer(C))return C;if("string"==typeof C)return B.from(C,E);if(ArrayBuffer.isView(C))return B.from(C.buffer);throw new TypeError(I+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(C,E,I){(function(C){(function(){"use strict";function nextTick(E,I,B,z){if("function"!=typeof E)throw new TypeError('"callback" argument must be a function');var q,Q,ee=arguments.length;switch(ee){case 0:case 1:return C.nextTick(E);case 2:return C.nextTick((function afterTickOne(){E.call(null,I)}));case 3:return C.nextTick((function afterTickTwo(){E.call(null,I,B)}));case 4:return C.nextTick((function afterTickThree(){E.call(null,I,B,z)}));default:for(q=new Array(ee-1),Q=0;Q<q.length;)q[Q++]=arguments[Q];return C.nextTick((function afterTick(){E.apply(null,q)}))}}void 0===C||!C.version||0===C.version.indexOf("v0.")||0===C.version.indexOf("v1.")&&0!==C.version.indexOf("v1.8.")?E.exports={nextTick}:E.exports=C}).call(this)}).call(this,C("_process"))},{_process:467}],467:[function(C,E,I){"use strict";var B,z,q=E.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(C){if(B===setTimeout)return setTimeout(C,0);if((B===defaultSetTimout||!B)&&setTimeout)return B=setTimeout,setTimeout(C,0);try{return B(C,0)}catch(E){try{return B.call(null,C,0)}catch(E){return B.call(this,C,0)}}}function runClearTimeout(C){if(z===clearTimeout)return clearTimeout(C);if((z===defaultClearTimeout||!z)&&clearTimeout)return z=clearTimeout,clearTimeout(C);try{return z(C)}catch(E){try{return z.call(null,C)}catch(E){return z.call(this,C)}}}!function(){try{B="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(C){B=defaultSetTimout}try{z="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(C){z=defaultClearTimeout}}();var Q,ee=[],te=!1,ie=-1;function cleanUpNextTick(){te&&Q&&(te=!1,Q.length?ee=Q.concat(ee):ie=-1,ee.length&&drainQueue())}function drainQueue(){if(!te){var C=runTimeout(cleanUpNextTick);te=!0;for(var E=ee.length;E;){for(Q=ee,ee=[];++ie<E;)Q&&Q[ie].run();ie=-1,E=ee.length}Q=null,te=!1,runClearTimeout(C)}}function Item(C,E){this.fun=C,this.array=E}function noop(){}q.nextTick=function(C){var E=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)E[I-1]=arguments[I];ee.push(new Item(C,E)),1!==ee.length||te||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},q.title="browser",q.browser=!0,q.env={},q.argv=[],q.version="",q.versions={},q.on=noop,q.addListener=noop,q.once=noop,q.off=noop,q.removeListener=noop,q.removeAllListeners=noop,q.emit=noop,q.prependListener=noop,q.prependOnceListener=noop,q.listeners=function(C){return[]},q.binding=function(C){throw new Error("process.binding is not supported")},q.cwd=function(){return"/"},q.chdir=function(C){throw new Error("process.chdir is not supported")},q.umask=function(){return 0}},{}],468:[function(C,E,I){"use strict";I.publicEncrypt=C("./publicEncrypt"),I.privateDecrypt=C("./privateDecrypt"),I.privateEncrypt=function privateEncrypt(C,E){return I.publicEncrypt(C,E,!0)},I.publicDecrypt=function publicDecrypt(C,E){return I.privateDecrypt(C,E,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(C,E,I){"use strict";var B=C("create-hash"),z=C("safe-buffer").Buffer;function i2ops(C){var E=z.allocUnsafe(4);return E.writeUInt32BE(C,0),E}E.exports=function(C,E){for(var I,q=z.alloc(0),Q=0;q.length<E;)I=i2ops(Q++),q=z.concat([q,B("sha1").update(C).update(I).digest()]);return q.slice(0,E)}},{"create-hash":386,"safe-buffer":494}],470:[function(C,E,I){arguments[4][184][0].apply(I,arguments)},{buffer:188,dup:184}],471:[function(C,E,I){"use strict";var B=C("parse-asn1"),z=C("./mgf"),q=C("./xor"),Q=C("bn.js"),ee=C("browserify-rsa"),te=C("create-hash"),ie=C("./withPublic"),re=C("safe-buffer").Buffer;function oaep(C,E){var I=C.modulus.byteLength(),B=te("sha1").update(re.alloc(0)).digest(),Q=B.length;if(0!==E[0])throw new Error("decryption error");var ee=E.slice(1,Q+1),ie=E.slice(Q+1),ne=q(ee,z(ie,Q)),se=q(ie,z(ne,I-Q-1));if(compare(B,se.slice(0,Q)))throw new Error("decryption error");for(var oe=Q;0===se[oe];)oe++;if(1!==se[oe++])throw new Error("decryption error");return se.slice(oe)}function pkcs1(C,E,I){for(var B=E.slice(0,2),z=2,q=0;0!==E[z++];)if(z>=E.length){q++;break}var Q=E.slice(2,z-1);if(("0002"!==B.toString("hex")&&!I||"0001"!==B.toString("hex")&&I)&&q++,Q.length<8&&q++,q)throw new Error("decryption error");return E.slice(z)}function compare(C,E){C=re.from(C),E=re.from(E);var I=0,B=C.length;C.length!==E.length&&(I++,B=Math.min(C.length,E.length));for(var z=-1;++z<B;)I+=C[z]^E[z];return I}E.exports=function privateDecrypt(C,E,I){var z;z=C.padding?C.padding:I?1:4;var q,te=B(C),ne=te.modulus.byteLength();if(E.length>ne||new Q(E).cmp(te.modulus)>=0)throw new Error("decryption error");q=I?ie(new Q(E),te):ee(E,te);var se=re.alloc(ne-q.length);if(q=re.concat([se,q],ne),4===z)return oaep(te,q);if(1===z)return pkcs1(te,q,I);if(3===z)return q;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(C,E,I){"use strict";var B=C("parse-asn1"),z=C("randombytes"),q=C("create-hash"),Q=C("./mgf"),ee=C("./xor"),te=C("bn.js"),ie=C("./withPublic"),re=C("browserify-rsa"),ne=C("safe-buffer").Buffer;function oaep(C,E){var I=C.modulus.byteLength(),B=E.length,ie=q("sha1").update(ne.alloc(0)).digest(),re=ie.length,se=2*re;if(B>I-se-2)throw new Error("message too long");var oe=ne.alloc(I-B-se-2),ae=I-re-1,le=z(re),ue=ee(ne.concat([ie,oe,ne.alloc(1,1),E],ae),Q(le,ae)),de=ee(le,Q(ue,re));return new te(ne.concat([ne.alloc(1),de,ue],I))}function pkcs1(C,E,I){var B,z=E.length,q=C.modulus.byteLength();if(z>q-11)throw new Error("message too long");return B=I?ne.alloc(q-z-3,255):nonZero(q-z-3),new te(ne.concat([ne.from([0,I?1:2]),B,ne.alloc(1),E],q))}function nonZero(C){for(var E,I=ne.allocUnsafe(C),B=0,q=z(2*C),Q=0;B<C;)Q===q.length&&(q=z(2*C),Q=0),(E=q[Q++])&&(I[B++]=E);return I}E.exports=function publicEncrypt(C,E,I){var z;z=C.padding?C.padding:I?1:4;var q,Q=B(C);if(4===z)q=oaep(Q,E);else if(1===z)q=pkcs1(Q,E,I);else{if(3!==z)throw new Error("unknown padding");if((q=new te(E)).cmp(Q.modulus)>=0)throw new Error("data too long for modulus")}return I?re(q,Q):ie(q,Q)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(C,E,I){"use strict";var B=C("bn.js"),z=C("safe-buffer").Buffer;function withPublic(C,E){return z.from(C.toRed(B.mont(E.modulus)).redPow(new B(E.publicExponent)).fromRed().toArray())}E.exports=withPublic},{"bn.js":470,"safe-buffer":494}],474:[function(C,E,I){"use strict";E.exports=function xor(C,E){for(var I=C.length,B=-1;++B<I;)C[B]^=E[B];return C}},{}],475:[function(C,E,B){(function(I,B){(function(){"use strict";var z=65536,q=4294967295;function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var Q=C("safe-buffer").Buffer,ee=B.crypto||B.msCrypto;function randomBytes(C,E){if(C>q)throw new RangeError("requested too many random bytes");var B=Q.allocUnsafe(C);if(C>0)if(C>z)for(var te=0;te<C;te+=z)ee.getRandomValues(B.slice(te,te+z));else ee.getRandomValues(B);return"function"==typeof E?I.nextTick((function(){E(null,B)})):B}ee&&ee.getRandomValues?E.exports=randomBytes:E.exports=oldBrowser}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467,"safe-buffer":494}],476:[function(C,E,B){(function(E,I){(function(){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var z=C("safe-buffer"),q=C("randombytes"),Q=z.Buffer,ee=z.kMaxLength,te=I.crypto||I.msCrypto,ie=Math.pow(2,32)-1;function assertOffset(C,E){if("number"!=typeof C||C!=C)throw new TypeError("offset must be a number");if(C>ie||C<0)throw new TypeError("offset must be a uint32");if(C>ee||C>E)throw new RangeError("offset out of range")}function assertSize(C,E,I){if("number"!=typeof C||C!=C)throw new TypeError("size must be a number");if(C>ie||C<0)throw new TypeError("size must be a uint32");if(C+E>I||C>ee)throw new RangeError("buffer too small")}function randomFill(C,E,B,z){if(!(Q.isBuffer(C)||C instanceof I.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof E)z=E,E=0,B=C.length;else if("function"==typeof B)z=B,B=C.length-E;else if("function"!=typeof z)throw new TypeError('"cb" argument must be a function');return assertOffset(E,C.length),assertSize(B,E,C.length),actualFill(C,E,B,z)}function actualFill(C,I,B,z){if(E.browser){var Q=C.buffer,ee=new Uint8Array(Q,I,B);return te.getRandomValues(ee),z?void E.nextTick((function(){z(null,C)})):C}if(!z)return q(B).copy(C,I),C;q(B,(function(E,B){if(E)return z(E);B.copy(C,I),z(null,C)}))}function randomFillSync(C,E,B){if(void 0===E&&(E=0),!(Q.isBuffer(C)||C instanceof I.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(E,C.length),void 0===B&&(B=C.length-E),assertSize(B,E,C.length),actualFill(C,E,B)}te&&te.getRandomValues||!E.browser?(B.randomFill=randomFill,B.randomFillSync=randomFillSync):(B.randomFill=oldBrowser,B.randomFillSync=oldBrowser)}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(C,E,I){"use strict";function _inheritsLoose(C,E){C.prototype=Object.create(E.prototype),C.prototype.constructor=C,C.__proto__=E}var B={};function createErrorType(C,E,I){function getMessage(C,I,B){return"string"==typeof E?E:E(C,I,B)}I||(I=Error);var z=function(C){function NodeError(E,I,B){return C.call(this,getMessage(E,I,B))||this}return _inheritsLoose(NodeError,C),NodeError}(I);z.prototype.name=I.name,z.prototype.code=C,B[C]=z}function oneOf(C,E){if(Array.isArray(C)){var I=C.length;return C=C.map((function(C){return String(C)})),I>2?"one of ".concat(E," ").concat(C.slice(0,I-1).join(", "),", or ")+C[I-1]:2===I?"one of ".concat(E," ").concat(C[0]," or ").concat(C[1]):"of ".concat(E," ").concat(C[0])}return"of ".concat(E," ").concat(String(C))}function startsWith(C,E,I){return C.substr(!I||I<0?0:+I,E.length)===E}function endsWith(C,E,I){return(void 0===I||I>C.length)&&(I=C.length),C.substring(I-E.length,I)===E}function includes(C,E,I){return"number"!=typeof I&&(I=0),!(I+E.length>C.length)&&-1!==C.indexOf(E,I)}createErrorType("ERR_INVALID_OPT_VALUE",(function(C,E){return'The value "'+E+'" is invalid for option "'+C+'"'}),TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(C,E,I){var B,z;if("string"==typeof E&&startsWith(E,"not ")?(B="must not be",E=E.replace(/^not /,"")):B="must be",endsWith(C," argument"))z="The ".concat(C," ").concat(B," ").concat(oneOf(E,"type"));else{var q=includes(C,".")?"property":"argument";z='The "'.concat(C,'" ').concat(q," ").concat(B," ").concat(oneOf(E,"type"))}return z+=". Received type ".concat(typeof I)}),TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(C){return"The "+C+" method is not implemented"})),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",(function(C){return"Cannot call "+C+" after a stream was destroyed"})),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",(function(C){return"Unknown encoding: "+C}),TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),E.exports.codes=B},{}],478:[function(C,E,I){(function(I){(function(){"use strict";var B=Object.keys||function(C){var E=[];for(var I in C)E.push(I);return E};E.exports=Duplex;var z=C("./_stream_readable"),q=C("./_stream_writable");C("inherits")(Duplex,z);for(var Q=B(q.prototype),ee=0;ee<Q.length;ee++){var te=Q[ee];Duplex.prototype[te]||(Duplex.prototype[te]=q.prototype[te])}function Duplex(C){if(!(this instanceof Duplex))return new Duplex(C);z.call(this,C),q.call(this,C),this.allowHalfOpen=!0,C&&(!1===C.readable&&(this.readable=!1),!1===C.writable&&(this.writable=!1),!1===C.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||I.nextTick(onEndNT,this)}function onEndNT(C){C.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function set(C){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=C,this._writableState.destroyed=C)}})}).call(this)}).call(this,C("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(C,E,I){"use strict";E.exports=PassThrough;var B=C("./_stream_transform");function PassThrough(C){if(!(this instanceof PassThrough))return new PassThrough(C);B.call(this,C)}C("inherits")(PassThrough,B),PassThrough.prototype._transform=function(C,E,I){I(null,C)}},{"./_stream_transform":481,inherits:440}],480:[function(C,E,B){(function(I,B){(function(){"use strict";var z;E.exports=Readable,Readable.ReadableState=ReadableState,C("events").EventEmitter;var q=function EElistenerCount(C,E){return C.listeners(E).length},Q=C("./internal/streams/stream"),ee=C("buffer").Buffer,te=(void 0!==B?B:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return ee.from(C)}function _isUint8Array(C){return ee.isBuffer(C)||C instanceof te}var ie,re=C("util");ie=re&&re.debuglog?re.debuglog("stream"):function debug(){};var ne,se,oe,ae=C("./internal/streams/buffer_list"),le=C("./internal/streams/destroy"),ue=C("./internal/streams/state").getHighWaterMark,de=C("../errors").codes,ce=de.ERR_INVALID_ARG_TYPE,he=de.ERR_STREAM_PUSH_AFTER_EOF,fe=de.ERR_METHOD_NOT_IMPLEMENTED,pe=de.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;C("inherits")(Readable,Q);var me=le.errorOrDestroy,ge=["error","close","destroy","pause","resume"];function prependListener(C,E,I){if("function"==typeof C.prependListener)return C.prependListener(E,I);C._events&&C._events[E]?Array.isArray(C._events[E])?C._events[E].unshift(I):C._events[E]=[I,C._events[E]]:C.on(E,I)}function ReadableState(E,I,B){z=z||C("./_stream_duplex"),E=E||{},"boolean"!=typeof B&&(B=I instanceof z),this.objectMode=!!E.objectMode,B&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=ue(this,E,"readableHighWaterMark",B),this.buffer=new ae,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==E.emitClose,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(ne||(ne=C("string_decoder/").StringDecoder),this.decoder=new ne(E.encoding),this.encoding=E.encoding)}function Readable(E){if(z=z||C("./_stream_duplex"),!(this instanceof Readable))return new Readable(E);var I=this instanceof z;this._readableState=new ReadableState(E,this,I),this.readable=!0,E&&("function"==typeof E.read&&(this._read=E.read),"function"==typeof E.destroy&&(this._destroy=E.destroy)),Q.call(this)}function readableAddChunk(C,E,I,B,z){ie("readableAddChunk",E);var q,Q=C._readableState;if(null===E)Q.reading=!1,onEofChunk(C,Q);else if(z||(q=chunkInvalid(Q,E)),q)me(C,q);else if(Q.objectMode||E&&E.length>0)if("string"==typeof E||Q.objectMode||Object.getPrototypeOf(E)===ee.prototype||(E=_uint8ArrayToBuffer(E)),B)Q.endEmitted?me(C,new pe):addChunk(C,Q,E,!0);else if(Q.ended)me(C,new he);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!I?(E=Q.decoder.write(E),Q.objectMode||0!==E.length?addChunk(C,Q,E,!1):maybeReadMore(C,Q)):addChunk(C,Q,E,!1)}else B||(Q.reading=!1,maybeReadMore(C,Q));return!Q.ended&&(Q.length<Q.highWaterMark||0===Q.length)}function addChunk(C,E,I,B){E.flowing&&0===E.length&&!E.sync?(E.awaitDrain=0,C.emit("data",I)):(E.length+=E.objectMode?1:I.length,B?E.buffer.unshift(I):E.buffer.push(I),E.needReadable&&emitReadable(C)),maybeReadMore(C,E)}function chunkInvalid(C,E){var I;return _isUint8Array(E)||"string"==typeof E||void 0===E||C.objectMode||(I=new ce("chunk",["string","Buffer","Uint8Array"],E)),I}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&this._readableState.destroyed},set:function set(C){this._readableState&&(this._readableState.destroyed=C)}}),Readable.prototype.destroy=le.destroy,Readable.prototype._undestroy=le.undestroy,Readable.prototype._destroy=function(C,E){E(C)},Readable.prototype.push=function(C,E){var I,B=this._readableState;return B.objectMode?I=!0:"string"==typeof C&&((E=E||B.defaultEncoding)!==B.encoding&&(C=ee.from(C,E),E=""),I=!0),readableAddChunk(this,C,E,!1,I)},Readable.prototype.unshift=function(C){return readableAddChunk(this,C,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(E){ne||(ne=C("string_decoder/").StringDecoder);var I=new ne(E);this._readableState.decoder=I,this._readableState.encoding=this._readableState.decoder.encoding;for(var B=this._readableState.buffer.head,z="";null!==B;)z+=I.write(B.data),B=B.next;return this._readableState.buffer.clear(),""!==z&&this._readableState.buffer.push(z),this._readableState.length=z.length,this};var ve=1073741824;function computeNewHighWaterMark(C){return C>=ve?C=ve:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function howMuchToRead(C,E){return C<=0||0===E.length&&E.ended?0:E.objectMode?1:C!=C?E.flowing&&E.length?E.buffer.head.data.length:E.length:(C>E.highWaterMark&&(E.highWaterMark=computeNewHighWaterMark(C)),C<=E.length?C:E.ended?E.length:(E.needReadable=!0,0))}function onEofChunk(C,E){if(ie("onEofChunk"),!E.ended){if(E.decoder){var I=E.decoder.end();I&&I.length&&(E.buffer.push(I),E.length+=E.objectMode?1:I.length)}E.ended=!0,E.sync?emitReadable(C):(E.needReadable=!1,E.emittedReadable||(E.emittedReadable=!0,emitReadable_(C)))}}function emitReadable(C){var E=C._readableState;ie("emitReadable",E.needReadable,E.emittedReadable),E.needReadable=!1,E.emittedReadable||(ie("emitReadable",E.flowing),E.emittedReadable=!0,I.nextTick(emitReadable_,C))}function emitReadable_(C){var E=C._readableState;ie("emitReadable_",E.destroyed,E.length,E.ended),E.destroyed||!E.length&&!E.ended||(C.emit("readable"),E.emittedReadable=!1),E.needReadable=!E.flowing&&!E.ended&&E.length<=E.highWaterMark,flow(C)}function maybeReadMore(C,E){E.readingMore||(E.readingMore=!0,I.nextTick(maybeReadMore_,C,E))}function maybeReadMore_(C,E){for(;!E.reading&&!E.ended&&(E.length<E.highWaterMark||E.flowing&&0===E.length);){var I=E.length;if(ie("maybeReadMore read 0"),C.read(0),I===E.length)break}E.readingMore=!1}function pipeOnDrain(C){return function pipeOnDrainFunctionResult(){var E=C._readableState;ie("pipeOnDrain",E.awaitDrain),E.awaitDrain&&E.awaitDrain--,0===E.awaitDrain&&q(C,"data")&&(E.flowing=!0,flow(C))}}function updateReadableListening(C){var E=C._readableState;E.readableListening=C.listenerCount("readable")>0,E.resumeScheduled&&!E.paused?E.flowing=!0:C.listenerCount("data")>0&&C.resume()}function nReadingNextTick(C){ie("readable nexttick read 0"),C.read(0)}function resume(C,E){E.resumeScheduled||(E.resumeScheduled=!0,I.nextTick(resume_,C,E))}function resume_(C,E){ie("resume",E.reading),E.reading||C.read(0),E.resumeScheduled=!1,C.emit("resume"),flow(C),E.flowing&&!E.reading&&C.read(0)}function flow(C){var E=C._readableState;for(ie("flow",E.flowing);E.flowing&&null!==C.read(););}function fromList(C,E){return 0===E.length?null:(E.objectMode?I=E.buffer.shift():!C||C>=E.length?(I=E.decoder?E.buffer.join(""):1===E.buffer.length?E.buffer.first():E.buffer.concat(E.length),E.buffer.clear()):I=E.buffer.consume(C,E.decoder),I);var I}function endReadable(C){var E=C._readableState;ie("endReadable",E.endEmitted),E.endEmitted||(E.ended=!0,I.nextTick(endReadableNT,E,C))}function endReadableNT(C,E){if(ie("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&0===C.length&&(C.endEmitted=!0,E.readable=!1,E.emit("end"),C.autoDestroy)){var I=E._writableState;(!I||I.autoDestroy&&I.finished)&&E.destroy()}}function indexOf(C,E){for(var I=0,B=C.length;I<B;I++)if(C[I]===E)return I;return-1}Readable.prototype.read=function(C){ie("read",C),C=parseInt(C,10);var E=this._readableState,I=C;if(0!==C&&(E.emittedReadable=!1),0===C&&E.needReadable&&((0!==E.highWaterMark?E.length>=E.highWaterMark:E.length>0)||E.ended))return ie("read: emitReadable",E.length,E.ended),0===E.length&&E.ended?endReadable(this):emitReadable(this),null;if(0===(C=howMuchToRead(C,E))&&E.ended)return 0===E.length&&endReadable(this),null;var B,z=E.needReadable;return ie("need readable",z),(0===E.length||E.length-C<E.highWaterMark)&&ie("length less than watermark",z=!0),E.ended||E.reading?ie("reading or ended",z=!1):z&&(ie("do read"),E.reading=!0,E.sync=!0,0===E.length&&(E.needReadable=!0),this._read(E.highWaterMark),E.sync=!1,E.reading||(C=howMuchToRead(I,E))),null===(B=C>0?fromList(C,E):null)?(E.needReadable=E.length<=E.highWaterMark,C=0):(E.length-=C,E.awaitDrain=0),0===E.length&&(E.ended||(E.needReadable=!0),I!==C&&E.ended&&endReadable(this)),null!==B&&this.emit("data",B),B},Readable.prototype._read=function(C){me(this,new fe("_read()"))},Readable.prototype.pipe=function(C,E){var B=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=C;break;case 1:z.pipes=[z.pipes,C];break;default:z.pipes.push(C)}z.pipesCount+=1,ie("pipe count=%d opts=%j",z.pipesCount,E);var Q=E&&!1===E.end||C===I.stdout||C===I.stderr?unpipe:onend;function onunpipe(C,E){ie("onunpipe"),C===B&&E&&!1===E.hasUnpiped&&(E.hasUnpiped=!0,cleanup())}function onend(){ie("onend"),C.end()}z.endEmitted?I.nextTick(Q):B.once("end",Q),C.on("unpipe",onunpipe);var ee=pipeOnDrain(B);C.on("drain",ee);var te=!1;function cleanup(){ie("cleanup"),C.removeListener("close",onclose),C.removeListener("finish",onfinish),C.removeListener("drain",ee),C.removeListener("error",onerror),C.removeListener("unpipe",onunpipe),B.removeListener("end",onend),B.removeListener("end",unpipe),B.removeListener("data",ondata),te=!0,!z.awaitDrain||C._writableState&&!C._writableState.needDrain||ee()}function ondata(E){ie("ondata");var I=C.write(E);ie("dest.write",I),!1===I&&((1===z.pipesCount&&z.pipes===C||z.pipesCount>1&&-1!==indexOf(z.pipes,C))&&!te&&(ie("false write response, pause",z.awaitDrain),z.awaitDrain++),B.pause())}function onerror(E){ie("onerror",E),unpipe(),C.removeListener("error",onerror),0===q(C,"error")&&me(C,E)}function onclose(){C.removeListener("finish",onfinish),unpipe()}function onfinish(){ie("onfinish"),C.removeListener("close",onclose),unpipe()}function unpipe(){ie("unpipe"),B.unpipe(C)}return B.on("data",ondata),prependListener(C,"error",onerror),C.once("close",onclose),C.once("finish",onfinish),C.emit("pipe",B),z.flowing||(ie("pipe resume"),B.resume()),C},Readable.prototype.unpipe=function(C){var E=this._readableState,I={hasUnpiped:!1};if(0===E.pipesCount)return this;if(1===E.pipesCount)return C&&C!==E.pipes||(C||(C=E.pipes),E.pipes=null,E.pipesCount=0,E.flowing=!1,C&&C.emit("unpipe",this,I)),this;if(!C){var B=E.pipes,z=E.pipesCount;E.pipes=null,E.pipesCount=0,E.flowing=!1;for(var q=0;q<z;q++)B[q].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=indexOf(E.pipes,C);return-1===Q||(E.pipes.splice(Q,1),E.pipesCount-=1,1===E.pipesCount&&(E.pipes=E.pipes[0]),C.emit("unpipe",this,I)),this},Readable.prototype.on=function(C,E){var B=Q.prototype.on.call(this,C,E),z=this._readableState;return"data"===C?(z.readableListening=this.listenerCount("readable")>0,!1!==z.flowing&&this.resume()):"readable"===C&&(z.endEmitted||z.readableListening||(z.readableListening=z.needReadable=!0,z.flowing=!1,z.emittedReadable=!1,ie("on readable",z.length,z.reading),z.length?emitReadable(this):z.reading||I.nextTick(nReadingNextTick,this))),B},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(C,E){var B=Q.prototype.removeListener.call(this,C,E);return"readable"===C&&I.nextTick(updateReadableListening,this),B},Readable.prototype.removeAllListeners=function(C){var E=Q.prototype.removeAllListeners.apply(this,arguments);return"readable"!==C&&void 0!==C||I.nextTick(updateReadableListening,this),E},Readable.prototype.resume=function(){var C=this._readableState;return C.flowing||(ie("resume"),C.flowing=!C.readableListening,resume(this,C)),C.paused=!1,this},Readable.prototype.pause=function(){return ie("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ie("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(C){var E=this,I=this._readableState,B=!1;for(var z in C.on("end",(function(){if(ie("wrapped end"),I.decoder&&!I.ended){var C=I.decoder.end();C&&C.length&&E.push(C)}E.push(null)})),C.on("data",(function(z){ie("wrapped data"),I.decoder&&(z=I.decoder.write(z)),I.objectMode&&null==z||(I.objectMode||z&&z.length)&&(E.push(z)||(B=!0,C.pause()))})),C)void 0===this[z]&&"function"==typeof C[z]&&(this[z]=function methodWrap(E){return function methodWrapReturnFunction(){return C[E].apply(C,arguments)}}(z));for(var q=0;q<ge.length;q++)C.on(ge[q],this.emit.bind(this,ge[q]));return this._read=function(E){ie("wrapped _read",E),B&&(B=!1,C.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===se&&(se=C("./internal/streams/async_iterator")),se(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function get(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function get(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function get(){return this._readableState.flowing},set:function set(C){this._readableState&&(this._readableState.flowing=C)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function get(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(E,I){return void 0===oe&&(oe=C("./internal/streams/from")),oe(Readable,E,I)})}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(C,E,I){"use strict";E.exports=Transform;var B=C("../errors").codes,z=B.ERR_METHOD_NOT_IMPLEMENTED,q=B.ERR_MULTIPLE_CALLBACK,Q=B.ERR_TRANSFORM_ALREADY_TRANSFORMING,ee=B.ERR_TRANSFORM_WITH_LENGTH_0,te=C("./_stream_duplex");function afterTransform(C,E){var I=this._transformState;I.transforming=!1;var B=I.writecb;if(null===B)return this.emit("error",new q);I.writechunk=null,I.writecb=null,null!=E&&this.push(E),B(C);var z=this._readableState;z.reading=!1,(z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}function Transform(C){if(!(this instanceof Transform))return new Transform(C);te.call(this,C),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,C&&("function"==typeof C.transform&&(this._transform=C.transform),"function"==typeof C.flush&&(this._flush=C.flush)),this.on("prefinish",prefinish)}function prefinish(){var C=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush((function(E,I){done(C,E,I)}))}function done(C,E,I){if(E)return C.emit("error",E);if(null!=I&&C.push(I),C._writableState.length)throw new ee;if(C._transformState.transforming)throw new Q;return C.push(null)}C("inherits")(Transform,te),Transform.prototype.push=function(C,E){return this._transformState.needTransform=!1,te.prototype.push.call(this,C,E)},Transform.prototype._transform=function(C,E,I){I(new z("_transform()"))},Transform.prototype._write=function(C,E,I){var B=this._transformState;if(B.writecb=I,B.writechunk=C,B.writeencoding=E,!B.transforming){var z=this._readableState;(B.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},Transform.prototype._read=function(C){var E=this._transformState;null===E.writechunk||E.transforming?E.needTransform=!0:(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform))},Transform.prototype._destroy=function(C,E){te.prototype._destroy.call(this,C,(function(C){E(C)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(C,E,B){(function(I,B){(function(){"use strict";function CorkedRequest(C){var E=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(E,C)}}var z;E.exports=Writable,Writable.WritableState=WritableState;var q={deprecate:C("util-deprecate")},Q=C("./internal/streams/stream"),ee=C("buffer").Buffer,te=(void 0!==B?B:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return ee.from(C)}function _isUint8Array(C){return ee.isBuffer(C)||C instanceof te}var ie,re=C("./internal/streams/destroy"),ne=C("./internal/streams/state").getHighWaterMark,se=C("../errors").codes,oe=se.ERR_INVALID_ARG_TYPE,ae=se.ERR_METHOD_NOT_IMPLEMENTED,le=se.ERR_MULTIPLE_CALLBACK,ue=se.ERR_STREAM_CANNOT_PIPE,de=se.ERR_STREAM_DESTROYED,ce=se.ERR_STREAM_NULL_VALUES,he=se.ERR_STREAM_WRITE_AFTER_END,fe=se.ERR_UNKNOWN_ENCODING,pe=re.errorOrDestroy;function nop(){}function WritableState(E,I,B){z=z||C("./_stream_duplex"),E=E||{},"boolean"!=typeof B&&(B=I instanceof z),this.objectMode=!!E.objectMode,B&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=ne(this,E,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=!1===E.decodeStrings;this.decodeStrings=!q,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){onwrite(I,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==E.emitClose,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(E){var I=this instanceof(z=z||C("./_stream_duplex"));if(!I&&!ie.call(Writable,this))return new Writable(E);this._writableState=new WritableState(E,this,I),this.writable=!0,E&&("function"==typeof E.write&&(this._write=E.write),"function"==typeof E.writev&&(this._writev=E.writev),"function"==typeof E.destroy&&(this._destroy=E.destroy),"function"==typeof E.final&&(this._final=E.final)),Q.call(this)}function writeAfterEnd(C,E){var B=new he;pe(C,B),I.nextTick(E,B)}function validChunk(C,E,B,z){var q;return null===B?q=new ce:"string"==typeof B||E.objectMode||(q=new oe("chunk",["string","Buffer"],B)),!q||(pe(C,q),I.nextTick(z,q),!1)}function decodeChunk(C,E,I){return C.objectMode||!1===C.decodeStrings||"string"!=typeof E||(E=ee.from(E,I)),E}function writeOrBuffer(C,E,I,B,z,q){if(!I){var Q=decodeChunk(E,B,z);B!==Q&&(I=!0,z="buffer",B=Q)}var ee=E.objectMode?1:B.length;E.length+=ee;var te=E.length<E.highWaterMark;if(te||(E.needDrain=!0),E.writing||E.corked){var ie=E.lastBufferedRequest;E.lastBufferedRequest={chunk:B,encoding:z,isBuf:I,callback:q,next:null},ie?ie.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else doWrite(C,E,!1,ee,B,z,q);return te}function doWrite(C,E,I,B,z,q,Q){E.writelen=B,E.writecb=Q,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new de("write")):I?C._writev(z,E.onwrite):C._write(z,q,E.onwrite),E.sync=!1}function onwriteError(C,E,B,z,q){--E.pendingcb,B?(I.nextTick(q,z),I.nextTick(finishMaybe,C,E),C._writableState.errorEmitted=!0,pe(C,z)):(q(z),C._writableState.errorEmitted=!0,pe(C,z),finishMaybe(C,E))}function onwriteStateUpdate(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}function onwrite(C,E){var B=C._writableState,z=B.sync,q=B.writecb;if("function"!=typeof q)throw new le;if(onwriteStateUpdate(B),E)onwriteError(C,B,z,E,q);else{var Q=needFinish(B)||C.destroyed;Q||B.corked||B.bufferProcessing||!B.bufferedRequest||clearBuffer(C,B),z?I.nextTick(afterWrite,C,B,Q,q):afterWrite(C,B,Q,q)}}function afterWrite(C,E,I,B){I||onwriteDrain(C,E),E.pendingcb--,B(),finishMaybe(C,E)}function onwriteDrain(C,E){0===E.length&&E.needDrain&&(E.needDrain=!1,C.emit("drain"))}function clearBuffer(C,E){E.bufferProcessing=!0;var I=E.bufferedRequest;if(C._writev&&I&&I.next){var B=E.bufferedRequestCount,z=new Array(B),q=E.corkedRequestsFree;q.entry=I;for(var Q=0,ee=!0;I;)z[Q]=I,I.isBuf||(ee=!1),I=I.next,Q+=1;z.allBuffers=ee,doWrite(C,E,!0,E.length,z,"",q.finish),E.pendingcb++,E.lastBufferedRequest=null,q.next?(E.corkedRequestsFree=q.next,q.next=null):E.corkedRequestsFree=new CorkedRequest(E),E.bufferedRequestCount=0}else{for(;I;){var te=I.chunk,ie=I.encoding,re=I.callback;if(doWrite(C,E,!1,E.objectMode?1:te.length,te,ie,re),I=I.next,E.bufferedRequestCount--,E.writing)break}null===I&&(E.lastBufferedRequest=null)}E.bufferedRequest=I,E.bufferProcessing=!1}function needFinish(C){return C.ending&&0===C.length&&null===C.bufferedRequest&&!C.finished&&!C.writing}function callFinal(C,E){C._final((function(I){E.pendingcb--,I&&pe(C,I),E.prefinished=!0,C.emit("prefinish"),finishMaybe(C,E)}))}function prefinish(C,E){E.prefinished||E.finalCalled||("function"!=typeof C._final||E.destroyed?(E.prefinished=!0,C.emit("prefinish")):(E.pendingcb++,E.finalCalled=!0,I.nextTick(callFinal,C,E)))}function finishMaybe(C,E){var I=needFinish(E);if(I&&(prefinish(C,E),0===E.pendingcb&&(E.finished=!0,C.emit("finish"),E.autoDestroy))){var B=C._readableState;(!B||B.autoDestroy&&B.endEmitted)&&C.destroy()}return I}function endWritable(C,E,B){E.ending=!0,finishMaybe(C,E),B&&(E.finished?I.nextTick(B):C.once("finish",B)),E.ended=!0,C.writable=!1}function onCorkedFinish(C,E,I){var B=C.entry;for(C.entry=null;B;){var z=B.callback;E.pendingcb--,z(I),B=B.next}E.corkedRequestsFree.next=C}C("inherits")(Writable,Q),WritableState.prototype.getBuffer=function getBuffer(){for(var C=this.bufferedRequest,E=[];C;)E.push(C),C=C.next;return E},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:q.deprecate((function writableStateBufferGetter(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(C){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(ie=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(C){return!!ie.call(this,C)||this===Writable&&C&&C._writableState instanceof WritableState}})):ie=function realHasInstance(C){return C instanceof this},Writable.prototype.pipe=function(){pe(this,new ue)},Writable.prototype.write=function(C,E,I){var B=this._writableState,z=!1,q=!B.objectMode&&_isUint8Array(C);return q&&!ee.isBuffer(C)&&(C=_uint8ArrayToBuffer(C)),"function"==typeof E&&(I=E,E=null),q?E="buffer":E||(E=B.defaultEncoding),"function"!=typeof I&&(I=nop),B.ending?writeAfterEnd(this,I):(q||validChunk(this,B,C,I))&&(B.pendingcb++,z=writeOrBuffer(this,B,q,C,E,I)),z},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||clearBuffer(this,C))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(C){if("string"==typeof C&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new fe(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(C,E,I){I(new ae("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(C,E,I){var B=this._writableState;return"function"==typeof C?(I=C,C=null,E=null):"function"==typeof E&&(I=E,E=null),null!=C&&this.write(C,E),B.corked&&(B.corked=1,this.uncork()),B.ending||endWritable(this,B,I),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._writableState&&this._writableState.destroyed},set:function set(C){this._writableState&&(this._writableState.destroyed=C)}}),Writable.prototype.destroy=re.destroy,Writable.prototype._undestroy=re.undestroy,Writable.prototype._destroy=function(C,E){E(C)}}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(C,E,I){(function(I){(function(){"use strict";var B;function _defineProperty(C,E,I){return(E=_toPropertyKey(E))in C?Object.defineProperty(C,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[E]=I,C}function _toPropertyKey(C){var E=_toPrimitive(C,"string");return"symbol"==typeof E?E:String(E)}function _toPrimitive(C,E){if("object"!=typeof C||null===C)return C;var I=C[Symbol.toPrimitive];if(void 0!==I){var B=I.call(C,E||"default");if("object"!=typeof B)return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(C)}var z=C("./end-of-stream"),q=Symbol("lastResolve"),Q=Symbol("lastReject"),ee=Symbol("error"),te=Symbol("ended"),ie=Symbol("lastPromise"),re=Symbol("handlePromise"),ne=Symbol("stream");function createIterResult(C,E){return{value:C,done:E}}function readAndResolve(C){var E=C[q];if(null!==E){var I=C[ne].read();null!==I&&(C[ie]=null,C[q]=null,C[Q]=null,E(createIterResult(I,!1)))}}function onReadable(C){I.nextTick(readAndResolve,C)}function wrapForNext(C,E){return function(I,B){C.then((function(){E[te]?I(createIterResult(void 0,!0)):E[re](I,B)}),B)}}var se=Object.getPrototypeOf((function(){})),oe=Object.setPrototypeOf((_defineProperty(B={get stream(){return this[ne]},next:function next(){var C=this,E=this[ee];if(null!==E)return Promise.reject(E);if(this[te])return Promise.resolve(createIterResult(void 0,!0));if(this[ne].destroyed)return new Promise((function(E,B){I.nextTick((function(){C[ee]?B(C[ee]):E(createIterResult(void 0,!0))}))}));var B,z=this[ie];if(z)B=new Promise(wrapForNext(z,this));else{var q=this[ne].read();if(null!==q)return Promise.resolve(createIterResult(q,!1));B=new Promise(this[re])}return this[ie]=B,B}},Symbol.asyncIterator,(function(){return this})),_defineProperty(B,"return",(function _return(){var C=this;return new Promise((function(E,I){C[ne].destroy(null,(function(C){C?I(C):E(createIterResult(void 0,!0))}))}))})),B),se),ae=function createReadableStreamAsyncIterator(C){var E,I=Object.create(oe,(_defineProperty(E={},ne,{value:C,writable:!0}),_defineProperty(E,q,{value:null,writable:!0}),_defineProperty(E,Q,{value:null,writable:!0}),_defineProperty(E,ee,{value:null,writable:!0}),_defineProperty(E,te,{value:C._readableState.endEmitted,writable:!0}),_defineProperty(E,re,{value:function value(C,E){var B=I[ne].read();B?(I[ie]=null,I[q]=null,I[Q]=null,C(createIterResult(B,!1))):(I[q]=C,I[Q]=E)},writable:!0}),E));return I[ie]=null,z(C,(function(C){if(C&&"ERR_STREAM_PREMATURE_CLOSE"!==C.code){var E=I[Q];return null!==E&&(I[ie]=null,I[q]=null,I[Q]=null,E(C)),void(I[ee]=C)}var B=I[q];null!==B&&(I[ie]=null,I[q]=null,I[Q]=null,B(createIterResult(void 0,!0))),I[te]=!0})),C.on("readable",onReadable.bind(null,I)),I};E.exports=ae}).call(this)}).call(this,C("_process"))},{"./end-of-stream":486,_process:467}],484:[function(C,E,I){"use strict";function ownKeys(C,E){var I=Object.keys(C);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(C);E&&(B=B.filter((function(E){return Object.getOwnPropertyDescriptor(C,E).enumerable}))),I.push.apply(I,B)}return I}function _objectSpread(C){for(var E=1;E<arguments.length;E++){var I=null!=arguments[E]?arguments[E]:{};E%2?ownKeys(Object(I),!0).forEach((function(E){_defineProperty(C,E,I[E])})):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(I)):ownKeys(Object(I)).forEach((function(E){Object.defineProperty(C,E,Object.getOwnPropertyDescriptor(I,E))}))}return C}function _defineProperty(C,E,I){return(E=_toPropertyKey(E))in C?Object.defineProperty(C,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[E]=I,C}function _classCallCheck(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function _defineProperties(C,E){for(var I=0;I<E.length;I++){var B=E[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,_toPropertyKey(B.key),B)}}function _createClass(C,E,I){return E&&_defineProperties(C.prototype,E),I&&_defineProperties(C,I),Object.defineProperty(C,"prototype",{writable:!1}),C}function _toPropertyKey(C){var E=_toPrimitive(C,"string");return"symbol"==typeof E?E:String(E)}function _toPrimitive(C,E){if("object"!=typeof C||null===C)return C;var I=C[Symbol.toPrimitive];if(void 0!==I){var B=I.call(C,E||"default");if("object"!=typeof B)return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(C)}var B=C("buffer").Buffer,z=C("util").inspect,q=z&&z.custom||"inspect";function copyBuffer(C,E,I){B.prototype.copy.call(C,E,I)}E.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return _createClass(BufferList,[{key:"push",value:function push(C){var E={data:C,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function unshift(C){var E={data:C,next:this.head};0===this.length&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function shift(){if(0!==this.length){var C=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,C}}},{key:"clear",value:function clear(){this.head=this.tail=null,this.length=0}},{key:"join",value:function join(C){if(0===this.length)return"";for(var E=this.head,I=""+E.data;E=E.next;)I+=C+E.data;return I}},{key:"concat",value:function concat(C){if(0===this.length)return B.alloc(0);for(var E=B.allocUnsafe(C>>>0),I=this.head,z=0;I;)copyBuffer(I.data,E,z),z+=I.data.length,I=I.next;return E}},{key:"consume",value:function consume(C,E){var I;return C<this.head.data.length?(I=this.head.data.slice(0,C),this.head.data=this.head.data.slice(C)):I=C===this.head.data.length?this.shift():E?this._getString(C):this._getBuffer(C),I}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(C){var E=this.head,I=1,B=E.data;for(C-=B.length;E=E.next;){var z=E.data,q=C>z.length?z.length:C;if(q===z.length?B+=z:B+=z.slice(0,C),0==(C-=q)){q===z.length?(++I,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=z.slice(q));break}++I}return this.length-=I,B}},{key:"_getBuffer",value:function _getBuffer(C){var E=B.allocUnsafe(C),I=this.head,z=1;for(I.data.copy(E),C-=I.data.length;I=I.next;){var q=I.data,Q=C>q.length?q.length:C;if(q.copy(E,E.length-C,0,Q),0==(C-=Q)){Q===q.length?(++z,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=q.slice(Q));break}++z}return this.length-=z,E}},{key:q,value:function value(C,E){return z(this,_objectSpread(_objectSpread({},E),{},{depth:0,customInspect:!1}))}}]),BufferList}()},{buffer:220,util:188}],485:[function(C,E,I){(function(C){(function(){"use strict";function destroy(E,I){var B=this,z=this._readableState&&this._readableState.destroyed,q=this._writableState&&this._writableState.destroyed;return z||q?(I?I(E):E&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,C.nextTick(emitErrorNT,this,E)):C.nextTick(emitErrorNT,this,E)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(E||null,(function(E){!I&&E?B._writableState?B._writableState.errorEmitted?C.nextTick(emitCloseNT,B):(B._writableState.errorEmitted=!0,C.nextTick(emitErrorAndCloseNT,B,E)):C.nextTick(emitErrorAndCloseNT,B,E):I?(C.nextTick(emitCloseNT,B),I(E)):C.nextTick(emitCloseNT,B)})),this)}function emitErrorAndCloseNT(C,E){emitErrorNT(C,E),emitCloseNT(C)}function emitCloseNT(C){C._writableState&&!C._writableState.emitClose||C._readableState&&!C._readableState.emitClose||C.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(C,E){C.emit("error",E)}function errorOrDestroy(C,E){var I=C._readableState,B=C._writableState;I&&I.autoDestroy||B&&B.autoDestroy?C.destroy(E):C.emit("error",E)}E.exports={destroy,undestroy,errorOrDestroy}}).call(this)}).call(this,C("_process"))},{_process:467}],486:[function(C,E,I){"use strict";var B=C("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function once(C){var E=!1;return function(){if(!E){E=!0;for(var I=arguments.length,B=new Array(I),z=0;z<I;z++)B[z]=arguments[z];C.apply(this,B)}}}function noop(){}function isRequest(C){return C.setHeader&&"function"==typeof C.abort}function eos(C,E,I){if("function"==typeof E)return eos(C,null,E);E||(E={}),I=once(I||noop);var z=E.readable||!1!==E.readable&&C.readable,q=E.writable||!1!==E.writable&&C.writable,Q=function onlegacyfinish(){C.writable||te()},ee=C._writableState&&C._writableState.finished,te=function onfinish(){q=!1,ee=!0,z||I.call(C)},ie=C._readableState&&C._readableState.endEmitted,re=function onend(){z=!1,ie=!0,q||I.call(C)},ne=function onerror(E){I.call(C,E)},se=function onclose(){var E;return z&&!ie?(C._readableState&&C._readableState.ended||(E=new B),I.call(C,E)):q&&!ee?(C._writableState&&C._writableState.ended||(E=new B),I.call(C,E)):void 0},oe=function onrequest(){C.req.on("finish",te)};return isRequest(C)?(C.on("complete",te),C.on("abort",se),C.req?oe():C.on("request",oe)):q&&!C._writableState&&(C.on("end",Q),C.on("close",Q)),C.on("end",re),C.on("finish",te),!1!==E.error&&C.on("error",ne),C.on("close",se),function(){C.removeListener("complete",te),C.removeListener("abort",se),C.removeListener("request",oe),C.req&&C.req.removeListener("finish",te),C.removeListener("end",Q),C.removeListener("close",Q),C.removeListener("finish",te),C.removeListener("end",re),C.removeListener("error",ne),C.removeListener("close",se)}}E.exports=eos},{"../../../errors":477}],487:[function(C,E,I){"use strict";E.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(C,E,I){"use strict";var B;function once(C){var E=!1;return function(){E||(E=!0,C.apply(void 0,arguments))}}var z=C("../../../errors").codes,q=z.ERR_MISSING_ARGS,Q=z.ERR_STREAM_DESTROYED;function noop(C){if(C)throw C}function isRequest(C){return C.setHeader&&"function"==typeof C.abort}function destroyer(E,I,z,q){q=once(q);var ee=!1;E.on("close",(function(){ee=!0})),void 0===B&&(B=C("./end-of-stream")),B(E,{readable:I,writable:z},(function(C){if(C)return q(C);ee=!0,q()}));var te=!1;return function(C){if(!ee&&!te)return te=!0,isRequest(E)?E.abort():"function"==typeof E.destroy?E.destroy():void q(C||new Q("pipe"))}}function call(C){C()}function pipe(C,E){return C.pipe(E)}function popCallback(C){return C.length?"function"!=typeof C[C.length-1]?noop:C.pop():noop}function pipeline(){for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];var B,z=popCallback(E);if(Array.isArray(E[0])&&(E=E[0]),E.length<2)throw new q("streams");var Q=E.map((function(C,I){var q=I<E.length-1;return destroyer(C,q,I>0,(function(C){B||(B=C),C&&Q.forEach(call),q||(Q.forEach(call),z(B))}))}));return E.reduce(pipe)}E.exports=pipeline},{"../../../errors":477,"./end-of-stream":486}],489:[function(C,E,I){"use strict";var B=C("../../../errors").codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(C,E,I){return null!=C.highWaterMark?C.highWaterMark:E?C[I]:null}function getHighWaterMark(C,E,I,z){var q=highWaterMarkFrom(E,z,I);if(null!=q){if(!isFinite(q)||Math.floor(q)!==q||q<0)throw new B(z?I:"highWaterMark",q);return Math.floor(q)}return C.objectMode?16:16384}E.exports={getHighWaterMark}},{"../../../errors":477}],490:[function(C,E,I){"use strict";E.exports=C("events").EventEmitter},{events:422}],491:[function(C,E,I){"use strict";(I=E.exports=C("./lib/_stream_readable.js")).Stream=I,I.Readable=I,I.Writable=C("./lib/_stream_writable.js"),I.Duplex=C("./lib/_stream_duplex.js"),I.Transform=C("./lib/_stream_transform.js"),I.PassThrough=C("./lib/_stream_passthrough.js"),I.finished=C("./lib/internal/streams/end-of-stream.js"),I.pipeline=C("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(C,E,I){"use strict";var B=function(C){var E,I=Object.prototype,B=I.hasOwnProperty,z=Object.defineProperty||function(C,E,I){C[E]=I.value},q="function"==typeof Symbol?Symbol:{},Q=q.iterator||"@@iterator",ee=q.asyncIterator||"@@asyncIterator",te=q.toStringTag||"@@toStringTag";function define(C,E,I){return Object.defineProperty(C,E,{value:I,enumerable:!0,configurable:!0,writable:!0}),C[E]}try{define({},"")}catch(C){define=function(C,E,I){return C[E]=I}}function wrap(C,E,I,B){var q=E&&E.prototype instanceof Generator?E:Generator,Q=Object.create(q.prototype),ee=new Context(B||[]);return z(Q,"_invoke",{value:makeInvokeMethod(C,I,ee)}),Q}function tryCatch(C,E,I){try{return{type:"normal",arg:C.call(E,I)}}catch(C){return{type:"throw",arg:C}}}C.wrap=wrap;var ie="suspendedStart",re="suspendedYield",ne="executing",se="completed",oe={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var ae={};define(ae,Q,(function(){return this}));var le=Object.getPrototypeOf,ue=le&&le(le(values([])));ue&&ue!==I&&B.call(ue,Q)&&(ae=ue);var de=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(ae);function defineIteratorMethods(C){["next","throw","return"].forEach((function(E){define(C,E,(function(C){return this._invoke(E,C)}))}))}function AsyncIterator(C,E){function invoke(I,z,q,Q){var ee=tryCatch(C[I],C,z);if("throw"!==ee.type){var te=ee.arg,ie=te.value;return ie&&"object"==typeof ie&&B.call(ie,"__await")?E.resolve(ie.__await).then((function(C){invoke("next",C,q,Q)}),(function(C){invoke("throw",C,q,Q)})):E.resolve(ie).then((function(C){te.value=C,q(te)}),(function(C){return invoke("throw",C,q,Q)}))}Q(ee.arg)}var I;function enqueue(C,B){function callInvokeWithMethodAndArg(){return new E((function(E,I){invoke(C,B,E,I)}))}return I=I?I.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}z(this,"_invoke",{value:enqueue})}function makeInvokeMethod(C,E,I){var B=ie;return function invoke(z,q){if(B===ne)throw new Error("Generator is already running");if(B===se){if("throw"===z)throw q;return doneResult()}for(I.method=z,I.arg=q;;){var Q=I.delegate;if(Q){var ee=maybeInvokeDelegate(Q,I);if(ee){if(ee===oe)continue;return ee}}if("next"===I.method)I.sent=I._sent=I.arg;else if("throw"===I.method){if(B===ie)throw B=se,I.arg;I.dispatchException(I.arg)}else"return"===I.method&&I.abrupt("return",I.arg);B=ne;var te=tryCatch(C,E,I);if("normal"===te.type){if(B=I.done?se:re,te.arg===oe)continue;return{value:te.arg,done:I.done}}"throw"===te.type&&(B=se,I.method="throw",I.arg=te.arg)}}}function maybeInvokeDelegate(C,I){var B=I.method,z=C.iterator[B];if(z===E)return I.delegate=null,"throw"===B&&C.iterator.return&&(I.method="return",I.arg=E,maybeInvokeDelegate(C,I),"throw"===I.method)||"return"!==B&&(I.method="throw",I.arg=new TypeError("The iterator does not provide a '"+B+"' method")),oe;var q=tryCatch(z,C.iterator,I.arg);if("throw"===q.type)return I.method="throw",I.arg=q.arg,I.delegate=null,oe;var Q=q.arg;return Q?Q.done?(I[C.resultName]=Q.value,I.next=C.nextLoc,"return"!==I.method&&(I.method="next",I.arg=E),I.delegate=null,oe):Q:(I.method="throw",I.arg=new TypeError("iterator result is not an object"),I.delegate=null,oe)}function pushTryEntry(C){var E={tryLoc:C[0]};1 in C&&(E.catchLoc=C[1]),2 in C&&(E.finallyLoc=C[2],E.afterLoc=C[3]),this.tryEntries.push(E)}function resetTryEntry(C){var E=C.completion||{};E.type="normal",delete E.arg,C.completion=E}function Context(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(pushTryEntry,this),this.reset(!0)}function values(C){if(C){var I=C[Q];if(I)return I.call(C);if("function"==typeof C.next)return C;if(!isNaN(C.length)){var z=-1,q=function next(){for(;++z<C.length;)if(B.call(C,z))return next.value=C[z],next.done=!1,next;return next.value=E,next.done=!0,next};return q.next=q}}return{next:doneResult}}function doneResult(){return{value:E,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,z(de,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),z(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,te,"GeneratorFunction"),C.isGeneratorFunction=function(C){var E="function"==typeof C&&C.constructor;return!!E&&(E===GeneratorFunction||"GeneratorFunction"===(E.displayName||E.name))},C.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,GeneratorFunctionPrototype):(C.__proto__=GeneratorFunctionPrototype,define(C,te,"GeneratorFunction")),C.prototype=Object.create(de),C},C.awrap=function(C){return{__await:C}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,ee,(function(){return this})),C.AsyncIterator=AsyncIterator,C.async=function(E,I,B,z,q){void 0===q&&(q=Promise);var Q=new AsyncIterator(wrap(E,I,B,z),q);return C.isGeneratorFunction(I)?Q:Q.next().then((function(C){return C.done?C.value:Q.next()}))},defineIteratorMethods(de),define(de,te,"Generator"),define(de,Q,(function(){return this})),define(de,"toString",(function(){return"[object Generator]"})),C.keys=function(C){var E=Object(C),I=[];for(var B in E)I.push(B);return I.reverse(),function next(){for(;I.length;){var C=I.pop();if(C in E)return next.value=C,next.done=!1,next}return next.done=!0,next}},C.values=values,Context.prototype={constructor:Context,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=E,this.done=!1,this.delegate=null,this.method="next",this.arg=E,this.tryEntries.forEach(resetTryEntry),!C)for(var I in this)"t"===I.charAt(0)&&B.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=E)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if("throw"===C.type)throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var I=this;function handle(B,z){return Q.type="throw",Q.arg=C,I.next=B,z&&(I.method="next",I.arg=E),!!z}for(var z=this.tryEntries.length-1;z>=0;--z){var q=this.tryEntries[z],Q=q.completion;if("root"===q.tryLoc)return handle("end");if(q.tryLoc<=this.prev){var ee=B.call(q,"catchLoc"),te=B.call(q,"finallyLoc");if(ee&&te){if(this.prev<q.catchLoc)return handle(q.catchLoc,!0);if(this.prev<q.finallyLoc)return handle(q.finallyLoc)}else if(ee){if(this.prev<q.catchLoc)return handle(q.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<q.finallyLoc)return handle(q.finallyLoc)}}}},abrupt:function(C,E){for(var I=this.tryEntries.length-1;I>=0;--I){var z=this.tryEntries[I];if(z.tryLoc<=this.prev&&B.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var q=z;break}}q&&("break"===C||"continue"===C)&&q.tryLoc<=E&&E<=q.finallyLoc&&(q=null);var Q=q?q.completion:{};return Q.type=C,Q.arg=E,q?(this.method="next",this.next=q.finallyLoc,oe):this.complete(Q)},complete:function(C,E){if("throw"===C.type)throw C.arg;return"break"===C.type||"continue"===C.type?this.next=C.arg:"return"===C.type?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):"normal"===C.type&&E&&(this.next=E),oe},finish:function(C){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.finallyLoc===C)return this.complete(I.completion,I.afterLoc),resetTryEntry(I),oe}},catch:function(C){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.tryLoc===C){var B=I.completion;if("throw"===B.type){var z=B.arg;resetTryEntry(I)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(C,I,B){return this.delegate={iterator:values(C),resultName:I,nextLoc:B},"next"===this.method&&(this.arg=E),oe}},C}("object"==typeof E?E.exports:{});try{regeneratorRuntime=B}catch(C){"object"==typeof globalThis?globalThis.regeneratorRuntime=B:Function("r","regeneratorRuntime = r")(B)}},{}],493:[function(C,E,I){"use strict";var B=C("buffer").Buffer,z=C("inherits"),q=C("hash-base"),Q=new Array(16),ee=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],te=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ie=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],re=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ne=[0,1518500249,1859775393,2400959708,2840853838],se=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){q.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(C,E){return C<<E|C>>>32-E}function fn1(C,E,I,B,z,q,Q,ee){return rotl(C+(E^I^B)+q+Q|0,ee)+z|0}function fn2(C,E,I,B,z,q,Q,ee){return rotl(C+(E&I|~E&B)+q+Q|0,ee)+z|0}function fn3(C,E,I,B,z,q,Q,ee){return rotl(C+((E|~I)^B)+q+Q|0,ee)+z|0}function fn4(C,E,I,B,z,q,Q,ee){return rotl(C+(E&B|I&~B)+q+Q|0,ee)+z|0}function fn5(C,E,I,B,z,q,Q,ee){return rotl(C+(E^(I|~B))+q+Q|0,ee)+z|0}z(RIPEMD160,q),RIPEMD160.prototype._update=function(){for(var C=Q,E=0;E<16;++E)C[E]=this._block.readInt32LE(4*E);for(var I=0|this._a,B=0|this._b,z=0|this._c,q=0|this._d,oe=0|this._e,ae=0|this._a,le=0|this._b,ue=0|this._c,de=0|this._d,ce=0|this._e,he=0;he<80;he+=1){var fe,pe;he<16?(fe=fn1(I,B,z,q,oe,C[ee[he]],ne[0],ie[he]),pe=fn5(ae,le,ue,de,ce,C[te[he]],se[0],re[he])):he<32?(fe=fn2(I,B,z,q,oe,C[ee[he]],ne[1],ie[he]),pe=fn4(ae,le,ue,de,ce,C[te[he]],se[1],re[he])):he<48?(fe=fn3(I,B,z,q,oe,C[ee[he]],ne[2],ie[he]),pe=fn3(ae,le,ue,de,ce,C[te[he]],se[2],re[he])):he<64?(fe=fn4(I,B,z,q,oe,C[ee[he]],ne[3],ie[he]),pe=fn2(ae,le,ue,de,ce,C[te[he]],se[3],re[he])):(fe=fn5(I,B,z,q,oe,C[ee[he]],ne[4],ie[he]),pe=fn1(ae,le,ue,de,ce,C[te[he]],se[4],re[he])),I=oe,oe=q,q=rotl(z,10),z=B,B=fe,ae=ce,ce=de,de=rotl(ue,10),ue=le,le=pe}var me=this._b+z+de|0;this._b=this._c+q+ce|0,this._c=this._d+oe+ae|0,this._d=this._e+I+le|0,this._e=this._a+B+ue|0,this._a=me},RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var C=B.alloc?B.alloc(20):new B(20);return C.writeInt32LE(this._a,0),C.writeInt32LE(this._b,4),C.writeInt32LE(this._c,8),C.writeInt32LE(this._d,12),C.writeInt32LE(this._e,16),C},E.exports=RIPEMD160},{buffer:220,"hash-base":425,inherits:440}],494:[function(C,E,I){"use strict";var B=C("buffer"),z=B.Buffer;function copyProps(C,E){for(var I in C)E[I]=C[I]}function SafeBuffer(C,E,I){return z(C,E,I)}z.from&&z.alloc&&z.allocUnsafe&&z.allocUnsafeSlow?E.exports=B:(copyProps(B,I),I.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(z.prototype),copyProps(z,SafeBuffer),SafeBuffer.from=function(C,E,I){if("number"==typeof C)throw new TypeError("Argument must not be a number");return z(C,E,I)},SafeBuffer.alloc=function(C,E,I){if("number"!=typeof C)throw new TypeError("Argument must be a number");var B=z(C);return void 0!==E?"string"==typeof I?B.fill(E,I):B.fill(E):B.fill(0),B},SafeBuffer.allocUnsafe=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return z(C)},SafeBuffer.allocUnsafeSlow=function(C){if("number"!=typeof C)throw new TypeError("Argument must be a number");return B.SlowBuffer(C)}},{buffer:220}],495:[function(C,E,I){(function(I){(function(){"use strict";var B,z=C("buffer"),q=z.Buffer,Q={};for(B in z)z.hasOwnProperty(B)&&"SlowBuffer"!==B&&"Buffer"!==B&&(Q[B]=z[B]);var ee=Q.Buffer={};for(B in q)q.hasOwnProperty(B)&&"allocUnsafe"!==B&&"allocUnsafeSlow"!==B&&(ee[B]=q[B]);if(Q.Buffer.prototype=q.prototype,ee.from&&ee.from!==Uint8Array.from||(ee.from=function(C,E,I){if("number"==typeof C)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof C);if(C&&void 0===C.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);return q(C,E,I)}),ee.alloc||(ee.alloc=function(C,E,I){if("number"!=typeof C)throw new TypeError('The "size" argument must be of type number. Received type '+typeof C);if(C<0||C>=2*(1<<30))throw new RangeError('The value "'+C+'" is invalid for option "size"');var B=q(C);return E&&0!==E.length?"string"==typeof I?B.fill(E,I):B.fill(E):B.fill(0),B}),!Q.kStringMaxLength)try{Q.kStringMaxLength=I.binding("buffer").kStringMaxLength}catch(C){}Q.constants||(Q.constants={MAX_LENGTH:Q.kMaxLength},Q.kStringMaxLength&&(Q.constants.MAX_STRING_LENGTH=Q.kStringMaxLength)),E.exports=Q}).call(this)}).call(this,C("_process"))},{_process:467,buffer:220}],496:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0});const B=C("xmlchars/xml/1.0/ed5"),z=C("xmlchars/xml/1.1/ed2"),q=C("xmlchars/xmlns/1.0/ed3");var Q=B.isS,ee=B.isChar,te=B.isNameStartChar,ie=B.isNameChar,re=B.S_LIST,ne=B.NAME_RE,se=z.isChar,oe=q.isNCNameStartChar,ae=q.isNCNameChar,le=q.NC_NAME_RE;const ue="http://www.w3.org/XML/1998/namespace",de="http://www.w3.org/2000/xmlns/",ce={__proto__:null,xml:ue,xmlns:de},he={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},fe=-1,pe=-2,me=0,ge=1,ve=2,ye=3,be=4,Ce=5,we=6,_e=7,Se=8,xe=9,ke=10,Te=11,Me=12,Re=13,Ee=14,Pe=15,Ie=16,Ae=17,Ne=18,De=19,Be=20,Fe=21,Oe=22,Le=23,$e=24,je=25,Ve=26,He=27,Ge=28,Ue=29,ze=30,qe=31,We=32,Ke=33,Xe=34,Je=35,Ye=36,Ze=37,Qe=38,et=39,tt=40,it=41,rt=42,nt=43,st=44,ot=9,at=10,ut=13,dt=32,ct=33,ht=34,pt=38,mt=39,vt=45,yt=47,bt=59,Ct=60,wt=61,_t=62,St=63,xt=91,kt=93,Tt=133,Mt=8232,isQuote=C=>C===ht||C===mt,Rt=[ht,mt],Et=[...Rt,xt,_t],Pt=[...Rt,Ct,kt],It=[wt,St,...re],At=[...re,_t,pt,Ct];function nsPairCheck(C,E,I){switch(E){case"xml":I!==ue&&C.fail(`xml prefix must be bound to ${ue}.`);break;case"xmlns":I!==de&&C.fail(`xmlns prefix must be bound to ${de}.`)}switch(I){case de:C.fail(""===E?`the default namespace may not be set to ${I}.`:`may not assign a prefix (even "xmlns") to the URI ${de}.`);break;case ue:switch(E){case"xml":break;case"":C.fail(`the default namespace may not be set to ${I}.`);break;default:C.fail("may not assign the xml namespace to another prefix.")}}}function nsMappingCheck(C,E){for(const I of Object.keys(E))nsPairCheck(C,I,E[I])}const isNCName=C=>le.test(C),isName=C=>ne.test(C),Nt=0,Dt=1,Bt=2;I.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Ft={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class SaxesParser{constructor(C){this.opt=null!=C?C:{},this.fragmentOpt=!!this.opt.fragment;const E=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,E){this.nameStartCheck=oe,this.nameCheck=ae,this.isName=isNCName,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},ce);const C=this.opt.additionalNamespaces;null!=C&&(nsMappingCheck(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=te,this.nameCheck=ie,this.isName=isName,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var C;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Nt,this.attribList=[];const{fragmentOpt:E}=this;this.state=E?Re:me,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=E,this.xmlDeclPossible=!E,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:I}=this.opt;if(void 0===I){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");I="1.0"}this.setXMLVersion(I),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(he),null===(C=this.readyHandler)||void 0===C||C.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(C,E){this[Ft[C]]=E}off(C){this[Ft[C]]=void 0}makeError(C){var E;let I=null!==(E=this.fileName)&&void 0!==E?E:"";return this.trackPosition&&(I.length>0&&(I+=":"),I+=`${this.line}:${this.column}`),I.length>0&&(I+=": "),new Error(I+C)}fail(C){const E=this.makeError(C),I=this.errorHandler;if(void 0===I)throw E;return I(E),this}write(C){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let E=!1;null===C?(E=!0,C=""):"object"==typeof C&&(C=C.toString()),void 0!==this.carriedFromPrevious&&(C=`${this.carriedFromPrevious}${C}`,this.carriedFromPrevious=void 0);let I=C.length;const B=C.charCodeAt(I-1);!E&&(B===ut||B>=55296&&B<=56319)&&(this.carriedFromPrevious=C[I-1],I--,C=C.slice(0,I));const{stateTable:z}=this;for(this.chunk=C,this.i=0;this.i<I;)z[this.state].call(this);return this.chunkPosition+=I,E?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:C,i:E}=this;if(this.prevI=E,this.i=E+1,E>=C.length)return fe;const I=C.charCodeAt(E);if(this.column++,I<55296){if(I>=dt||I===ot)return I;switch(I){case at:return this.line++,this.column=0,this.positionAtNewLine=this.position,at;case ut:return C.charCodeAt(E+1)===at&&(this.i=E+2),this.line++,this.column=0,this.positionAtNewLine=this.position,pe;default:return this.fail("disallowed character."),I}}if(I>56319)return I>=57344&&I<=65533||this.fail("disallowed character."),I;const B=65536+1024*(I-55296)+(C.charCodeAt(E+1)-56320);return this.i=E+2,B>1114111&&this.fail("disallowed character."),B}getCode11(){const{chunk:C,i:E}=this;if(this.prevI=E,this.i=E+1,E>=C.length)return fe;const I=C.charCodeAt(E);if(this.column++,I<55296){if(I>31&&I<127||I>159&&I!==Mt||I===ot)return I;switch(I){case at:return this.line++,this.column=0,this.positionAtNewLine=this.position,at;case ut:{const I=C.charCodeAt(E+1);I!==at&&I!==Tt||(this.i=E+2)}case Tt:case Mt:return this.line++,this.column=0,this.positionAtNewLine=this.position,pe;default:return this.fail("disallowed character."),I}}if(I>56319)return I>=57344&&I<=65533||this.fail("disallowed character."),I;const B=65536+1024*(I-55296)+(C.charCodeAt(E+1)-56320);return this.i=E+2,B>1114111&&this.fail("disallowed character."),B}getCodeNorm(){const C=this.getCode();return C===pe?at:C}unget(){this.i=this.prevI,this.column--}captureTo(C){let{i:E}=this;const{chunk:I}=this;for(;;){const B=this.getCode(),z=B===pe,q=z?at:B;if(q===fe||C.includes(q))return this.text+=I.slice(E,this.prevI),q;z&&(this.text+=`${I.slice(E,this.prevI)}\n`,E=this.i)}}captureToChar(C){let{i:E}=this;const{chunk:I}=this;for(;;){let B=this.getCode();switch(B){case pe:this.text+=`${I.slice(E,this.prevI)}\n`,E=this.i,B=at;break;case fe:return this.text+=I.slice(E),!1}if(B===C)return this.text+=I.slice(E,this.prevI),!0}}captureNameChars(){const{chunk:C,i:E}=this;for(;;){const I=this.getCode();if(I===fe)return this.name+=C.slice(E),fe;if(!ie(I))return this.name+=C.slice(E,this.prevI),I===pe?at:I}}skipSpaces(){for(;;){const C=this.getCodeNorm();if(C===fe||!Q(C))return C}}setXMLVersion(C){this.currentXMLVersion=C,"1.0"===C?(this.isChar=ee,this.getCode=this.getCode10):(this.isChar=se,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=ge}sBeginWhitespace(){const C=this.i,E=this.skipSpaces();switch(this.prevI!==C&&(this.xmlDeclPossible=!1),E){case Ct:if(this.state=Pe,0!==this.text.length)throw new Error("no-empty text at start");break;case fe:break;default:this.unget(),this.state=Re,this.xmlDeclPossible=!1}}sDoctype(){var C;const E=this.captureTo(Et);switch(E){case _t:null===(C=this.doctypeHandler)||void 0===C||C.call(this,this.text),this.text="",this.state=Re,this.doctype=!0;break;case fe:break;default:this.text+=String.fromCodePoint(E),E===xt?this.state=be:isQuote(E)&&(this.state=ye,this.q=E)}}sDoctypeQuote(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.q=null,this.state=ve)}sDTD(){const C=this.captureTo(Pt);C!==fe&&(this.text+=String.fromCodePoint(C),C===kt?this.state=ve:C===Ct?this.state=we:isQuote(C)&&(this.state=Ce,this.q=C))}sDTDQuoted(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.state=be,this.q=null)}sDTDOpenWaka(){const C=this.getCodeNorm();switch(this.text+=String.fromCodePoint(C),C){case ct:this.state=_e,this.openWakaBang="";break;case St:this.state=Te;break;default:this.state=be}}sDTDOpenWakaBang(){const C=String.fromCodePoint(this.getCodeNorm()),E=this.openWakaBang+=C;this.text+=C,"-"!==E&&(this.state="--"===E?Se:be,this.openWakaBang="")}sDTDComment(){this.captureToChar(vt)&&(this.text+="-",this.state=xe)}sDTDCommentEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),this.state=C===vt?ke:Se}sDTDCommentEnded(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===_t?this.state=be:(this.fail("malformed comment."),this.state=Se)}sDTDPI(){this.captureToChar(St)&&(this.text+="?",this.state=Me)}sDTDPIEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===_t&&(this.state=be)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:C}=this;const{chunk:E}=this;e:for(;;)switch(this.getCode()){case pe:this.entity+=`${E.slice(C,this.prevI)}\n`,C=this.i;break;case bt:{const{entityReturnState:I}=this,B=this.entity+E.slice(C,this.prevI);let z;this.state=I,""===B?(this.fail("empty entity name."),z="&;"):(z=this.parseEntity(B),this.entity=""),I===Re&&void 0===this.textHandler||(this.text+=z);break e}case fe:this.entity+=E.slice(C);break e}}sOpenWaka(){const C=this.getCode();if(te(C))this.state=Xe,this.unget(),this.xmlDeclPossible=!1;else switch(C){case yt:this.state=nt,this.xmlDeclPossible=!1;break;case ct:this.state=Ie,this.openWakaBang="",this.xmlDeclPossible=!1;break;case St:this.state=Le;break;default:this.fail("disallowed character in tag name"),this.state=Re,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=Be,this.openWakaBang="";break;case"--":this.state=Ae,this.openWakaBang="";break;case"DOCTYPE":this.state=ve,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(vt)&&(this.state=Ne)}sCommentEnding(){var C;const E=this.getCodeNorm();E===vt?(this.state=De,null===(C=this.commentHandler)||void 0===C||C.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(E)}`,this.state=Ae)}sCommentEnded(){const C=this.getCodeNorm();C!==_t?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(C)}`,this.state=Ae):this.state=Re}sCData(){this.captureToChar(kt)&&(this.state=Fe)}sCDataEnding(){const C=this.getCodeNorm();C===kt?this.state=Oe:(this.text+=`]${String.fromCodePoint(C)}`,this.state=Be)}sCDataEnding2(){var C;const E=this.getCodeNorm();switch(E){case _t:null===(C=this.cdataHandler)||void 0===C||C.call(this,this.text),this.text="",this.state=Re;break;case kt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(E)}`,this.state=Be}}sPIFirstChar(){const C=this.getCodeNorm();this.nameStartCheck(C)?(this.piTarget+=String.fromCodePoint(C),this.state=$e):C===St||Q(C)?(this.fail("processing instruction without a target."),this.state=C===St?Ve:je):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C),this.state=$e)}sPIRest(){const{chunk:C,i:E}=this;for(;;){const I=this.getCodeNorm();if(I===fe)return void(this.piTarget+=C.slice(E));if(!this.nameCheck(I)){this.piTarget+=C.slice(E,this.prevI);const B=I===St;B||Q(I)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=B?Ke:He):this.state=B?Ve:je:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(I));break}}}sPIBody(){if(0===this.text.length){const C=this.getCodeNorm();C===St?this.state=Ve:Q(C)||(this.text=String.fromCodePoint(C))}else this.captureToChar(St)&&(this.state=Ve)}sPIEnding(){var C;const E=this.getCodeNorm();if(E===_t){const{piTarget:E}=this;"xml"===E.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(C=this.piHandler)||void 0===C||C.call(this,{target:E,body:this.text}),this.piTarget=this.text="",this.state=Re}else E===St?this.text+="?":(this.text+=`?${String.fromCodePoint(E)}`,this.state=je);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const C=this.skipSpaces();C!==St?C!==fe&&(this.state=Ge,this.name=String.fromCodePoint(C)):this.state=Ke}sXMLDeclName(){const C=this.captureTo(It);if(C===St)return this.state=Ke,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(Q(C)||C===wt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=C===wt?ze:Ue}}sXMLDeclEq(){const C=this.getCodeNorm();if(C===St)return this.state=Ke,void this.fail("XML declaration is incomplete.");Q(C)||(C!==wt&&this.fail("value required."),this.state=ze)}sXMLDeclValueStart(){const C=this.getCodeNorm();if(C===St)return this.state=Ke,void this.fail("XML declaration is incomplete.");Q(C)||(isQuote(C)?this.q=C:(this.fail("value must be quoted."),this.q=dt),this.state=qe)}sXMLDeclValue(){const C=this.captureTo([this.q,St]);if(C===St)return this.state=Ke,this.text="",void this.fail("XML declaration is incomplete.");if(C===fe)return;const E=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const C=E;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(E)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=E;break;case"standalone":"yes"!==E&&"no"!==E&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=E}this.name="",this.state=We}sXMLDeclSeparator(){const C=this.getCodeNorm();C!==St?(Q(C)||(this.fail("whitespace required."),this.unget()),this.state=He):this.state=Ke}sXMLDeclEnding(){var C;this.getCodeNorm()===_t?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(C=this.xmldeclHandler)||void 0===C||C.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Re):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var C;const E=this.captureNameChars();if(E===fe)return;const I=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=I.ns=Object.create(null)),null===(C=this.openTagStartHandler)||void 0===C||C.call(this,I),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),E){case _t:this.openTag();break;case yt:this.state=Je;break;default:Q(E)||this.fail("disallowed character in tag name."),this.state=Ye}}sOpenTagSlash(){this.getCode()===_t?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=Ye)}sAttrib(){const C=this.skipSpaces();C!==fe&&(te(C)?(this.unget(),this.state=Ze):C===_t?this.openTag():C===yt?this.state=Je:this.fail("disallowed character in attribute name."))}sAttribName(){const C=this.captureNameChars();C===wt?this.state=et:Q(C)?this.state=Qe:C===_t?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):C!==fe&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const C=this.skipSpaces();switch(C){case fe:return;case wt:this.state=et;break;default:this.fail("attribute without value."),this.text="",this.name="",C===_t?this.openTag():te(C)?(this.unget(),this.state=Ze):(this.fail("disallowed character in attribute name."),this.state=Ye)}}sAttribValue(){const C=this.getCodeNorm();isQuote(C)?(this.q=C,this.state=tt):Q(C)||(this.fail("unquoted attribute value."),this.state=rt,this.unget())}sAttribValueQuoted(){const{q:C,chunk:E}=this;let{i:I}=this;for(;;)switch(this.getCode()){case C:return this.pushAttrib(this.name,this.text+E.slice(I,this.prevI)),this.name=this.text="",this.q=null,void(this.state=it);case pt:return this.text+=E.slice(I,this.prevI),this.state=Ee,void(this.entityReturnState=tt);case at:case pe:case ot:this.text+=`${E.slice(I,this.prevI)} `,I=this.i;break;case Ct:return this.text+=E.slice(I,this.prevI),void this.fail("disallowed character.");case fe:return void(this.text+=E.slice(I))}}sAttribValueClosed(){const C=this.getCodeNorm();Q(C)?this.state=Ye:C===_t?this.openTag():C===yt?this.state=Je:te(C)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Ze):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const C=this.captureTo(At);switch(C){case pt:this.state=Ee,this.entityReturnState=rt;break;case Ct:this.fail("disallowed character.");break;case fe:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",C===_t?this.openTag():this.state=Ye}}sCloseTag(){const C=this.captureNameChars();C===_t?this.closeTag():Q(C)?this.state=st:C!==fe&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case _t:this.closeTag();break;case fe:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:C,forbiddenState:E}=this;const{chunk:I,textHandler:B}=this;e:for(;;)switch(this.getCode()){case Ct:if(this.state=Pe,void 0!==B){const{text:E}=this,z=I.slice(C,this.prevI);0!==E.length?(B(E+z),this.text=""):0!==z.length&&B(z)}E=Nt;break e;case pt:this.state=Ee,this.entityReturnState=Re,void 0!==B&&(this.text+=I.slice(C,this.prevI)),E=Nt;break e;case kt:switch(E){case Nt:E=Dt;break;case Dt:E=Bt;break;case Bt:break;default:throw new Error("impossible state")}break;case _t:E===Bt&&this.fail('the string "]]>" is disallowed in char data.'),E=Nt;break;case pe:void 0!==B&&(this.text+=`${I.slice(C,this.prevI)}\n`),C=this.i,E=Nt;break;case fe:void 0!==B&&(this.text+=I.slice(C));break e;default:E=Nt}this.forbiddenState=E}handleTextOutsideRoot(){let{i:C}=this;const{chunk:E,textHandler:I}=this;let B=!1;e:for(;;){const z=this.getCode();switch(z){case Ct:if(this.state=Pe,void 0!==I){const{text:B}=this,z=E.slice(C,this.prevI);0!==B.length?(I(B+z),this.text=""):0!==z.length&&I(z)}break e;case pt:this.state=Ee,this.entityReturnState=Re,void 0!==I&&(this.text+=E.slice(C,this.prevI)),B=!0;break e;case pe:void 0!==I&&(this.text+=`${E.slice(C,this.prevI)}\n`),C=this.i;break;case fe:void 0!==I&&(this.text+=E.slice(C));break e;default:Q(z)||(B=!0)}}B&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(C,E){var I;const{prefix:B,local:z}=this.qname(C),q={name:C,prefix:B,local:z,value:E};if(this.attribList.push(q),null===(I=this.attributeHandler)||void 0===I||I.call(this,q),"xmlns"===B){const C=E.trim();"1.0"===this.currentXMLVersion&&""===C&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[z]=C,nsPairCheck(this,z,C)}else if("xmlns"===C){const C=E.trim();this.topNS[""]=C,nsPairCheck(this,"",C)}}pushAttribPlain(C,E){var I;const B={name:C,value:E};this.attribList.push(B),null===(I=this.attributeHandler)||void 0===I||I.call(this,B)}end(){var C,E;this.sawRoot||this.fail("document must contain a root element.");const{tags:I}=this;for(;I.length>0;){const C=I.pop();this.fail(`unclosed tag: ${C.name}`)}this.state!==me&&this.state!==Re&&this.fail("unexpected end.");const{text:B}=this;return 0!==B.length&&(null===(C=this.textHandler)||void 0===C||C.call(this,B),this.text=""),this._closed=!0,null===(E=this.endHandler)||void 0===E||E.call(this),this._init(),this}resolve(C){var E,I;let B=this.topNS[C];if(void 0!==B)return B;const{tags:z}=this;for(let E=z.length-1;E>=0;E--)if(B=z[E].ns[C],void 0!==B)return B;return B=this.ns[C],void 0!==B?B:null===(I=(E=this.opt).resolvePrefix)||void 0===I?void 0:I.call(E,C)}qname(C){const E=C.indexOf(":");if(-1===E)return{prefix:"",local:C};const I=C.slice(E+1),B=C.slice(0,E);return(""===B||""===I||I.includes(":"))&&this.fail(`malformed name: ${C}.`),{prefix:B,local:I}}processAttribsNS(){var C;const{attribList:E}=this,I=this.tag;{const{prefix:E,local:B}=this.qname(I.name);I.prefix=E,I.local=B;const z=I.uri=null!==(C=this.resolve(E))&&void 0!==C?C:"";""!==E&&("xmlns"===E&&this.fail('tags may not have "xmlns" as prefix.'),""===z&&(this.fail(`unbound namespace prefix: ${JSON.stringify(E)}.`),I.uri=E))}if(0===E.length)return;const{attributes:B}=I,z=new Set;for(const C of E){const{name:E,prefix:I,local:q}=C;let Q,ee;""===I?(Q="xmlns"===E?de:"",ee=E):(Q=this.resolve(I),void 0===Q&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),Q=I),ee=`{${Q}}${q}`),z.has(ee)&&this.fail(`duplicate attribute: ${ee}.`),z.add(ee),C.uri=Q,B[E]=C}this.attribList=[]}processAttribsPlain(){const{attribList:C}=this,E=this.tag.attributes;for(const{name:I,value:B}of C)void 0!==E[I]&&this.fail(`duplicate attribute: ${I}.`),E[I]=B;this.attribList=[]}openTag(){var C;this.processAttribs();const{tags:E}=this,I=this.tag;I.isSelfClosing=!1,null===(C=this.openTagHandler)||void 0===C||C.call(this,I),E.push(I),this.state=Re,this.name=""}openSelfClosingTag(){var C,E,I;this.processAttribs();const{tags:B}=this,z=this.tag;z.isSelfClosing=!0,null===(C=this.openTagHandler)||void 0===C||C.call(this,z),null===(E=this.closeTagHandler)||void 0===E||E.call(this,z),null===(this.tag=null!==(I=B[B.length-1])&&void 0!==I?I:null)&&(this.closedRoot=!0),this.state=Re,this.name=""}closeTag(){const{tags:C,name:E}=this;if(this.state=Re,this.name="",""===E)return this.fail("weird empty close tag."),void(this.text+="</>");const I=this.closeTagHandler;let B=C.length;for(;B-- >0;){const B=this.tag=C.pop();if(this.topNS=B.ns,null==I||I(B),B.name===E)break;this.fail("unexpected close tag.")}0===B?this.closedRoot=!0:B<0&&(this.fail(`unmatched closing tag: ${E}.`),this.text+=`</${E}>`)}parseEntity(C){if("#"!==C[0]){const E=this.ENTITIES[C];return void 0!==E?E:(this.fail(this.isName(C)?"undefined entity.":"disallowed character in entity name."),`&${C};`)}let E=NaN;return"x"===C[1]&&/^#x[0-9a-f]+$/i.test(C)?E=parseInt(C.slice(2),16):/^#[0-9]+$/.test(C)&&(E=parseInt(C.slice(1),10)),this.isChar(E)?String.fromCodePoint(E):(this.fail("malformed character entity."),`&${C};`)}}I.SaxesParser=SaxesParser},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(C,E,I){"use strict";var B=C("safe-buffer").Buffer;function Hash(C,E){this._block=B.alloc(C),this._finalSize=E,this._blockSize=C,this._len=0}Hash.prototype.update=function(C,E){"string"==typeof C&&(E=E||"utf8",C=B.from(C,E));for(var I=this._block,z=this._blockSize,q=C.length,Q=this._len,ee=0;ee<q;){for(var te=Q%z,ie=Math.min(q-ee,z-te),re=0;re<ie;re++)I[te+re]=C[ee+re];ee+=ie,(Q+=ie)%z==0&&this._update(I)}return this._len+=q,this},Hash.prototype.digest=function(C){var E=this._len%this._blockSize;this._block[E]=128,this._block.fill(0,E+1),E>=this._finalSize&&(this._update(this._block),this._block.fill(0));var I=8*this._len;if(I<=4294967295)this._block.writeUInt32BE(I,this._blockSize-4);else{var B=(4294967295&I)>>>0,z=(I-B)/4294967296;this._block.writeUInt32BE(z,this._blockSize-8),this._block.writeUInt32BE(B,this._blockSize-4)}this._update(this._block);var q=this._hash();return C?q.toString(C):q},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},E.exports=Hash},{"safe-buffer":494}],498:[function(C,E,I){"use strict";var B=E.exports=function SHA(C){C=C.toLowerCase();var E=B[C];if(!E)throw new Error(C+" is not supported (we accept pull requests)");return new E};B.sha=C("./sha"),B.sha1=C("./sha1"),B.sha224=C("./sha224"),B.sha256=C("./sha256"),B.sha384=C("./sha384"),B.sha512=C("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(C,E,I){"use strict";var B=C("inherits"),z=C("./hash"),q=C("safe-buffer").Buffer,Q=[1518500249,1859775393,-1894007588,-899497514],ee=new Array(80);function Sha(){this.init(),this._w=ee,z.call(this,64,56)}function rotl5(C){return C<<5|C>>>27}function rotl30(C){return C<<30|C>>>2}function ft(C,E,I,B){return 0===C?E&I|~E&B:2===C?E&I|E&B|I&B:E^I^B}B(Sha,z),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(C){for(var E=this._w,I=0|this._a,B=0|this._b,z=0|this._c,q=0|this._d,ee=0|this._e,te=0;te<16;++te)E[te]=C.readInt32BE(4*te);for(;te<80;++te)E[te]=E[te-3]^E[te-8]^E[te-14]^E[te-16];for(var ie=0;ie<80;++ie){var re=~~(ie/20),ne=rotl5(I)+ft(re,B,z,q)+ee+E[ie]+Q[re]|0;ee=q,q=z,z=rotl30(B),B=I,I=ne}this._a=I+this._a|0,this._b=B+this._b|0,this._c=z+this._c|0,this._d=q+this._d|0,this._e=ee+this._e|0},Sha.prototype._hash=function(){var C=q.allocUnsafe(20);return C.writeInt32BE(0|this._a,0),C.writeInt32BE(0|this._b,4),C.writeInt32BE(0|this._c,8),C.writeInt32BE(0|this._d,12),C.writeInt32BE(0|this._e,16),C},E.exports=Sha},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(C,E,I){"use strict";var B=C("inherits"),z=C("./hash"),q=C("safe-buffer").Buffer,Q=[1518500249,1859775393,-1894007588,-899497514],ee=new Array(80);function Sha1(){this.init(),this._w=ee,z.call(this,64,56)}function rotl1(C){return C<<1|C>>>31}function rotl5(C){return C<<5|C>>>27}function rotl30(C){return C<<30|C>>>2}function ft(C,E,I,B){return 0===C?E&I|~E&B:2===C?E&I|E&B|I&B:E^I^B}B(Sha1,z),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(C){for(var E=this._w,I=0|this._a,B=0|this._b,z=0|this._c,q=0|this._d,ee=0|this._e,te=0;te<16;++te)E[te]=C.readInt32BE(4*te);for(;te<80;++te)E[te]=rotl1(E[te-3]^E[te-8]^E[te-14]^E[te-16]);for(var ie=0;ie<80;++ie){var re=~~(ie/20),ne=rotl5(I)+ft(re,B,z,q)+ee+E[ie]+Q[re]|0;ee=q,q=z,z=rotl30(B),B=I,I=ne}this._a=I+this._a|0,this._b=B+this._b|0,this._c=z+this._c|0,this._d=q+this._d|0,this._e=ee+this._e|0},Sha1.prototype._hash=function(){var C=q.allocUnsafe(20);return C.writeInt32BE(0|this._a,0),C.writeInt32BE(0|this._b,4),C.writeInt32BE(0|this._c,8),C.writeInt32BE(0|this._d,12),C.writeInt32BE(0|this._e,16),C},E.exports=Sha1},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(C,E,I){"use strict";var B=C("inherits"),z=C("./sha256"),q=C("./hash"),Q=C("safe-buffer").Buffer,ee=new Array(64);function Sha224(){this.init(),this._w=ee,q.call(this,64,56)}B(Sha224,z),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var C=Q.allocUnsafe(28);return C.writeInt32BE(this._a,0),C.writeInt32BE(this._b,4),C.writeInt32BE(this._c,8),C.writeInt32BE(this._d,12),C.writeInt32BE(this._e,16),C.writeInt32BE(this._f,20),C.writeInt32BE(this._g,24),C},E.exports=Sha224},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(C,E,I){"use strict";var B=C("inherits"),z=C("./hash"),q=C("safe-buffer").Buffer,Q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ee=new Array(64);function Sha256(){this.init(),this._w=ee,z.call(this,64,56)}function ch(C,E,I){return I^C&(E^I)}function maj(C,E,I){return C&E|I&(C|E)}function sigma0(C){return(C>>>2|C<<30)^(C>>>13|C<<19)^(C>>>22|C<<10)}function sigma1(C){return(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7)}function gamma0(C){return(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3}function gamma1(C){return(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10}B(Sha256,z),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(C){for(var E=this._w,I=0|this._a,B=0|this._b,z=0|this._c,q=0|this._d,ee=0|this._e,te=0|this._f,ie=0|this._g,re=0|this._h,ne=0;ne<16;++ne)E[ne]=C.readInt32BE(4*ne);for(;ne<64;++ne)E[ne]=gamma1(E[ne-2])+E[ne-7]+gamma0(E[ne-15])+E[ne-16]|0;for(var se=0;se<64;++se){var oe=re+sigma1(ee)+ch(ee,te,ie)+Q[se]+E[se]|0,ae=sigma0(I)+maj(I,B,z)|0;re=ie,ie=te,te=ee,ee=q+oe|0,q=z,z=B,B=I,I=oe+ae|0}this._a=I+this._a|0,this._b=B+this._b|0,this._c=z+this._c|0,this._d=q+this._d|0,this._e=ee+this._e|0,this._f=te+this._f|0,this._g=ie+this._g|0,this._h=re+this._h|0},Sha256.prototype._hash=function(){var C=q.allocUnsafe(32);return C.writeInt32BE(this._a,0),C.writeInt32BE(this._b,4),C.writeInt32BE(this._c,8),C.writeInt32BE(this._d,12),C.writeInt32BE(this._e,16),C.writeInt32BE(this._f,20),C.writeInt32BE(this._g,24),C.writeInt32BE(this._h,28),C},E.exports=Sha256},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(C,E,I){"use strict";var B=C("inherits"),z=C("./sha512"),q=C("./hash"),Q=C("safe-buffer").Buffer,ee=new Array(160);function Sha384(){this.init(),this._w=ee,q.call(this,128,112)}B(Sha384,z),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var C=Q.allocUnsafe(48);function writeInt64BE(E,I,B){C.writeInt32BE(E,B),C.writeInt32BE(I,B+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),C},E.exports=Sha384},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(C,E,I){"use strict";var B=C("inherits"),z=C("./hash"),q=C("safe-buffer").Buffer,Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ee=new Array(160);function Sha512(){this.init(),this._w=ee,z.call(this,128,112)}function Ch(C,E,I){return I^C&(E^I)}function maj(C,E,I){return C&E|I&(C|E)}function sigma0(C,E){return(C>>>28|E<<4)^(E>>>2|C<<30)^(E>>>7|C<<25)}function sigma1(C,E){return(C>>>14|E<<18)^(C>>>18|E<<14)^(E>>>9|C<<23)}function Gamma0(C,E){return(C>>>1|E<<31)^(C>>>8|E<<24)^C>>>7}function Gamma0l(C,E){return(C>>>1|E<<31)^(C>>>8|E<<24)^(C>>>7|E<<25)}function Gamma1(C,E){return(C>>>19|E<<13)^(E>>>29|C<<3)^C>>>6}function Gamma1l(C,E){return(C>>>19|E<<13)^(E>>>29|C<<3)^(C>>>6|E<<26)}function getCarry(C,E){return C>>>0<E>>>0?1:0}B(Sha512,z),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(C){for(var E=this._w,I=0|this._ah,B=0|this._bh,z=0|this._ch,q=0|this._dh,ee=0|this._eh,te=0|this._fh,ie=0|this._gh,re=0|this._hh,ne=0|this._al,se=0|this._bl,oe=0|this._cl,ae=0|this._dl,le=0|this._el,ue=0|this._fl,de=0|this._gl,ce=0|this._hl,he=0;he<32;he+=2)E[he]=C.readInt32BE(4*he),E[he+1]=C.readInt32BE(4*he+4);for(;he<160;he+=2){var fe=E[he-30],pe=E[he-30+1],me=Gamma0(fe,pe),ge=Gamma0l(pe,fe),ve=Gamma1(fe=E[he-4],pe=E[he-4+1]),ye=Gamma1l(pe,fe),be=E[he-14],Ce=E[he-14+1],we=E[he-32],_e=E[he-32+1],Se=ge+Ce|0,xe=me+be+getCarry(Se,ge)|0;xe=(xe=xe+ve+getCarry(Se=Se+ye|0,ye)|0)+we+getCarry(Se=Se+_e|0,_e)|0,E[he]=xe,E[he+1]=Se}for(var ke=0;ke<160;ke+=2){xe=E[ke],Se=E[ke+1];var Te=maj(I,B,z),Me=maj(ne,se,oe),Re=sigma0(I,ne),Ee=sigma0(ne,I),Pe=sigma1(ee,le),Ie=sigma1(le,ee),Ae=Q[ke],Ne=Q[ke+1],De=Ch(ee,te,ie),Be=Ch(le,ue,de),Fe=ce+Ie|0,Oe=re+Pe+getCarry(Fe,ce)|0;Oe=(Oe=(Oe=Oe+De+getCarry(Fe=Fe+Be|0,Be)|0)+Ae+getCarry(Fe=Fe+Ne|0,Ne)|0)+xe+getCarry(Fe=Fe+Se|0,Se)|0;var Le=Ee+Me|0,$e=Re+Te+getCarry(Le,Ee)|0;re=ie,ce=de,ie=te,de=ue,te=ee,ue=le,ee=q+Oe+getCarry(le=ae+Fe|0,ae)|0,q=z,ae=oe,z=B,oe=se,B=I,se=ne,I=Oe+$e+getCarry(ne=Fe+Le|0,Fe)|0}this._al=this._al+ne|0,this._bl=this._bl+se|0,this._cl=this._cl+oe|0,this._dl=this._dl+ae|0,this._el=this._el+le|0,this._fl=this._fl+ue|0,this._gl=this._gl+de|0,this._hl=this._hl+ce|0,this._ah=this._ah+I+getCarry(this._al,ne)|0,this._bh=this._bh+B+getCarry(this._bl,se)|0,this._ch=this._ch+z+getCarry(this._cl,oe)|0,this._dh=this._dh+q+getCarry(this._dl,ae)|0,this._eh=this._eh+ee+getCarry(this._el,le)|0,this._fh=this._fh+te+getCarry(this._fl,ue)|0,this._gh=this._gh+ie+getCarry(this._gl,de)|0,this._hh=this._hh+re+getCarry(this._hl,ce)|0},Sha512.prototype._hash=function(){var C=q.allocUnsafe(64);function writeInt64BE(E,I,B){C.writeInt32BE(E,B),C.writeInt32BE(I,B+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),C},E.exports=Sha512},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(C,E,I){"use strict";E.exports=Stream;var B=C("events").EventEmitter;function Stream(){B.call(this)}C("inherits")(Stream,B),Stream.Readable=C("readable-stream/readable.js"),Stream.Writable=C("readable-stream/writable.js"),Stream.Duplex=C("readable-stream/duplex.js"),Stream.Transform=C("readable-stream/transform.js"),Stream.PassThrough=C("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(C,E){var I=this;function ondata(E){C.writable&&!1===C.write(E)&&I.pause&&I.pause()}function ondrain(){I.readable&&I.resume&&I.resume()}I.on("data",ondata),C.on("drain",ondrain),C._isStdio||E&&!1===E.end||(I.on("end",onend),I.on("close",onclose));var z=!1;function onend(){z||(z=!0,C.end())}function onclose(){z||(z=!0,"function"==typeof C.destroy&&C.destroy())}function onerror(C){if(cleanup(),0===B.listenerCount(this,"error"))throw C}function cleanup(){I.removeListener("data",ondata),C.removeListener("drain",ondrain),I.removeListener("end",onend),I.removeListener("close",onclose),I.removeListener("error",onerror),C.removeListener("error",onerror),I.removeListener("end",cleanup),I.removeListener("close",cleanup),C.removeListener("close",cleanup)}return I.on("error",onerror),C.on("error",onerror),I.on("end",cleanup),I.on("close",cleanup),C.on("close",cleanup),C.emit("pipe",I),C}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(C,E,I){"use strict";var B={}.toString;E.exports=Array.isArray||function(C){return"[object Array]"==B.call(C)}},{}],507:[function(C,E,I){"use strict";E.exports=C("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(C,E,I){"use strict";var B=C("process-nextick-args"),z=Object.keys||function(C){var E=[];for(var I in C)E.push(I);return E};E.exports=Duplex;var q=Object.create(C("core-util-is"));q.inherits=C("inherits");var Q=C("./_stream_readable"),ee=C("./_stream_writable");q.inherits(Duplex,Q);for(var te=z(ee.prototype),ie=0;ie<te.length;ie++){var re=te[ie];Duplex.prototype[re]||(Duplex.prototype[re]=ee.prototype[re])}function Duplex(C){if(!(this instanceof Duplex))return new Duplex(C);Q.call(this,C),ee.call(this,C),C&&!1===C.readable&&(this.readable=!1),C&&!1===C.writable&&(this.writable=!1),this.allowHalfOpen=!0,C&&!1===C.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||B.nextTick(onEndNT,this)}function onEndNT(C){C.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(C){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=C,this._writableState.destroyed=C)}}),Duplex.prototype._destroy=function(C,E){this.push(null),this.end(),B.nextTick(E,C)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(C,E,I){"use strict";E.exports=PassThrough;var B=C("./_stream_transform"),z=Object.create(C("core-util-is"));function PassThrough(C){if(!(this instanceof PassThrough))return new PassThrough(C);B.call(this,C)}z.inherits=C("inherits"),z.inherits(PassThrough,B),PassThrough.prototype._transform=function(C,E,I){I(null,C)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(C,E,B){(function(I,B){(function(){"use strict";var z=C("process-nextick-args");E.exports=Readable;var q,Q=C("isarray");Readable.ReadableState=ReadableState,C("events").EventEmitter;var EElistenerCount=function(C,E){return C.listeners(E).length},ee=C("./internal/streams/stream"),te=C("safe-buffer").Buffer,ie=(void 0!==B?B:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return te.from(C)}function _isUint8Array(C){return te.isBuffer(C)||C instanceof ie}var re=Object.create(C("core-util-is"));re.inherits=C("inherits");var ne=C("util"),se=void 0;se=ne&&ne.debuglog?ne.debuglog("stream"):function(){};var oe,ae=C("./internal/streams/BufferList"),le=C("./internal/streams/destroy");re.inherits(Readable,ee);var ue=["error","close","destroy","pause","resume"];function prependListener(C,E,I){if("function"==typeof C.prependListener)return C.prependListener(E,I);C._events&&C._events[E]?Q(C._events[E])?C._events[E].unshift(I):C._events[E]=[I,C._events[E]]:C.on(E,I)}function ReadableState(E,I){E=E||{};var B=I instanceof(q=q||C("./_stream_duplex"));this.objectMode=!!E.objectMode,B&&(this.objectMode=this.objectMode||!!E.readableObjectMode);var z=E.highWaterMark,Q=E.readableHighWaterMark,ee=this.objectMode?16:16384;this.highWaterMark=z||0===z?z:B&&(Q||0===Q)?Q:ee,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ae,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(oe||(oe=C("string_decoder/").StringDecoder),this.decoder=new oe(E.encoding),this.encoding=E.encoding)}function Readable(E){if(q=q||C("./_stream_duplex"),!(this instanceof Readable))return new Readable(E);this._readableState=new ReadableState(E,this),this.readable=!0,E&&("function"==typeof E.read&&(this._read=E.read),"function"==typeof E.destroy&&(this._destroy=E.destroy)),ee.call(this)}function readableAddChunk(C,E,I,B,z){var q,Q=C._readableState;return null===E?(Q.reading=!1,onEofChunk(C,Q)):(z||(q=chunkInvalid(Q,E)),q?C.emit("error",q):Q.objectMode||E&&E.length>0?("string"==typeof E||Q.objectMode||Object.getPrototypeOf(E)===te.prototype||(E=_uint8ArrayToBuffer(E)),B?Q.endEmitted?C.emit("error",new Error("stream.unshift() after end event")):addChunk(C,Q,E,!0):Q.ended?C.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!I?(E=Q.decoder.write(E),Q.objectMode||0!==E.length?addChunk(C,Q,E,!1):maybeReadMore(C,Q)):addChunk(C,Q,E,!1))):B||(Q.reading=!1)),needMoreData(Q)}function addChunk(C,E,I,B){E.flowing&&0===E.length&&!E.sync?(C.emit("data",I),C.read(0)):(E.length+=E.objectMode?1:I.length,B?E.buffer.unshift(I):E.buffer.push(I),E.needReadable&&emitReadable(C)),maybeReadMore(C,E)}function chunkInvalid(C,E){var I;return _isUint8Array(E)||"string"==typeof E||void 0===E||C.objectMode||(I=new TypeError("Invalid non-string/buffer chunk")),I}function needMoreData(C){return!C.ended&&(C.needReadable||C.length<C.highWaterMark||0===C.length)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),Readable.prototype.destroy=le.destroy,Readable.prototype._undestroy=le.undestroy,Readable.prototype._destroy=function(C,E){this.push(null),E(C)},Readable.prototype.push=function(C,E){var I,B=this._readableState;return B.objectMode?I=!0:"string"==typeof C&&((E=E||B.defaultEncoding)!==B.encoding&&(C=te.from(C,E),E=""),I=!0),readableAddChunk(this,C,E,!1,I)},Readable.prototype.unshift=function(C){return readableAddChunk(this,C,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(E){return oe||(oe=C("string_decoder/").StringDecoder),this._readableState.decoder=new oe(E),this._readableState.encoding=E,this};var de=8388608;function computeNewHighWaterMark(C){return C>=de?C=de:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function howMuchToRead(C,E){return C<=0||0===E.length&&E.ended?0:E.objectMode?1:C!=C?E.flowing&&E.length?E.buffer.head.data.length:E.length:(C>E.highWaterMark&&(E.highWaterMark=computeNewHighWaterMark(C)),C<=E.length?C:E.ended?E.length:(E.needReadable=!0,0))}function onEofChunk(C,E){if(!E.ended){if(E.decoder){var I=E.decoder.end();I&&I.length&&(E.buffer.push(I),E.length+=E.objectMode?1:I.length)}E.ended=!0,emitReadable(C)}}function emitReadable(C){var E=C._readableState;E.needReadable=!1,E.emittedReadable||(se("emitReadable",E.flowing),E.emittedReadable=!0,E.sync?z.nextTick(emitReadable_,C):emitReadable_(C))}function emitReadable_(C){se("emit readable"),C.emit("readable"),flow(C)}function maybeReadMore(C,E){E.readingMore||(E.readingMore=!0,z.nextTick(maybeReadMore_,C,E))}function maybeReadMore_(C,E){for(var I=E.length;!E.reading&&!E.flowing&&!E.ended&&E.length<E.highWaterMark&&(se("maybeReadMore read 0"),C.read(0),I!==E.length);)I=E.length;E.readingMore=!1}function pipeOnDrain(C){return function(){var E=C._readableState;se("pipeOnDrain",E.awaitDrain),E.awaitDrain&&E.awaitDrain--,0===E.awaitDrain&&EElistenerCount(C,"data")&&(E.flowing=!0,flow(C))}}function nReadingNextTick(C){se("readable nexttick read 0"),C.read(0)}function resume(C,E){E.resumeScheduled||(E.resumeScheduled=!0,z.nextTick(resume_,C,E))}function resume_(C,E){E.reading||(se("resume read 0"),C.read(0)),E.resumeScheduled=!1,E.awaitDrain=0,C.emit("resume"),flow(C),E.flowing&&!E.reading&&C.read(0)}function flow(C){var E=C._readableState;for(se("flow",E.flowing);E.flowing&&null!==C.read(););}function fromList(C,E){return 0===E.length?null:(E.objectMode?I=E.buffer.shift():!C||C>=E.length?(I=E.decoder?E.buffer.join(""):1===E.buffer.length?E.buffer.head.data:E.buffer.concat(E.length),E.buffer.clear()):I=fromListPartial(C,E.buffer,E.decoder),I);var I}function fromListPartial(C,E,I){var B;return C<E.head.data.length?(B=E.head.data.slice(0,C),E.head.data=E.head.data.slice(C)):B=C===E.head.data.length?E.shift():I?copyFromBufferString(C,E):copyFromBuffer(C,E),B}function copyFromBufferString(C,E){var I=E.head,B=1,z=I.data;for(C-=z.length;I=I.next;){var q=I.data,Q=C>q.length?q.length:C;if(Q===q.length?z+=q:z+=q.slice(0,C),0==(C-=Q)){Q===q.length?(++B,I.next?E.head=I.next:E.head=E.tail=null):(E.head=I,I.data=q.slice(Q));break}++B}return E.length-=B,z}function copyFromBuffer(C,E){var I=te.allocUnsafe(C),B=E.head,z=1;for(B.data.copy(I),C-=B.data.length;B=B.next;){var q=B.data,Q=C>q.length?q.length:C;if(q.copy(I,I.length-C,0,Q),0==(C-=Q)){Q===q.length?(++z,B.next?E.head=B.next:E.head=E.tail=null):(E.head=B,B.data=q.slice(Q));break}++z}return E.length-=z,I}function endReadable(C){var E=C._readableState;if(E.length>0)throw new Error('"endReadable()" called on non-empty stream');E.endEmitted||(E.ended=!0,z.nextTick(endReadableNT,E,C))}function endReadableNT(C,E){C.endEmitted||0!==C.length||(C.endEmitted=!0,E.readable=!1,E.emit("end"))}function indexOf(C,E){for(var I=0,B=C.length;I<B;I++)if(C[I]===E)return I;return-1}Readable.prototype.read=function(C){se("read",C),C=parseInt(C,10);var E=this._readableState,I=C;if(0!==C&&(E.emittedReadable=!1),0===C&&E.needReadable&&(E.length>=E.highWaterMark||E.ended))return se("read: emitReadable",E.length,E.ended),0===E.length&&E.ended?endReadable(this):emitReadable(this),null;if(0===(C=howMuchToRead(C,E))&&E.ended)return 0===E.length&&endReadable(this),null;var B,z=E.needReadable;return se("need readable",z),(0===E.length||E.length-C<E.highWaterMark)&&se("length less than watermark",z=!0),E.ended||E.reading?se("reading or ended",z=!1):z&&(se("do read"),E.reading=!0,E.sync=!0,0===E.length&&(E.needReadable=!0),this._read(E.highWaterMark),E.sync=!1,E.reading||(C=howMuchToRead(I,E))),null===(B=C>0?fromList(C,E):null)?(E.needReadable=!0,C=0):E.length-=C,0===E.length&&(E.ended||(E.needReadable=!0),I!==C&&E.ended&&endReadable(this)),null!==B&&this.emit("data",B),B},Readable.prototype._read=function(C){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(C,E){var B=this,q=this._readableState;switch(q.pipesCount){case 0:q.pipes=C;break;case 1:q.pipes=[q.pipes,C];break;default:q.pipes.push(C)}q.pipesCount+=1,se("pipe count=%d opts=%j",q.pipesCount,E);var Q=E&&!1===E.end||C===I.stdout||C===I.stderr?unpipe:onend;function onunpipe(C,E){se("onunpipe"),C===B&&E&&!1===E.hasUnpiped&&(E.hasUnpiped=!0,cleanup())}function onend(){se("onend"),C.end()}q.endEmitted?z.nextTick(Q):B.once("end",Q),C.on("unpipe",onunpipe);var ee=pipeOnDrain(B);C.on("drain",ee);var te=!1;function cleanup(){se("cleanup"),C.removeListener("close",onclose),C.removeListener("finish",onfinish),C.removeListener("drain",ee),C.removeListener("error",onerror),C.removeListener("unpipe",onunpipe),B.removeListener("end",onend),B.removeListener("end",unpipe),B.removeListener("data",ondata),te=!0,!q.awaitDrain||C._writableState&&!C._writableState.needDrain||ee()}var ie=!1;function ondata(E){se("ondata"),ie=!1,!1!==C.write(E)||ie||((1===q.pipesCount&&q.pipes===C||q.pipesCount>1&&-1!==indexOf(q.pipes,C))&&!te&&(se("false write response, pause",q.awaitDrain),q.awaitDrain++,ie=!0),B.pause())}function onerror(E){se("onerror",E),unpipe(),C.removeListener("error",onerror),0===EElistenerCount(C,"error")&&C.emit("error",E)}function onclose(){C.removeListener("finish",onfinish),unpipe()}function onfinish(){se("onfinish"),C.removeListener("close",onclose),unpipe()}function unpipe(){se("unpipe"),B.unpipe(C)}return B.on("data",ondata),prependListener(C,"error",onerror),C.once("close",onclose),C.once("finish",onfinish),C.emit("pipe",B),q.flowing||(se("pipe resume"),B.resume()),C},Readable.prototype.unpipe=function(C){var E=this._readableState,I={hasUnpiped:!1};if(0===E.pipesCount)return this;if(1===E.pipesCount)return C&&C!==E.pipes||(C||(C=E.pipes),E.pipes=null,E.pipesCount=0,E.flowing=!1,C&&C.emit("unpipe",this,I)),this;if(!C){var B=E.pipes,z=E.pipesCount;E.pipes=null,E.pipesCount=0,E.flowing=!1;for(var q=0;q<z;q++)B[q].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=indexOf(E.pipes,C);return-1===Q||(E.pipes.splice(Q,1),E.pipesCount-=1,1===E.pipesCount&&(E.pipes=E.pipes[0]),C.emit("unpipe",this,I)),this},Readable.prototype.on=function(C,E){var I=ee.prototype.on.call(this,C,E);if("data"===C)!1!==this._readableState.flowing&&this.resume();else if("readable"===C){var B=this._readableState;B.endEmitted||B.readableListening||(B.readableListening=B.needReadable=!0,B.emittedReadable=!1,B.reading?B.length&&emitReadable(this):z.nextTick(nReadingNextTick,this))}return I},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var C=this._readableState;return C.flowing||(se("resume"),C.flowing=!0,resume(this,C)),this},Readable.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(C){var E=this,I=this._readableState,B=!1;for(var z in C.on("end",(function(){if(se("wrapped end"),I.decoder&&!I.ended){var C=I.decoder.end();C&&C.length&&E.push(C)}E.push(null)})),C.on("data",(function(z){se("wrapped data"),I.decoder&&(z=I.decoder.write(z)),I.objectMode&&null==z||(I.objectMode||z&&z.length)&&(E.push(z)||(B=!0,C.pause()))})),C)void 0===this[z]&&"function"==typeof C[z]&&(this[z]=function(E){return function(){return C[E].apply(C,arguments)}}(z));for(var q=0;q<ue.length;q++)C.on(ue[q],this.emit.bind(this,ue[q]));return this._read=function(E){se("wrapped _read",E),B&&(B=!1,C.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(C,E,I){"use strict";E.exports=Transform;var B=C("./_stream_duplex"),z=Object.create(C("core-util-is"));function afterTransform(C,E){var I=this._transformState;I.transforming=!1;var B=I.writecb;if(!B)return this.emit("error",new Error("write callback called multiple times"));I.writechunk=null,I.writecb=null,null!=E&&this.push(E),B(C);var z=this._readableState;z.reading=!1,(z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}function Transform(C){if(!(this instanceof Transform))return new Transform(C);B.call(this,C),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,C&&("function"==typeof C.transform&&(this._transform=C.transform),"function"==typeof C.flush&&(this._flush=C.flush)),this.on("prefinish",prefinish)}function prefinish(){var C=this;"function"==typeof this._flush?this._flush((function(E,I){done(C,E,I)})):done(this,null,null)}function done(C,E,I){if(E)return C.emit("error",E);if(null!=I&&C.push(I),C._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(C._transformState.transforming)throw new Error("Calling transform done when still transforming");return C.push(null)}z.inherits=C("inherits"),z.inherits(Transform,B),Transform.prototype.push=function(C,E){return this._transformState.needTransform=!1,B.prototype.push.call(this,C,E)},Transform.prototype._transform=function(C,E,I){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(C,E,I){var B=this._transformState;if(B.writecb=I,B.writechunk=C,B.writeencoding=E,!B.transforming){var z=this._readableState;(B.needTransform||z.needReadable||z.length<z.highWaterMark)&&this._read(z.highWaterMark)}},Transform.prototype._read=function(C){var E=this._transformState;null!==E.writechunk&&E.writecb&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},Transform.prototype._destroy=function(C,E){var I=this;B.prototype._destroy.call(this,C,(function(C){E(C),I.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(C,E,B){(function(I,B,z){(function(){"use strict";var q=C("process-nextick-args");function CorkedRequest(C){var E=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(E,C)}}E.exports=Writable;var Q,ee=!I.browser&&["v0.10","v0.9."].indexOf(I.version.slice(0,5))>-1?z:q.nextTick;Writable.WritableState=WritableState;var te=Object.create(C("core-util-is"));te.inherits=C("inherits");var ie={deprecate:C("util-deprecate")},re=C("./internal/streams/stream"),ne=C("safe-buffer").Buffer,se=(void 0!==B?B:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(C){return ne.from(C)}function _isUint8Array(C){return ne.isBuffer(C)||C instanceof se}var oe,ae=C("./internal/streams/destroy");function nop(){}function WritableState(E,I){Q=Q||C("./_stream_duplex"),E=E||{};var B=I instanceof Q;this.objectMode=!!E.objectMode,B&&(this.objectMode=this.objectMode||!!E.writableObjectMode);var z=E.highWaterMark,q=E.writableHighWaterMark,ee=this.objectMode?16:16384;this.highWaterMark=z||0===z?z:B&&(q||0===q)?q:ee,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var te=!1===E.decodeStrings;this.decodeStrings=!te,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){onwrite(I,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(E){if(Q=Q||C("./_stream_duplex"),!(oe.call(Writable,this)||this instanceof Q))return new Writable(E);this._writableState=new WritableState(E,this),this.writable=!0,E&&("function"==typeof E.write&&(this._write=E.write),"function"==typeof E.writev&&(this._writev=E.writev),"function"==typeof E.destroy&&(this._destroy=E.destroy),"function"==typeof E.final&&(this._final=E.final)),re.call(this)}function writeAfterEnd(C,E){var I=new Error("write after end");C.emit("error",I),q.nextTick(E,I)}function validChunk(C,E,I,B){var z=!0,Q=!1;return null===I?Q=new TypeError("May not write null values to stream"):"string"==typeof I||void 0===I||E.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(C.emit("error",Q),q.nextTick(B,Q),z=!1),z}function decodeChunk(C,E,I){return C.objectMode||!1===C.decodeStrings||"string"!=typeof E||(E=ne.from(E,I)),E}function writeOrBuffer(C,E,I,B,z,q){if(!I){var Q=decodeChunk(E,B,z);B!==Q&&(I=!0,z="buffer",B=Q)}var ee=E.objectMode?1:B.length;E.length+=ee;var te=E.length<E.highWaterMark;if(te||(E.needDrain=!0),E.writing||E.corked){var ie=E.lastBufferedRequest;E.lastBufferedRequest={chunk:B,encoding:z,isBuf:I,callback:q,next:null},ie?ie.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else doWrite(C,E,!1,ee,B,z,q);return te}function doWrite(C,E,I,B,z,q,Q){E.writelen=B,E.writecb=Q,E.writing=!0,E.sync=!0,I?C._writev(z,E.onwrite):C._write(z,q,E.onwrite),E.sync=!1}function onwriteError(C,E,I,B,z){--E.pendingcb,I?(q.nextTick(z,B),q.nextTick(finishMaybe,C,E),C._writableState.errorEmitted=!0,C.emit("error",B)):(z(B),C._writableState.errorEmitted=!0,C.emit("error",B),finishMaybe(C,E))}function onwriteStateUpdate(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}function onwrite(C,E){var I=C._writableState,B=I.sync,z=I.writecb;if(onwriteStateUpdate(I),E)onwriteError(C,I,B,E,z);else{var q=needFinish(I);q||I.corked||I.bufferProcessing||!I.bufferedRequest||clearBuffer(C,I),B?ee(afterWrite,C,I,q,z):afterWrite(C,I,q,z)}}function afterWrite(C,E,I,B){I||onwriteDrain(C,E),E.pendingcb--,B(),finishMaybe(C,E)}function onwriteDrain(C,E){0===E.length&&E.needDrain&&(E.needDrain=!1,C.emit("drain"))}function clearBuffer(C,E){E.bufferProcessing=!0;var I=E.bufferedRequest;if(C._writev&&I&&I.next){var B=E.bufferedRequestCount,z=new Array(B),q=E.corkedRequestsFree;q.entry=I;for(var Q=0,ee=!0;I;)z[Q]=I,I.isBuf||(ee=!1),I=I.next,Q+=1;z.allBuffers=ee,doWrite(C,E,!0,E.length,z,"",q.finish),E.pendingcb++,E.lastBufferedRequest=null,q.next?(E.corkedRequestsFree=q.next,q.next=null):E.corkedRequestsFree=new CorkedRequest(E),E.bufferedRequestCount=0}else{for(;I;){var te=I.chunk,ie=I.encoding,re=I.callback;if(doWrite(C,E,!1,E.objectMode?1:te.length,te,ie,re),I=I.next,E.bufferedRequestCount--,E.writing)break}null===I&&(E.lastBufferedRequest=null)}E.bufferedRequest=I,E.bufferProcessing=!1}function needFinish(C){return C.ending&&0===C.length&&null===C.bufferedRequest&&!C.finished&&!C.writing}function callFinal(C,E){C._final((function(I){E.pendingcb--,I&&C.emit("error",I),E.prefinished=!0,C.emit("prefinish"),finishMaybe(C,E)}))}function prefinish(C,E){E.prefinished||E.finalCalled||("function"==typeof C._final?(E.pendingcb++,E.finalCalled=!0,q.nextTick(callFinal,C,E)):(E.prefinished=!0,C.emit("prefinish")))}function finishMaybe(C,E){var I=needFinish(E);return I&&(prefinish(C,E),0===E.pendingcb&&(E.finished=!0,C.emit("finish"))),I}function endWritable(C,E,I){E.ending=!0,finishMaybe(C,E),I&&(E.finished?q.nextTick(I):C.once("finish",I)),E.ended=!0,C.writable=!1}function onCorkedFinish(C,E,I){var B=C.entry;for(C.entry=null;B;){var z=B.callback;E.pendingcb--,z(I),B=B.next}E.corkedRequestsFree.next=C}te.inherits(Writable,re),WritableState.prototype.getBuffer=function getBuffer(){for(var C=this.bufferedRequest,E=[];C;)E.push(C),C=C.next;return E},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:ie.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(C){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(oe=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(C){return!!oe.call(this,C)||this===Writable&&C&&C._writableState instanceof WritableState}})):oe=function(C){return C instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(C,E,I){var B=this._writableState,z=!1,q=!B.objectMode&&_isUint8Array(C);return q&&!ne.isBuffer(C)&&(C=_uint8ArrayToBuffer(C)),"function"==typeof E&&(I=E,E=null),q?E="buffer":E||(E=B.defaultEncoding),"function"!=typeof I&&(I=nop),B.ended?writeAfterEnd(this,I):(q||validChunk(this,B,C,I))&&(B.pendingcb++,z=writeOrBuffer(this,B,q,C,E,I)),z},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||clearBuffer(this,C))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(C){if("string"==typeof C&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(C,E,I){I(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(C,E,I){var B=this._writableState;"function"==typeof C?(I=C,C=null,E=null):"function"==typeof E&&(I=E,E=null),null!=C&&this.write(C,E),B.corked&&(B.corked=1,this.uncork()),B.ending||endWritable(this,B,I)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),Writable.prototype.destroy=ae.destroy,Writable.prototype._undestroy=ae.undestroy,Writable.prototype._destroy=function(C,E){this.end(),E(C)}}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},C("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(C,E,I){"use strict";function _classCallCheck(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}var B=C("safe-buffer").Buffer,z=C("util");function copyBuffer(C,E,I){C.copy(E,I)}E.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function push(C){var E={data:C,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length},BufferList.prototype.unshift=function unshift(C){var E={data:C,next:this.head};0===this.length&&(this.tail=E),this.head=E,++this.length},BufferList.prototype.shift=function shift(){if(0!==this.length){var C=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,C}},BufferList.prototype.clear=function clear(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function join(C){if(0===this.length)return"";for(var E=this.head,I=""+E.data;E=E.next;)I+=C+E.data;return I},BufferList.prototype.concat=function concat(C){if(0===this.length)return B.alloc(0);for(var E=B.allocUnsafe(C>>>0),I=this.head,z=0;I;)copyBuffer(I.data,E,z),z+=I.data.length,I=I.next;return E},BufferList}(),z&&z.inspect&&z.inspect.custom&&(E.exports.prototype[z.inspect.custom]=function(){var C=z.inspect({length:this.length});return this.constructor.name+" "+C})},{"safe-buffer":520,util:188}],514:[function(C,E,I){"use strict";var B=C("process-nextick-args");function destroy(C,E){var I=this,z=this._readableState&&this._readableState.destroyed,q=this._writableState&&this._writableState.destroyed;return z||q?(E?E(C):C&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,B.nextTick(emitErrorNT,this,C)):B.nextTick(emitErrorNT,this,C)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(C||null,(function(C){!E&&C?I._writableState?I._writableState.errorEmitted||(I._writableState.errorEmitted=!0,B.nextTick(emitErrorNT,I,C)):B.nextTick(emitErrorNT,I,C):E&&E(C)})),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(C,E){C.emit("error",E)}E.exports={destroy,undestroy}},{"process-nextick-args":466}],515:[function(C,E,I){arguments[4][490][0].apply(I,arguments)},{dup:490,events:422}],516:[function(C,E,I){"use strict";E.exports=C("./readable").PassThrough},{"./readable":517}],517:[function(C,E,I){"use strict";(I=E.exports=C("./lib/_stream_readable.js")).Stream=I,I.Readable=I,I.Writable=C("./lib/_stream_writable.js"),I.Duplex=C("./lib/_stream_duplex.js"),I.Transform=C("./lib/_stream_transform.js"),I.PassThrough=C("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(C,E,I){"use strict";E.exports=C("./readable").Transform},{"./readable":517}],519:[function(C,E,I){"use strict";E.exports=C("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(C,E,I){arguments[4][217][0].apply(I,arguments)},{buffer:220,dup:217}],521:[function(C,E,I){arguments[4][218][0].apply(I,arguments)},{dup:218,"safe-buffer":520}],522:[function(C,E,I){arguments[4][218][0].apply(I,arguments)},{dup:218,"safe-buffer":494}],523:[function(C,E,I){(function(E,B){(function(){"use strict";var z=C("process/browser.js").nextTick,q=Function.prototype.apply,Q=Array.prototype.slice,ee={},te=0;function Timeout(C,E){this._id=C,this._clearFn=E}I.setTimeout=function(){return new Timeout(q.call(setTimeout,window,arguments),clearTimeout)},I.setInterval=function(){return new Timeout(q.call(setInterval,window,arguments),clearInterval)},I.clearTimeout=I.clearInterval=function(C){C.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},I.enroll=function(C,E){clearTimeout(C._idleTimeoutId),C._idleTimeout=E},I.unenroll=function(C){clearTimeout(C._idleTimeoutId),C._idleTimeout=-1},I._unrefActive=I.active=function(C){clearTimeout(C._idleTimeoutId);var E=C._idleTimeout;E>=0&&(C._idleTimeoutId=setTimeout((function onTimeout(){C._onTimeout&&C._onTimeout()}),E))},I.setImmediate="function"==typeof E?E:function(C){var E=te++,B=!(arguments.length<2)&&Q.call(arguments,1);return ee[E]=!0,z((function onNextTick(){ee[E]&&(B?C.apply(null,B):C.call(null),I.clearImmediate(E))})),E},I.clearImmediate="function"==typeof B?B:function(C){delete ee[C]}}).call(this)}).call(this,C("timers").setImmediate,C("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(C,E,B){(function(C){(function(){"use strict";function deprecate(C,E){if(config("noDeprecation"))return C;var I=!1;function deprecated(){if(!I){if(config("throwDeprecation"))throw new Error(E);config("traceDeprecation"),I=!0}return C.apply(this,arguments)}return deprecated}function config(E){try{if(!C.localStorage)return!1}catch(C){return!1}var I=C.localStorage[E];return null!=I&&"true"===String(I).toLowerCase()}E.exports=deprecate}).call(this)}).call(this,void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],525:[function(C,E,I){"use strict";"function"==typeof Object.create?E.exports=function inherits(C,E){C.super_=E,C.prototype=Object.create(E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}})}:E.exports=function inherits(C,E){C.super_=E;var TempCtor=function(){};TempCtor.prototype=E.prototype,C.prototype=new TempCtor,C.prototype.constructor=C}},{}],526:[function(C,E,I){"use strict";E.exports=function isBuffer(C){return C&&"object"==typeof C&&"function"==typeof C.copy&&"function"==typeof C.fill&&"function"==typeof C.readUInt8}},{}],527:[function(C,E,B){(function(E,I){(function(){"use strict";var z=/%[sdj%]/g;B.format=function(C){if(!isString(C)){for(var E=[],I=0;I<arguments.length;I++)E.push(inspect(arguments[I]));return E.join(" ")}I=1;for(var B=arguments,q=B.length,Q=String(C).replace(z,(function(C){if("%%"===C)return"%";if(I>=q)return C;switch(C){case"%s":return String(B[I++]);case"%d":return Number(B[I++]);case"%j":try{return JSON.stringify(B[I++])}catch(C){return"[Circular]"}default:return C}})),ee=B[I];I<q;ee=B[++I])isNull(ee)||!isObject(ee)?Q+=" "+ee:Q+=" "+inspect(ee);return Q},B.deprecate=function(C,z){if(isUndefined(I.process))return function(){return B.deprecate(C,z).apply(this,arguments)};if(!0===E.noDeprecation)return C;var q=!1;function deprecated(){if(!q){if(E.throwDeprecation)throw new Error(z);E.traceDeprecation,q=!0}return C.apply(this,arguments)}return deprecated};var q,Q={};function inspect(C,E){var I={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(I.depth=arguments[2]),arguments.length>=4&&(I.colors=arguments[3]),isBoolean(E)?I.showHidden=E:E&&B._extend(I,E),isUndefined(I.showHidden)&&(I.showHidden=!1),isUndefined(I.depth)&&(I.depth=2),isUndefined(I.colors)&&(I.colors=!1),isUndefined(I.customInspect)&&(I.customInspect=!0),I.colors&&(I.stylize=stylizeWithColor),formatValue(I,C,I.depth)}function stylizeWithColor(C,E){var I=inspect.styles[E];return I?"["+inspect.colors[I][0]+"m"+C+"["+inspect.colors[I][1]+"m":C}function stylizeNoColor(C,E){return C}function arrayToHash(C){var E={};return C.forEach((function(C,I){E[C]=!0})),E}function formatValue(C,E,I){if(C.customInspect&&E&&isFunction(E.inspect)&&E.inspect!==B.inspect&&(!E.constructor||E.constructor.prototype!==E)){var z=E.inspect(I,C);return isString(z)||(z=formatValue(C,z,I)),z}var q=formatPrimitive(C,E);if(q)return q;var Q=Object.keys(E),ee=arrayToHash(Q);if(C.showHidden&&(Q=Object.getOwnPropertyNames(E)),isError(E)&&(Q.indexOf("message")>=0||Q.indexOf("description")>=0))return formatError(E);if(0===Q.length){if(isFunction(E)){var te=E.name?": "+E.name:"";return C.stylize("[Function"+te+"]","special")}if(isRegExp(E))return C.stylize(RegExp.prototype.toString.call(E),"regexp");if(isDate(E))return C.stylize(Date.prototype.toString.call(E),"date");if(isError(E))return formatError(E)}var ie,re="",ne=!1,se=["{","}"];return isArray(E)&&(ne=!0,se=["[","]"]),isFunction(E)&&(re=" [Function"+(E.name?": "+E.name:"")+"]"),isRegExp(E)&&(re=" "+RegExp.prototype.toString.call(E)),isDate(E)&&(re=" "+Date.prototype.toUTCString.call(E)),isError(E)&&(re=" "+formatError(E)),0!==Q.length||ne&&0!=E.length?I<0?isRegExp(E)?C.stylize(RegExp.prototype.toString.call(E),"regexp"):C.stylize("[Object]","special"):(C.seen.push(E),ie=ne?formatArray(C,E,I,ee,Q):Q.map((function(B){return formatProperty(C,E,I,ee,B,ne)})),C.seen.pop(),reduceToSingleString(ie,re,se)):se[0]+re+se[1]}function formatPrimitive(C,E){if(isUndefined(E))return C.stylize("undefined","undefined");if(isString(E)){var I="'"+JSON.stringify(E).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize(I,"string")}return isNumber(E)?C.stylize(""+E,"number"):isBoolean(E)?C.stylize(""+E,"boolean"):isNull(E)?C.stylize("null","null"):void 0}function formatError(C){return"["+Error.prototype.toString.call(C)+"]"}function formatArray(C,E,I,B,z){for(var q=[],Q=0,ee=E.length;Q<ee;++Q)hasOwnProperty(E,String(Q))?q.push(formatProperty(C,E,I,B,String(Q),!0)):q.push("");return z.forEach((function(z){z.match(/^\d+$/)||q.push(formatProperty(C,E,I,B,z,!0))})),q}function formatProperty(C,E,I,B,z,q){var Q,ee,te;if((te=Object.getOwnPropertyDescriptor(E,z)||{value:E[z]}).get?ee=te.set?C.stylize("[Getter/Setter]","special"):C.stylize("[Getter]","special"):te.set&&(ee=C.stylize("[Setter]","special")),hasOwnProperty(B,z)||(Q="["+z+"]"),ee||(C.seen.indexOf(te.value)<0?(ee=isNull(I)?formatValue(C,te.value,null):formatValue(C,te.value,I-1)).indexOf("\n")>-1&&(ee=q?ee.split("\n").map((function(C){return"  "+C})).join("\n").substr(2):"\n"+ee.split("\n").map((function(C){return"   "+C})).join("\n")):ee=C.stylize("[Circular]","special")),isUndefined(Q)){if(q&&z.match(/^\d+$/))return ee;(Q=JSON.stringify(""+z)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Q=Q.substr(1,Q.length-2),Q=C.stylize(Q,"name")):(Q=Q.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Q=C.stylize(Q,"string"))}return Q+": "+ee}function reduceToSingleString(C,E,I){return C.reduce((function(C,E){return E.indexOf("\n"),C+E.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?I[0]+(""===E?"":E+"\n ")+" "+C.join(",\n  ")+" "+I[1]:I[0]+E+" "+C.join(", ")+" "+I[1]}function isArray(C){return Array.isArray(C)}function isBoolean(C){return"boolean"==typeof C}function isNull(C){return null===C}function isNullOrUndefined(C){return null==C}function isNumber(C){return"number"==typeof C}function isString(C){return"string"==typeof C}function isSymbol(C){return"symbol"==typeof C}function isUndefined(C){return void 0===C}function isRegExp(C){return isObject(C)&&"[object RegExp]"===objectToString(C)}function isObject(C){return"object"==typeof C&&null!==C}function isDate(C){return isObject(C)&&"[object Date]"===objectToString(C)}function isError(C){return isObject(C)&&("[object Error]"===objectToString(C)||C instanceof Error)}function isFunction(C){return"function"==typeof C}function isPrimitive(C){return null===C||"boolean"==typeof C||"number"==typeof C||"string"==typeof C||"symbol"==typeof C||void 0===C}function objectToString(C){return Object.prototype.toString.call(C)}function hasOwnProperty(C,E){return Object.prototype.hasOwnProperty.call(C,E)}B.debuglog=function(C){return isUndefined(q)&&(q=E.env.NODE_DEBUG||""),C=C.toUpperCase(),Q[C]||(new RegExp("\\b"+C+"\\b","i").test(q)?(E.pid,Q[C]=function(){B.format.apply(B,arguments)}):Q[C]=function(){}),Q[C]},B.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},B.isArray=isArray,B.isBoolean=isBoolean,B.isNull=isNull,B.isNullOrUndefined=isNullOrUndefined,B.isNumber=isNumber,B.isString=isString,B.isSymbol=isSymbol,B.isUndefined=isUndefined,B.isRegExp=isRegExp,B.isObject=isObject,B.isDate=isDate,B.isError=isError,B.isFunction=isFunction,B.isPrimitive=isPrimitive,B.isBuffer=C("./support/isBuffer"),B.log=function(){},B.inherits=C("inherits"),B._extend=function(C,E){if(!E||!isObject(E))return C;for(var I=Object.keys(E),B=I.length;B--;)C[I[B]]=E[I[B]];return C}}).call(this)}).call(this,C("_process"),void 0!==I.g?I.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"v1",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(I,"v3",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(I,"v4",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(I,"v5",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(I,"NIL",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(I,"version",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(I,"validate",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(I,"stringify",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(I,"parse",{enumerable:!0,get:function(){return ne.default}});var B=_interopRequireDefault(C("./v1.js")),z=_interopRequireDefault(C("./v3.js")),q=_interopRequireDefault(C("./v4.js")),Q=_interopRequireDefault(C("./v5.js")),ee=_interopRequireDefault(C("./nil.js")),te=_interopRequireDefault(C("./version.js")),ie=_interopRequireDefault(C("./validate.js")),re=_interopRequireDefault(C("./stringify.js")),ne=_interopRequireDefault(C("./parse.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(C,E,I){"use strict";function md5(C){if("string"==typeof C){const E=unescape(encodeURIComponent(C));C=new Uint8Array(E.length);for(let I=0;I<E.length;++I)C[I]=E.charCodeAt(I)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(C),8*C.length))}function md5ToHexEncodedArray(C){const E=[],I=32*C.length,B="0123456789abcdef";for(let z=0;z<I;z+=8){const I=C[z>>5]>>>z%32&255,q=parseInt(B.charAt(I>>>4&15)+B.charAt(15&I),16);E.push(q)}return E}function getOutputLength(C){return 14+(C+64>>>9<<4)+1}function wordsToMd5(C,E){C[E>>5]|=128<<E%32,C[getOutputLength(E)-1]=E;let I=1732584193,B=-271733879,z=-1732584194,q=271733878;for(let E=0;E<C.length;E+=16){const Q=I,ee=B,te=z,ie=q;I=md5ff(I,B,z,q,C[E],7,-680876936),q=md5ff(q,I,B,z,C[E+1],12,-389564586),z=md5ff(z,q,I,B,C[E+2],17,606105819),B=md5ff(B,z,q,I,C[E+3],22,-1044525330),I=md5ff(I,B,z,q,C[E+4],7,-176418897),q=md5ff(q,I,B,z,C[E+5],12,1200080426),z=md5ff(z,q,I,B,C[E+6],17,-1473231341),B=md5ff(B,z,q,I,C[E+7],22,-45705983),I=md5ff(I,B,z,q,C[E+8],7,1770035416),q=md5ff(q,I,B,z,C[E+9],12,-1958414417),z=md5ff(z,q,I,B,C[E+10],17,-42063),B=md5ff(B,z,q,I,C[E+11],22,-1990404162),I=md5ff(I,B,z,q,C[E+12],7,1804603682),q=md5ff(q,I,B,z,C[E+13],12,-40341101),z=md5ff(z,q,I,B,C[E+14],17,-1502002290),B=md5ff(B,z,q,I,C[E+15],22,1236535329),I=md5gg(I,B,z,q,C[E+1],5,-165796510),q=md5gg(q,I,B,z,C[E+6],9,-1069501632),z=md5gg(z,q,I,B,C[E+11],14,643717713),B=md5gg(B,z,q,I,C[E],20,-373897302),I=md5gg(I,B,z,q,C[E+5],5,-701558691),q=md5gg(q,I,B,z,C[E+10],9,38016083),z=md5gg(z,q,I,B,C[E+15],14,-660478335),B=md5gg(B,z,q,I,C[E+4],20,-405537848),I=md5gg(I,B,z,q,C[E+9],5,568446438),q=md5gg(q,I,B,z,C[E+14],9,-1019803690),z=md5gg(z,q,I,B,C[E+3],14,-187363961),B=md5gg(B,z,q,I,C[E+8],20,1163531501),I=md5gg(I,B,z,q,C[E+13],5,-1444681467),q=md5gg(q,I,B,z,C[E+2],9,-51403784),z=md5gg(z,q,I,B,C[E+7],14,1735328473),B=md5gg(B,z,q,I,C[E+12],20,-1926607734),I=md5hh(I,B,z,q,C[E+5],4,-378558),q=md5hh(q,I,B,z,C[E+8],11,-2022574463),z=md5hh(z,q,I,B,C[E+11],16,1839030562),B=md5hh(B,z,q,I,C[E+14],23,-35309556),I=md5hh(I,B,z,q,C[E+1],4,-1530992060),q=md5hh(q,I,B,z,C[E+4],11,1272893353),z=md5hh(z,q,I,B,C[E+7],16,-155497632),B=md5hh(B,z,q,I,C[E+10],23,-1094730640),I=md5hh(I,B,z,q,C[E+13],4,681279174),q=md5hh(q,I,B,z,C[E],11,-358537222),z=md5hh(z,q,I,B,C[E+3],16,-722521979),B=md5hh(B,z,q,I,C[E+6],23,76029189),I=md5hh(I,B,z,q,C[E+9],4,-640364487),q=md5hh(q,I,B,z,C[E+12],11,-421815835),z=md5hh(z,q,I,B,C[E+15],16,530742520),B=md5hh(B,z,q,I,C[E+2],23,-995338651),I=md5ii(I,B,z,q,C[E],6,-198630844),q=md5ii(q,I,B,z,C[E+7],10,1126891415),z=md5ii(z,q,I,B,C[E+14],15,-1416354905),B=md5ii(B,z,q,I,C[E+5],21,-57434055),I=md5ii(I,B,z,q,C[E+12],6,1700485571),q=md5ii(q,I,B,z,C[E+3],10,-1894986606),z=md5ii(z,q,I,B,C[E+10],15,-1051523),B=md5ii(B,z,q,I,C[E+1],21,-2054922799),I=md5ii(I,B,z,q,C[E+8],6,1873313359),q=md5ii(q,I,B,z,C[E+15],10,-30611744),z=md5ii(z,q,I,B,C[E+6],15,-1560198380),B=md5ii(B,z,q,I,C[E+13],21,1309151649),I=md5ii(I,B,z,q,C[E+4],6,-145523070),q=md5ii(q,I,B,z,C[E+11],10,-1120210379),z=md5ii(z,q,I,B,C[E+2],15,718787259),B=md5ii(B,z,q,I,C[E+9],21,-343485551),I=safeAdd(I,Q),B=safeAdd(B,ee),z=safeAdd(z,te),q=safeAdd(q,ie)}return[I,B,z,q]}function bytesToWords(C){if(0===C.length)return[];const E=8*C.length,I=new Uint32Array(getOutputLength(E));for(let B=0;B<E;B+=8)I[B>>5]|=(255&C[B/8])<<B%32;return I}function safeAdd(C,E){const I=(65535&C)+(65535&E);return(C>>16)+(E>>16)+(I>>16)<<16|65535&I}function bitRotateLeft(C,E){return C<<E|C>>>32-E}function md5cmn(C,E,I,B,z,q){return safeAdd(bitRotateLeft(safeAdd(safeAdd(E,C),safeAdd(B,q)),z),I)}function md5ff(C,E,I,B,z,q,Q){return md5cmn(E&I|~E&B,C,E,z,q,Q)}function md5gg(C,E,I,B,z,q,Q){return md5cmn(E&B|I&~B,C,E,z,q,Q)}function md5hh(C,E,I,B,z,q,Q){return md5cmn(E^I^B,C,E,z,q,Q)}function md5ii(C,E,I,B,z,q,Q){return md5cmn(I^(E|~B),C,E,z,q,Q)}Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=md5;I.default=B},{}],530:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B="00000000-0000-0000-0000-000000000000";I.default=B},{}],531:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./validate.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function parse(C){if(!(0,B.default)(C))throw TypeError("Invalid UUID");let E;const I=new Uint8Array(16);return I[0]=(E=parseInt(C.slice(0,8),16))>>>24,I[1]=E>>>16&255,I[2]=E>>>8&255,I[3]=255&E,I[4]=(E=parseInt(C.slice(9,13),16))>>>8,I[5]=255&E,I[6]=(E=parseInt(C.slice(14,18),16))>>>8,I[7]=255&E,I[8]=(E=parseInt(C.slice(19,23),16))>>>8,I[9]=255&E,I[10]=(E=parseInt(C.slice(24,36),16))/1099511627776&255,I[11]=E/4294967296&255,I[12]=E>>>24&255,I[13]=E>>>16&255,I[14]=E>>>8&255,I[15]=255&E,I}var z=parse;I.default=z},{"./validate.js":541}],532:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;I.default=B},{}],533:[function(C,E,I){"use strict";let B;Object.defineProperty(I,"__esModule",{value:!0}),I.default=rng;const z=new Uint8Array(16);function rng(){if(!B&&(B="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!B))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(z)}},{}],534:[function(C,E,I){"use strict";function f(C,E,I,B){switch(C){case 0:return E&I^~E&B;case 1:case 3:return E^I^B;case 2:return E&I^E&B^I&B}}function ROTL(C,E){return C<<E|C>>>32-E}function sha1(C){const E=[1518500249,1859775393,2400959708,3395469782],I=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof C){const E=unescape(encodeURIComponent(C));C=[];for(let I=0;I<E.length;++I)C.push(E.charCodeAt(I))}else Array.isArray(C)||(C=Array.prototype.slice.call(C));C.push(128);const B=C.length/4+2,z=Math.ceil(B/16),q=new Array(z);for(let E=0;E<z;++E){const I=new Uint32Array(16);for(let B=0;B<16;++B)I[B]=C[64*E+4*B]<<24|C[64*E+4*B+1]<<16|C[64*E+4*B+2]<<8|C[64*E+4*B+3];q[E]=I}q[z-1][14]=8*(C.length-1)/Math.pow(2,32),q[z-1][14]=Math.floor(q[z-1][14]),q[z-1][15]=8*(C.length-1)&4294967295;for(let C=0;C<z;++C){const B=new Uint32Array(80);for(let E=0;E<16;++E)B[E]=q[C][E];for(let C=16;C<80;++C)B[C]=ROTL(B[C-3]^B[C-8]^B[C-14]^B[C-16],1);let z=I[0],Q=I[1],ee=I[2],te=I[3],ie=I[4];for(let C=0;C<80;++C){const I=Math.floor(C/20),q=ROTL(z,5)+f(I,Q,ee,te)+ie+E[I]+B[C]>>>0;ie=te,te=ee,ee=ROTL(Q,30)>>>0,Q=z,z=q}I[0]=I[0]+z>>>0,I[1]=I[1]+Q>>>0,I[2]=I[2]+ee>>>0,I[3]=I[3]+te>>>0,I[4]=I[4]+ie>>>0}return[I[0]>>24&255,I[0]>>16&255,I[0]>>8&255,255&I[0],I[1]>>24&255,I[1]>>16&255,I[1]>>8&255,255&I[1],I[2]>>24&255,I[2]>>16&255,I[2]>>8&255,255&I[2],I[3]>>24&255,I[3]>>16&255,I[3]>>8&255,255&I[3],I[4]>>24&255,I[4]>>16&255,I[4]>>8&255,255&I[4]]}Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=sha1;I.default=B},{}],535:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./validate.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}const z=[];for(let C=0;C<256;++C)z.push((C+256).toString(16).substr(1));function stringify(C){let E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const I=(z[C[E+0]]+z[C[E+1]]+z[C[E+2]]+z[C[E+3]]+"-"+z[C[E+4]]+z[C[E+5]]+"-"+z[C[E+6]]+z[C[E+7]]+"-"+z[C[E+8]]+z[C[E+9]]+"-"+z[C[E+10]]+z[C[E+11]]+z[C[E+12]]+z[C[E+13]]+z[C[E+14]]+z[C[E+15]]).toLowerCase();if(!(0,B.default)(I))throw TypeError("Stringified UUID is invalid");return I}var q=stringify;I.default=q},{"./validate.js":541}],536:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./rng.js")),z=_interopRequireDefault(C("./stringify.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}let q,Q,ee=0,te=0;function v1(C,E,I){let ie=E&&I||0;const re=E||new Array(16);let ne=(C=C||{}).node||q,se=void 0!==C.clockseq?C.clockseq:Q;if(null==ne||null==se){const E=C.random||(C.rng||B.default)();null==ne&&(ne=q=[1|E[0],E[1],E[2],E[3],E[4],E[5]]),null==se&&(se=Q=16383&(E[6]<<8|E[7]))}let oe=void 0!==C.msecs?C.msecs:Date.now(),ae=void 0!==C.nsecs?C.nsecs:te+1;const le=oe-ee+(ae-te)/1e4;if(le<0&&void 0===C.clockseq&&(se=se+1&16383),(le<0||oe>ee)&&void 0===C.nsecs&&(ae=0),ae>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ee=oe,te=ae,Q=se,oe+=122192928e5;const ue=(1e4*(268435455&oe)+ae)%4294967296;re[ie++]=ue>>>24&255,re[ie++]=ue>>>16&255,re[ie++]=ue>>>8&255,re[ie++]=255&ue;const de=oe/4294967296*1e4&268435455;re[ie++]=de>>>8&255,re[ie++]=255&de,re[ie++]=de>>>24&15|16,re[ie++]=de>>>16&255,re[ie++]=se>>>8|128,re[ie++]=255&se;for(let C=0;C<6;++C)re[ie+C]=ne[C];return E||(0,z.default)(re)}var ie=v1;I.default=ie},{"./rng.js":533,"./stringify.js":535}],537:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./v35.js")),z=_interopRequireDefault(C("./md5.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}var q=(0,B.default)("v3",48,z.default);I.default=q},{"./md5.js":529,"./v35.js":538}],538:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=_default,I.URL=I.DNS=void 0;var B=_interopRequireDefault(C("./stringify.js")),z=_interopRequireDefault(C("./parse.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function stringToBytes(C){C=unescape(encodeURIComponent(C));const E=[];for(let I=0;I<C.length;++I)E.push(C.charCodeAt(I));return E}const q="6ba7b810-9dad-11d1-80b4-00c04fd430c8";I.DNS=q;const Q="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function _default(C,E,I){function generateUUID(C,q,Q,ee){if("string"==typeof C&&(C=stringToBytes(C)),"string"==typeof q&&(q=(0,z.default)(q)),16!==q.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let te=new Uint8Array(16+C.length);if(te.set(q),te.set(C,q.length),te=I(te),te[6]=15&te[6]|E,te[8]=63&te[8]|128,Q){ee=ee||0;for(let C=0;C<16;++C)Q[ee+C]=te[C];return Q}return(0,B.default)(te)}try{generateUUID.name=C}catch(C){}return generateUUID.DNS=q,generateUUID.URL=Q,generateUUID}I.URL=Q},{"./parse.js":531,"./stringify.js":535}],539:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./rng.js")),z=_interopRequireDefault(C("./stringify.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function v4(C,E,I){const q=(C=C||{}).random||(C.rng||B.default)();if(q[6]=15&q[6]|64,q[8]=63&q[8]|128,E){I=I||0;for(let C=0;C<16;++C)E[I+C]=q[C];return E}return(0,z.default)(q)}var q=v4;I.default=q},{"./rng.js":533,"./stringify.js":535}],540:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./v35.js")),z=_interopRequireDefault(C("./sha1.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}var q=(0,B.default)("v5",80,z.default);I.default=q},{"./sha1.js":534,"./v35.js":538}],541:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./regex.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function validate(C){return"string"==typeof C&&B.default.test(C)}var z=validate;I.default=z},{"./regex.js":532}],542:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var B=_interopRequireDefault(C("./validate.js"));function _interopRequireDefault(C){return C&&C.__esModule?C:{default:C}}function version(C){if(!(0,B.default)(C))throw TypeError("Invalid UUID");return parseInt(C.substr(14,1),16)}var z=version;I.default=z},{"./validate.js":541}],543:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.CHAR="\t\n\r -퟿-�𐀀-􏿿",I.S=" \t\r\n",I.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",I.NAME_CHAR="-"+I.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",I.CHAR_RE=new RegExp("^["+I.CHAR+"]$","u"),I.S_RE=new RegExp("^["+I.S+"]+$","u"),I.NAME_START_CHAR_RE=new RegExp("^["+I.NAME_START_CHAR+"]$","u"),I.NAME_CHAR_RE=new RegExp("^["+I.NAME_CHAR+"]$","u"),I.NAME_RE=new RegExp("^["+I.NAME_START_CHAR+"]["+I.NAME_CHAR+"]*$","u"),I.NMTOKEN_RE=new RegExp("^["+I.NAME_CHAR+"]+$","u");var B=9,z=10,q=13,Q=32;function isChar(C){return C>=Q&&C<=55295||C===z||C===q||C===B||C>=57344&&C<=65533||C>=65536&&C<=1114111}function isS(C){return C===Q||C===z||C===q||C===B}function isNameStartChar(C){return C>=65&&C<=90||C>=97&&C<=122||58===C||95===C||8204===C||8205===C||C>=192&&C<=214||C>=216&&C<=246||C>=248&&C<=767||C>=880&&C<=893||C>=895&&C<=8191||C>=8304&&C<=8591||C>=11264&&C<=12271||C>=12289&&C<=55295||C>=63744&&C<=64975||C>=65008&&C<=65533||C>=65536&&C<=983039}function isNameChar(C){return isNameStartChar(C)||C>=48&&C<=57||45===C||46===C||183===C||C>=768&&C<=879||C>=8255&&C<=8256}I.S_LIST=[Q,z,q,B],I.isChar=isChar,I.isS=isS,I.isNameStartChar=isNameStartChar,I.isNameChar=isNameChar},{}],544:[function(C,E,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.CHAR="-퟿-�𐀀-􏿿",I.RESTRICTED_CHAR="-\b\v\f---",I.S=" \t\r\n",I.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",I.NAME_CHAR="-"+I.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",I.CHAR_RE=new RegExp("^["+I.CHAR+"]$","u"),I.RESTRICTED_CHAR_RE=new RegExp("^["+I.RESTRICTED_CHAR+"]$","u"),I.S_RE=new RegExp("^["+I.S+"]+$","u"),I.NAME_START_CHAR_RE=new RegExp("^["+I.NAME_START_CHAR+"]$","u"),I.NAME_CHAR_RE=new RegExp("^["+I.NAME_CHAR+"]$","u"),I.NAME_RE=new RegExp("^["+I.NAME_START_CHAR+"]["+I.NAME_CHAR+"]*$","u"),I.NMTOKEN_RE=new RegExp("^["+I.NAME_CHAR+"]+$","u");var B=9,z=10,q=13,Q=32;function isChar(C){return C>=1&&C<=55295||C>=57344&&C<=65533||C>=65536&&C<=1114111}function isRestrictedChar(C){return C>=1&&C<=8||11===C||12===C||C>=14&&C<=31||C>=127&&C<=132||C>=134&&C<=159}function isCharAndNotRestricted(C){return 9===C||10===C||13===C||C>31&&C<127||133===C||C>159&&C<=55295||C>=57344&&C<=65533||C>=65536&&C<=1114111}function isS(C){return C===Q||C===z||C===q||C===B}function isNameStartChar(C){return C>=65&&C<=90||C>=97&&C<=122||58===C||95===C||8204===C||8205===C||C>=192&&C<=214||C>=216&&C<=246||C>=248&&C<=767||C>=880&&C<=893||C>=895&&C<=8191||C>=8304&&C<=8591||C>=11264&&C<=12271||C>=12289&&C<=55295||C>=63744&&C<=64975||C>=65008&&C<=65533||C>=65536&&C<=983039}function isNameChar(C){return isNameStartChar(C)||C>=48&&C<=57||45===C||46===C||183===C||C>=768&&C<=879||C>=8255&&C<=8256}I.S_LIST=[Q,z,q,B],I.isChar=isChar,I.isRestrictedChar=isRestrictedChar,I.isCharAndNotRestricted=isCharAndNotRestricted,I.isS=isS,I.isNameStartChar=isNameStartChar,I.isNameChar=isNameChar},{}],545:[function(C,E,I){"use strict";function isNCNameStartChar(C){return C>=65&&C<=90||95===C||C>=97&&C<=122||C>=192&&C<=214||C>=216&&C<=246||C>=248&&C<=767||C>=880&&C<=893||C>=895&&C<=8191||C>=8204&&C<=8205||C>=8304&&C<=8591||C>=11264&&C<=12271||C>=12289&&C<=55295||C>=63744&&C<=64975||C>=65008&&C<=65533||C>=65536&&C<=983039}function isNCNameChar(C){return isNCNameStartChar(C)||45===C||46===C||C>=48&&C<=57||183===C||C>=768&&C<=879||C>=8255&&C<=8256}Object.defineProperty(I,"__esModule",{value:!0}),I.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",I.NC_NAME_CHAR="-"+I.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",I.NC_NAME_START_CHAR_RE=new RegExp("^["+I.NC_NAME_START_CHAR+"]$","u"),I.NC_NAME_CHAR_RE=new RegExp("^["+I.NC_NAME_CHAR+"]$","u"),I.NC_NAME_RE=new RegExp("^["+I.NC_NAME_START_CHAR+"]["+I.NC_NAME_CHAR+"]*$","u"),I.isNCNameStartChar=isNCNameStartChar,I.isNCNameChar=isNCNameChar},{}]},{},[15])(15)}()},7596:function(C){!function webpackUniversalModuleDefinition(E,I){C.exports=I()}(0,(function(){return function(C){var E={};function __nested_webpack_require_1638__(I){if(E[I])return E[I].exports;var B=E[I]={exports:{},id:I,loaded:!1};return C[I].call(B.exports,B,B.exports,__nested_webpack_require_1638__),B.loaded=!0,B.exports}return __nested_webpack_require_1638__.m=C,__nested_webpack_require_1638__.c=E,__nested_webpack_require_1638__.p="",__nested_webpack_require_1638__(0)}([function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0;var z=B(I(2)),q=B(I(84)),Q=I(85),ee=I(90),te=B(I(91)),ie=B(I(88)),re=B(I(83)),ne=z.default.create;function create(){var C=ne();return C.compile=function(E,I){return ee.compile(E,I,C)},C.precompile=function(E,I){return ee.precompile(E,I,C)},C.AST=q.default,C.Compiler=ee.Compiler,C.JavaScriptCompiler=te.default,C.Parser=Q.parser,C.parse=Q.parse,C.parseWithoutProcessing=Q.parseWithoutProcessing,C}var se=create();se.create=create,re.default(se),se.Visitor=ie.default,se.default=se,E.default=se,C.exports=E.default},function(C,E){"use strict";E.default=function(C){return C&&C.__esModule?C:{default:C}},E.__esModule=!0},function(C,E,I){"use strict";var B=I(3).default,z=I(1).default;E.__esModule=!0;var q=B(I(4)),Q=z(I(77)),ee=z(I(6)),te=B(I(5)),ie=B(I(78)),re=z(I(83));function create(){var C=new q.HandlebarsEnvironment;return te.extend(C,q),C.SafeString=Q.default,C.Exception=ee.default,C.Utils=te,C.escapeExpression=te.escapeExpression,C.VM=ie,C.template=function(E){return ie.template(E,C)},C}var ne=create();ne.create=create,re.default(ne),ne.default=ne,E.default=ne,C.exports=E.default},function(C,E){"use strict";E.default=function(C){if(C&&C.__esModule)return C;var E={};if(null!=C)for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(E[I]=C[I]);return E.default=C,E},E.__esModule=!0},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0,E.HandlebarsEnvironment=HandlebarsEnvironment;var z=I(5),q=B(I(6)),Q=I(10),ee=I(70),te=B(I(72)),ie=I(73);E.VERSION="4.7.8";E.COMPILER_REVISION=8;E.LAST_COMPATIBLE_COMPILER_REVISION=7;E.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var re="[object Object]";function HandlebarsEnvironment(C,E,I){this.helpers=C||{},this.partials=E||{},this.decorators=I||{},Q.registerDefaultHelpers(this),ee.registerDefaultDecorators(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:te.default,log:te.default.log,registerHelper:function registerHelper(C,E){if(z.toString.call(C)===re){if(E)throw new q.default("Arg not supported with multiple helpers");z.extend(this.helpers,C)}else this.helpers[C]=E},unregisterHelper:function unregisterHelper(C){delete this.helpers[C]},registerPartial:function registerPartial(C,E){if(z.toString.call(C)===re)z.extend(this.partials,C);else{if(void 0===E)throw new q.default('Attempting to register a partial called "'+C+'" as undefined');this.partials[C]=E}},unregisterPartial:function unregisterPartial(C){delete this.partials[C]},registerDecorator:function registerDecorator(C,E){if(z.toString.call(C)===re){if(E)throw new q.default("Arg not supported with multiple decorators");z.extend(this.decorators,C)}else this.decorators[C]=E},unregisterDecorator:function unregisterDecorator(C){delete this.decorators[C]},resetLoggedPropertyAccesses:function resetLoggedPropertyAccesses(){ie.resetLoggedProperties()}};var ne=te.default.log;E.log=ne,E.createFrame=z.createFrame,E.logger=te.default},function(C,E){"use strict";E.__esModule=!0,E.extend=extend,E.indexOf=function indexOf(C,E){for(var I=0,B=C.length;I<B;I++)if(C[I]===E)return I;return-1},E.escapeExpression=function escapeExpression(C){if("string"!=typeof C){if(C&&C.toHTML)return C.toHTML();if(null==C)return"";if(!C)return C+"";C=""+C}if(!z.test(C))return C;return C.replace(B,escapeChar)},E.isEmpty=function isEmpty(C){return!C&&0!==C||!(!ee(C)||0!==C.length)},E.createFrame=function createFrame(C){var E=extend({},C);return E._parent=C,E},E.blockParams=function blockParams(C,E){return C.path=E,C},E.appendContextPath=function appendContextPath(C,E){return(C?C+".":"")+E};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},B=/[&<>"'`=]/g,z=/[&<>"'`=]/;function escapeChar(C){return I[C]}function extend(C){for(var E=1;E<arguments.length;E++)for(var I in arguments[E])Object.prototype.hasOwnProperty.call(arguments[E],I)&&(C[I]=arguments[E][I]);return C}var q=Object.prototype.toString;E.toString=q;var Q=function isFunction(C){return"function"==typeof C};Q(/x/)&&(E.isFunction=Q=function(C){return"function"==typeof C&&"[object Function]"===q.call(C)}),E.isFunction=Q;var ee=Array.isArray||function(C){return!(!C||"object"!=typeof C)&&"[object Array]"===q.call(C)};E.isArray=ee},function(C,E,I){"use strict";var B=I(7).default;E.__esModule=!0;var z=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Exception(C,E){var I=E&&E.loc,q=void 0,Q=void 0,ee=void 0,te=void 0;I&&(q=I.start.line,Q=I.end.line,ee=I.start.column,te=I.end.column,C+=" - "+q+":"+ee);for(var ie=Error.prototype.constructor.call(this,C),re=0;re<z.length;re++)this[z[re]]=ie[z[re]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{I&&(this.lineNumber=q,this.endLineNumber=Q,B?(Object.defineProperty(this,"column",{value:ee,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:te,enumerable:!0})):(this.column=ee,this.endColumn=te))}catch(C){}}Exception.prototype=new Error,E.default=Exception,C.exports=E.default},function(C,E,I){C.exports={default:I(8),__esModule:!0}},function(C,E,I){var B=I(9);C.exports=function defineProperty(C,E,I){return B.setDesc(C,E,I)}},function(C,E){var I=Object;C.exports={create:I.create,getProto:I.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:I.getOwnPropertyDescriptor,setDesc:I.defineProperty,setDescs:I.defineProperties,getKeys:I.keys,getNames:I.getOwnPropertyNames,getSymbols:I.getOwnPropertySymbols,each:[].forEach}},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0,E.registerDefaultHelpers=function registerDefaultHelpers(C){z.default(C),q.default(C),Q.default(C),ee.default(C),te.default(C),ie.default(C),re.default(C)},E.moveHelperToHooks=function moveHelperToHooks(C,E,I){C.helpers[E]&&(C.hooks[E]=C.helpers[E],I||delete C.helpers[E])};var z=B(I(11)),q=B(I(12)),Q=B(I(65)),ee=B(I(66)),te=B(I(67)),ie=B(I(68)),re=B(I(69))},function(C,E,I){"use strict";E.__esModule=!0;var B=I(5);E.default=function(C){C.registerHelper("blockHelperMissing",(function(E,I){var z=I.inverse,q=I.fn;if(!0===E)return q(this);if(!1===E||null==E)return z(this);if(B.isArray(E))return E.length>0?(I.ids&&(I.ids=[I.name]),C.helpers.each(E,I)):z(this);if(I.data&&I.ids){var Q=B.createFrame(I.data);Q.contextPath=B.appendContextPath(I.data.contextPath,I.name),I={data:Q}}return q(E,I)}))},C.exports=E.default},function(C,E,I){"use strict";var B=I(13).default,z=I(43).default,q=I(55).default,Q=I(60).default,ee=I(1).default;E.__esModule=!0;var te=I(5),ie=ee(I(6));E.default=function(C){C.registerHelper("each",(function(C,E){if(!E)throw new ie.default("Must pass iterator to #each");var I,ee=E.fn,re=E.inverse,ne=0,se="",oe=void 0,ae=void 0;function execIteration(E,I,B){oe&&(oe.key=E,oe.index=I,oe.first=0===I,oe.last=!!B,ae&&(oe.contextPath=ae+E)),se+=ee(C[E],{data:oe,blockParams:te.blockParams([C[E],E],[ae+E,null])})}if(E.data&&E.ids&&(ae=te.appendContextPath(E.data.contextPath,E.ids[0])+"."),te.isFunction(C)&&(C=C.call(this)),E.data&&(oe=te.createFrame(E.data)),C&&"object"==typeof C)if(te.isArray(C))for(var le=C.length;ne<le;ne++)ne in C&&execIteration(ne,ne,ne===C.length-1);else if("function"==typeof B&&C[z]){for(var ue=[],de=q(C),ce=de.next();!ce.done;ce=de.next())ue.push(ce.value);for(le=(C=ue).length;ne<le;ne++)execIteration(ne,ne,ne===C.length-1)}else I=void 0,Q(C).forEach((function(C){void 0!==I&&execIteration(I,ne-1),I=C,ne++})),void 0!==I&&execIteration(I,ne-1,!0);return 0===ne&&(se=re(this)),se}))},C.exports=E.default},function(C,E,I){C.exports={default:I(14),__esModule:!0}},function(C,E,I){I(15),I(42),C.exports=I(21).Symbol},function(C,E,I){"use strict";var B=I(9),z=I(16),q=I(17),Q=I(18),ee=I(20),te=I(24),ie=I(19),re=I(27),ne=I(28),se=I(30),oe=I(29),ae=I(31),le=I(36),ue=I(37),de=I(38),ce=I(39),he=I(32),fe=I(26),pe=B.getDesc,me=B.setDesc,ge=B.create,ve=le.get,ye=z.Symbol,be=z.JSON,Ce=be&&be.stringify,we=!1,_e=oe("_hidden"),Se=B.isEnum,xe=re("symbol-registry"),ke=re("symbols"),Te="function"==typeof ye,Me=Object.prototype,Re=Q&&ie((function(){return 7!=ge(me({},"a",{get:function(){return me(this,"a",{value:7}).a}})).a}))?function(C,E,I){var B=pe(Me,E);B&&delete Me[E],me(C,E,I),B&&C!==Me&&me(Me,E,B)}:me,wrap=function(C){var E=ke[C]=ge(ye.prototype);return E._k=C,Q&&we&&Re(Me,C,{configurable:!0,set:function(E){q(this,_e)&&q(this[_e],C)&&(this[_e][C]=!1),Re(this,C,fe(1,E))}}),E},isSymbol=function(C){return"symbol"==typeof C},Ee=function defineProperty(C,E,I){return I&&q(ke,E)?(I.enumerable?(q(C,_e)&&C[_e][E]&&(C[_e][E]=!1),I=ge(I,{enumerable:fe(0,!1)})):(q(C,_e)||me(C,_e,fe(1,{})),C[_e][E]=!0),Re(C,E,I)):me(C,E,I)},Pe=function defineProperties(C,E){ce(C);for(var I,B=ue(E=he(E)),z=0,q=B.length;q>z;)Ee(C,I=B[z++],E[I]);return C},Ie=function create(C,E){return void 0===E?ge(C):Pe(ge(C),E)},Ae=function propertyIsEnumerable(C){var E=Se.call(this,C);return!(E||!q(this,C)||!q(ke,C)||q(this,_e)&&this[_e][C])||E},Ne=function getOwnPropertyDescriptor(C,E){var I=pe(C=he(C),E);return!I||!q(ke,E)||q(C,_e)&&C[_e][E]||(I.enumerable=!0),I},De=function getOwnPropertyNames(C){for(var E,I=ve(he(C)),B=[],z=0;I.length>z;)q(ke,E=I[z++])||E==_e||B.push(E);return B},Be=function getOwnPropertySymbols(C){for(var E,I=ve(he(C)),B=[],z=0;I.length>z;)q(ke,E=I[z++])&&B.push(ke[E]);return B},Fe=ie((function(){var C=ye();return"[null]"!=Ce([C])||"{}"!=Ce({a:C})||"{}"!=Ce(Object(C))}));Te||(ye=function Symbol(){if(isSymbol(this))throw TypeError("Symbol is not a constructor");return wrap(se(arguments.length>0?arguments[0]:void 0))},te(ye.prototype,"toString",(function toString(){return this._k})),isSymbol=function(C){return C instanceof ye},B.create=Ie,B.isEnum=Ae,B.getDesc=Ne,B.setDesc=Ee,B.setDescs=Pe,B.getNames=le.get=De,B.getSymbols=Be,Q&&!I(41)&&te(Me,"propertyIsEnumerable",Ae,!0));var Oe={for:function(C){return q(xe,C+="")?xe[C]:xe[C]=ye(C)},keyFor:function keyFor(C){return ae(xe,C)},useSetter:function(){we=!0},useSimple:function(){we=!1}};B.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),(function(C){var E=oe(C);Oe[C]=Te?E:wrap(E)})),we=!0,ee(ee.G+ee.W,{Symbol:ye}),ee(ee.S,"Symbol",Oe),ee(ee.S+ee.F*!Te,"Object",{create:Ie,defineProperty:Ee,defineProperties:Pe,getOwnPropertyDescriptor:Ne,getOwnPropertyNames:De,getOwnPropertySymbols:Be}),be&&ee(ee.S+ee.F*(!Te||Fe),"JSON",{stringify:function stringify(C){if(void 0!==C&&!isSymbol(C)){for(var E,I,B=[C],z=1,q=arguments;q.length>z;)B.push(q[z++]);return"function"==typeof(E=B[1])&&(I=E),!I&&de(E)||(E=function(C,E){if(I&&(E=I.call(this,C,E)),!isSymbol(E))return E}),B[1]=E,Ce.apply(be,B)}}}),ne(ye,"Symbol"),ne(Math,"Math",!0),ne(z.JSON,"JSON",!0)},function(C,E){var I=C.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=I)},function(C,E){var I={}.hasOwnProperty;C.exports=function(C,E){return I.call(C,E)}},function(C,E,I){C.exports=!I(19)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(C,E){C.exports=function(C){try{return!!C()}catch(C){return!0}}},function(C,E,I){var B=I(16),z=I(21),q=I(22),Q="prototype",$export=function(C,E,I){var ee,te,ie,re=C&$export.F,ne=C&$export.G,se=C&$export.S,oe=C&$export.P,ae=C&$export.B,le=C&$export.W,ue=ne?z:z[E]||(z[E]={}),de=ne?B:se?B[E]:(B[E]||{})[Q];for(ee in ne&&(I=E),I)(te=!re&&de&&ee in de)&&ee in ue||(ie=te?de[ee]:I[ee],ue[ee]=ne&&"function"!=typeof de[ee]?I[ee]:ae&&te?q(ie,B):le&&de[ee]==ie?function(C){var F=function(E){return this instanceof C?new C(E):C(E)};return F[Q]=C[Q],F}(ie):oe&&"function"==typeof ie?q(Function.call,ie):ie,oe&&((ue[Q]||(ue[Q]={}))[ee]=ie))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,C.exports=$export},function(C,E){var I=C.exports={version:"1.2.6"};"number"==typeof __e&&(__e=I)},function(C,E,I){var B=I(23);C.exports=function(C,E,I){if(B(C),void 0===E)return C;switch(I){case 1:return function(I){return C.call(E,I)};case 2:return function(I,B){return C.call(E,I,B)};case 3:return function(I,B,z){return C.call(E,I,B,z)}}return function(){return C.apply(E,arguments)}}},function(C,E){C.exports=function(C){if("function"!=typeof C)throw TypeError(C+" is not a function!");return C}},function(C,E,I){C.exports=I(25)},function(C,E,I){var B=I(9),z=I(26);C.exports=I(18)?function(C,E,I){return B.setDesc(C,E,z(1,I))}:function(C,E,I){return C[E]=I,C}},function(C,E){C.exports=function(C,E){return{enumerable:!(1&C),configurable:!(2&C),writable:!(4&C),value:E}}},function(C,E,I){var B=I(16),z="__core-js_shared__",q=B[z]||(B[z]={});C.exports=function(C){return q[C]||(q[C]={})}},function(C,E,I){var B=I(9).setDesc,z=I(17),q=I(29)("toStringTag");C.exports=function(C,E,I){C&&!z(C=I?C:C.prototype,q)&&B(C,q,{configurable:!0,value:E})}},function(C,E,I){var B=I(27)("wks"),z=I(30),q=I(16).Symbol;C.exports=function(C){return B[C]||(B[C]=q&&q[C]||(q||z)("Symbol."+C))}},function(C,E){var I=0,B=Math.random();C.exports=function(C){return"Symbol(".concat(void 0===C?"":C,")_",(++I+B).toString(36))}},function(C,E,I){var B=I(9),z=I(32);C.exports=function(C,E){for(var I,q=z(C),Q=B.getKeys(q),ee=Q.length,te=0;ee>te;)if(q[I=Q[te++]]===E)return I}},function(C,E,I){var B=I(33),z=I(35);C.exports=function(C){return B(z(C))}},function(C,E,I){var B=I(34);C.exports=Object("z").propertyIsEnumerable(0)?Object:function(C){return"String"==B(C)?C.split(""):Object(C)}},function(C,E){var I={}.toString;C.exports=function(C){return I.call(C).slice(8,-1)}},function(C,E){C.exports=function(C){if(null==C)throw TypeError("Can't call method on  "+C);return C}},function(C,E,I){var B=I(32),z=I(9).getNames,q={}.toString,Q="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.get=function getOwnPropertyNames(C){return Q&&"[object Window]"==q.call(C)?function(C){try{return z(C)}catch(C){return Q.slice()}}(C):z(B(C))}},function(C,E,I){var B=I(9);C.exports=function(C){var E=B.getKeys(C),I=B.getSymbols;if(I)for(var z,q=I(C),Q=B.isEnum,ee=0;q.length>ee;)Q.call(C,z=q[ee++])&&E.push(z);return E}},function(C,E,I){var B=I(34);C.exports=Array.isArray||function(C){return"Array"==B(C)}},function(C,E,I){var B=I(40);C.exports=function(C){if(!B(C))throw TypeError(C+" is not an object!");return C}},function(C,E){C.exports=function(C){return"object"==typeof C?null!==C:"function"==typeof C}},function(C,E){C.exports=!0},function(C,E){},function(C,E,I){C.exports={default:I(44),__esModule:!0}},function(C,E,I){I(45),I(51),C.exports=I(29)("iterator")},function(C,E,I){"use strict";var B=I(46)(!0);I(48)(String,"String",(function(C){this._t=String(C),this._i=0}),(function(){var C,E=this._t,I=this._i;return I>=E.length?{value:void 0,done:!0}:(C=B(E,I),this._i+=C.length,{value:C,done:!1})}))},function(C,E,I){var B=I(47),z=I(35);C.exports=function(C){return function(E,I){var q,Q,ee=String(z(E)),te=B(I),ie=ee.length;return te<0||te>=ie?C?"":void 0:(q=ee.charCodeAt(te))<55296||q>56319||te+1===ie||(Q=ee.charCodeAt(te+1))<56320||Q>57343?C?ee.charAt(te):q:C?ee.slice(te,te+2):Q-56320+(q-55296<<10)+65536}}},function(C,E){var I=Math.ceil,B=Math.floor;C.exports=function(C){return isNaN(C=+C)?0:(C>0?B:I)(C)}},function(C,E,I){"use strict";var B=I(41),z=I(20),q=I(24),Q=I(25),ee=I(17),te=I(49),ie=I(50),re=I(28),ne=I(9).getProto,se=I(29)("iterator"),oe=!([].keys&&"next"in[].keys()),ae="@@iterator",le="keys",ue="values",returnThis=function(){return this};C.exports=function(C,E,I,de,ce,he,fe){ie(I,E,de);var pe,me,getMethod=function(C){if(!oe&&C in be)return be[C];switch(C){case le:return function keys(){return new I(this,C)};case ue:return function values(){return new I(this,C)}}return function entries(){return new I(this,C)}},ge=E+" Iterator",ve=ce==ue,ye=!1,be=C.prototype,Ce=be[se]||be[ae]||ce&&be[ce],we=Ce||getMethod(ce);if(Ce){var _e=ne(we.call(new C));re(_e,ge,!0),!B&&ee(be,ae)&&Q(_e,se,returnThis),ve&&Ce.name!==ue&&(ye=!0,we=function values(){return Ce.call(this)})}if(B&&!fe||!oe&&!ye&&be[se]||Q(be,se,we),te[E]=we,te[ge]=returnThis,ce)if(pe={values:ve?we:getMethod(ue),keys:he?we:getMethod(le),entries:ve?getMethod("entries"):we},fe)for(me in pe)me in be||q(be,me,pe[me]);else z(z.P+z.F*(oe||ye),E,pe);return pe}},function(C,E){C.exports={}},function(C,E,I){"use strict";var B=I(9),z=I(26),q=I(28),Q={};I(25)(Q,I(29)("iterator"),(function(){return this})),C.exports=function(C,E,I){C.prototype=B.create(Q,{next:z(1,I)}),q(C,E+" Iterator")}},function(C,E,I){I(52);var B=I(49);B.NodeList=B.HTMLCollection=B.Array},function(C,E,I){"use strict";var B=I(53),z=I(54),q=I(49),Q=I(32);C.exports=I(48)(Array,"Array",(function(C,E){this._t=Q(C),this._i=0,this._k=E}),(function(){var C=this._t,E=this._k,I=this._i++;return!C||I>=C.length?(this._t=void 0,z(1)):z(0,"keys"==E?I:"values"==E?C[I]:[I,C[I]])}),"values"),q.Arguments=q.Array,B("keys"),B("values"),B("entries")},function(C,E){C.exports=function(){}},function(C,E){C.exports=function(C,E){return{value:E,done:!!C}}},function(C,E,I){C.exports={default:I(56),__esModule:!0}},function(C,E,I){I(51),I(45),C.exports=I(57)},function(C,E,I){var B=I(39),z=I(58);C.exports=I(21).getIterator=function(C){var E=z(C);if("function"!=typeof E)throw TypeError(C+" is not iterable!");return B(E.call(C))}},function(C,E,I){var B=I(59),z=I(29)("iterator"),q=I(49);C.exports=I(21).getIteratorMethod=function(C){if(null!=C)return C[z]||C["@@iterator"]||q[B(C)]}},function(C,E,I){var B=I(34),z=I(29)("toStringTag"),q="Arguments"==B(function(){return arguments}());C.exports=function(C){var E,I,Q;return void 0===C?"Undefined":null===C?"Null":"string"==typeof(I=(E=Object(C))[z])?I:q?B(E):"Object"==(Q=B(E))&&"function"==typeof E.callee?"Arguments":Q}},function(C,E,I){C.exports={default:I(61),__esModule:!0}},function(C,E,I){I(62),C.exports=I(21).Object.keys},function(C,E,I){var B=I(63);I(64)("keys",(function(C){return function keys(E){return C(B(E))}}))},function(C,E,I){var B=I(35);C.exports=function(C){return Object(B(C))}},function(C,E,I){var B=I(20),z=I(21),q=I(19);C.exports=function(C,E){var I=(z.Object||{})[C]||Object[C],Q={};Q[C]=E(I),B(B.S+B.F*q((function(){I(1)})),"Object",Q)}},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0;var z=B(I(6));E.default=function(C){C.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new z.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},C.exports=E.default},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0;var z=I(5),q=B(I(6));E.default=function(C){C.registerHelper("if",(function(C,E){if(2!=arguments.length)throw new q.default("#if requires exactly one argument");return z.isFunction(C)&&(C=C.call(this)),!E.hash.includeZero&&!C||z.isEmpty(C)?E.inverse(this):E.fn(this)})),C.registerHelper("unless",(function(E,I){if(2!=arguments.length)throw new q.default("#unless requires exactly one argument");return C.helpers.if.call(this,E,{fn:I.inverse,inverse:I.fn,hash:I.hash})}))},C.exports=E.default},function(C,E){"use strict";E.__esModule=!0,E.default=function(C){C.registerHelper("log",(function(){for(var E=[void 0],I=arguments[arguments.length-1],B=0;B<arguments.length-1;B++)E.push(arguments[B]);var z=1;null!=I.hash.level?z=I.hash.level:I.data&&null!=I.data.level&&(z=I.data.level),E[0]=z,C.log.apply(C,E)}))},C.exports=E.default},function(C,E){"use strict";E.__esModule=!0,E.default=function(C){C.registerHelper("lookup",(function(C,E,I){return C?I.lookupProperty(C,E):C}))},C.exports=E.default},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0;var z=I(5),q=B(I(6));E.default=function(C){C.registerHelper("with",(function(C,E){if(2!=arguments.length)throw new q.default("#with requires exactly one argument");z.isFunction(C)&&(C=C.call(this));var I=E.fn;if(z.isEmpty(C))return E.inverse(this);var B=E.data;return E.data&&E.ids&&((B=z.createFrame(E.data)).contextPath=z.appendContextPath(E.data.contextPath,E.ids[0])),I(C,{data:B,blockParams:z.blockParams([C],[B&&B.contextPath])})}))},C.exports=E.default},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0,E.registerDefaultDecorators=function registerDefaultDecorators(C){z.default(C)};var z=B(I(71))},function(C,E,I){"use strict";E.__esModule=!0;var B=I(5);E.default=function(C){C.registerDecorator("inline",(function(C,E,I,z){var q=C;return E.partials||(E.partials={},q=function(z,q){var Q=I.partials;I.partials=B.extend({},Q,E.partials);var ee=C(z,q);return I.partials=Q,ee}),E.partials[z.args[0]]=z.fn,q}))},C.exports=E.default},function(C,E,I){"use strict";E.__esModule=!0;var B=I(5),z={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function lookupLevel(C){if("string"==typeof C){var E=B.indexOf(z.methodMap,C.toLowerCase());C=E>=0?E:parseInt(C,10)}return C},log:function log(C){if(C=z.lookupLevel(C),"undefined"!=typeof console&&z.lookupLevel(z.level)<=C){var E=z.methodMap[C];console[E]||(E="log");for(var I=arguments.length,B=Array(I>1?I-1:0),q=1;q<I;q++)B[q-1]=arguments[q]}}};E.default=z,C.exports=E.default},function(C,E,I){"use strict";var B=I(74).default,z=I(60).default,q=I(1).default;E.__esModule=!0,E.createProtoAccessControl=function createProtoAccessControl(C){var E=B(null);E.constructor=!1,E.__defineGetter__=!1,E.__defineSetter__=!1,E.__lookupGetter__=!1;var I=B(null);return I.__proto__=!1,{properties:{whitelist:Q.createNewLookupObject(I,C.allowedProtoProperties),defaultValue:C.allowProtoPropertiesByDefault},methods:{whitelist:Q.createNewLookupObject(E,C.allowedProtoMethods),defaultValue:C.allowProtoMethodsByDefault}}},E.resultIsAllowed=function resultIsAllowed(C,E,I){return checkWhiteList("function"==typeof C?E.methods:E.properties,I)},E.resetLoggedProperties=function resetLoggedProperties(){z(te).forEach((function(C){delete te[C]}))};var Q=I(76),ee=q(I(72)),te=B(null);function checkWhiteList(C,E){return void 0!==C.whitelist[E]?!0===C.whitelist[E]:void 0!==C.defaultValue?C.defaultValue:(function logUnexpecedPropertyAccessOnce(C){!0!==te[C]&&(te[C]=!0,ee.default.log("error",'Handlebars: Access has been denied to resolve the property "'+C+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(E),!1)}},function(C,E,I){C.exports={default:I(75),__esModule:!0}},function(C,E,I){var B=I(9);C.exports=function create(C,E){return B.create(C,E)}},function(C,E,I){"use strict";var B=I(74).default;E.__esModule=!0,E.createNewLookupObject=function createNewLookupObject(){for(var C=arguments.length,E=Array(C),I=0;I<C;I++)E[I]=arguments[I];return z.extend.apply(void 0,[B(null)].concat(E))};var z=I(5)},function(C,E){"use strict";function SafeString(C){this.string=C}E.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},E.default=SafeString,C.exports=E.default},function(C,E,I){"use strict";var B=I(79).default,z=I(60).default,q=I(3).default,Q=I(1).default;E.__esModule=!0,E.checkRevision=function checkRevision(C){var E=C&&C[0]||1,I=ie.COMPILER_REVISION;if(E>=ie.LAST_COMPATIBLE_COMPILER_REVISION&&E<=ie.COMPILER_REVISION)return;if(E<ie.LAST_COMPATIBLE_COMPILER_REVISION){var B=ie.REVISION_CHANGES[I],z=ie.REVISION_CHANGES[E];throw new te.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+B+") or downgrade your runtime to an older version ("+z+").")}throw new te.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+C[1]+").")},E.template=function template(C,E){if(!E)throw new te.default("No environment passed to template");if(!C||!C.main)throw new te.default("Unknown template object: "+typeof C);C.main.decorator=C.main_d,E.VM.checkRevision(C.compiler);var I=C.compiler&&7===C.compiler[0];var q={strict:function strict(C,E,I){if(!C||!(E in C))throw new te.default('"'+E+'" not defined in '+C,{loc:I});return q.lookupProperty(C,E)},lookupProperty:function lookupProperty(C,E){var I=C[E];return null==I||Object.prototype.hasOwnProperty.call(C,E)||se.resultIsAllowed(I,q.protoAccessControl,E)?I:void 0},lookup:function lookup(C,E){for(var I=C.length,B=0;B<I;B++){if(null!=(C[B]&&q.lookupProperty(C[B],E)))return C[B][E]}},lambda:function lambda(C,E){return"function"==typeof C?C.call(E):C},escapeExpression:ee.escapeExpression,invokePartial:function invokePartialWrapper(I,B,z){z.hash&&(B=ee.extend({},B,z.hash),z.ids&&(z.ids[0]=!0)),I=E.VM.resolvePartial.call(this,I,B,z);var q=ee.extend({},z,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),Q=E.VM.invokePartial.call(this,I,B,q);if(null==Q&&E.compile&&(z.partials[z.name]=E.compile(I,C.compilerOptions,E),Q=z.partials[z.name](B,q)),null!=Q){if(z.indent){for(var ie=Q.split("\n"),re=0,ne=ie.length;re<ne&&(ie[re]||re+1!==ne);re++)ie[re]=z.indent+ie[re];Q=ie.join("\n")}return Q}throw new te.default("The partial "+z.name+" could not be compiled when running in runtime-only mode")},fn:function fn(E){var I=C[E];return I.decorator=C[E+"_d"],I},programs:[],program:function program(C,E,I,B,z){var q=this.programs[C],Q=this.fn(C);return E||z||B||I?q=wrapProgram(this,C,Q,E,I,B,z):q||(q=this.programs[C]=wrapProgram(this,C,Q)),q},data:function data(C,E){for(;C&&E--;)C=C._parent;return C},mergeIfNeeded:function mergeIfNeeded(C,E){var I=C||E;return C&&E&&C!==E&&(I=ee.extend({},E,C)),I},nullContext:B({}),noop:E.VM.noop,compilerInfo:C.compiler};function ret(E){var I=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],B=I.data;ret._setup(I),!I.partial&&C.useData&&(B=function initData(C,E){E&&"root"in E||((E=E?ie.createFrame(E):{}).root=C);return E}(E,B));var z=void 0,Q=C.useBlockParams?[]:void 0;function main(E){return""+C.main(q,E,q.helpers,q.partials,B,Q,z)}return C.useDepths&&(z=I.depths?E!=I.depths[0]?[E].concat(I.depths):I.depths:[E]),(main=executeDecorators(C.main,main,q,I.depths||[],B,Q))(E,I)}return ret.isTop=!0,ret._setup=function(B){if(B.partial)q.protoAccessControl=B.protoAccessControl,q.helpers=B.helpers,q.partials=B.partials,q.decorators=B.decorators,q.hooks=B.hooks;else{var Q=ee.extend({},E.helpers,B.helpers);!function wrapHelpersToPassLookupProperty(C,E){z(C).forEach((function(I){var B=C[I];C[I]=function passLookupPropertyOption(C,E){var I=E.lookupProperty;return ne.wrapHelper(C,(function(C){return ee.extend({lookupProperty:I},C)}))}(B,E)}))}(Q,q),q.helpers=Q,C.usePartial&&(q.partials=q.mergeIfNeeded(B.partials,E.partials)),(C.usePartial||C.useDecorators)&&(q.decorators=ee.extend({},E.decorators,B.decorators)),q.hooks={},q.protoAccessControl=se.createProtoAccessControl(B);var te=B.allowCallsToHelperMissing||I;re.moveHelperToHooks(q,"helperMissing",te),re.moveHelperToHooks(q,"blockHelperMissing",te)}},ret._child=function(E,I,B,z){if(C.useBlockParams&&!B)throw new te.default("must pass block params");if(C.useDepths&&!z)throw new te.default("must pass parent depths");return wrapProgram(q,E,C[E],I,0,B,z)},ret},E.wrapProgram=wrapProgram,E.resolvePartial=function resolvePartial(C,E,I){C?C.call||I.name||(I.name=C,C=I.partials[C]):C="@partial-block"===I.name?I.data["partial-block"]:I.partials[I.name];return C},E.invokePartial=function invokePartial(C,E,I){var B=I.data&&I.data["partial-block"];I.partial=!0,I.ids&&(I.data.contextPath=I.ids[0]||I.data.contextPath);var z=void 0;I.fn&&I.fn!==noop&&function(){I.data=ie.createFrame(I.data);var C=I.fn;z=I.data["partial-block"]=function partialBlockWrapper(E){var I=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return I.data=ie.createFrame(I.data),I.data["partial-block"]=B,C(E,I)},C.partials&&(I.partials=ee.extend({},I.partials,C.partials))}();void 0===C&&z&&(C=z);if(void 0===C)throw new te.default("The partial "+I.name+" could not be found");if(C instanceof Function)return C(E,I)},E.noop=noop;var ee=q(I(5)),te=Q(I(6)),ie=I(4),re=I(10),ne=I(82),se=I(73);function wrapProgram(C,E,I,B,z,q,Q){function prog(E){var z=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],ee=Q;return!Q||E==Q[0]||E===C.nullContext&&null===Q[0]||(ee=[E].concat(Q)),I(C,E,C.helpers,C.partials,z.data||B,q&&[z.blockParams].concat(q),ee)}return(prog=executeDecorators(I,prog,C,Q,B,q)).program=E,prog.depth=Q?Q.length:0,prog.blockParams=z||0,prog}function noop(){return""}function executeDecorators(C,E,I,B,z,q){if(C.decorator){var Q={};E=C.decorator(E,Q,I,B&&B[0],z,q,B),ee.extend(E,Q)}return E}},function(C,E,I){C.exports={default:I(80),__esModule:!0}},function(C,E,I){I(81),C.exports=I(21).Object.seal},function(C,E,I){var B=I(40);I(64)("seal",(function(C){return function seal(E){return C&&B(E)?C(E):E}}))},function(C,E){"use strict";E.__esModule=!0,E.wrapHelper=function wrapHelper(C,E){if("function"!=typeof C)return C;return function wrapper(){return arguments[arguments.length-1]=E(arguments[arguments.length-1]),C.apply(this,arguments)}}},function(C,E){"use strict";E.__esModule=!0,E.default=function(C){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",(function(){return this})),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var E=globalThis.Handlebars;C.noConflict=function(){return globalThis.Handlebars===C&&(globalThis.Handlebars=E),C}},C.exports=E.default},function(C,E){"use strict";E.__esModule=!0;var I={helpers:{helperExpression:function helperExpression(C){return"SubExpression"===C.type||("MustacheStatement"===C.type||"BlockStatement"===C.type)&&!!(C.params&&C.params.length||C.hash)},scopedId:function scopedId(C){return/^\.|this\b/.test(C.original)},simpleId:function simpleId(C){return 1===C.parts.length&&!I.helpers.scopedId(C)&&!C.depth}}};E.default=I,C.exports=E.default},function(C,E,I){"use strict";var B=I(1).default,z=I(3).default;E.__esModule=!0,E.parseWithoutProcessing=parseWithoutProcessing,E.parse=function parse(C,E){var I=parseWithoutProcessing(C,E);return new Q.default(E).accept(I)};var q=B(I(86)),Q=B(I(87)),ee=z(I(89)),te=I(5);E.parser=q.default;var ie={};function parseWithoutProcessing(C,E){return"Program"===C.type?C:(q.default.yy=ie,ie.locInfo=function(C){return new ie.SourceLocation(E&&E.srcName,C)},q.default.parse(C))}te.extend(ie,ee)},function(C,E){"use strict";E.__esModule=!0;var I=function(){var C={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function anonymous(C,E,I,B,z,q,Q){var ee=q.length-1;switch(z){case 1:return q[ee-1];case 2:this.$=B.prepareProgram(q[ee]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=q[ee];break;case 9:this.$={type:"CommentStatement",value:B.stripComment(q[ee]),strip:B.stripFlags(q[ee],q[ee]),loc:B.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:q[ee],value:q[ee],loc:B.locInfo(this._$)};break;case 11:this.$=B.prepareRawBlock(q[ee-2],q[ee-1],q[ee],this._$);break;case 12:this.$={path:q[ee-3],params:q[ee-2],hash:q[ee-1]};break;case 13:this.$=B.prepareBlock(q[ee-3],q[ee-2],q[ee-1],q[ee],!1,this._$);break;case 14:this.$=B.prepareBlock(q[ee-3],q[ee-2],q[ee-1],q[ee],!0,this._$);break;case 15:this.$={open:q[ee-5],path:q[ee-4],params:q[ee-3],hash:q[ee-2],blockParams:q[ee-1],strip:B.stripFlags(q[ee-5],q[ee])};break;case 16:case 17:this.$={path:q[ee-4],params:q[ee-3],hash:q[ee-2],blockParams:q[ee-1],strip:B.stripFlags(q[ee-5],q[ee])};break;case 18:this.$={strip:B.stripFlags(q[ee-1],q[ee-1]),program:q[ee]};break;case 19:var te=B.prepareBlock(q[ee-2],q[ee-1],q[ee],q[ee],!1,this._$),ie=B.prepareProgram([te],q[ee-1].loc);ie.chained=!0,this.$={strip:q[ee-2].strip,program:ie,chain:!0};break;case 21:this.$={path:q[ee-1],strip:B.stripFlags(q[ee-2],q[ee])};break;case 22:case 23:this.$=B.prepareMustache(q[ee-3],q[ee-2],q[ee-1],q[ee-4],B.stripFlags(q[ee-4],q[ee]),this._$);break;case 24:this.$={type:"PartialStatement",name:q[ee-3],params:q[ee-2],hash:q[ee-1],indent:"",strip:B.stripFlags(q[ee-4],q[ee]),loc:B.locInfo(this._$)};break;case 25:this.$=B.preparePartialBlock(q[ee-2],q[ee-1],q[ee],this._$);break;case 26:this.$={path:q[ee-3],params:q[ee-2],hash:q[ee-1],strip:B.stripFlags(q[ee-4],q[ee])};break;case 29:this.$={type:"SubExpression",path:q[ee-3],params:q[ee-2],hash:q[ee-1],loc:B.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:q[ee],loc:B.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:B.id(q[ee-2]),value:q[ee],loc:B.locInfo(this._$)};break;case 32:this.$=B.id(q[ee-1]);break;case 35:this.$={type:"StringLiteral",value:q[ee],original:q[ee],loc:B.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(q[ee]),original:Number(q[ee]),loc:B.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===q[ee],original:"true"===q[ee],loc:B.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:B.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:B.locInfo(this._$)};break;case 42:this.$=B.preparePath(!0,q[ee],this._$);break;case 43:this.$=B.preparePath(!1,q[ee],this._$);break;case 44:q[ee-2].push({part:B.id(q[ee]),original:q[ee],separator:q[ee-1]}),this.$=q[ee-2];break;case 45:this.$=[{part:B.id(q[ee]),original:q[ee]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:q[ee-1].push(q[ee]);break;case 98:case 100:this.$=[q[ee]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function parseError(C,E){throw new Error(C)},parse:function parse(C){var E=this,I=[0],B=[null],z=[],q=this.table,Q="",ee=0,te=0,ie=0;this.lexer.setInput(C),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var re=this.lexer.yylloc;z.push(re);var ne=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var se,oe,ae,le,ue,de,ce,he,fe,pe,me={};;){if(ae=I[I.length-1],this.defaultActions[ae]?le=this.defaultActions[ae]:(null==se&&(pe=void 0,"number"!=typeof(pe=E.lexer.lex()||1)&&(pe=E.symbols_[pe]||pe),se=pe),le=q[ae]&&q[ae][se]),void 0===le||!le.length||!le[0]){var ge="";if(!ie){for(de in fe=[],q[ae])this.terminals_[de]&&de>2&&fe.push("'"+this.terminals_[de]+"'");ge=this.lexer.showPosition?"Parse error on line "+(ee+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+fe.join(", ")+", got '"+(this.terminals_[se]||se)+"'":"Parse error on line "+(ee+1)+": Unexpected "+(1==se?"end of input":"'"+(this.terminals_[se]||se)+"'"),this.parseError(ge,{text:this.lexer.match,token:this.terminals_[se]||se,line:this.lexer.yylineno,loc:re,expected:fe})}}if(le[0]instanceof Array&&le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ae+", token: "+se);switch(le[0]){case 1:I.push(se),B.push(this.lexer.yytext),z.push(this.lexer.yylloc),I.push(le[1]),se=null,oe?(se=oe,oe=null):(te=this.lexer.yyleng,Q=this.lexer.yytext,ee=this.lexer.yylineno,re=this.lexer.yylloc,ie>0&&ie--);break;case 2:if(ce=this.productions_[le[1]][1],me.$=B[B.length-ce],me._$={first_line:z[z.length-(ce||1)].first_line,last_line:z[z.length-1].last_line,first_column:z[z.length-(ce||1)].first_column,last_column:z[z.length-1].last_column},ne&&(me._$.range=[z[z.length-(ce||1)].range[0],z[z.length-1].range[1]]),void 0!==(ue=this.performAction.call(me,Q,te,ee,this.yy,le[1],B,z)))return ue;ce&&(I=I.slice(0,-1*ce*2),B=B.slice(0,-1*ce),z=z.slice(0,-1*ce)),I.push(this.productions_[le[1]][0]),B.push(me.$),z.push(me._$),he=q[I[I.length-2]][I[I.length-1]],I.push(he);break;case 3:return!0}}return!0}},E=function(){var C={EOF:1,parseError:function parseError(C,E){if(!this.yy.parser)throw new Error(C);this.yy.parser.parseError(C,E)},setInput:function setInput(C){return this._input=C,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function input(){var C=this._input[0];return this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C,C.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},unput:function unput(C){var E=C.length,I=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E-1),this.offset-=E;var B=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===B.length?this.yylloc.first_column:0)+B[B.length-I.length].length-I[0].length:this.yylloc.first_column-E},this.options.ranges&&(this.yylloc.range=[z[0],z[0]+this.yyleng-E]),this},more:function more(){return this._more=!0,this},less:function less(C){this.unput(this.match.slice(C))},pastInput:function pastInput(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var C=this.pastInput(),E=new Array(C.length+1).join("-");return C+this.upcomingInput()+"\n"+E+"^"},next:function next(){if(this.done)return this.EOF;var C,E,I,B,z;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var q=this._currentRules(),Q=0;Q<q.length&&(!(I=this._input.match(this.rules[q[Q]]))||E&&!(I[0].length>E[0].length)||(E=I,B=Q,this.options.flex));Q++);return E?((z=E[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],C=this.performAction.call(this,this.yy,this,q[B],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var C=this.next();return void 0!==C?C:this.lex()},begin:function begin(C){this.conditionStack.push(C)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function topState(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(C){this.begin(C)},options:{},performAction:function anonymous(C,E,I,B){function strip(C,I){return E.yytext=E.yytext.substring(C,E.yyleng-I+C)}switch(I){case 0:if("\\\\"===E.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===E.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),E.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(strip(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(E.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return E.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return E.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return E.yytext=E.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return C}();function Parser(){this.yy={}}return C.lexer=E,Parser.prototype=C,C.Parser=Parser,new Parser}();E.default=I,C.exports=E.default},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0;var z=B(I(88));function WhitespaceControl(){var C=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=C}function isPrevWhitespace(C,E,I){void 0===E&&(E=C.length);var B=C[E-1],z=C[E-2];return B?"ContentStatement"===B.type?(z||!I?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(B.original):void 0:I}function isNextWhitespace(C,E,I){void 0===E&&(E=-1);var B=C[E+1],z=C[E+2];return B?"ContentStatement"===B.type?(z||!I?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(B.original):void 0:I}function omitRight(C,E,I){var B=C[null==E?0:E+1];if(B&&"ContentStatement"===B.type&&(I||!B.rightStripped)){var z=B.value;B.value=B.value.replace(I?/^\s+/:/^[ \t]*\r?\n?/,""),B.rightStripped=B.value!==z}}function omitLeft(C,E,I){var B=C[null==E?C.length-1:E-1];if(B&&"ContentStatement"===B.type&&(I||!B.leftStripped)){var z=B.value;return B.value=B.value.replace(I?/\s+$/:/[ \t]+$/,""),B.leftStripped=B.value!==z,B.leftStripped}}WhitespaceControl.prototype=new z.default,WhitespaceControl.prototype.Program=function(C){var E=!this.options.ignoreStandalone,I=!this.isRootSeen;this.isRootSeen=!0;for(var B=C.body,z=0,q=B.length;z<q;z++){var Q=B[z],ee=this.accept(Q);if(ee){var te=isPrevWhitespace(B,z,I),ie=isNextWhitespace(B,z,I),re=ee.openStandalone&&te,ne=ee.closeStandalone&&ie,se=ee.inlineStandalone&&te&&ie;ee.close&&omitRight(B,z,!0),ee.open&&omitLeft(B,z,!0),E&&se&&(omitRight(B,z),omitLeft(B,z)&&"PartialStatement"===Q.type&&(Q.indent=/([ \t]+$)/.exec(B[z-1].original)[1])),E&&re&&(omitRight((Q.program||Q.inverse).body),omitLeft(B,z)),E&&ne&&(omitRight(B,z),omitLeft((Q.inverse||Q.program).body))}}return C},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(C){this.accept(C.program),this.accept(C.inverse);var E=C.program||C.inverse,I=C.program&&C.inverse,B=I,z=I;if(I&&I.chained)for(B=I.body[0].program;z.chained;)z=z.body[z.body.length-1].program;var q={open:C.openStrip.open,close:C.closeStrip.close,openStandalone:isNextWhitespace(E.body),closeStandalone:isPrevWhitespace((B||E).body)};if(C.openStrip.close&&omitRight(E.body,null,!0),I){var Q=C.inverseStrip;Q.open&&omitLeft(E.body,null,!0),Q.close&&omitRight(B.body,null,!0),C.closeStrip.open&&omitLeft(z.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(E.body)&&isNextWhitespace(B.body)&&(omitLeft(E.body),omitRight(B.body))}else C.closeStrip.open&&omitLeft(E.body,null,!0);return q},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(C){return C.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(C){var E=C.strip||{};return{inlineStandalone:!0,open:E.open,close:E.close}},E.default=WhitespaceControl,C.exports=E.default},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0;var z=B(I(6));function Visitor(){this.parents=[]}function visitSubExpression(C){this.acceptRequired(C,"path"),this.acceptArray(C.params),this.acceptKey(C,"hash")}function visitBlock(C){visitSubExpression.call(this,C),this.acceptKey(C,"program"),this.acceptKey(C,"inverse")}function visitPartial(C){this.acceptRequired(C,"name"),this.acceptArray(C.params),this.acceptKey(C,"hash")}Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function acceptKey(C,E){var I=this.accept(C[E]);if(this.mutating){if(I&&!Visitor.prototype[I.type])throw new z.default('Unexpected node type "'+I.type+'" found when accepting '+E+" on "+C.type);C[E]=I}},acceptRequired:function acceptRequired(C,E){if(this.acceptKey(C,E),!C[E])throw new z.default(C.type+" requires "+E)},acceptArray:function acceptArray(C){for(var E=0,I=C.length;E<I;E++)this.acceptKey(C,E),C[E]||(C.splice(E,1),E--,I--)},accept:function accept(C){if(C){if(!this[C.type])throw new z.default("Unknown type: "+C.type,C);this.current&&this.parents.unshift(this.current),this.current=C;var E=this[C.type](C);return this.current=this.parents.shift(),!this.mutating||E?E:!1!==E?C:void 0}},Program:function Program(C){this.acceptArray(C.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function PartialBlockStatement(C){visitPartial.call(this,C),this.acceptKey(C,"program")},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:visitSubExpression,PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(C){this.acceptArray(C.pairs)},HashPair:function HashPair(C){this.acceptRequired(C,"value")}},E.default=Visitor,C.exports=E.default},function(C,E,I){"use strict";var B=I(1).default;E.__esModule=!0,E.SourceLocation=function SourceLocation(C,E){this.source=C,this.start={line:E.first_line,column:E.first_column},this.end={line:E.last_line,column:E.last_column}},E.id=function id(C){return/^\[.*\]$/.test(C)?C.substring(1,C.length-1):C},E.stripFlags=function stripFlags(C,E){return{open:"~"===C.charAt(2),close:"~"===E.charAt(E.length-3)}},E.stripComment=function stripComment(C){return C.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},E.preparePath=function preparePath(C,E,I){I=this.locInfo(I);for(var B=C?"@":"",q=[],Q=0,ee=0,te=E.length;ee<te;ee++){var ie=E[ee].part,re=E[ee].original!==ie;if(B+=(E[ee].separator||"")+ie,re||".."!==ie&&"."!==ie&&"this"!==ie)q.push(ie);else{if(q.length>0)throw new z.default("Invalid path: "+B,{loc:I});".."===ie&&Q++}}return{type:"PathExpression",data:C,depth:Q,parts:q,original:B,loc:I}},E.prepareMustache=function prepareMustache(C,E,I,B,z,q){var Q=B.charAt(3)||B.charAt(2),ee="{"!==Q&&"&"!==Q;return{type:/\*/.test(B)?"Decorator":"MustacheStatement",path:C,params:E,hash:I,escaped:ee,strip:z,loc:this.locInfo(q)}},E.prepareRawBlock=function prepareRawBlock(C,E,I,B){validateClose(C,I),B=this.locInfo(B);var z={type:"Program",body:E,strip:{},loc:B};return{type:"BlockStatement",path:C.path,params:C.params,hash:C.hash,program:z,openStrip:{},inverseStrip:{},closeStrip:{},loc:B}},E.prepareBlock=function prepareBlock(C,E,I,B,q,Q){B&&B.path&&validateClose(C,B);var ee=/\*/.test(C.open);E.blockParams=C.blockParams;var te=void 0,ie=void 0;if(I){if(ee)throw new z.default("Unexpected inverse block on decorator",I);I.chain&&(I.program.body[0].closeStrip=B.strip),ie=I.strip,te=I.program}q&&(q=te,te=E,E=q);return{type:ee?"DecoratorBlock":"BlockStatement",path:C.path,params:C.params,hash:C.hash,program:E,inverse:te,openStrip:C.strip,inverseStrip:ie,closeStrip:B&&B.strip,loc:this.locInfo(Q)}},E.prepareProgram=function prepareProgram(C,E){if(!E&&C.length){var I=C[0].loc,B=C[C.length-1].loc;I&&B&&(E={source:I.source,start:{line:I.start.line,column:I.start.column},end:{line:B.end.line,column:B.end.column}})}return{type:"Program",body:C,strip:{},loc:E}},E.preparePartialBlock=function preparePartialBlock(C,E,I,B){return validateClose(C,I),{type:"PartialBlockStatement",name:C.path,params:C.params,hash:C.hash,program:E,openStrip:C.strip,closeStrip:I&&I.strip,loc:this.locInfo(B)}};var z=B(I(6));function validateClose(C,E){if(E=E.path?E.path.original:E,C.path.original!==E){var I={loc:C.path.loc};throw new z.default(C.path.original+" doesn't match "+E,I)}}},function(C,E,I){"use strict";var B=I(74).default,z=I(1).default;E.__esModule=!0,E.Compiler=Compiler,E.precompile=function precompile(C,E,I){if(null==C||"string"!=typeof C&&"Program"!==C.type)throw new q.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+C);"data"in(E=E||{})||(E.data=!0);E.compat&&(E.useDepths=!0);var B=I.parse(C,E),z=(new I.Compiler).compile(B,E);return(new I.JavaScriptCompiler).compile(z,E)},E.compile=function compile(C,E,I){void 0===E&&(E={});if(null==C||"string"!=typeof C&&"Program"!==C.type)throw new q.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+C);"data"in(E=Q.extend({},E))||(E.data=!0);E.compat&&(E.useDepths=!0);var B=void 0;function compileInput(){var B=I.parse(C,E),z=(new I.Compiler).compile(B,E),q=(new I.JavaScriptCompiler).compile(z,E,void 0,!0);return I.template(q)}function ret(C,E){return B||(B=compileInput()),B.call(this,C,E)}return ret._setup=function(C){return B||(B=compileInput()),B._setup(C)},ret._child=function(C,E,I,z){return B||(B=compileInput()),B._child(C,E,I,z)},ret};var q=z(I(6)),Q=I(5),ee=z(I(84)),te=[].slice;function Compiler(){}function argEquals(C,E){if(C===E)return!0;if(Q.isArray(C)&&Q.isArray(E)&&C.length===E.length){for(var I=0;I<C.length;I++)if(!argEquals(C[I],E[I]))return!1;return!0}}function transformLiteralToPath(C){if(!C.path.parts){var E=C.path;C.path={type:"PathExpression",data:!1,depth:0,parts:[E.original+""],original:E.original+"",loc:E.loc}}}Compiler.prototype={compiler:Compiler,equals:function equals(C){var E=this.opcodes.length;if(C.opcodes.length!==E)return!1;for(var I=0;I<E;I++){var B=this.opcodes[I],z=C.opcodes[I];if(B.opcode!==z.opcode||!argEquals(B.args,z.args))return!1}E=this.children.length;for(I=0;I<E;I++)if(!this.children[I].equals(C.children[I]))return!1;return!0},guid:0,compile:function compile(C,E){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=E,this.stringParams=E.stringParams,this.trackIds=E.trackIds,E.blockParams=E.blockParams||[],E.knownHelpers=Q.extend(B(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},E.knownHelpers),this.accept(C)},compileProgram:function compileProgram(C){var E=(new this.compiler).compile(C,this.options),I=this.guid++;return this.usePartial=this.usePartial||E.usePartial,this.children[I]=E,this.useDepths=this.useDepths||E.useDepths,I},accept:function accept(C){if(!this[C.type])throw new q.default("Unknown type: "+C.type,C);this.sourceNode.unshift(C);var E=this[C.type](C);return this.sourceNode.shift(),E},Program:function Program(C){this.options.blockParams.unshift(C.blockParams);for(var E=C.body,I=E.length,B=0;B<I;B++)this.accept(E[B]);return this.options.blockParams.shift(),this.isSimple=1===I,this.blockParams=C.blockParams?C.blockParams.length:0,this},BlockStatement:function BlockStatement(C){transformLiteralToPath(C);var E=C.program,I=C.inverse;E=E&&this.compileProgram(E),I=I&&this.compileProgram(I);var B=this.classifySexpr(C);"helper"===B?this.helperSexpr(C,E,I):"simple"===B?(this.simpleSexpr(C),this.opcode("pushProgram",E),this.opcode("pushProgram",I),this.opcode("emptyHash"),this.opcode("blockValue",C.path.original)):(this.ambiguousSexpr(C,E,I),this.opcode("pushProgram",E),this.opcode("pushProgram",I),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function DecoratorBlock(C){var E=C.program&&this.compileProgram(C.program),I=this.setupFullMustacheParams(C,E,void 0),B=C.path;this.useDecorators=!0,this.opcode("registerDecorator",I.length,B.original)},PartialStatement:function PartialStatement(C){this.usePartial=!0;var E=C.program;E&&(E=this.compileProgram(C.program));var I=C.params;if(I.length>1)throw new q.default("Unsupported number of partial arguments: "+I.length,C);I.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):I.push({type:"PathExpression",parts:[],depth:0}));var B=C.name.original,z="SubExpression"===C.name.type;z&&this.accept(C.name),this.setupFullMustacheParams(C,E,void 0,!0);var Q=C.indent||"";this.options.preventIndent&&Q&&(this.opcode("appendContent",Q),Q=""),this.opcode("invokePartial",z,B,Q),this.opcode("append")},PartialBlockStatement:function PartialBlockStatement(C){this.PartialStatement(C)},MustacheStatement:function MustacheStatement(C){this.SubExpression(C),C.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function Decorator(C){this.DecoratorBlock(C)},ContentStatement:function ContentStatement(C){C.value&&this.opcode("appendContent",C.value)},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(C){transformLiteralToPath(C);var E=this.classifySexpr(C);"simple"===E?this.simpleSexpr(C):"helper"===E?this.helperSexpr(C):this.ambiguousSexpr(C)},ambiguousSexpr:function ambiguousSexpr(C,E,I){var B=C.path,z=B.parts[0],q=null!=E||null!=I;this.opcode("getContext",B.depth),this.opcode("pushProgram",E),this.opcode("pushProgram",I),B.strict=!0,this.accept(B),this.opcode("invokeAmbiguous",z,q)},simpleSexpr:function simpleSexpr(C){var E=C.path;E.strict=!0,this.accept(E),this.opcode("resolvePossibleLambda")},helperSexpr:function helperSexpr(C,E,I){var B=this.setupFullMustacheParams(C,E,I),z=C.path,Q=z.parts[0];if(this.options.knownHelpers[Q])this.opcode("invokeKnownHelper",B.length,Q);else{if(this.options.knownHelpersOnly)throw new q.default("You specified knownHelpersOnly, but used the unknown helper "+Q,C);z.strict=!0,z.falsy=!0,this.accept(z),this.opcode("invokeHelper",B.length,z.original,ee.default.helpers.simpleId(z))}},PathExpression:function PathExpression(C){this.addDepth(C.depth),this.opcode("getContext",C.depth);var E=C.parts[0],I=ee.default.helpers.scopedId(C),B=!C.depth&&!I&&this.blockParamIndex(E);B?this.opcode("lookupBlockParam",B,C.parts):E?C.data?(this.options.data=!0,this.opcode("lookupData",C.depth,C.parts,C.strict)):this.opcode("lookupOnContext",C.parts,C.falsy,C.strict,I):this.opcode("pushContext")},StringLiteral:function StringLiteral(C){this.opcode("pushString",C.value)},NumberLiteral:function NumberLiteral(C){this.opcode("pushLiteral",C.value)},BooleanLiteral:function BooleanLiteral(C){this.opcode("pushLiteral",C.value)},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined")},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null")},Hash:function Hash(C){var E=C.pairs,I=0,B=E.length;for(this.opcode("pushHash");I<B;I++)this.pushParam(E[I].value);for(;I--;)this.opcode("assignToHash",E[I].key);this.opcode("popHash")},opcode:function opcode(C){this.opcodes.push({opcode:C,args:te.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function addDepth(C){C&&(this.useDepths=!0)},classifySexpr:function classifySexpr(C){var E=ee.default.helpers.simpleId(C.path),I=E&&!!this.blockParamIndex(C.path.parts[0]),B=!I&&ee.default.helpers.helperExpression(C),z=!I&&(B||E);if(z&&!B){var q=C.path.parts[0],Q=this.options;Q.knownHelpers[q]?B=!0:Q.knownHelpersOnly&&(z=!1)}return B?"helper":z?"ambiguous":"simple"},pushParams:function pushParams(C){for(var E=0,I=C.length;E<I;E++)this.pushParam(C[E])},pushParam:function pushParam(C){var E=null!=C.value?C.value:C.original||"";if(this.stringParams)E.replace&&(E=E.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),C.depth&&this.addDepth(C.depth),this.opcode("getContext",C.depth||0),this.opcode("pushStringParam",E,C.type),"SubExpression"===C.type&&this.accept(C);else{if(this.trackIds){var I=void 0;if(!C.parts||ee.default.helpers.scopedId(C)||C.depth||(I=this.blockParamIndex(C.parts[0])),I){var B=C.parts.slice(1).join(".");this.opcode("pushId","BlockParam",I,B)}else(E=C.original||E).replace&&(E=E.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",C.type,E)}this.accept(C)}},setupFullMustacheParams:function setupFullMustacheParams(C,E,I,B){var z=C.params;return this.pushParams(z),this.opcode("pushProgram",E),this.opcode("pushProgram",I),C.hash?this.accept(C.hash):this.opcode("emptyHash",B),z},blockParamIndex:function blockParamIndex(C){for(var E=0,I=this.options.blockParams.length;E<I;E++){var B=this.options.blockParams[E],z=B&&Q.indexOf(B,C);if(B&&z>=0)return[E,z]}}}},function(C,E,I){"use strict";var B=I(60).default,z=I(1).default;E.__esModule=!0;var q=I(4),Q=z(I(6)),ee=I(5),te=z(I(92));function Literal(C){this.value=C}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function nameLookup(C,E){return this.internalNameLookup(C,E)},depthedLookup:function depthedLookup(C){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(C),")"]},compilerInfo:function compilerInfo(){var C=q.COMPILER_REVISION;return[C,q.REVISION_CHANGES[C]]},appendToBuffer:function appendToBuffer(C,E,I){return ee.isArray(C)||(C=[C]),C=this.source.wrap(C,E),this.environment.isSimple?["return ",C,";"]:I?["buffer += ",C,";"]:(C.appendToBuffer=!0,C)},initializeBuffer:function initializeBuffer(){return this.quotedString("")},internalNameLookup:function internalNameLookup(C,E){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",C,",",JSON.stringify(E),")"]},lookupPropertyFunctionIsUsed:!1,compile:function compile(C,E,I,B){this.environment=C,this.options=E,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!B,this.name=this.environment.name,this.isChild=!!I,this.context=I||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(C,E),this.useDepths=this.useDepths||C.useDepths||C.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||C.useBlockParams;var z=C.opcodes,q=void 0,ee=void 0,te=void 0,ie=void 0;for(te=0,ie=z.length;te<ie;te++)q=z[te],this.source.currentLocation=q.loc,ee=ee||q.loc,this[q.opcode].apply(this,q.args);if(this.source.currentLocation=ee,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new Q.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),B?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var re=this.createFunctionContext(B);if(this.isChild)return re;var ne={compiler:this.compilerInfo(),main:re};this.decorators&&(ne.main_d=this.decorators,ne.useDecorators=!0);var se=this.context,oe=se.programs,ae=se.decorators;for(te=0,ie=oe.length;te<ie;te++)oe[te]&&(ne[te]=oe[te],ae[te]&&(ne[te+"_d"]=ae[te],ne.useDecorators=!0));return this.environment.usePartial&&(ne.usePartial=!0),this.options.data&&(ne.useData=!0),this.useDepths&&(ne.useDepths=!0),this.useBlockParams&&(ne.useBlockParams=!0),this.options.compat&&(ne.compat=!0),B?ne.compilerOptions=this.options:(ne.compiler=JSON.stringify(ne.compiler),this.source.currentLocation={start:{line:1,column:0}},ne=this.objectLiteral(ne),E.srcName?(ne=ne.toStringWithSourceMap({file:E.destName})).map=ne.map&&ne.map.toString():ne=ne.toString()),ne},preamble:function preamble(){this.lastContext=0,this.source=new te.default(this.options.srcName),this.decorators=new te.default(this.options.srcName)},createFunctionContext:function createFunctionContext(C){var E=this,I="",z=this.stackVars.concat(this.registers.list);z.length>0&&(I+=", "+z.join(", "));var q=0;B(this.aliases).forEach((function(C){var B=E.aliases[C];B.children&&B.referenceCount>1&&(I+=", alias"+ ++q+"="+C,B.children[0]="alias"+q)})),this.lookupPropertyFunctionIsUsed&&(I+=", "+this.lookupPropertyFunctionVarDeclaration());var Q=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&Q.push("blockParams"),this.useDepths&&Q.push("depths");var ee=this.mergeSource(I);return C?(Q.push(ee),Function.apply(this,Q)):this.source.wrap(["function(",Q.join(","),") {\n  ",ee,"}"])},mergeSource:function mergeSource(C){var E=this.environment.isSimple,I=!this.forceBuffer,B=void 0,z=void 0,q=void 0,Q=void 0;return this.source.each((function(C){C.appendToBuffer?(q?C.prepend("  + "):q=C,Q=C):(q&&(z?q.prepend("buffer += "):B=!0,Q.add(";"),q=Q=void 0),z=!0,E||(I=!1))})),I?q?(q.prepend("return "),Q.add(";")):z||this.source.push('return "";'):(C+=", buffer = "+(B?"":this.initializeBuffer()),q?(q.prepend("return buffer + "),Q.add(";")):this.source.push("return buffer;")),C&&this.source.prepend("var "+C.substring(2)+(B?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function lookupPropertyFunctionVarDeclaration(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function blockValue(C){var E=this.aliasable("container.hooks.blockHelperMissing"),I=[this.contextName(0)];this.setupHelperArgs(C,0,I);var B=this.popStack();I.splice(1,0,B),this.push(this.source.functionCall(E,"call",I))},ambiguousBlockValue:function ambiguousBlockValue(){var C=this.aliasable("container.hooks.blockHelperMissing"),E=[this.contextName(0)];this.setupHelperArgs("",0,E,!0),this.flushInline();var I=this.topStack();E.splice(1,0,I),this.pushSource(["if (!",this.lastHelper,") { ",I," = ",this.source.functionCall(C,"call",E),"}"])},appendContent:function appendContent(C){this.pendingContent?C=this.pendingContent+C:this.pendingLocation=this.source.currentLocation,this.pendingContent=C},append:function append(){if(this.isInline())this.replaceStack((function(C){return[" != null ? ",C,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var C=this.popStack();this.pushSource(["if (",C," != null) { ",this.appendToBuffer(C,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function getContext(C){this.lastContext=C},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function lookupOnContext(C,E,I,B){var z=0;B||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(C[z++])),this.resolvePath("context",C,z,E,I)},lookupBlockParam:function lookupBlockParam(C,E){this.useBlockParams=!0,this.push(["blockParams[",C[0],"][",C[1],"]"]),this.resolvePath("context",E,1)},lookupData:function lookupData(C,E,I){C?this.pushStackLiteral("container.data(data, "+C+")"):this.pushStackLiteral("data"),this.resolvePath("data",E,0,!0,I)},resolvePath:function resolvePath(C,E,I,B,z){var q=this;if(this.options.strict||this.options.assumeObjects)this.push(function strictLookup(C,E,I,B,z){var q=E.popStack(),Q=I.length;C&&Q--;for(;B<Q;B++)q=E.nameLookup(q,I[B],z);return C?[E.aliasable("container.strict"),"(",q,", ",E.quotedString(I[B]),", ",JSON.stringify(E.source.currentLocation)," )"]:q}(this.options.strict&&z,this,E,I,C));else for(var Q=E.length;I<Q;I++)this.replaceStack((function(z){var Q=q.nameLookup(z,E[I],C);return B?[" && ",Q]:[" != null ? ",Q," : ",z]}))},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function pushStringParam(C,E){this.pushContext(),this.pushString(E),"SubExpression"!==E&&("string"==typeof C?this.pushString(C):this.pushStackLiteral(C))},emptyHash:function emptyHash(C){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(C?"undefined":"{}")},pushHash:function pushHash(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function popHash(){var C=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(C.ids)),this.stringParams&&(this.push(this.objectLiteral(C.contexts)),this.push(this.objectLiteral(C.types))),this.push(this.objectLiteral(C.values))},pushString:function pushString(C){this.pushStackLiteral(this.quotedString(C))},pushLiteral:function pushLiteral(C){this.pushStackLiteral(C)},pushProgram:function pushProgram(C){null!=C?this.pushStackLiteral(this.programExpression(C)):this.pushStackLiteral(null)},registerDecorator:function registerDecorator(C,E){var I=this.nameLookup("decorators",E,"decorator"),B=this.setupHelperArgs(E,C);this.decorators.push(["fn = ",this.decorators.functionCall(I,"",["fn","props","container",B])," || fn;"])},invokeHelper:function invokeHelper(C,E,I){var B=this.popStack(),z=this.setupHelper(C,E),q=[];I&&q.push(z.name),q.push(B),this.options.strict||q.push(this.aliasable("container.hooks.helperMissing"));var Q=["(",this.itemsSeparatedBy(q,"||"),")"],ee=this.source.functionCall(Q,"call",z.callParams);this.push(ee)},itemsSeparatedBy:function itemsSeparatedBy(C,E){var I=[];I.push(C[0]);for(var B=1;B<C.length;B++)I.push(E,C[B]);return I},invokeKnownHelper:function invokeKnownHelper(C,E){var I=this.setupHelper(C,E);this.push(this.source.functionCall(I.name,"call",I.callParams))},invokeAmbiguous:function invokeAmbiguous(C,E){this.useRegister("helper");var I=this.popStack();this.emptyHash();var B=this.setupHelper(0,C,E),z=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",C,"helper")," || ",I,")"];this.options.strict||(z[0]="(helper = ",z.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",z,B.paramsInit?["),(",B.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",B.callParams)," : helper))"])},invokePartial:function invokePartial(C,E,I){var B=[],z=this.setupParams(E,1,B);C&&(E=this.popStack(),delete z.name),I&&(z.indent=JSON.stringify(I)),z.helpers="helpers",z.partials="partials",z.decorators="container.decorators",C?B.unshift(E):B.unshift(this.nameLookup("partials",E,"partial")),this.options.compat&&(z.depths="depths"),z=this.objectLiteral(z),B.push(z),this.push(this.source.functionCall("container.invokePartial","",B))},assignToHash:function assignToHash(C){var E=this.popStack(),I=void 0,B=void 0,z=void 0;this.trackIds&&(z=this.popStack()),this.stringParams&&(B=this.popStack(),I=this.popStack());var q=this.hash;I&&(q.contexts[C]=I),B&&(q.types[C]=B),z&&(q.ids[C]=z),q.values[C]=E},pushId:function pushId(C,E,I){"BlockParam"===C?this.pushStackLiteral("blockParams["+E[0]+"].path["+E[1]+"]"+(I?" + "+JSON.stringify("."+I):"")):"PathExpression"===C?this.pushString(E):"SubExpression"===C?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function compileChildren(C,E){for(var I=C.children,B=void 0,z=void 0,q=0,Q=I.length;q<Q;q++){B=I[q],z=new this.compiler;var ee=this.matchExistingProgram(B);if(null==ee){this.context.programs.push("");var te=this.context.programs.length;B.index=te,B.name="program"+te,this.context.programs[te]=z.compile(B,E,this.context,!this.precompile),this.context.decorators[te]=z.decorators,this.context.environments[te]=B,this.useDepths=this.useDepths||z.useDepths,this.useBlockParams=this.useBlockParams||z.useBlockParams,B.useDepths=this.useDepths,B.useBlockParams=this.useBlockParams}else B.index=ee.index,B.name="program"+ee.index,this.useDepths=this.useDepths||ee.useDepths,this.useBlockParams=this.useBlockParams||ee.useBlockParams}},matchExistingProgram:function matchExistingProgram(C){for(var E=0,I=this.context.environments.length;E<I;E++){var B=this.context.environments[E];if(B&&B.equals(C))return B}},programExpression:function programExpression(C){var E=this.environment.children[C],I=[E.index,"data",E.blockParams];return(this.useBlockParams||this.useDepths)&&I.push("blockParams"),this.useDepths&&I.push("depths"),"container.program("+I.join(", ")+")"},useRegister:function useRegister(C){this.registers[C]||(this.registers[C]=!0,this.registers.list.push(C))},push:function push(C){return C instanceof Literal||(C=this.source.wrap(C)),this.inlineStack.push(C),C},pushStackLiteral:function pushStackLiteral(C){this.push(new Literal(C))},pushSource:function pushSource(C){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),C&&this.source.push(C)},replaceStack:function replaceStack(C){var E=["("],I=void 0,B=void 0,z=void 0;if(!this.isInline())throw new Q.default("replaceStack on non-inline");var q=this.popStack(!0);if(q instanceof Literal)E=["(",I=[q.value]],z=!0;else{B=!0;var ee=this.incrStack();E=["((",this.push(ee)," = ",q,")"],I=this.topStack()}var te=C.call(this,I);z||this.popStack(),B&&this.stackSlot--,this.push(E.concat(te,")"))},incrStack:function incrStack(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function topStackName(){return"stack"+this.stackSlot},flushInline:function flushInline(){var C=this.inlineStack;this.inlineStack=[];for(var E=0,I=C.length;E<I;E++){var B=C[E];if(B instanceof Literal)this.compileStack.push(B);else{var z=this.incrStack();this.pushSource([z," = ",B,";"]),this.compileStack.push(z)}}},isInline:function isInline(){return this.inlineStack.length},popStack:function popStack(C){var E=this.isInline(),I=(E?this.inlineStack:this.compileStack).pop();if(!C&&I instanceof Literal)return I.value;if(!E){if(!this.stackSlot)throw new Q.default("Invalid stack pop");this.stackSlot--}return I},topStack:function topStack(){var C=this.isInline()?this.inlineStack:this.compileStack,E=C[C.length-1];return E instanceof Literal?E.value:E},contextName:function contextName(C){return this.useDepths&&C?"depths["+C+"]":"depth"+C},quotedString:function quotedString(C){return this.source.quotedString(C)},objectLiteral:function objectLiteral(C){return this.source.objectLiteral(C)},aliasable:function aliasable(C){var E=this.aliases[C];return E?(E.referenceCount++,E):((E=this.aliases[C]=this.source.wrap(C)).aliasable=!0,E.referenceCount=1,E)},setupHelper:function setupHelper(C,E,I){var B=[];return{params:B,paramsInit:this.setupHelperArgs(E,C,B,I),name:this.nameLookup("helpers",E,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(B)}},setupParams:function setupParams(C,E,I){var B={},z=[],q=[],Q=[],ee=!I,te=void 0;ee&&(I=[]),B.name=this.quotedString(C),B.hash=this.popStack(),this.trackIds&&(B.hashIds=this.popStack()),this.stringParams&&(B.hashTypes=this.popStack(),B.hashContexts=this.popStack());var ie=this.popStack(),re=this.popStack();(re||ie)&&(B.fn=re||"container.noop",B.inverse=ie||"container.noop");for(var ne=E;ne--;)te=this.popStack(),I[ne]=te,this.trackIds&&(Q[ne]=this.popStack()),this.stringParams&&(q[ne]=this.popStack(),z[ne]=this.popStack());return ee&&(B.args=this.source.generateArray(I)),this.trackIds&&(B.ids=this.source.generateArray(Q)),this.stringParams&&(B.types=this.source.generateArray(q),B.contexts=this.source.generateArray(z)),this.options.data&&(B.data="data"),this.useBlockParams&&(B.blockParams="blockParams"),B},setupHelperArgs:function setupHelperArgs(C,E,I,B){var z=this.setupParams(C,E,I);return z.loc=JSON.stringify(this.source.currentLocation),z=this.objectLiteral(z),B?(this.useRegister("options"),I.push("options"),["options=",z]):I?(I.push(z),""):z}},function(){for(var C="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),E=JavaScriptCompiler.RESERVED_WORDS={},I=0,B=C.length;I<B;I++)E[C[I]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(C){return!JavaScriptCompiler.RESERVED_WORDS[C]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(C)},E.default=JavaScriptCompiler,C.exports=E.default},function(C,E,I){"use strict";var B=I(60).default;E.__esModule=!0;var z=I(5),q=void 0;try{}catch(C){}function castChunk(C,E,I){if(z.isArray(C)){for(var B=[],q=0,Q=C.length;q<Q;q++)B.push(E.wrap(C[q],I));return B}return"boolean"==typeof C||"number"==typeof C?C+"":C}function CodeGen(C){this.srcFile=C,this.source=[]}q||((q=function(C,E,I,B){this.src="",B&&this.add(B)}).prototype={add:function add(C){z.isArray(C)&&(C=C.join("")),this.src+=C},prepend:function prepend(C){z.isArray(C)&&(C=C.join("")),this.src=C+this.src},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()}},toString:function toString(){return this.src}}),CodeGen.prototype={isEmpty:function isEmpty(){return!this.source.length},prepend:function prepend(C,E){this.source.unshift(this.wrap(C,E))},push:function push(C,E){this.source.push(this.wrap(C,E))},merge:function merge(){var C=this.empty();return this.each((function(E){C.add(["  ",E,"\n"])})),C},each:function each(C){for(var E=0,I=this.source.length;E<I;E++)C(this.source[E])},empty:function empty(){var C=this.currentLocation||{start:{}};return new q(C.start.line,C.start.column,this.srcFile)},wrap:function wrap(C){var E=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return C instanceof q?C:(C=castChunk(C,this,E),new q(E.start.line,E.start.column,this.srcFile,C))},functionCall:function functionCall(C,E,I){return I=this.generateList(I),this.wrap([C,E?"."+E+"(":"(",I,")"])},quotedString:function quotedString(C){return'"'+(C+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function objectLiteral(C){var E=this,I=[];B(C).forEach((function(B){var z=castChunk(C[B],E);"undefined"!==z&&I.push([E.quotedString(B),":",z])}));var z=this.generateList(I);return z.prepend("{"),z.add("}"),z},generateList:function generateList(C){for(var E=this.empty(),I=0,B=C.length;I<B;I++)I&&E.add(","),E.add(castChunk(C[I],this));return E},generateArray:function generateArray(C){var E=this.generateList(C);return E.prepend("["),E.add("]"),E}},E.default=CodeGen,C.exports=E.default}])}))},5098:function(C,E,I){var B;"undefined"!=typeof self&&self,C.exports=(B=I(4692),function(){"use strict";var C={3046:function(C,E,I){var B;Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,I(7149),I(3194),I(9302),I(4013),I(3851),I(219),I(207),I(5296);var z=((B=I(2394))&&B.__esModule?B:{default:B}).default;E.default=z},8741:function(C,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var I=!("undefined"==typeof window||!window.document||!window.document.createElement);E.default=I},3976:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var B=I(2839),z={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(C,E){return"function"==typeof E.onBeforeMask?E.onBeforeMask.call(this,C,E):C},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[B.keys.Backspace,B.keys.Tab,B.keys.Pause,B.keys.Escape,B.keys.PageUp,B.keys.PageDown,B.keys.End,B.keys.Home,B.keys.ArrowLeft,B.keys.ArrowUp,B.keys.ArrowRight,B.keys.ArrowDown,B.keys.Insert,B.keys.Delete,B.keys.ContextMenu,B.keys.F1,B.keys.F2,B.keys.F3,B.keys.F4,B.keys.F5,B.keys.F6,B.keys.F7,B.keys.F8,B.keys.F9,B.keys.F10,B.keys.F11,B.keys.F12,B.keys.Process,B.keys.Unidentified,B.keys.Shift,B.keys.Control,B.keys.Alt,B.keys.Tab,B.keys.AltGraph,B.keys.CapsLock],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}};E.default=z},7392:function(C,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0,E.default={9:{validator:"[0-9０-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9０-９A-Za-zА-яЁёÀ-ÿµ]"}}},3287:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var B,z=(B=I(7957))&&B.__esModule?B:{default:B};if(void 0===z.default)throw"jQuery not loaded!";var q=z.default;E.default=q},9845:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.mobile=E.iphone=E.ie=void 0;var B,z=(B=I(9380))&&B.__esModule?B:{default:B},q=z.default.navigator&&z.default.navigator.userAgent||"",Q=q.indexOf("MSIE ")>0||q.indexOf("Trident/")>0,ee=navigator.userAgentData&&navigator.userAgentData.mobile||z.default.navigator&&z.default.navigator.maxTouchPoints||"ontouchstart"in z.default,te=/iphone/i.test(q);E.iphone=te,E.mobile=ee,E.ie=Q},7184:function(C,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(C){return C.replace(I,"\\$1")};var I=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.EventHandlers=void 0;var B=I(8711),z=I(2839),q=I(9845),Q=I(7215),ee=I(7760),te=I(4713);function c(C,E){var I="undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(!I){if(Array.isArray(C)||(I=function(C,E){if(C){if("string"==typeof C)return u(C,E);var I=Object.prototype.toString.call(C).slice(8,-1);return"Object"===I&&C.constructor&&(I=C.constructor.name),"Map"===I||"Set"===I?Array.from(C):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?u(C,E):void 0}}(C))||E&&C&&"number"==typeof C.length){I&&(C=I);var B=0,n=function(){};return{s:n,n:function(){return B>=C.length?{done:!0}:{done:!1,value:C[B++]}},e:function(C){throw C},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,q=!0,Q=!1;return{s:function(){I=I.call(C)},n:function(){var C=I.next();return q=C.done,C},e:function(C){Q=!0,z=C},f:function(){try{q||null==I.return||I.return()}finally{if(Q)throw z}}}}function u(C,E){(null==E||E>C.length)&&(E=C.length);for(var I=0,B=new Array(E);I<E;I++)B[I]=C[I];return B}var ie={keyEvent:function(C,E,I,re,ne){var se=this.inputmask,oe=se.opts,ae=se.dependencyLib,le=se.maskset,ue=this,de=ae(ue),ce=C.key,he=B.caret.call(se,ue),fe=oe.onKeyDown.call(this,C,B.getBuffer.call(se),he,oe);if(void 0!==fe)return fe;if(ce===z.keys.Backspace||ce===z.keys.Delete||q.iphone&&ce===z.keys.BACKSPACE_SAFARI||C.ctrlKey&&ce===z.keys.x&&!("oncut"in ue))C.preventDefault(),Q.handleRemove.call(se,ue,ce,he),(0,ee.writeBuffer)(ue,B.getBuffer.call(se,!0),le.p,C,ue.inputmask._valueGet()!==B.getBuffer.call(se).join(""));else if(ce===z.keys.End||ce===z.keys.PageDown){C.preventDefault();var pe=B.seekNext.call(se,B.getLastValidPosition.call(se));B.caret.call(se,ue,C.shiftKey?he.begin:pe,pe,!0)}else ce===z.keys.Home&&!C.shiftKey||ce===z.keys.PageUp?(C.preventDefault(),B.caret.call(se,ue,0,C.shiftKey?he.begin:0,!0)):oe.undoOnEscape&&ce===z.keys.Escape&&!0!==C.altKey?((0,ee.checkVal)(ue,!0,!1,se.undoValue.split("")),de.trigger("click")):ce!==z.keys.Insert||C.shiftKey||C.ctrlKey||void 0!==se.userOptions.insertMode?!0===oe.tabThrough&&ce===z.keys.Tab?!0===C.shiftKey?(he.end=B.seekPrevious.call(se,he.end,!0),!0===te.getTest.call(se,he.end-1).match.static&&he.end--,he.begin=B.seekPrevious.call(se,he.end,!0),he.begin>=0&&he.end>0&&(C.preventDefault(),B.caret.call(se,ue,he.begin,he.end))):(he.begin=B.seekNext.call(se,he.begin,!0),he.end=B.seekNext.call(se,he.begin,!0),he.end<le.maskLength&&he.end--,he.begin<=le.maskLength&&(C.preventDefault(),B.caret.call(se,ue,he.begin,he.end))):C.shiftKey||oe.insertModeVisual&&!1===oe.insertMode&&(ce===z.keys.ArrowRight?setTimeout((function(){var C=B.caret.call(se,ue);B.caret.call(se,ue,C.begin)}),0):ce===z.keys.ArrowLeft&&setTimeout((function(){var C=B.translatePosition.call(se,ue.inputmask.caretPos.begin);B.translatePosition.call(se,ue.inputmask.caretPos.end),se.isRTL?B.caret.call(se,ue,C+(C===le.maskLength?0:1)):B.caret.call(se,ue,C-(0===C?0:1))}),0)):Q.isSelection.call(se,he)?oe.insertMode=!oe.insertMode:(oe.insertMode=!oe.insertMode,B.caret.call(se,ue,he.begin,he.begin));return se.isComposing=ce==z.keys.Process||ce==z.keys.Unidentified,se.ignorable=oe.ignorables.includes(ce),ie.keypressEvent.call(this,C,E,I,re,ne)},keypressEvent:function(C,E,I,q,te){var ie=this.inputmask||this,re=ie.opts,ne=ie.dependencyLib,se=ie.maskset,oe=ie.el,ae=ne(oe),le=C.key;if(!0===E||C.ctrlKey&&C.altKey||!(C.ctrlKey||C.metaKey||ie.ignorable)){if(le){var ue,de=E?{begin:te,end:te}:B.caret.call(ie,oe);le=re.substitutes[le]||le,se.writeOutBuffer=!0;var ce=Q.isValid.call(ie,de,le,q,void 0,void 0,void 0,E);if(!1!==ce&&(B.resetMaskSet.call(ie,!0),ue=void 0!==ce.caret?ce.caret:B.seekNext.call(ie,ce.pos.begin?ce.pos.begin:ce.pos),se.p=ue),ue=re.numericInput&&void 0===ce.caret?B.seekPrevious.call(ie,ue):ue,!1!==I&&(setTimeout((function(){re.onKeyValidation.call(oe,le,ce)}),0),se.writeOutBuffer&&!1!==ce)){var he=B.getBuffer.call(ie);(0,ee.writeBuffer)(oe,he,ue,C,!0!==E)}if(C.preventDefault(),E)return!1!==ce&&(ce.forwardPosition=ue),ce}}else le===z.keys.Enter&&ie.undoValue!==ie._valueGet(!0)&&(ie.undoValue=ie._valueGet(!0),setTimeout((function(){ae.trigger("change")}),0))},pasteEvent:function(C){var E,I=this.inputmask,z=I.opts,q=I._valueGet(!0),Q=B.caret.call(I,this);I.isRTL&&(E=Q.end,Q.end=B.translatePosition.call(I,Q.begin),Q.begin=B.translatePosition.call(I,E));var te=q.substr(0,Q.begin),ie=q.substr(Q.end,q.length);if(te==(I.isRTL?B.getBufferTemplate.call(I).slice().reverse():B.getBufferTemplate.call(I)).slice(0,Q.begin).join("")&&(te=""),ie==(I.isRTL?B.getBufferTemplate.call(I).slice().reverse():B.getBufferTemplate.call(I)).slice(Q.end).join("")&&(ie=""),window.clipboardData&&window.clipboardData.getData)q=te+window.clipboardData.getData("Text")+ie;else{if(!C.clipboardData||!C.clipboardData.getData)return!0;q=te+C.clipboardData.getData("text/plain")+ie}var re=q;if(I.isRTL){re=re.split("");var ne,se=c(B.getBufferTemplate.call(I));try{for(se.s();!(ne=se.n()).done;){var oe=ne.value;re[0]===oe&&re.shift()}}catch(C){se.e(C)}finally{se.f()}re=re.join("")}if("function"==typeof z.onBeforePaste){if(!1===(re=z.onBeforePaste.call(I,re,z)))return!1;re||(re=q)}(0,ee.checkVal)(this,!0,!1,re.toString().split(""),C),C.preventDefault()},inputFallBackEvent:function(C){var E,I=this.inputmask,Q=I.opts,re=I.dependencyLib,ne=this,se=ne.inputmask._valueGet(!0),oe=(I.isRTL?B.getBuffer.call(I).slice().reverse():B.getBuffer.call(I)).join(""),ae=B.caret.call(I,ne,void 0,void 0,!0);if(oe!==se){if(E=function(C,E,z){for(var q,ee,ie,re=C.substr(0,z.begin).split(""),ne=C.substr(z.begin).split(""),se=E.substr(0,z.begin).split(""),oe=E.substr(z.begin).split(""),ae=re.length>=se.length?re.length:se.length,le=ne.length>=oe.length?ne.length:oe.length,ue="",de=[],ce="~";re.length<ae;)re.push(ce);for(;se.length<ae;)se.push(ce);for(;ne.length<le;)ne.unshift(ce);for(;oe.length<le;)oe.unshift(ce);var he=re.concat(ne),fe=se.concat(oe);for(ee=0,q=he.length;ee<q;ee++)switch(ie=te.getPlaceholder.call(I,B.translatePosition.call(I,ee)),ue){case"insertText":fe[ee-1]===he[ee]&&z.begin==he.length-1&&de.push(he[ee]),ee=q;break;case"insertReplacementText":case"deleteContentBackward":he[ee]===ce?z.end++:ee=q;break;default:he[ee]!==fe[ee]&&(he[ee+1]!==ce&&he[ee+1]!==ie&&void 0!==he[ee+1]||(fe[ee]!==ie||fe[ee+1]!==ce)&&fe[ee]!==ce?fe[ee+1]===ce&&fe[ee]===he[ee+1]?(ue="insertText",de.push(he[ee]),z.begin--,z.end--):he[ee]!==ie&&he[ee]!==ce&&(he[ee+1]===ce||fe[ee]!==he[ee]&&fe[ee+1]===he[ee+1])?(ue="insertReplacementText",de.push(he[ee]),z.begin--):he[ee]===ce?(ue="deleteContentBackward",(B.isMask.call(I,B.translatePosition.call(I,ee),!0)||fe[ee]===Q.radixPoint)&&z.end++):ee=q:(ue="insertText",de.push(he[ee]),z.begin--,z.end--))}return{action:ue,data:de,caret:z}}(se,oe,ae),(ne.inputmask.shadowRoot||ne.ownerDocument).activeElement!==ne&&ne.focus(),(0,ee.writeBuffer)(ne,B.getBuffer.call(I)),B.caret.call(I,ne,ae.begin,ae.end,!0),!q.mobile&&I.skipNextInsert&&"insertText"===C.inputType&&"insertText"===E.action&&I.isComposing)return!1;switch("insertCompositionText"===C.inputType&&"insertText"===E.action&&I.isComposing?I.skipNextInsert=!0:I.skipNextInsert=!1,E.action){case"insertText":case"insertReplacementText":E.data.forEach((function(C,E){var B=new re.Event("keypress");B.key=C,I.ignorable=!1,ie.keypressEvent.call(ne,B)})),setTimeout((function(){I.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var le=new re.Event("keydown");le.key=z.keys.Backspace,ie.keyEvent.call(ne,le);break;default:(0,ee.applyInputValue)(ne,se),B.caret.call(I,ne,ae.begin,ae.end,!0)}C.preventDefault()}},setValueEvent:function(C){var E=this.inputmask,I=this,z=C&&C.detail?C.detail[0]:arguments[1];void 0===z&&(z=I.inputmask._valueGet(!0)),(0,ee.applyInputValue)(I,z),(C.detail&&void 0!==C.detail[1]||void 0!==arguments[2])&&B.caret.call(E,I,C.detail?C.detail[1]:arguments[2])},focusEvent:function(C){var E=this.inputmask,I=E.opts,z=null==E?void 0:E._valueGet();I.showMaskOnFocus&&z!==B.getBuffer.call(E).join("")&&(0,ee.writeBuffer)(this,B.getBuffer.call(E),B.seekNext.call(E,B.getLastValidPosition.call(E))),!0!==I.positionCaretOnTab||!1!==E.mouseEnter||Q.isComplete.call(E,B.getBuffer.call(E))&&-1!==B.getLastValidPosition.call(E)||ie.clickEvent.apply(this,[C,!0]),E.undoValue=null==E?void 0:E._valueGet(!0)},invalidEvent:function(C){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var C=this.inputmask,E=C.opts,I=this;C.mouseEnter=!1,E.clearMaskOnLostFocus&&(I.inputmask.shadowRoot||I.ownerDocument).activeElement!==I&&(0,ee.HandleNativePlaceholder)(I,C.originalPlaceholder)},clickEvent:function(C,E){var I=this.inputmask;I.clicked++;var z=this;if((z.inputmask.shadowRoot||z.ownerDocument).activeElement===z){var q=B.determineNewCaretPosition.call(I,B.caret.call(I,z),E);void 0!==q&&B.caret.call(I,z,q)}},cutEvent:function(C){var E=this.inputmask,I=E.maskset,q=this,te=B.caret.call(E,q),ie=E.isRTL?B.getBuffer.call(E).slice(te.end,te.begin):B.getBuffer.call(E).slice(te.begin,te.end),re=E.isRTL?ie.reverse().join(""):ie.join("");window.navigator.clipboard?window.navigator.clipboard.writeText(re):window.clipboardData&&window.clipboardData.getData&&window.clipboardData.setData("Text",re),Q.handleRemove.call(E,q,z.keys.Delete,te),(0,ee.writeBuffer)(q,B.getBuffer.call(E),I.p,C,E.undoValue!==E._valueGet(!0))},blurEvent:function(C){var E=this.inputmask,I=E.opts,z=E.dependencyLib;E.clicked=0;var q=z(this),te=this;if(te.inputmask){(0,ee.HandleNativePlaceholder)(te,E.originalPlaceholder);var ie=te.inputmask._valueGet(),re=B.getBuffer.call(E).slice();""!==ie&&(I.clearMaskOnLostFocus&&(-1===B.getLastValidPosition.call(E)&&ie===B.getBufferTemplate.call(E).join("")?re=[]:ee.clearOptionalTail.call(E,re)),!1===Q.isComplete.call(E,re)&&(setTimeout((function(){q.trigger("incomplete")}),0),I.clearIncomplete&&(B.resetMaskSet.call(E),re=I.clearMaskOnLostFocus?[]:B.getBufferTemplate.call(E).slice())),(0,ee.writeBuffer)(te,re,void 0,C)),E.undoValue!==E._valueGet(!0)&&(E.undoValue=E._valueGet(!0),q.trigger("change"))}},mouseenterEvent:function(){var C=this.inputmask,E=C.opts.showMaskOnHover,I=this;if(C.mouseEnter=!0,(I.inputmask.shadowRoot||I.ownerDocument).activeElement!==I){var z=(C.isRTL?B.getBufferTemplate.call(C).slice().reverse():B.getBufferTemplate.call(C)).join("");E&&(0,ee.HandleNativePlaceholder)(I,z)}},submitEvent:function(){var C=this.inputmask,E=C.opts;C.undoValue!==C._valueGet(!0)&&C.$el.trigger("change"),-1===B.getLastValidPosition.call(C)&&C._valueGet&&C._valueGet()===B.getBufferTemplate.call(C).join("")&&C._valueSet(""),E.clearIncomplete&&!1===Q.isComplete.call(C,B.getBuffer.call(C))&&C._valueSet(""),E.removeMaskOnSubmit&&(C._valueSet(C.unmaskedvalue(),!0),setTimeout((function(){(0,ee.writeBuffer)(C.el,B.getBuffer.call(C))}),0))},resetEvent:function(){var C=this.inputmask;C.refreshValue=!0,setTimeout((function(){(0,ee.applyInputValue)(C.el,C._valueGet(!0))}),0)}};E.EventHandlers=ie},9716:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.EventRuler=void 0;var B,z=(B=I(2394))&&B.__esModule?B:{default:B},q=I(2839),Q=I(8711),ee=I(7760),te={on:function(C,E,I){var B=C.inputmask.dependencyLib,l=function(E){E.originalEvent&&(E=E.originalEvent||E,arguments[0]=E);var te,ie=this,re=ie.inputmask,ne=re?re.opts:void 0;if(void 0===re&&"FORM"!==this.nodeName){var se=B.data(ie,"_inputmask_opts");B(ie).off(),se&&new z.default(se).mask(ie)}else{if(["submit","reset","setvalue"].includes(E.type)||"FORM"===this.nodeName||!(ie.disabled||ie.readOnly&&!("keydown"===E.type&&E.ctrlKey&&E.key===q.keys.c||!1===ne.tabThrough&&E.key===q.keys.Tab))){switch(E.type){case"input":if(!0===re.skipInputEvent)return re.skipInputEvent=!1,E.preventDefault();break;case"click":case"focus":return re.validationEvent?(re.validationEvent=!1,C.blur(),(0,ee.HandleNativePlaceholder)(C,(re.isRTL?Q.getBufferTemplate.call(re).slice().reverse():Q.getBufferTemplate.call(re)).join("")),setTimeout((function(){C.focus()}),ne.validationEventTimeOut),!1):(te=arguments,void setTimeout((function(){C.inputmask&&I.apply(ie,te)}),0))}var oe=I.apply(ie,arguments);return!1===oe&&(E.preventDefault(),E.stopPropagation()),oe}E.preventDefault()}};["submit","reset"].includes(E)?(l=l.bind(C),null!==C.form&&B(C.form).on(E,l)):B(C).on(E,l),C.inputmask.events[E]=C.inputmask.events[E]||[],C.inputmask.events[E].push(l)},off:function(C,E){if(C.inputmask&&C.inputmask.events){var I=C.inputmask.dependencyLib,B=C.inputmask.events;for(var z in E&&((B=[])[E]=C.inputmask.events[E]),B){for(var q=B[z];q.length>0;){var Q=q.pop();["submit","reset"].includes(z)?null!==C.form&&I(C.form).off(z,Q):I(C).off(z,Q)}delete C.inputmask.events[z]}}}};E.EventRuler=te},219:function(C,E,I){var B=d(I(2394)),z=I(2839),q=d(I(7184)),Q=I(8711),ee=I(4713);function l(C,E){return function(C){if(Array.isArray(C))return C}(C)||function(C,E){var I=null==C?null:"undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(null!=I){var B,z,q,Q,ee=[],te=!0,ie=!1;try{if(q=(I=I.call(C)).next,0===E){if(Object(I)!==I)return;te=!1}else for(;!(te=(B=q.call(I)).done)&&(ee.push(B.value),ee.length!==E);te=!0);}catch(C){ie=!0,z=C}finally{try{if(!te&&null!=I.return&&(Q=I.return(),Object(Q)!==Q))return}finally{if(ie)throw z}}return ee}}(C,E)||function(C,E){if(C){if("string"==typeof C)return c(C,E);var I=Object.prototype.toString.call(C).slice(8,-1);return"Object"===I&&C.constructor&&(I=C.constructor.name),"Map"===I||"Set"===I?Array.from(C):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?c(C,E):void 0}}(C,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(C,E){(null==E||E>C.length)&&(E=C.length);for(var I=0,B=new Array(E);I<E;I++)B[I]=C[I];return B}function u(C){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u(C)}function f(C,E){for(var I=0;I<E.length;I++){var B=E[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,(z=void 0,z=function(C,E){if("object"!==u(C)||null===C)return C;var I=C[Symbol.toPrimitive];if(void 0!==I){var B=I.call(C,E||"default");if("object"!==u(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(C)}(B.key,"string"),"symbol"===u(z)?z:String(z)),B)}var z}function d(C){return C&&C.__esModule?C:{default:C}}var te=B.default.dependencyLib,ie=function(){function e(C,E,I){!function(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}(this,e),this.mask=C,this.format=E,this.opts=I,this._date=new Date(1,0,1),this.initDateObject(C,this.opts)}var C,E,I;return C=e,(E=[{key:"date",get:function(){return void 0===this._date&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts)),this._date}},{key:"initDateObject",value:function(C,E){var I;for(P(E).lastIndex=0;I=P(E).exec(this.format);){var B=new RegExp("\\d+$").exec(I[0]),z=B?I[0][0]+"x":I[0],q=void 0;if(void 0!==C){if(B){var Q=P(E).lastIndex,ee=T(I.index,E);P(E).lastIndex=Q,q=C.slice(0,C.indexOf(ee.nextMatch[0]))}else q=C.slice(0,se[z]&&se[z][4]||z.length);C=C.slice(q.length)}Object.prototype.hasOwnProperty.call(se,z)&&this.setValue(this,q,z,se[z][2],se[z][1])}}},{key:"setValue",value:function(C,E,I,B,z){if(void 0!==E&&(C[B]="ampm"===B?E:E.replace(/[^0-9]/g,"0"),C["raw"+B]=E.replace(/\s/g,"_")),void 0!==z){var q=C[B];("day"===B&&29===parseInt(q)||"month"===B&&2===parseInt(q))&&(29!==parseInt(C.day)||2!==parseInt(C.month)||""!==C.year&&void 0!==C.year||C._date.setFullYear(2012,1,29)),"day"===B&&(ne=!0,0===parseInt(q)&&(q=1)),"month"===B&&(ne=!0),"year"===B&&(ne=!0,q.length<4&&(q=M(q,4,!0))),""===q||isNaN(q)||z.call(C._date,q),"ampm"===B&&z.call(C._date,q)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&f(C.prototype,E),I&&f(C,I),Object.defineProperty(C,"prototype",{writable:!1}),e}(),re=(new Date).getFullYear(),ne=!1,se={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return M(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(C){var E=C?parseInt(C):0;return E>0&&E--,Date.prototype.setMonth.call(this,E)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(C){var E=C?parseInt(C):0;return E>0&&E--,Date.prototype.setMonth.call(this,E)},"month",function(){return M(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return M(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return M(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return M(Date.prototype.getHours.call(this),2)}],hx:[function(C){return"[0-9]{".concat(C,"}")},Date.prototype.setHours,"hours",function(C){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return M(Date.prototype.getHours.call(this),2)}],Hx:[function(C){return"[0-9]{".concat(C,"}")},Date.prototype.setHours,"hours",function(C){return function(){return M(Date.prototype.getHours.call(this),C)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return M(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return M(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return M(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return M(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",y,"ampm",b,1],tt:["[ap]m",y,"ampm",b,2],T:["[AP]",y,"ampm",b,1],TT:["[AP]M",y,"ampm",b,2],Z:[".*",void 0,"Z",function(){var C=this.toString().match(/\((.+)\)/)[1];return C.includes(" ")&&(C=(C=C.replace("-"," ").toUpperCase()).split(" ").map((function(C){return l(C,1)[0]})).join("")),C}],o:[""],S:[""]},oe={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function y(C){var E=this.getHours();C.toLowerCase().includes("p")?this.setHours(E+12):C.toLowerCase().includes("a")&&E>=12&&this.setHours(E-12)}function b(){var C=this.getHours();return(C=C||12)>=12?"PM":"AM"}function x(C){var E=new RegExp("\\d+$").exec(C[0]);if(E&&void 0!==E[0]){var I=se[C[0][0]+"x"].slice("");return I[0]=I[0](E[0]),I[3]=I[3](E[0]),I}if(se[C[0]])return se[C[0]]}function P(C){if(!C.tokenizer){var E=[],I=[];for(var B in se)if(/\.*x$/.test(B)){var z=B[0]+"\\d+";-1===I.indexOf(z)&&I.push(z)}else-1===E.indexOf(B[0])&&E.push(B[0]);C.tokenizer="("+(I.length>0?I.join("|")+"|":"")+E.join("+|")+")+?|.",C.tokenizer=new RegExp(C.tokenizer,"g")}return C.tokenizer}function w(C,E,I){if(!ne)return!0;if(void 0===C.rawday||!isFinite(C.rawday)&&new Date(C.date.getFullYear(),isFinite(C.rawmonth)?C.month:C.date.getMonth()+1,0).getDate()>=C.day||"29"==C.day&&(!isFinite(C.rawyear)||void 0===C.rawyear||""===C.rawyear)||new Date(C.date.getFullYear(),isFinite(C.rawmonth)?C.month:C.date.getMonth()+1,0).getDate()>=C.day)return E;if("29"==C.day){var B=T(E.pos,I);if("yyyy"===B.targetMatch[0]&&E.pos-B.targetMatchIndex==2)return E.remove=E.pos+1,E}else if("02"==C.month&&"30"==C.day&&void 0!==E.c)return C.day="03",C.date.setDate(3),C.date.setMonth(1),E.insert=[{pos:E.pos,c:"0"},{pos:E.pos+1,c:E.c}],E.caret=Q.seekNext.call(this,E.pos+1),E;return!1}function S(C,E,I,B){var z,Q,ee="";for(P(I).lastIndex=0;z=P(I).exec(C);)if(void 0===E)if(Q=x(z))ee+="("+Q[0]+")";else switch(z[0]){case"[":ee+="(";break;case"]":ee+=")?";break;default:ee+=(0,q.default)(z[0])}else(Q=x(z))?!0!==B&&Q[3]?ee+=Q[3].call(E.date):Q[2]?ee+=E["raw"+Q[2]]:ee+=z[0]:ee+=z[0];return ee}function M(C,E,I){for(C=String(C),E=E||2;C.length<E;)C=I?C+"0":"0"+C;return C}function _(C,E,I){return"string"==typeof C?new ie(C,E,I):C&&"object"===u(C)&&Object.prototype.hasOwnProperty.call(C,"date")?C:void 0}function O(C,E){return S(E.inputFormat,{date:C},E)}function T(C,E){var I,B,z=0,q=0;for(P(E).lastIndex=0;B=P(E).exec(E.inputFormat);){var Q=new RegExp("\\d+$").exec(B[0]);if((z+=q=Q?parseInt(Q[0]):B[0].length)>=C+1){I=B,B=P(E).exec(E.inputFormat);break}}return{targetMatchIndex:z-q,nextMatch:B,targetMatch:I}}B.default.extendAliases({datetime:{mask:function(C){return C.numericInput=!1,se.S=C.i18n.ordinalSuffix.join("|"),C.inputFormat=oe[C.inputFormat]||C.inputFormat,C.displayFormat=oe[C.displayFormat]||C.displayFormat||C.inputFormat,C.outputFormat=oe[C.outputFormat]||C.outputFormat||C.inputFormat,C.placeholder=""!==C.placeholder?C.placeholder:C.inputFormat.replace(/[[\]]/,""),C.regex=S(C.inputFormat,void 0,C),C.min=_(C.min,C.inputFormat,C),C.max=_(C.max,C.inputFormat,C),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(C,E,I,B,z,q,Q,ee){if(ee)return!0;if(isNaN(I)&&C[E]!==I){var te=T(E,z);if(te.nextMatch&&te.nextMatch[0]===I&&te.targetMatch[0].length>1){var ie=se[te.targetMatch[0]][0];if(new RegExp(ie).test("0"+C[E-1]))return C[E]=C[E-1],C[E-1]="0",{fuzzy:!0,buffer:C,refreshFromBuffer:{start:E-1,end:E+1},pos:E+1}}}return!0},postValidation:function(C,E,I,B,z,q,Q,te){var ie,ne;if(Q)return!0;if(!1===B&&(((ie=T(E+1,z)).targetMatch&&ie.targetMatchIndex===E&&ie.targetMatch[0].length>1&&void 0!==se[ie.targetMatch[0]]||(ie=T(E+2,z)).targetMatch&&ie.targetMatchIndex===E+1&&ie.targetMatch[0].length>1&&void 0!==se[ie.targetMatch[0]])&&(ne=se[ie.targetMatch[0]][0]),void 0!==ne&&(void 0!==q.validPositions[E+1]&&new RegExp(ne).test(I+"0")?(C[E]=I,C[E+1]="0",B={pos:E+2,caret:E}):new RegExp(ne).test("0"+I)&&(C[E]="0",C[E+1]=I,B={pos:E+2})),!1===B))return B;if(B.fuzzy&&(C=B.buffer,E=B.pos),(ie=T(E,z)).targetMatch&&ie.targetMatch[0]&&void 0!==se[ie.targetMatch[0]]){var oe=se[ie.targetMatch[0]];ne=oe[0];var ae=C.slice(ie.targetMatchIndex,ie.targetMatchIndex+ie.targetMatch[0].length);if(!1===new RegExp(ne).test(ae.join(""))&&2===ie.targetMatch[0].length&&q.validPositions[ie.targetMatchIndex]&&q.validPositions[ie.targetMatchIndex+1]&&(q.validPositions[ie.targetMatchIndex+1].input="0"),"year"==oe[2])for(var le=ee.getMaskTemplate.call(this,!1,1,void 0,!0),ue=E+1;ue<C.length;ue++)C[ue]=le[ue],delete q.validPositions[ue]}var de=B,ce=_(C.join(""),z.inputFormat,z);return de&&!isNaN(ce.date.getTime())&&(z.prefillYear&&(de=function(C,E,I){if(C.year!==C.rawyear){var B=re.toString(),z=C.rawyear.replace(/[^0-9]/g,""),q=B.slice(0,z.length),Q=B.slice(z.length);if(2===z.length&&z===q){var ee=new Date(re,C.month-1,C.day);C.day==ee.getDate()&&(!I.max||I.max.date.getTime()>=ee.getTime())&&(C.date.setFullYear(re),C.year=B,E.insert=[{pos:E.pos+1,c:Q[0]},{pos:E.pos+2,c:Q[1]}])}}return E}(ce,de,z)),de=function(C,E,I,B,z){if(!E)return E;if(E&&I.min&&!isNaN(I.min.date.getTime())){var q;for(C.reset(),P(I).lastIndex=0;q=P(I).exec(I.inputFormat);){var Q;if((Q=x(q))&&Q[3]){for(var ee=Q[1],te=C[Q[2]],ie=I.min[Q[2]],re=I.max?I.max[Q[2]]:ie,ne=[],se=!1,oe=0;oe<ie.length;oe++)void 0!==B.validPositions[oe+q.index]||se?(ne[oe]=te[oe],se=se||te[oe]>ie[oe]):(ne[oe]=ie[oe],"year"===Q[2]&&te.length-1==oe&&ie!=re&&(ne=(parseInt(ne.join(""))+1).toString().split("")),"ampm"===Q[2]&&ie!=re&&I.min.date.getTime()>C.date.getTime()&&(ne[oe]=re[oe]));ee.call(C._date,ne.join(""))}}E=I.min.date.getTime()<=C.date.getTime(),C.reInit()}return E&&I.max&&(isNaN(I.max.date.getTime())||(E=I.max.date.getTime()>=C.date.getTime())),E}(ce,de=w.call(this,ce,de,z),z,q)),void 0!==E&&de&&B.pos!==E?{buffer:S(z.inputFormat,ce,z).split(""),refreshFromBuffer:{start:E,end:B.pos},pos:B.caret||B.pos}:de},onKeyDown:function(C,E,I,B){C.ctrlKey&&C.key===z.keys.ArrowRight&&(this.inputmask._valueSet(O(new Date,B)),te(this).trigger("setvalue"))},onUnMask:function(C,E,I){return E?S(I.outputFormat,_(C,I.inputFormat,I),I,!0):E},casing:function(C,E,I,B){return 0==E.nativeDef.indexOf("[ap]")?C.toLowerCase():0==E.nativeDef.indexOf("[AP]")?C.toUpperCase():C},onBeforeMask:function(C,E){return"[object Date]"===Object.prototype.toString.call(C)&&(C=O(C,E)),C},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},3851:function(C,E,I){var B,z=(B=I(2394))&&B.__esModule?B:{default:B},q=I(8711),Q=I(4713);z.default.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var ee=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function l(C,E,I,B,z){return I-1>-1&&"."!==E.buffer[I-1]?(C=E.buffer[I-1]+C,C=I-2>-1&&"."!==E.buffer[I-2]?E.buffer[I-2]+C:"0"+C):C="00"+C,ee.test(C)}z.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:l},j:{validator:l},k:{validator:l},l:{validator:l}},onUnMask:function(C,E,I){return C},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(C){var E=C.separator,I=C.quantifier,B="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",z=B;if(E)for(var q=0;q<I;q++)z+="[".concat(E).concat(B,"]");return z},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(C,E){return(C=C.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(C,E,I){return C},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(C,E,I,B,z,ee,te){var ie=Q.getMaskTemplate.call(this,!0,q.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(ie.join(""))}}})},207:function(C,E,I){var B=s(I(2394)),z=s(I(7184)),q=I(8711),Q=I(2839);function s(C){return C&&C.__esModule?C:{default:C}}var ee=B.default.dependencyLib;function c(C,E){for(var I="",z=0;z<C.length;z++)B.default.prototype.definitions[C.charAt(z)]||E.definitions[C.charAt(z)]||E.optionalmarker[0]===C.charAt(z)||E.optionalmarker[1]===C.charAt(z)||E.quantifiermarker[0]===C.charAt(z)||E.quantifiermarker[1]===C.charAt(z)||E.groupmarker[0]===C.charAt(z)||E.groupmarker[1]===C.charAt(z)||E.alternatormarker===C.charAt(z)?I+="\\"+C.charAt(z):I+=C.charAt(z);return I}function u(C,E,I,B){if(C.length>0&&E>0&&(!I.digitsOptional||B)){var z=C.indexOf(I.radixPoint),q=!1;I.negationSymbol.back===C[C.length-1]&&(q=!0,C.length--),-1===z&&(C.push(I.radixPoint),z=C.length-1);for(var Q=1;Q<=E;Q++)isFinite(C[z+Q])||(C[z+Q]="0")}return q&&C.push(I.negationSymbol.back),C}function f(C,E){var I=0;for(var B in"+"===C&&(I=q.seekNext.call(this,E.validPositions.length-1)),E.tests)if((B=parseInt(B))>=I)for(var z=0,Q=E.tests[B].length;z<Q;z++)if((void 0===E.validPositions[B]||"-"===C)&&E.tests[B][z].match.def===C)return B+(void 0!==E.validPositions[B]&&"-"!==C?1:0);return I}function d(C,E){for(var I=-1,B=0,z=E.validPositions.length;B<z;B++){var q=E.validPositions[B];if(q&&q.match.def===C){I=B;break}}return I}function p(C,E,I,B,z){var q=E.buffer?E.buffer.indexOf(z.radixPoint):-1,Q=(-1!==q||B&&z.jitMasking)&&new RegExp(z.definitions[9].validator).test(C);return z._radixDance&&-1!==q&&Q&&null==E.validPositions[q]?{insert:{pos:q===I?q+1:q,c:z.radixPoint},pos:I}:Q}B.default.extendAliases({numeric:{mask:function(C){C.repeat=0,C.groupSeparator===C.radixPoint&&C.digits&&"0"!==C.digits&&("."===C.radixPoint?C.groupSeparator=",":","===C.radixPoint?C.groupSeparator=".":C.groupSeparator="")," "===C.groupSeparator&&(C.skipOptionalPartCharacter=void 0),C.placeholder.length>1&&(C.placeholder=C.placeholder.charAt(0)),"radixFocus"===C.positionCaretOnClick&&""===C.placeholder&&(C.positionCaretOnClick="lvp");var E="0",I=C.radixPoint;!0===C.numericInput&&void 0===C.__financeInput?(E="1",C.positionCaretOnClick="radixFocus"===C.positionCaretOnClick?"lvp":C.positionCaretOnClick,C.digitsOptional=!1,isNaN(C.digits)&&(C.digits=2),C._radixDance=!1,I=","===C.radixPoint?"?":"!",""!==C.radixPoint&&void 0===C.definitions[I]&&(C.definitions[I]={},C.definitions[I].validator="["+C.radixPoint+"]",C.definitions[I].placeholder=C.radixPoint,C.definitions[I].static=!0,C.definitions[I].generated=!0)):(C.__financeInput=!1,C.numericInput=!0);var B,q="[+]";if(q+=c(C.prefix,C),""!==C.groupSeparator?(void 0===C.definitions[C.groupSeparator]&&(C.definitions[C.groupSeparator]={},C.definitions[C.groupSeparator].validator="["+C.groupSeparator+"]",C.definitions[C.groupSeparator].placeholder=C.groupSeparator,C.definitions[C.groupSeparator].static=!0,C.definitions[C.groupSeparator].generated=!0),q+=C._mask(C)):q+="9{+}",void 0!==C.digits&&0!==C.digits){var Q=C.digits.toString().split(",");isFinite(Q[0])&&Q[1]&&isFinite(Q[1])?q+=I+E+"{"+C.digits+"}":(isNaN(C.digits)||parseInt(C.digits)>0)&&(C.digitsOptional||C.jitMasking?(B=q+I+E+"{0,"+C.digits+"}",C.keepStatic=!0):q+=I+E+"{"+C.digits+"}")}else C.inputmode="numeric";return q+=c(C.suffix,C),q+="[-]",B&&(q=[B+c(C.suffix,C)+"[-]",q]),C.greedy=!1,function(C){void 0===C.parseMinMaxOptions&&(null!==C.min&&(C.min=C.min.toString().replace(new RegExp((0,z.default)(C.groupSeparator),"g"),""),","===C.radixPoint&&(C.min=C.min.replace(C.radixPoint,".")),C.min=isFinite(C.min)?parseFloat(C.min):NaN,isNaN(C.min)&&(C.min=Number.MIN_VALUE)),null!==C.max&&(C.max=C.max.toString().replace(new RegExp((0,z.default)(C.groupSeparator),"g"),""),","===C.radixPoint&&(C.max=C.max.replace(C.radixPoint,".")),C.max=isFinite(C.max)?parseFloat(C.max):NaN,isNaN(C.max)&&(C.max=Number.MAX_VALUE)),C.parseMinMaxOptions="done")}(C),""!==C.radixPoint&&C.substituteRadixPoint&&(C.substitutes["."==C.radixPoint?",":"."]=C.radixPoint),q},_mask:function(C){return"("+C.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:p},1:{validator:p,definitionSymbol:"9"},9:{validator:"[0-9０-９٠-٩۰-۹]",definitionSymbol:"*"},"+":{validator:function(C,E,I,B,z){return z.allowMinus&&("-"===C||C===z.negationSymbol.front)}},"-":{validator:function(C,E,I,B,z){return z.allowMinus&&C===z.negationSymbol.back}}},preValidation:function(C,E,I,B,z,q,Q,ee){if(!1!==z.__financeInput&&I===z.radixPoint)return!1;var te=C.indexOf(z.radixPoint),ie=E;if(E=function(C,E,I,B,z){return z._radixDance&&z.numericInput&&E!==z.negationSymbol.back&&C<=I&&(I>0||E==z.radixPoint)&&(void 0===B.validPositions[C-1]||B.validPositions[C-1].input!==z.negationSymbol.back)&&(C-=1),C}(E,I,te,q,z),"-"===I||I===z.negationSymbol.front){if(!0!==z.allowMinus)return!1;var re=!1,ne=d("+",q),se=d("-",q);return-1!==ne&&(re=[ne,se]),!1!==re?{remove:re,caret:ie-z.negationSymbol.back.length}:{insert:[{pos:f.call(this,"+",q),c:z.negationSymbol.front,fromIsValid:!0},{pos:f.call(this,"-",q),c:z.negationSymbol.back,fromIsValid:void 0}],caret:ie+z.negationSymbol.back.length}}if(I===z.groupSeparator)return{caret:ie};if(ee)return!0;if(-1!==te&&!0===z._radixDance&&!1===B&&I===z.radixPoint&&void 0!==z.digits&&(isNaN(z.digits)||parseInt(z.digits)>0)&&te!==E)return{caret:z._radixDance&&E===te-1?te+1:te};if(!1===z.__financeInput)if(B){if(z.digitsOptional)return{rewritePosition:Q.end};if(!z.digitsOptional){if(Q.begin>te&&Q.end<=te)return I===z.radixPoint?{insert:{pos:te+1,c:"0",fromIsValid:!0},rewritePosition:te}:{rewritePosition:te+1};if(Q.begin<te)return{rewritePosition:Q.begin-1}}}else if(!z.showMaskOnHover&&!z.showMaskOnFocus&&!z.digitsOptional&&z.digits>0&&""===this.__valueGet.call(this.el))return{rewritePosition:te};return{rewritePosition:E}},postValidation:function(C,E,I,B,z,q,Q){if(!1===B)return B;if(Q)return!0;if(null!==z.min||null!==z.max){var te=z.onUnMask(C.slice().reverse().join(""),void 0,ee.extend({},z,{unmaskAsNumber:!0}));if(null!==z.min&&te<z.min&&(te.toString().length>z.min.toString().length||te<0))return!1;if(null!==z.max&&te>z.max)return!!z.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:u(z.max.toString().replace(".",z.radixPoint).split(""),z.digits,z).reverse()}}return B},onUnMask:function(C,E,I){if(""===E&&!0===I.nullable)return E;var B=C.replace(I.prefix,"");return B=(B=B.replace(I.suffix,"")).replace(new RegExp((0,z.default)(I.groupSeparator),"g"),""),""!==I.placeholder.charAt(0)&&(B=B.replace(new RegExp(I.placeholder.charAt(0),"g"),"0")),I.unmaskAsNumber?(""!==I.radixPoint&&-1!==B.indexOf(I.radixPoint)&&(B=B.replace(z.default.call(this,I.radixPoint),".")),B=(B=B.replace(new RegExp("^"+(0,z.default)(I.negationSymbol.front)),"-")).replace(new RegExp((0,z.default)(I.negationSymbol.back)+"$"),""),Number(B)):B},isComplete:function(C,E){var I=(E.numericInput?C.slice().reverse():C).join("");return I=(I=(I=(I=(I=I.replace(new RegExp("^"+(0,z.default)(E.negationSymbol.front)),"-")).replace(new RegExp((0,z.default)(E.negationSymbol.back)+"$"),"")).replace(E.prefix,"")).replace(E.suffix,"")).replace(new RegExp((0,z.default)(E.groupSeparator)+"([0-9]{3})","g"),"$1"),","===E.radixPoint&&(I=I.replace((0,z.default)(E.radixPoint),".")),isFinite(I)},onBeforeMask:function(C,E){var I=E.radixPoint||",";isFinite(E.digits)&&(E.digits=parseInt(E.digits)),"number"!=typeof C&&"number"!==E.inputType||""===I||(C=C.toString().replace(".",I));var B="-"===C.charAt(0)||C.charAt(0)===E.negationSymbol.front,q=C.split(I),Q=q[0].replace(/[^\-0-9]/g,""),ee=q.length>1?q[1].replace(/[^0-9]/g,""):"",te=q.length>1;C=Q+(""!==ee?I+ee:ee);var ie=0;if(""!==I&&(ie=E.digitsOptional?E.digits<ee.length?E.digits:ee.length:E.digits,""!==ee||!E.digitsOptional)){var re=Math.pow(10,ie||1);C=C.replace((0,z.default)(I),"."),isNaN(parseFloat(C))||(C=(E.roundingFN(parseFloat(C)*re)/re).toFixed(ie)),C=C.toString().replace(".",I)}if(0===E.digits&&-1!==C.indexOf(I)&&(C=C.substring(0,C.indexOf(I))),null!==E.min||null!==E.max){var ne=C.toString().replace(I,".");null!==E.min&&ne<E.min?C=E.min.toString().replace(".",I):null!==E.max&&ne>E.max&&(C=E.max.toString().replace(".",I))}return B&&"-"!==C.charAt(0)&&(C="-"+C),u(C.toString().split(""),ie,E,te).join("")},onBeforeWrite:function(C,E,I,B){function r(C,E){if(!1!==B.__financeInput||E){var I=C.indexOf(B.radixPoint);-1!==I&&C.splice(I,1)}if(""!==B.groupSeparator)for(;-1!==(I=C.indexOf(B.groupSeparator));)C.splice(I,1);return C}var q,Q;if(B.stripLeadingZeroes&&(Q=function(C,E){var I=new RegExp("(^"+(""!==E.negationSymbol.front?(0,z.default)(E.negationSymbol.front)+"?":"")+(0,z.default)(E.prefix)+")(.*)("+(0,z.default)(E.suffix)+(""!=E.negationSymbol.back?(0,z.default)(E.negationSymbol.back)+"?":"")+"$)").exec(C.slice().reverse().join("")),B=I?I[2]:"",q=!1;return B&&(B=B.split(E.radixPoint.charAt(0))[0],q=new RegExp("^[0"+E.groupSeparator+"]*").exec(B)),!(!q||!(q[0].length>1||q[0].length>0&&q[0].length<B.length))&&q}(E,B)))for(var te=E.join("").lastIndexOf(Q[0].split("").reverse().join(""))-(Q[0]==Q.input?0:1),ie=Q[0]==Q.input?1:0,re=Q[0].length-ie;re>0;re--)delete this.maskset.validPositions[te+re],delete E[te+re];if(C)switch(C.type){case"blur":case"checkval":if(null!==B.min){var ne=B.onUnMask(E.slice().reverse().join(""),void 0,ee.extend({},B,{unmaskAsNumber:!0}));if(null!==B.min&&ne<B.min)return{refreshFromBuffer:!0,buffer:u(B.min.toString().replace(".",B.radixPoint).split(""),B.digits,B).reverse()}}if(E[E.length-1]===B.negationSymbol.front){var se=new RegExp("(^"+(""!=B.negationSymbol.front?(0,z.default)(B.negationSymbol.front)+"?":"")+(0,z.default)(B.prefix)+")(.*)("+(0,z.default)(B.suffix)+(""!=B.negationSymbol.back?(0,z.default)(B.negationSymbol.back)+"?":"")+"$)").exec(r(E.slice(),!0).reverse().join(""));0==(se?se[2]:"")&&(q={refreshFromBuffer:!0,buffer:[0]})}else""!==B.radixPoint&&E.indexOf(B.radixPoint)===B.suffix.length&&(q&&q.buffer?q.buffer.splice(0,1+B.suffix.length):(E.splice(0,1+B.suffix.length),q={refreshFromBuffer:!0,buffer:r(E)}));if(B.enforceDigitsOnBlur){var oe=(q=q||{})&&q.buffer||E.slice().reverse();q.refreshFromBuffer=!0,q.buffer=u(oe,B.digits,B,!0).reverse()}}return q},onKeyDown:function(C,E,I,B){var z,q=ee(this);if(3!=C.location){var te,ie=C.key;if((te=B.shortcuts&&B.shortcuts[ie])&&te.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(te)),q.trigger("setvalue"),!1}if(C.ctrlKey)switch(C.key){case Q.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(B.step)),q.trigger("setvalue"),!1;case Q.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(B.step)),q.trigger("setvalue"),!1}if(!C.shiftKey&&(C.key===Q.keys.Delete||C.key===Q.keys.Backspace||C.key===Q.keys.BACKSPACE_SAFARI)&&I.begin!==E.length){if(E[C.key===Q.keys.Delete?I.begin-1:I.end]===B.negationSymbol.front)return z=E.slice().reverse(),""!==B.negationSymbol.front&&z.shift(),""!==B.negationSymbol.back&&z.pop(),q.trigger("setvalue",[z.join(""),I.begin]),!1;if(!0===B._radixDance){var re=E.indexOf(B.radixPoint);if(B.digitsOptional){if(0===re)return(z=E.slice().reverse()).pop(),q.trigger("setvalue",[z.join(""),I.begin>=z.length?z.length:I.begin]),!1}else if(-1!==re&&(I.begin<re||I.end<re||C.key===Q.keys.Delete&&(I.begin===re||I.begin-1===re))){var ne=void 0;return I.begin===I.end&&(C.key===Q.keys.Backspace||C.key===Q.keys.BACKSPACE_SAFARI?I.begin++:C.key===Q.keys.Delete&&I.begin-1===re&&(ne=ee.extend({},I),I.begin--,I.end--)),(z=E.slice().reverse()).splice(z.length-I.begin,I.begin-I.end+1),z=u(z,B.digits,B).join(""),ne&&(I=ne),q.trigger("setvalue",[z,I.begin>=z.length?re+1:I.begin]),!1}}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(C){return"("+C.groupSeparator+"99){*|1}("+C.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(C,E,I){var B;Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var z=((B=I(8741))&&B.__esModule?B:{default:B}).default?window:{};E.default=z},7760:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.HandleNativePlaceholder=function(C,E){var I=C?C.inputmask:this;if(ee.ie){if(C.inputmask._valueGet()!==E&&(C.placeholder!==E||""===C.placeholder)){var B=q.getBuffer.call(I).slice(),z=C.inputmask._valueGet();if(z!==E){var Q=q.getLastValidPosition.call(I);-1===Q&&z===q.getBufferTemplate.call(I).join("")?B=[]:-1!==Q&&u.call(I,B),d(C,B)}}}else C.placeholder!==E&&(C.placeholder=E,""===C.placeholder&&C.removeAttribute("placeholder"))},E.applyInputValue=c,E.checkVal=f,E.clearOptionalTail=u,E.unmaskedvalue=function(C){var E=C?C.inputmask:this,I=E.opts,B=E.maskset;if(C){if(void 0===C.inputmask)return C.value;C.inputmask&&C.inputmask.refreshValue&&c(C,C.inputmask._valueGet(!0))}for(var z=[],Q=B.validPositions,ee=0,te=Q.length;ee<te;ee++)Q[ee]&&Q[ee].match&&(1!=Q[ee].match.static||Array.isArray(B.metadata)&&!0!==Q[ee].generatedInput)&&z.push(Q[ee].input);var ie=0===z.length?"":(E.isRTL?z.reverse():z).join("");if("function"==typeof I.onUnMask){var re=(E.isRTL?q.getBuffer.call(E).slice().reverse():q.getBuffer.call(E)).join("");ie=I.onUnMask.call(E,re,ie,I)}return ie},E.writeBuffer=d;var B=I(2839),z=I(4713),q=I(8711),Q=I(7215),ee=I(9845),te=I(6030);function c(C,E){var I=C?C.inputmask:this,B=I.opts;C.inputmask.refreshValue=!1,"function"==typeof B.onBeforeMask&&(E=B.onBeforeMask.call(I,E,B)||E),f(C,!0,!1,E=(E||"").toString().split("")),I.undoValue=I._valueGet(!0),(B.clearMaskOnLostFocus||B.clearIncomplete)&&C.inputmask._valueGet()===q.getBufferTemplate.call(I).join("")&&-1===q.getLastValidPosition.call(I)&&C.inputmask._valueSet("")}function u(C){C.length=0;for(var E,I=z.getMaskTemplate.call(this,!0,0,!0,void 0,!0);void 0!==(E=I.shift());)C.push(E);return C}function f(C,E,I,B,ee){var ie=C?C.inputmask:this,re=ie.maskset,ne=ie.opts,se=ie.dependencyLib,oe=B.slice(),ae="",le=-1,ue=void 0,de=ne.skipOptionalPartCharacter;ne.skipOptionalPartCharacter="",q.resetMaskSet.call(ie),re.tests={},le=ne.radixPoint?q.determineNewCaretPosition.call(ie,{begin:0,end:0},!1,!1===ne.__financeInput?"radixFocus":void 0).begin:0,re.p=le,ie.caretPos={begin:le};var ce=[],he=ie.caretPos;if(oe.forEach((function(C,E){if(void 0!==C){var B=new se.Event("_checkval");B.key=C,ae+=C;var Q=q.getLastValidPosition.call(ie,void 0,!0);!function(C,E){for(var I=z.getMaskTemplate.call(ie,!0,0).slice(C,q.seekNext.call(ie,C,!1,!1)).join("").replace(/'/g,""),B=I.indexOf(E);B>0&&" "===I[B-1];)B--;var Q=0===B&&!q.isMask.call(ie,C)&&(z.getTest.call(ie,C).match.nativeDef===E.charAt(0)||!0===z.getTest.call(ie,C).match.static&&z.getTest.call(ie,C).match.nativeDef==="'"+E.charAt(0)||" "===z.getTest.call(ie,C).match.nativeDef&&(z.getTest.call(ie,C+1).match.nativeDef===E.charAt(0)||!0===z.getTest.call(ie,C+1).match.static&&z.getTest.call(ie,C+1).match.nativeDef==="'"+E.charAt(0)));if(!Q&&B>0&&!q.isMask.call(ie,C,!1,!0)){var ee=q.seekNext.call(ie,C);ie.caretPos.begin<ee&&(ie.caretPos={begin:ee})}return Q}(le,ae)?(ue=te.EventHandlers.keypressEvent.call(ie,B,!0,!1,I,ie.caretPos.begin))&&(le=ie.caretPos.begin+1,ae=""):ue=te.EventHandlers.keypressEvent.call(ie,B,!0,!1,I,Q+1),ue?(void 0!==ue.pos&&re.validPositions[ue.pos]&&!0===re.validPositions[ue.pos].match.static&&void 0===re.validPositions[ue.pos].alternation&&(ce.push(ue.pos),ie.isRTL||(ue.forwardPosition=ue.pos+1)),d.call(ie,void 0,q.getBuffer.call(ie),ue.forwardPosition,B,!1),ie.caretPos={begin:ue.forwardPosition,end:ue.forwardPosition},he=ie.caretPos):void 0===re.validPositions[E]&&oe[E]===z.getPlaceholder.call(ie,E)&&q.isMask.call(ie,E,!0)?ie.caretPos.begin++:ie.caretPos=he}})),ce.length>0){var fe,pe,me=q.seekNext.call(ie,-1,void 0,!1);if(!Q.isComplete.call(ie,q.getBuffer.call(ie))&&ce.length<=me||Q.isComplete.call(ie,q.getBuffer.call(ie))&&ce.length>0&&ce.length!==me&&0===ce[0])for(var ge=me;void 0!==(fe=ce.shift());){var ve=new se.Event("_checkval");if((pe=re.validPositions[fe]).generatedInput=!0,ve.key=pe.input,(ue=te.EventHandlers.keypressEvent.call(ie,ve,!0,!1,I,ge))&&void 0!==ue.pos&&ue.pos!==fe&&re.validPositions[ue.pos]&&!0===re.validPositions[ue.pos].match.static)ce.push(ue.pos);else if(!ue)break;ge++}}E&&d.call(ie,C,q.getBuffer.call(ie),ue?ue.forwardPosition:ie.caretPos.begin,ee||new se.Event("checkval"),ee&&("input"===ee.type&&ie.undoValue!==q.getBuffer.call(ie).join("")||"paste"===ee.type)),ne.skipOptionalPartCharacter=de}function d(C,E,I,z,ee){var te=C?C.inputmask:this,ie=te.opts,re=te.dependencyLib;if(z&&"function"==typeof ie.onBeforeWrite){var ne=ie.onBeforeWrite.call(te,z,E,I,ie);if(ne){if(ne.refreshFromBuffer){var se=ne.refreshFromBuffer;Q.refreshFromBuffer.call(te,!0===se?se:se.start,se.end,ne.buffer||E),E=q.getBuffer.call(te,!0)}void 0!==I&&(I=void 0!==ne.caret?ne.caret:I)}}if(void 0!==C&&(C.inputmask._valueSet(E.join("")),void 0===I||void 0!==z&&"blur"===z.type||q.caret.call(te,C,I,void 0,void 0,void 0!==z&&"keydown"===z.type&&(z.key===B.keys.Delete||z.key===B.keys.Backspace)),!0===ee)){var oe=re(C),ae=C.inputmask._valueGet();C.inputmask.skipInputEvent=!0,oe.trigger("input"),setTimeout((function(){ae===q.getBufferTemplate.call(te).join("")?oe.trigger("cleared"):!0===Q.isComplete.call(te,E)&&oe.trigger("complete")}),0)}}},2394:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.default=void 0;var B=I(157),z=v(I(3287)),q=v(I(9380)),Q=I(2391),ee=I(4713),te=I(8711),ie=I(7215),re=I(7760),ne=I(9716),se=v(I(7392)),oe=v(I(3976)),ae=v(I(8741));function m(C){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},m(C)}function v(C){return C&&C.__esModule?C:{default:C}}var le=q.default.document,ue="_inputmask_opts";function y(C,E,I){if(ae.default){if(!(this instanceof y))return new y(C,E,I);this.dependencyLib=z.default,this.el=void 0,this.events={},this.maskset=void 0,!0!==I&&("[object Object]"===Object.prototype.toString.call(C)?E=C:(E=E||{},C&&(E.alias=C)),this.opts=z.default.extend(!0,{},this.defaults,E),this.noMasksCache=E&&void 0!==E.definitions,this.userOptions=E||{},b(this.opts.alias,E,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}}function b(C,E,I){var B=y.prototype.aliases[C];return B?(B.alias&&b(B.alias,void 0,I),z.default.extend(!0,I,B),z.default.extend(!0,I,E),!0):(null===I.mask&&(I.mask=C),!1)}y.prototype={dataAttribute:"data-inputmask",defaults:oe.default,definitions:se.default,aliases:{},masksCache:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(C){var E=this;return"string"==typeof C&&(C=le.getElementById(C)||le.querySelectorAll(C)),(C=C.nodeName?[C]:Array.isArray(C)?C:[].slice.call(C)).forEach((function(C,I){var ee=z.default.extend(!0,{},E.opts);if(function(C,E,I,B){function o(E,z){var Q=""===B?E:B+"-"+E;null!==(z=void 0!==z?z:C.getAttribute(Q))&&("string"==typeof z&&(0===E.indexOf("on")?z=q.default[z]:"false"===z?z=!1:"true"===z&&(z=!0)),I[E]=z)}if(!0===E.importDataAttributes){var Q,ee,te,ie,re=C.getAttribute(B);if(re&&""!==re&&(re=re.replace(/'/g,'"'),ee=JSON.parse("{"+re+"}")),ee)for(ie in te=void 0,ee)if("alias"===ie.toLowerCase()){te=ee[ie];break}for(Q in o("alias",te),I.alias&&b(I.alias,I,E),E){if(ee)for(ie in te=void 0,ee)if(ie.toLowerCase()===Q.toLowerCase()){te=ee[ie];break}o(Q,te)}}return z.default.extend(!0,E,I),("rtl"===C.dir||E.rightAlign)&&(C.style.textAlign="right"),("rtl"===C.dir||E.numericInput)&&(C.dir="ltr",C.removeAttribute("dir"),E.isRTL=!0),Object.keys(I).length}(C,ee,z.default.extend(!0,{},E.userOptions),E.dataAttribute)){var te=(0,Q.generateMaskSet)(ee,E.noMasksCache);void 0!==te&&(void 0!==C.inputmask&&(C.inputmask.opts.autoUnmask=!0,C.inputmask.remove()),C.inputmask=new y(void 0,void 0,!0),C.inputmask.opts=ee,C.inputmask.noMasksCache=E.noMasksCache,C.inputmask.userOptions=z.default.extend(!0,{},E.userOptions),C.inputmask.el=C,C.inputmask.$el=(0,z.default)(C),C.inputmask.maskset=te,z.default.data(C,ue,E.userOptions),B.mask.call(C.inputmask))}})),C&&C[0]&&C[0].inputmask||this},option:function(C,E){return"string"==typeof C?this.opts[C]:"object"===m(C)?(z.default.extend(this.userOptions,C),this.el&&!0!==E&&this.mask(this.el),this):void 0},unmaskedvalue:function(C){if(this.maskset=this.maskset||(0,Q.generateMaskSet)(this.opts,this.noMasksCache),void 0===this.el||void 0!==C){var E=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,C,this.opts)||C).split("");re.checkVal.call(this,void 0,!1,!1,E),"function"==typeof this.opts.onBeforeWrite&&this.opts.onBeforeWrite.call(this,void 0,te.getBuffer.call(this),0,this.opts)}return re.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){z.default.data(this.el,ue,null);var C=this.opts.autoUnmask?(0,re.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);C!==te.getBufferTemplate.call(this).join("")?this._valueSet(C,this.opts.autoUnmask):this._valueSet(""),ne.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):le.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,Q.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?te.getBufferTemplate.call(this).reverse():te.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,Q.generateMaskSet)(this.opts,this.noMasksCache),ie.isComplete.call(this,te.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,Q.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var C=ee.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(E){return E.mask!==C||(C=E,!1)})),C}return this.maskset.metadata},isValid:function(C){if(this.maskset=this.maskset||(0,Q.generateMaskSet)(this.opts,this.noMasksCache),C){var E=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,C,this.opts)||C).split("");re.checkVal.call(this,void 0,!0,!1,E)}else C=this.isRTL?te.getBuffer.call(this).slice().reverse().join(""):te.getBuffer.call(this).join("");for(var I=te.getBuffer.call(this),B=te.determineLastRequiredPosition.call(this),z=I.length-1;z>B&&!te.isMask.call(this,z);z--);return I.splice(B,z+1-B),ie.isComplete.call(this,I)&&C===(this.isRTL?te.getBuffer.call(this).slice().reverse().join(""):te.getBuffer.call(this).join(""))},format:function(C,E){this.maskset=this.maskset||(0,Q.generateMaskSet)(this.opts,this.noMasksCache);var I=("function"==typeof this.opts.onBeforeMask&&this.opts.onBeforeMask.call(this,C,this.opts)||C).split("");re.checkVal.call(this,void 0,!0,!1,I);var B=this.isRTL?te.getBuffer.call(this).slice().reverse().join(""):te.getBuffer.call(this).join("");return E?{value:B,metadata:this.getmetadata()}:B},setValue:function(C){this.el&&(0,z.default)(this.el).trigger("setvalue",[C])},analyseMask:Q.analyseMask},y.extendDefaults=function(C){z.default.extend(!0,y.prototype.defaults,C)},y.extendDefinitions=function(C){z.default.extend(!0,y.prototype.definitions,C)},y.extendAliases=function(C){z.default.extend(!0,y.prototype.aliases,C)},y.format=function(C,E,I){return y(E).format(C,I)},y.unmask=function(C,E){return y(E).unmaskedvalue(C)},y.isValid=function(C,E){return y(E).isValid(C)},y.remove=function(C){"string"==typeof C&&(C=le.getElementById(C)||le.querySelectorAll(C)),(C=C.nodeName?[C]:C).forEach((function(C){C.inputmask&&C.inputmask.remove()}))},y.setValue=function(C,E){"string"==typeof C&&(C=le.getElementById(C)||le.querySelectorAll(C)),(C=C.nodeName?[C]:C).forEach((function(C){C.inputmask?C.inputmask.setValue(E):(0,z.default)(C).trigger("setvalue",[E])}))},y.dependencyLib=z.default,q.default.Inputmask=y;var de=y;E.default=de},5296:function(C,E,I){function a(C){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},a(C)}var B=h(I(9380)),z=h(I(2394)),q=h(I(8741));function s(C,E){for(var I=0;I<E.length;I++){var B=E[I];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,(z=void 0,z=function(C,E){if("object"!==a(C)||null===C)return C;var I=C[Symbol.toPrimitive];if(void 0!==I){var B=I.call(C,E||"default");if("object"!==a(B))return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===E?String:Number)(C)}(B.key,"string"),"symbol"===a(z)?z:String(z)),B)}var z}function l(C){var E=f();return function(){var I,B=p(C);if(E){var z=p(this).constructor;I=Reflect.construct(B,arguments,z)}else I=B.apply(this,arguments);return function(C,E){if(E&&("object"===a(E)||"function"==typeof E))return E;if(void 0!==E)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C)}(this,I)}}function c(C){var E="function"==typeof Map?new Map:void 0;return c=function(C){if(null===C||(I=C,-1===Function.toString.call(I).indexOf("[native code]")))return C;var I;if("function"!=typeof C)throw new TypeError("Super expression must either be null or a function");if(void 0!==E){if(E.has(C))return E.get(C);E.set(C,a)}function a(){return u(C,arguments,p(this).constructor)}return a.prototype=Object.create(C.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d(a,C)},c(C)}function u(C,E,I){return u=f()?Reflect.construct.bind():function(C,E,I){var B=[null];B.push.apply(B,E);var z=new(Function.bind.apply(C,B));return I&&d(z,I.prototype),z},u.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(C){return!1}}function d(C,E){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,E){return C.__proto__=E,C},d(C,E)}function p(C){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},p(C)}function h(C){return C&&C.__esModule?C:{default:C}}var Q=B.default.document;if(q.default&&Q&&Q.head&&Q.head.attachShadow&&B.default.customElements&&void 0===B.default.customElements.get("input-mask")){var ee=function(C){!function(C,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),E&&d(C,E)}(o,C);var E,I,B,q=l(o);function o(){var C;!function(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}(this,o);var E=(C=q.call(this)).getAttributeNames(),I=C.attachShadow({mode:"closed"}),B=Q.createElement("input");for(var ee in B.type="text",I.appendChild(B),E)Object.prototype.hasOwnProperty.call(E,ee)&&B.setAttribute(E[ee],C.getAttribute(E[ee]));var te=new z.default;return te.dataAttribute="",te.mask(B),B.inputmask.shadowRoot=I,C}return E=o,I&&s(E.prototype,I),B&&s(E,B),Object.defineProperty(E,"prototype",{writable:!1}),E}(c(HTMLElement));B.default.customElements.define("input-mask",ee)}},443:function(C,E,I){var B=o(I(7957)),z=o(I(2394));function r(C){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},r(C)}function o(C){return C&&C.__esModule?C:{default:C}}void 0===B.default.fn.inputmask&&(B.default.fn.inputmask=function(C,E){var I,q=this[0];if(void 0===E&&(E={}),"string"==typeof C)switch(C){case"unmaskedvalue":return q&&q.inputmask?q.inputmask.unmaskedvalue():(0,B.default)(q).val();case"remove":return this.each((function(){this.inputmask&&this.inputmask.remove()}));case"getemptymask":return q&&q.inputmask?q.inputmask.getemptymask():"";case"hasMaskedValue":return!(!q||!q.inputmask)&&q.inputmask.hasMaskedValue();case"isComplete":return!q||!q.inputmask||q.inputmask.isComplete();case"getmetadata":return q&&q.inputmask?q.inputmask.getmetadata():void 0;case"setvalue":z.default.setValue(q,E);break;case"option":if("string"!=typeof E)return this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(E)}));if(q&&void 0!==q.inputmask)return q.inputmask.option(E);break;default:return E.alias=C,I=new z.default(E),this.each((function(){I.mask(this)}))}else{if(Array.isArray(C))return E.alias=C,I=new z.default(E),this.each((function(){I.mask(this)}));if("object"==r(C))return I=new z.default(C),void 0===C.mask&&void 0===C.alias?this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(C);I.mask(this)})):this.each((function(){I.mask(this)}));if(void 0===C)return this.each((function(){(I=new z.default(E)).mask(this)}))}})},2839:function(C,E){function i(C,E){return function(C){if(Array.isArray(C))return C}(C)||function(C,E){var I=null==C?null:"undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(null!=I){var B,z,q,Q,ee=[],te=!0,ie=!1;try{if(q=(I=I.call(C)).next,0===E){if(Object(I)!==I)return;te=!1}else for(;!(te=(B=q.call(I)).done)&&(ee.push(B.value),ee.length!==E);te=!0);}catch(C){ie=!0,z=C}finally{try{if(!te&&null!=I.return&&(Q=I.return(),Object(Q)!==Q))return}finally{if(ie)throw z}}return ee}}(C,E)||function(C,E){if(C){if("string"==typeof C)return a(C,E);var I=Object.prototype.toString.call(C).slice(8,-1);return"Object"===I&&C.constructor&&(I=C.constructor.name),"Map"===I||"Set"===I?Array.from(C):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?a(C,E):void 0}}(C,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(C,E){(null==E||E>C.length)&&(E=C.length);for(var I=0,B=new Array(E);I<E;I++)B[I]=C[I];return B}Object.defineProperty(E,"__esModule",{value:!0}),E.keys=E.keyCode=void 0,E.toKey=function(C,E){return B[C]||(E?String.fromCharCode(C):String.fromCharCode(C).toLowerCase())},E.toKeyCode=function(C){return I[C]};var I={AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,BACKSPACE_SAFARI:127,CapsLock:20,Delete:46,End:35,Enter:13,Escape:27,Home:36,Insert:45,PageDown:34,PageUp:33,Space:32,Tab:9,c:67,x:88,z:90,Shift:16,Control:17,Alt:18,Pause:19,Meta_LEFT:91,Meta_RIGHT:92,ContextMenu:93,Process:229,Unidentified:229,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123};E.keyCode=I;var B=Object.entries(I).reduce((function(C,E){var I=i(E,2),B=I[0],z=I[1];return C[z]=void 0===C[z]?B:C[z],C}),{}),z=Object.entries(I).reduce((function(C,E){var I=i(E,2),B=I[0];return I[1],C[B]="Space"===B?" ":B,C}),{});E.keys=z},2391:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.analyseMask=function(C,E,I){var B,Q,ee,te,ie,re,ne=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,se=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,oe=!1,ae=new z.default,le=[],ue=[],de=!1;function k(C,B,z){z=void 0!==z?z:C.matches.length;var Q=C.matches[z-1];if(E){if(0===B.indexOf("[")||oe&&/\\d|\\s|\\w|\\p/i.test(B)||"."===B){var ee=I.casing?"i":"";/^\\p\{.*}$/i.test(B)&&(ee+="u"),C.matches.splice(z++,0,{fn:new RegExp(B,ee),static:!1,optionality:!1,newBlockMarker:void 0===Q?"master":Q.def!==B,casing:null,def:B,placeholder:void 0,nativeDef:B})}else oe&&(B=B[B.length-1]),B.split("").forEach((function(E,B){Q=C.matches[z-1],C.matches.splice(z++,0,{fn:/[a-z]/i.test(I.staticDefinitionSymbol||E)?new RegExp("["+(I.staticDefinitionSymbol||E)+"]",I.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===Q?"master":Q.def!==E&&!0!==Q.static,casing:null,def:I.staticDefinitionSymbol||E,placeholder:void 0!==I.staticDefinitionSymbol?E:void 0,nativeDef:(oe?"'":"")+E})}));oe=!1}else{var te=I.definitions&&I.definitions[B]||I.usePrototypeDefinitions&&q.default.prototype.definitions[B];te&&!oe?C.matches.splice(z++,0,{fn:te.validator?"string"==typeof te.validator?new RegExp(te.validator,I.casing?"i":""):new function(){this.test=te.validator}:new RegExp("."),static:te.static||!1,optionality:te.optional||!1,defOptionality:te.optional||!1,newBlockMarker:void 0===Q||te.optional?"master":Q.def!==(te.definitionSymbol||B),casing:te.casing,def:te.definitionSymbol||B,placeholder:te.placeholder,nativeDef:B,generated:te.generated}):(C.matches.splice(z++,0,{fn:/[a-z]/i.test(I.staticDefinitionSymbol||B)?new RegExp("["+(I.staticDefinitionSymbol||B)+"]",I.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===Q?"master":Q.def!==B&&!0!==Q.static,casing:null,def:I.staticDefinitionSymbol||B,placeholder:void 0!==I.staticDefinitionSymbol?B:void 0,nativeDef:(oe?"'":"")+B}),oe=!1)}}function y(){if(le.length>0){if(k(te=le[le.length-1],Q),te.isAlternator){ie=le.pop();for(var C=0;C<ie.matches.length;C++)ie.matches[C].isGroup&&(ie.matches[C].isGroup=!1);le.length>0?(te=le[le.length-1]).matches.push(ie):ae.matches.push(ie)}}else k(ae,Q)}function b(C){var E=new z.default(!0);return E.openGroup=!1,E.matches=C,E}function x(){if((ee=le.pop()).openGroup=!1,void 0!==ee)if(le.length>0){if((te=le[le.length-1]).matches.push(ee),te.isAlternator){for(var C=(ie=le.pop()).matches[0].matches?ie.matches[0].matches.length:1,E=0;E<ie.matches.length;E++)ie.matches[E].isGroup=!1,ie.matches[E].alternatorGroup=!1,null===I.keepStatic&&C<(ie.matches[E].matches?ie.matches[E].matches.length:1)&&(I.keepStatic=!0),C=ie.matches[E].matches?ie.matches[E].matches.length:1;le.length>0?(te=le[le.length-1]).matches.push(ie):ae.matches.push(ie)}}else ae.matches.push(ee);else y()}function P(C){var E=C.pop();return E.isQuantifier&&(E=b([C.pop(),E])),E}for(E&&(I.optionalmarker[0]=void 0,I.optionalmarker[1]=void 0);B=E?se.exec(C):ne.exec(C);){if(Q=B[0],E){switch(Q.charAt(0)){case"?":Q="{0,1}";break;case"+":case"*":Q="{"+Q+"}";break;case"|":if(0===le.length){var ce=b(ae.matches);ce.openGroup=!0,le.push(ce),ae.matches=[],de=!0}}switch(Q){case"\\d":Q="[0-9]";break;case"\\p":Q+=se.exec(C)[0],Q+=se.exec(C)[0]}}if(oe)y();else switch(Q.charAt(0)){case"$":case"^":E||y();break;case I.escapeChar:oe=!0,E&&y();break;case I.optionalmarker[1]:case I.groupmarker[1]:x();break;case I.optionalmarker[0]:le.push(new z.default(!1,!0));break;case I.groupmarker[0]:le.push(new z.default(!0));break;case I.quantifiermarker[0]:var he=new z.default(!1,!1,!0),fe=(Q=Q.replace(/[{}?]/g,"")).split("|"),pe=fe[0].split(","),me=isNaN(pe[0])?pe[0]:parseInt(pe[0]),ge=1===pe.length?me:isNaN(pe[1])?pe[1]:parseInt(pe[1]),ve=isNaN(fe[1])?fe[1]:parseInt(fe[1]);"*"!==me&&"+"!==me||(me="*"===ge?0:1),he.quantifier={min:me,max:ge,jit:ve};var ye=le.length>0?le[le.length-1].matches:ae.matches;(B=ye.pop()).isGroup||(B=b([B])),ye.push(B),ye.push(he);break;case I.alternatormarker:if(le.length>0){var be=(te=le[le.length-1]).matches[te.matches.length-1];re=te.openGroup&&(void 0===be.matches||!1===be.isGroup&&!1===be.isAlternator)?le.pop():P(te.matches)}else re=P(ae.matches);if(re.isAlternator)le.push(re);else if(re.alternatorGroup?(ie=le.pop(),re.alternatorGroup=!1):ie=new z.default(!1,!1,!1,!0),ie.matches.push(re),le.push(ie),re.openGroup){re.openGroup=!1;var Ce=new z.default(!0);Ce.alternatorGroup=!0,le.push(Ce)}break;default:y()}}for(de&&x();le.length>0;)ee=le.pop(),ae.matches.push(ee);return ae.matches.length>0&&(function e(C){C&&C.matches&&C.matches.forEach((function(B,z){var q=C.matches[z+1];(void 0===q||void 0===q.matches||!1===q.isQuantifier)&&B&&B.isGroup&&(B.isGroup=!1,E||(k(B,I.groupmarker[0],0),!0!==B.openGroup&&k(B,I.groupmarker[1]))),e(B)}))}(ae),ue.push(ae)),(I.numericInput||I.isRTL)&&function e(C){for(var E in C.matches=C.matches.reverse(),C.matches)if(Object.prototype.hasOwnProperty.call(C.matches,E)){var B=parseInt(E);if(C.matches[E].isQuantifier&&C.matches[B+1]&&C.matches[B+1].isGroup){var z=C.matches[E];C.matches.splice(E,1),C.matches.splice(B+1,0,z)}void 0!==C.matches[E].matches?C.matches[E]=e(C.matches[E]):C.matches[E]=((q=C.matches[E])===I.optionalmarker[0]?q=I.optionalmarker[1]:q===I.optionalmarker[1]?q=I.optionalmarker[0]:q===I.groupmarker[0]?q=I.groupmarker[1]:q===I.groupmarker[1]&&(q=I.groupmarker[0]),q)}var q;return C}(ue[0]),ue},E.generateMaskSet=function(C,E){var I;function n(C,E){var I=E.repeat,B=E.groupmarker,z=E.quantifiermarker,q=E.keepStatic;if(I>0||"*"===I||"+"===I){var ee="*"===I?0:"+"===I?1:I;C=B[0]+C+B[1]+z[0]+ee+","+I+z[1]}if(!0===q){var te=C.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));te&&te.forEach((function(E,I){var B=function(C,E){return function(C){if(Array.isArray(C))return C}(C)||function(C,E){var I=null==C?null:"undefined"!=typeof Symbol&&C[Symbol.iterator]||C["@@iterator"];if(null!=I){var B,z,q,Q,ee=[],te=!0,ie=!1;try{if(q=(I=I.call(C)).next,0===E){if(Object(I)!==I)return;te=!1}else for(;!(te=(B=q.call(I)).done)&&(ee.push(B.value),ee.length!==E);te=!0);}catch(C){ie=!0,z=C}finally{try{if(!te&&null!=I.return&&(Q=I.return(),Object(Q)!==Q))return}finally{if(ie)throw z}}return ee}}(C,E)||function(C,E){if(C){if("string"==typeof C)return s(C,E);var I=Object.prototype.toString.call(C).slice(8,-1);return"Object"===I&&C.constructor&&(I=C.constructor.name),"Map"===I||"Set"===I?Array.from(C):"Arguments"===I||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?s(C,E):void 0}}(C,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(E.split("["),2),z=B[0],q=B[1];q=q.replace("]",""),C=C.replace(new RegExp("".concat((0,Q.default)(z),"\\[").concat((0,Q.default)(q),"\\]")),z.charAt(0)===q.charAt(0)?"(".concat(z,"|").concat(z).concat(q,")"):"".concat(z,"[").concat(q,"]"))}))}return C}function l(C,I,z){var Q,ee,te=!1;return null!==C&&""!==C||((te=null!==z.regex)?C=(C=z.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(te=!0,C=".*")),1===C.length&&!1===z.greedy&&0!==z.repeat&&(z.placeholder=""),C=n(C,z),ee=te?"regex_"+z.regex:z.numericInput?C.split("").reverse().join(""):C,null!==z.keepStatic&&(ee="ks_"+z.keepStatic+ee),void 0===q.default.prototype.masksCache[ee]||!0===E?(Q={mask:C,maskToken:q.default.prototype.analyseMask(C,te,z),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:I,maskLength:void 0,jitOffset:{}},!0!==E&&(q.default.prototype.masksCache[ee]=Q,Q=B.default.extend(!0,{},q.default.prototype.masksCache[ee]))):Q=B.default.extend(!0,{},q.default.prototype.masksCache[ee]),Q}if("function"==typeof C.mask&&(C.mask=C.mask(C)),Array.isArray(C.mask)){if(C.mask.length>1){null===C.keepStatic&&(C.keepStatic=!0);var z=C.groupmarker[0];return(C.isRTL?C.mask.reverse():C.mask).forEach((function(E){z.length>1&&(z+=C.alternatormarker),void 0!==E.mask&&"function"!=typeof E.mask?z+=E.mask:z+=E})),l(z+=C.groupmarker[1],C.mask,C)}C.mask=C.mask.pop()}return I=C.mask&&void 0!==C.mask.mask&&"function"!=typeof C.mask.mask?l(C.mask.mask,C.mask,C):l(C.mask,C.mask,C),null===C.keepStatic&&(C.keepStatic=!1),I};var B=l(I(3287)),z=l(I(9695)),q=l(I(2394)),Q=l(I(7184));function s(C,E){(null==E||E>C.length)&&(E=C.length);for(var I=0,B=new Array(E);I<E;I++)B[I]=C[I];return B}function l(C){return C&&C.__esModule?C:{default:C}}},157:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.mask=function(){var C=this,E=this.opts,I=this.el,re=this.dependencyLib;Q.EventRuler.off(I);var ne=function(E,I){"textarea"!==E.tagName.toLowerCase()&&I.ignorables.push(B.keys.Enter);var ee=E.getAttribute("type"),te="input"===E.tagName.toLowerCase()&&I.supportsInputType.includes(ee)||E.isContentEditable||"textarea"===E.tagName.toLowerCase();if(!te)if("input"===E.tagName.toLowerCase()){var ie=document.createElement("input");ie.setAttribute("type",ee),te="text"===ie.type,ie=null}else te="partial";return!1!==te?function(E){var B,ee;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==z.getLastValidPosition.call(C)||!0!==I.nullable?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&I.clearMaskOnLostFocus?(C.isRTL?q.clearOptionalTail.call(C,z.getBuffer.call(C).slice()).reverse():q.clearOptionalTail.call(C,z.getBuffer.call(C).slice())).join(""):B.call(this):"":B.call(this)}function c(C){ee.call(this,C),this.inputmask&&(0,q.applyInputValue)(this,C)}if(!E.inputmask.__valueGet){if(!0!==I.noValuePatching){if(Object.getOwnPropertyDescriptor){var te=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(E),"value"):void 0;te&&te.get&&te.set?(B=te.get,ee=te.set,Object.defineProperty(E,"value",{get:l,set:c,configurable:!0})):"input"!==E.tagName.toLowerCase()&&(B=function(){return this.textContent},ee=function(C){this.textContent=C},Object.defineProperty(E,"value",{get:l,set:c,configurable:!0}))}else document.__lookupGetter__&&E.__lookupGetter__("value")&&(B=E.__lookupGetter__("value"),ee=E.__lookupSetter__("value"),E.__defineGetter__("value",l),E.__defineSetter__("value",c));E.inputmask.__valueGet=B,E.inputmask.__valueSet=ee}E.inputmask._valueGet=function(E){return C.isRTL&&!0!==E?B.call(this.el).split("").reverse().join(""):B.call(this.el)},E.inputmask._valueSet=function(E,I){ee.call(this.el,null==E?"":!0!==I&&C.isRTL?E.split("").reverse().join(""):E)},void 0===B&&(B=function(){return this.value},ee=function(C){this.value=C},function(E){if(re.valHooks&&(void 0===re.valHooks[E]||!0!==re.valHooks[E].inputmaskpatch)){var B=re.valHooks[E]&&re.valHooks[E].get?re.valHooks[E].get:function(C){return C.value},Q=re.valHooks[E]&&re.valHooks[E].set?re.valHooks[E].set:function(C,E){return C.value=E,C};re.valHooks[E]={get:function(E){if(E.inputmask){if(E.inputmask.opts.autoUnmask)return E.inputmask.unmaskedvalue();var q=B(E);return-1!==z.getLastValidPosition.call(C,void 0,void 0,E.inputmask.maskset.validPositions)||!0!==I.nullable?q:""}return B(E)},set:function(C,E){var I=Q(C,E);return C.inputmask&&(0,q.applyInputValue)(C,E),I},inputmaskpatch:!0}}}(E.type),function(C){Q.EventRuler.on(C,"mouseenter",(function(){var C=this,E=C.inputmask._valueGet(!0);E!=(C.inputmask.isRTL?z.getBuffer.call(C.inputmask).slice().reverse():z.getBuffer.call(C.inputmask)).join("")&&(0,q.applyInputValue)(C,E)}))}(E))}}(E):E.inputmask=void 0,te}(I,E);if(!1!==ne){C.originalPlaceholder=I.placeholder,C.maxLength=void 0!==I?I.maxLength:void 0,-1===C.maxLength&&(C.maxLength=void 0),"inputMode"in I&&null===I.getAttribute("inputmode")&&(I.inputMode=E.inputmode,I.setAttribute("inputmode",E.inputmode)),!0===ne&&(E.showMaskOnFocus=E.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(I.autocomplete),ee.iphone&&(E.insertModeVisual=!1,I.setAttribute("autocorrect","off")),Q.EventRuler.on(I,"submit",ie.EventHandlers.submitEvent),Q.EventRuler.on(I,"reset",ie.EventHandlers.resetEvent),Q.EventRuler.on(I,"blur",ie.EventHandlers.blurEvent),Q.EventRuler.on(I,"focus",ie.EventHandlers.focusEvent),Q.EventRuler.on(I,"invalid",ie.EventHandlers.invalidEvent),Q.EventRuler.on(I,"click",ie.EventHandlers.clickEvent),Q.EventRuler.on(I,"mouseleave",ie.EventHandlers.mouseleaveEvent),Q.EventRuler.on(I,"mouseenter",ie.EventHandlers.mouseenterEvent),Q.EventRuler.on(I,"paste",ie.EventHandlers.pasteEvent),Q.EventRuler.on(I,"cut",ie.EventHandlers.cutEvent),Q.EventRuler.on(I,"complete",E.oncomplete),Q.EventRuler.on(I,"incomplete",E.onincomplete),Q.EventRuler.on(I,"cleared",E.oncleared),!0!==E.inputEventOnly&&Q.EventRuler.on(I,"keydown",ie.EventHandlers.keyEvent),(ee.mobile||E.inputEventOnly)&&I.removeAttribute("maxLength"),Q.EventRuler.on(I,"input",ie.EventHandlers.inputFallBackEvent)),Q.EventRuler.on(I,"setvalue",ie.EventHandlers.setValueEvent),z.getBufferTemplate.call(C).join(""),C.undoValue=C._valueGet(!0);var se=(I.inputmask.shadowRoot||I.ownerDocument).activeElement;if(""!==I.inputmask._valueGet(!0)||!1===E.clearMaskOnLostFocus||se===I){(0,q.applyInputValue)(I,I.inputmask._valueGet(!0),E);var oe=z.getBuffer.call(C).slice();!1===te.isComplete.call(C,oe)&&E.clearIncomplete&&z.resetMaskSet.call(C),E.clearMaskOnLostFocus&&se!==I&&(-1===z.getLastValidPosition.call(C)?oe=[]:q.clearOptionalTail.call(C,oe)),(!1===E.clearMaskOnLostFocus||E.showMaskOnFocus&&se===I||""!==I.inputmask._valueGet(!0))&&(0,q.writeBuffer)(I,oe),se===I&&z.caret.call(C,I,z.seekNext.call(C,z.getLastValidPosition.call(C)))}}};var B=I(2839),z=I(8711),q=I(7760),Q=I(9716),ee=I(9845),te=I(7215),ie=I(6030)},9695:function(C,E){Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(C,E,I,B){this.matches=[],this.openGroup=C||!1,this.alternatorGroup=!1,this.isGroup=C||!1,this.isOptional=E||!1,this.isQuantifier=I||!1,this.isAlternator=B||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(C,E){if(null==this)throw new TypeError('"this" is null or not defined');var I=Object(this),B=I.length>>>0;if(0===B)return!1;for(var z=0|E,q=Math.max(z>=0?z:B-Math.abs(z),0);q<B;){if(I[q]===C)return!0;q++}return!1}})},9302:function(){var C=Function.bind.call(Function.call,Array.prototype.reduce),E=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),I=Function.bind.call(Function.call,Array.prototype.concat),B=Object.keys;Object.entries||(Object.entries=function(z){return C(B(z),(function(C,B){return I(C,"string"==typeof B&&E(z,B)?[[B,z[B]]]:[])}),[])})},7149:function(){function e(C){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(C)}"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===e("test".__proto__)?function(C){return C.__proto__}:function(C){return C.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(C,E){return"number"!=typeof E&&(E=0),!(E+C.length>this.length)&&-1!==this.indexOf(C,E)})},8711:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.caret=function(C,E,I,B,z){var q,Q=this,ee=this.opts;if(void 0===E)return"selectionStart"in C&&"selectionEnd"in C?(E=C.selectionStart,I=C.selectionEnd):window.getSelection?(q=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==C&&q.commonAncestorContainer!==C||(E=q.startOffset,I=q.endOffset):document.selection&&document.selection.createRange&&(I=(E=0-(q=document.selection.createRange()).duplicate().moveStart("character",-C.inputmask._valueGet().length))+q.text.length),{begin:B?E:c.call(Q,E),end:B?I:c.call(Q,I)};if(Array.isArray(E)&&(I=Q.isRTL?E[0]:E[1],E=Q.isRTL?E[1]:E[0]),void 0!==E.begin&&(I=Q.isRTL?E.begin:E.end,E=Q.isRTL?E.end:E.begin),"number"==typeof E){E=B?E:c.call(Q,E),I="number"==typeof(I=B?I:c.call(Q,I))?I:E;var te=parseInt(((C.ownerDocument.defaultView||window).getComputedStyle?(C.ownerDocument.defaultView||window).getComputedStyle(C,null):C.currentStyle).fontSize)*I;if(C.scrollLeft=te>C.scrollWidth?te:0,C.inputmask.caretPos={begin:E,end:I},ee.insertModeVisual&&!1===ee.insertMode&&E===I&&(z||I++),C===(C.inputmask.shadowRoot||C.ownerDocument).activeElement)if("setSelectionRange"in C)C.setSelectionRange(E,I);else if(window.getSelection){if(q=document.createRange(),void 0===C.firstChild||null===C.firstChild){var ie=document.createTextNode("");C.appendChild(ie)}q.setStart(C.firstChild,E<C.inputmask._valueGet().length?E:C.inputmask._valueGet().length),q.setEnd(C.firstChild,I<C.inputmask._valueGet().length?I:C.inputmask._valueGet().length),q.collapse(!0);var re=window.getSelection();re.removeAllRanges(),re.addRange(q)}else C.createTextRange&&((q=C.createTextRange()).collapse(!0),q.moveEnd("character",I),q.moveStart("character",E),q.select())}},E.determineLastRequiredPosition=function(C){var E,I,q=this,Q=q.maskset,ee=q.dependencyLib,te=B.getMaskTemplate.call(q,!0,o.call(q),!0,!0),ie=te.length,re=o.call(q),ne={},se=Q.validPositions[re],oe=void 0!==se?se.locator.slice():void 0;for(E=re+1;E<te.length;E++)oe=(I=B.getTestTemplate.call(q,E,oe,E-1)).locator.slice(),ne[E]=ee.extend(!0,{},I);var ae=se&&void 0!==se.alternation?se.locator[se.alternation]:void 0;for(E=ie-1;E>re&&((I=ne[E]).match.optionality||I.match.optionalQuantifier&&I.match.newBlockMarker||ae&&(ae!==ne[E].locator[se.alternation]&&1!=I.match.static||!0===I.match.static&&I.locator[se.alternation]&&z.checkAlternationMatch.call(q,I.locator[se.alternation].toString().split(","),ae.toString().split(","))&&""!==B.getTests.call(q,E)[0].def))&&te[E]===B.getPlaceholder.call(q,E,I.match);E--)ie--;return C?{l:ie,def:ne[ie]?ne[ie].match:void 0}:ie},E.determineNewCaretPosition=function(C,E,I){var z=this,q=z.maskset,Q=z.opts;if(E&&(z.isRTL?C.end=C.begin:C.begin=C.end),C.begin===C.end){switch(I=I||Q.positionCaretOnClick){case"none":break;case"select":C={begin:0,end:r.call(z).length};break;case"ignore":C.end=C.begin=l.call(z,o.call(z));break;case"radixFocus":if(z.clicked>1&&0==q.validPositions.length)break;if(function(C){if(""!==Q.radixPoint&&0!==Q.digits){var E=q.validPositions;if(void 0===E[C]||E[C].input===B.getPlaceholder.call(z,C)){if(C<l.call(z,-1))return!0;var I=r.call(z).indexOf(Q.radixPoint);if(-1!==I){for(var ee=0,te=E.length;ee<te;ee++)if(E[ee]&&I<ee&&E[ee].input!==B.getPlaceholder.call(z,ee))return!1;return!0}}}return!1}(C.begin)){var ee=r.call(z).join("").indexOf(Q.radixPoint);C.end=C.begin=Q.numericInput?l.call(z,ee):ee;break}default:var te=C.begin,ie=o.call(z,te,!0),re=l.call(z,-1!==ie||s.call(z,0)?ie:-1);if(te<=re)C.end=C.begin=s.call(z,te,!1,!0)?te:l.call(z,te);else{var ne=q.validPositions[ie],se=B.getTestTemplate.call(z,re,ne?ne.match.locator:void 0,ne),oe=B.getPlaceholder.call(z,re,se.match);if(""!==oe&&r.call(z)[re]!==oe&&!0!==se.match.optionalQuantifier&&!0!==se.match.newBlockMarker||!s.call(z,re,Q.keepStatic,!0)&&se.match.def===oe){var ae=l.call(z,re);(te>=ae||te===re)&&(re=ae)}C.end=C.begin=re}}return C}},E.getBuffer=r,E.getBufferTemplate=function(){var C=this.maskset;return void 0===C._buffer&&(C._buffer=B.getMaskTemplate.call(this,!1,1),void 0===C.buffer&&(C.buffer=C._buffer.slice())),C._buffer},E.getLastValidPosition=o,E.isMask=s,E.resetMaskSet=function(C){var E=this.maskset;E.buffer=void 0,!0!==C&&(E.validPositions=[],E.p=0)},E.seekNext=l,E.seekPrevious=function(C,E){var I=this,z=C-1;if(C<=0)return 0;for(;z>0&&(!0===E&&(!0!==B.getTest.call(I,z).match.newBlockMarker||!s.call(I,z,void 0,!0))||!0!==E&&!s.call(I,z,void 0,!0));)z--;return z},E.translatePosition=c;var B=I(4713),z=I(7215);function r(C){var E=this,I=E.maskset;return void 0!==I.buffer&&!0!==C||(I.buffer=B.getMaskTemplate.call(E,!0,o.call(E),!0),void 0===I._buffer&&(I._buffer=I.buffer.slice())),I.buffer}function o(C,E,I){var B=this.maskset,z=-1,q=-1,Q=I||B.validPositions;void 0===C&&(C=-1);for(var ee=0,te=Q.length;ee<te;ee++)Q[ee]&&(E||!0!==Q[ee].generatedInput)&&(ee<=C&&(z=ee),ee>=C&&(q=ee));return-1===z||z==C?q:-1==q||C-z<q-C?z:q}function s(C,E,I){var z=this,q=this.maskset,Q=B.getTestTemplate.call(z,C).match;if(""===Q.def&&(Q=B.getTest.call(z,C).match),!0!==Q.static)return Q.fn;if(!0===I&&void 0!==q.validPositions[C]&&!0!==q.validPositions[C].generatedInput)return!0;if(!0!==E&&C>-1){if(I){var ee=B.getTests.call(z,C);return ee.length>1+(""===ee[ee.length-1].match.def?1:0)}var te=B.determineTestTemplate.call(z,C,B.getTests.call(z,C)),ie=B.getPlaceholder.call(z,C,te.match);return te.match.def!==ie}return!1}function l(C,E,I){var z=this;void 0===I&&(I=!0);for(var q=C+1;""!==B.getTest.call(z,q).match.def&&(!0===E&&(!0!==B.getTest.call(z,q).match.newBlockMarker||!s.call(z,q,void 0,!0))||!0!==E&&!s.call(z,q,void 0,I));)q++;return q}function c(C){var E=this.opts,I=this.el;return!this.isRTL||"number"!=typeof C||E.greedy&&""===E.placeholder||!I||(C=this._valueGet().length-C)<0&&(C=0),C}},4713:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.determineTestTemplate=c,E.getDecisionTaker=o,E.getMaskTemplate=function(C,E,I,B,z){var q=this,Q=this.opts,ee=this.maskset,te=Q.greedy;z&&Q.greedy&&(Q.greedy=!1,q.maskset.tests={}),E=E||0;var ie,re,ne,se,oe=[],ae=0;do{if(!0===C&&ee.validPositions[ae])re=(ne=z&&ee.validPositions[ae].match.optionality&&void 0===ee.validPositions[ae+1]&&(!0===ee.validPositions[ae].generatedInput||ee.validPositions[ae].input==Q.skipOptionalPartCharacter&&ae>0)?c.call(q,ae,d.call(q,ae,ie,ae-1)):ee.validPositions[ae]).match,ie=ne.locator.slice(),oe.push(!0===I?ne.input:!1===I?re.nativeDef:s.call(q,ae,re));else{re=(ne=l.call(q,ae,ie,ae-1)).match,ie=ne.locator.slice();var le=!0!==B&&(!1!==Q.jitMasking?Q.jitMasking:re.jit);(se=(se&&re.static&&re.def!==Q.groupSeparator&&null===re.fn||ee.validPositions[ae-1]&&re.static&&re.def!==Q.groupSeparator&&null===re.fn)&&ee.tests[ae])||!1===le||void 0===le||"number"==typeof le&&isFinite(le)&&le>ae?oe.push(!1===I?re.nativeDef:s.call(q,oe.length,re)):se=!1}ae++}while(!0!==re.static||""!==re.def||E>ae);return""===oe[oe.length-1]&&oe.pop(),!1===I&&void 0!==ee.maskLength||(ee.maskLength=ae-1),Q.greedy=te,oe},E.getPlaceholder=s,E.getTest=u,E.getTestTemplate=l,E.getTests=d,E.isSubsetOf=f;var B,z=(B=I(2394))&&B.__esModule?B:{default:B};function r(C,E){var I=(null!=C.alternation?C.mloc[o(C)]:C.locator).join("");if(""!==I)for(;I.length<E;)I+="0";return I}function o(C){var E=C.locator[C.alternation];return"string"==typeof E&&E.length>0&&(E=E.split(",")[0]),void 0!==E?E.toString():""}function s(C,E,I){var B=this.opts,z=this.maskset;if(void 0!==(E=E||u.call(this,C).match).placeholder||!0===I)return"function"==typeof E.placeholder?E.placeholder(B):E.placeholder;if(!0===E.static){if(C>-1&&void 0===z.validPositions[C]){var q,Q=d.call(this,C),ee=[];if(Q.length>1+(""===Q[Q.length-1].match.def?1:0))for(var te=0;te<Q.length;te++)if(""!==Q[te].match.def&&!0!==Q[te].match.optionality&&!0!==Q[te].match.optionalQuantifier&&(!0===Q[te].match.static||void 0===q||!1!==Q[te].match.fn.test(q.match.def,z,C,!0,B))&&(ee.push(Q[te]),!0===Q[te].match.static&&(q=Q[te]),ee.length>1&&/[0-9a-bA-Z]/.test(ee[0].match.def)))return B.placeholder.charAt(C%B.placeholder.length)}return E.def}return B.placeholder.charAt(C%B.placeholder.length)}function l(C,E,I){return this.maskset.validPositions[C]||c.call(this,C,d.call(this,C,E?E.slice():E,I))}function c(C,E){var I=this.opts,B=0,z=function(C,E){var I=0,B=!1;return E.forEach((function(C){C.match.optionality&&(0!==I&&I!==C.match.optionality&&(B=!0),(0===I||I>C.match.optionality)&&(I=C.match.optionality))})),I&&(0==C||1==E.length?I=0:B||(I=0)),I}(C,E);C=C>0?C-1:0;var q,Q,ee,te=r(u.call(this,C));I.greedy&&E.length>1&&""===E[E.length-1].match.def&&(B=1);for(var ie=0;ie<E.length-B;ie++){var re=E[ie];q=r(re,te.length);var ne=Math.abs(q-te);(void 0===Q||""!==q&&ne<Q||ee&&!I.greedy&&ee.match.optionality&&ee.match.optionality-z>0&&"master"===ee.match.newBlockMarker&&(!re.match.optionality||re.match.optionality-z<1||!re.match.newBlockMarker)||ee&&!I.greedy&&ee.match.optionalQuantifier&&!re.match.optionalQuantifier)&&(Q=ne,ee=re)}return ee}function u(C,E){var I=this.maskset;return I.validPositions[C]?I.validPositions[C]:(E||d.call(this,C))[0]}function f(C,E,I){function a(C){for(var E,I=[],B=-1,z=0,q=C.length;z<q;z++)if("-"===C.charAt(z))for(E=C.charCodeAt(z+1);++B<E;)I.push(String.fromCharCode(B));else B=C.charCodeAt(z),I.push(C.charAt(z));return I.join("")}return C.match.def===E.match.nativeDef||!(!(I.regex||C.match.fn instanceof RegExp&&E.match.fn instanceof RegExp)||!0===C.match.static||!0===E.match.static)&&-1!==a(E.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(a(C.match.fn.toString().replace(/[[\]/]/g,"")))}function d(C,E,I){var B,q,Q=this,ee=this.dependencyLib,te=this.maskset,ie=this.opts,re=this.el,ne=te.maskToken,se=E?I:0,oe=E?E.slice():[0],ae=[],le=!1,ue=E?E.join(""):"";function y(E,I,q,ee){function c(q,ee,ne){function m(C,E){var I=0===E.matches.indexOf(C);return I||E.matches.every((function(B,z){return!0===B.isQuantifier?I=m(C,E.matches[z-1]):Object.prototype.hasOwnProperty.call(B,"matches")&&(I=m(C,B)),!I})),I}function x(C,E,I){var B,z;if((te.tests[C]||te.validPositions[C])&&(te.tests[C]||[te.validPositions[C]]).every((function(C,q){if(C.mloc[E])return B=C,!1;var Q=void 0!==I?I:C.alternation,ee=void 0!==C.locator[Q]?C.locator[Q].toString().indexOf(E):-1;return(void 0===z||ee<z)&&-1!==ee&&(B=C,z=ee),!0})),B){var q=B.locator[B.alternation];return(B.mloc[E]||B.mloc[q]||B.locator).slice((void 0!==I?I:B.alternation)+1)}return void 0!==I?x(C,E):void 0}function P(C,E){var I=C.alternation,B=void 0===E||I===E.alternation&&-1===C.locator[I].toString().indexOf(E.locator[I]);if(!B&&I>E.alternation)for(var z=E.alternation;z<I;z++)if(C.locator[z]!==E.locator[z]){I=z,B=!0;break}if(B){C.mloc=C.mloc||{};var q=C.locator[I];if(void 0!==q){if("string"==typeof q&&(q=q.split(",")[0]),void 0===C.mloc[q]&&(C.mloc[q]=C.locator.slice()),void 0!==E){for(var Q in E.mloc)"string"==typeof Q&&(Q=Q.split(",")[0]),void 0===C.mloc[Q]&&(C.mloc[Q]=E.mloc[Q]);C.locator[I]=Object.keys(C.mloc).join(",")}return!0}C.alternation=void 0}return!1}function w(C,E){if(C.locator.length!==E.locator.length)return!1;for(var I=C.alternation+1;I<C.locator.length;I++)if(C.locator[I]!==E.locator[I])return!1;return!0}if(se>C+ie._maxTestPos)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+te.mask;if(se===C&&void 0===q.matches){if(ae.push({match:q,locator:ee.reverse(),cd:ue,mloc:{}}),!q.optionality||void 0!==ne||!(ie.definitions&&ie.definitions[q.nativeDef]&&ie.definitions[q.nativeDef].optional||z.default.prototype.definitions[q.nativeDef]&&z.default.prototype.definitions[q.nativeDef].optional))return!0;le=!0,se=C}else if(void 0!==q.matches){if(q.isGroup&&ne!==q)return function(){if(q=c(E.matches[E.matches.indexOf(q)+1],ee,ne))return!0}();if(q.isOptional)return function(){var E=q,z=ae.length;if(q=y(q,I,ee,ne),ae.length>0){if(ae.forEach((function(C,E){E>=z&&(C.match.optionality=C.match.optionality?C.match.optionality+1:1)})),B=ae[ae.length-1].match,void 0!==ne||!m(B,E))return q;le=!0,se=C}}();if(q.isAlternator)return function(){Q.hasAlternator=!0;var B,z,oe,ue=q,de=[],ce=ae.slice(),he=ee.length,fe=!1,pe=I.length>0?I.shift():-1;if(-1===pe||"string"==typeof pe){var me,ge=se,ve=I.slice(),ye=[];if("string"==typeof pe)ye=pe.split(",");else for(me=0;me<ue.matches.length;me++)ye.push(me.toString());if(void 0!==te.excludes[C]){for(var be=ye.slice(),Ce=0,we=te.excludes[C].length;Ce<we;Ce++){var _e=te.excludes[C][Ce].toString().split(":");ee.length==_e[1]&&ye.splice(ye.indexOf(_e[0]),1)}0===ye.length&&(delete te.excludes[C],ye=be)}(!0===ie.keepStatic||isFinite(parseInt(ie.keepStatic))&&ge>=ie.keepStatic)&&(ye=ye.slice(0,1));for(var Se=0;Se<ye.length;Se++){me=parseInt(ye[Se]),ae=[],I="string"==typeof pe&&x(se,me,he)||ve.slice();var xe=ue.matches[me];if(xe&&c(xe,[me].concat(ee),ne))q=!0;else if(0===Se&&(fe=!0),xe&&xe.matches&&xe.matches.length>ue.matches[0].matches.length)break;B=ae.slice(),se=ge,ae=[];for(var ke=0;ke<B.length;ke++){var Te=B[ke],Me=!1;Te.match.jit=Te.match.jit||fe,Te.alternation=Te.alternation||he,P(Te);for(var Re=0;Re<de.length;Re++){var Ee=de[Re];if("string"!=typeof pe||void 0!==Te.alternation&&ye.includes(Te.locator[Te.alternation].toString())){if(Te.match.nativeDef===Ee.match.nativeDef){Me=!0,P(Ee,Te);break}if(f(Te,Ee,ie)){P(Te,Ee)&&(Me=!0,de.splice(de.indexOf(Ee),0,Te));break}if(f(Ee,Te,ie)){P(Ee,Te);break}if(oe=Ee,!0===(z=Te).match.static&&!0!==oe.match.static&&oe.match.fn.test(z.match.def,te,C,!1,ie,!1)){w(Te,Ee)||void 0!==re.inputmask.userOptions.keepStatic?P(Te,Ee)&&(Me=!0,de.splice(de.indexOf(Ee),0,Te)):ie.keepStatic=!0;break}}}Me||de.push(Te)}}ae=ce.concat(de),se=C,le=ae.length>0,q=de.length>0,I=ve.slice()}else q=c(ue.matches[pe]||E.matches[pe],[pe].concat(ee),ne);if(q)return!0}();if(q.isQuantifier&&ne!==E.matches[E.matches.indexOf(q)-1])return function(){for(var z=q,Q=!1,re=I.length>0?I.shift():0;re<(isNaN(z.quantifier.max)?re+1:z.quantifier.max)&&se<=C;re++){var ne=E.matches[E.matches.indexOf(z)-1];if(q=c(ne,[re].concat(ee),ne)){if(ae.forEach((function(E,I){(B=b(ne,E.match)?E.match:ae[ae.length-1].match).optionalQuantifier=re>=z.quantifier.min,B.jit=(re+1)*(ne.matches.indexOf(B)+1)>z.quantifier.jit,B.optionalQuantifier&&m(B,ne)&&(le=!0,se=C,ie.greedy&&null==te.validPositions[C-1]&&re>z.quantifier.min&&-1!=["*","+"].indexOf(z.quantifier.max)&&(ae.pop(),ue=void 0),Q=!0,q=!1),!Q&&B.jit&&(te.jitOffset[C]=ne.matches.length-ne.matches.indexOf(B))})),Q)break;return!0}}}();if(q=y(q,I,ee,ne))return!0}else se++}for(var ne=I.length>0?I.shift():0;ne<E.matches.length;ne++)if(!0!==E.matches[ne].isQuantifier){var oe=c(E.matches[ne],[ne].concat(q),ee);if(oe&&se===C)return oe;if(se>C)break}}function b(C,E){var I=-1!=C.matches.indexOf(E);return I||C.matches.forEach((function(C,B){void 0===C.matches||I||(I=b(C,E))})),I}if(C>-1){if(void 0===E){for(var de,ce=C-1;void 0===(de=te.validPositions[ce]||te.tests[ce])&&ce>-1;)ce--;void 0!==de&&ce>-1&&(oe=function(C,E){var I,B=[];return Array.isArray(E)||(E=[E]),E.length>0&&(void 0===E[0].alternation||!0===ie.keepStatic?0===(B=c.call(Q,C,E.slice()).locator.slice()).length&&(B=E[0].locator.slice()):E.forEach((function(C){""!==C.def&&(0===B.length?(I=C.alternation,B=C.locator.slice()):C.locator[I]&&-1===B[I].toString().indexOf(C.locator[I])&&(B[I]+=","+C.locator[I]))}))),B}(ce,de),ue=oe.join(""),se=ce)}if(te.tests[C]&&te.tests[C][0].cd===ue)return te.tests[C];for(var he=oe.shift();he<ne.length&&!(y(ne[he],oe,[he])&&se===C||se>C);he++);}return(0===ae.length||le)&&ae.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:ue}),void 0!==E&&te.tests[C]?q=ee.extend(!0,[],ae):(te.tests[C]=ee.extend(!0,[],ae),q=te.tests[C]),ae.forEach((function(C){C.match.optionality=C.match.defOptionality||!1})),q}},7215:function(C,E,I){Object.defineProperty(E,"__esModule",{value:!0}),E.alternate=s,E.checkAlternationMatch=function(C,E,I){for(var B,z=this.opts.greedy?E:E.slice(0,1),q=!1,Q=void 0!==I?I.split(","):[],ee=0;ee<Q.length;ee++)-1!==(B=C.indexOf(Q[ee]))&&C.splice(B,1);for(var te=0;te<C.length;te++)if(z.includes(C[te])){q=!0;break}return q},E.handleRemove=function(C,E,I,Q,ee){var te=this,ie=this.maskset,re=this.opts;if((re.numericInput||te.isRTL)&&(E===z.keys.Backspace?E=z.keys.Delete:E===z.keys.Delete&&(E=z.keys.Backspace),te.isRTL)){var ne=I.end;I.end=I.begin,I.begin=ne}var se,oe=q.getLastValidPosition.call(te,void 0,!0);if(I.end>=q.getBuffer.call(te).length&&oe>=I.end&&(I.end=oe+1),E===z.keys.Backspace?I.end-I.begin<1&&(I.begin=q.seekPrevious.call(te,I.begin)):E===z.keys.Delete&&I.begin===I.end&&(I.end=q.isMask.call(te,I.end,!0,!0)?I.end+1:q.seekNext.call(te,I.end)+1),!1!==(se=m.call(te,I))){if(!0!==Q&&!1!==re.keepStatic||null!==re.regex&&-1!==B.getTest.call(te,I.begin).match.def.indexOf("|")){var ae=s.call(te,!0);if(ae){var le=void 0!==ae.caret?ae.caret:ae.pos?q.seekNext.call(te,ae.pos.begin?ae.pos.begin:ae.pos):q.getLastValidPosition.call(te,-1,!0);(E!==z.keys.Delete||I.begin>le)&&I.begin}}!0!==Q&&(ie.p=E===z.keys.Delete?I.begin+se:I.begin,ie.p=q.determineNewCaretPosition.call(te,{begin:ie.p,end:ie.p},!1,!1===re.insertMode&&E===z.keys.Backspace?"none":void 0).begin)}},E.isComplete=c,E.isSelection=u,E.isValid=f,E.refreshFromBuffer=p,E.revalidateMask=m;var B=I(4713),z=I(2839),q=I(8711),Q=I(6030);function s(C,E,I,z,Q,ee){var te,ie,re,ne,se,oe,ae,le,ue,de,ce,he=this,fe=this.dependencyLib,pe=this.opts,me=he.maskset,ge=fe.extend(!0,[],me.validPositions),ve=fe.extend(!0,{},me.tests),ye=!1,be=!1,Ce=void 0!==Q?Q:q.getLastValidPosition.call(he);if(ee&&(de=ee.begin,ce=ee.end,ee.begin>ee.end&&(de=ee.end,ce=ee.begin)),-1===Ce&&void 0===Q)te=0,ie=(ne=B.getTest.call(he,te)).alternation;else for(;Ce>=0;Ce--)if((re=me.validPositions[Ce])&&void 0!==re.alternation){if(Ce<=(C||0)&&ne&&ne.locator[re.alternation]!==re.locator[re.alternation])break;te=Ce,ie=me.validPositions[te].alternation,ne=re}if(void 0!==ie){ae=parseInt(te),me.excludes[ae]=me.excludes[ae]||[],!0!==C&&me.excludes[ae].push((0,B.getDecisionTaker)(ne)+":"+ne.alternation);var we=[],_e=-1;for(se=ae;se<q.getLastValidPosition.call(he,void 0,!0)+1;se++)-1===_e&&C<=se&&void 0!==E&&(we.push(E),_e=we.length-1),(oe=me.validPositions[se])&&!0!==oe.generatedInput&&(void 0===ee||se<de||se>=ce)&&we.push(oe.input),delete me.validPositions[se];for(-1===_e&&void 0!==E&&(we.push(E),_e=we.length-1);void 0!==me.excludes[ae]&&me.excludes[ae].length<10;){for(me.tests={},q.resetMaskSet.call(he,!0),ye=!0,se=0;se<we.length&&(le=ye.caret||q.getLastValidPosition.call(he,void 0,!0)+1,ue=we[se],ye=f.call(he,le,ue,!1,z,!0));se++)se===_e&&(be=ye),1==C&&ye&&(be={caretPos:se});if(ye)break;if(q.resetMaskSet.call(he),ne=B.getTest.call(he,ae),me.validPositions=fe.extend(!0,[],ge),me.tests=fe.extend(!0,{},ve),!me.excludes[ae]){be=s.call(he,C,E,I,z,ae-1,ee);break}var Se=(0,B.getDecisionTaker)(ne);if(-1!==me.excludes[ae].indexOf(Se+":"+ne.alternation)){be=s.call(he,C,E,I,z,ae-1,ee);break}for(me.excludes[ae].push(Se+":"+ne.alternation),se=ae;se<q.getLastValidPosition.call(he,void 0,!0)+1;se++)delete me.validPositions[se]}}return be&&!1===pe.keepStatic||delete me.excludes[ae],be}function l(C,E,I){var B=this.opts,q=this.maskset;switch(B.casing||E.casing){case"upper":C=C.toUpperCase();break;case"lower":C=C.toLowerCase();break;case"title":var Q=q.validPositions[I-1];C=0===I||Q&&Q.input===String.fromCharCode(z.keyCode.Space)?C.toUpperCase():C.toLowerCase();break;default:if("function"==typeof B.casing){var ee=Array.prototype.slice.call(arguments);ee.push(q.validPositions),C=B.casing.apply(this,ee)}}return C}function c(C){var E=this,I=this.opts,z=this.maskset;if("function"==typeof I.isComplete)return I.isComplete(C,I);if("*"!==I.repeat){var Q=!1,ee=q.determineLastRequiredPosition.call(E,!0),te=q.seekPrevious.call(E,ee.l);if(void 0===ee.def||ee.def.newBlockMarker||ee.def.optionality||ee.def.optionalQuantifier){Q=!0;for(var ie=0;ie<=te;ie++){var re=B.getTestTemplate.call(E,ie).match;if(!0!==re.static&&void 0===z.validPositions[ie]&&!0!==re.optionality&&!0!==re.optionalQuantifier||!0===re.static&&C[ie]!==B.getPlaceholder.call(E,ie,re)){Q=!1;break}}}return Q}}function u(C){var E=this.opts.insertMode?0:1;return this.isRTL?C.begin-C.end>E:C.end-C.begin>E}function f(C,E,I,z,Q,ee,te){var ie=this,re=this.dependencyLib,ne=this.opts,se=ie.maskset;I=!0===I;var oe=C;function P(C){if(void 0!==C){if(void 0!==C.remove&&(Array.isArray(C.remove)||(C.remove=[C.remove]),C.remove.sort((function(C,E){return ie.isRTL?C.pos-E.pos:E.pos-C.pos})).forEach((function(C){m.call(ie,{begin:C,end:C+1})})),C.remove=void 0),void 0!==C.insert&&(Array.isArray(C.insert)||(C.insert=[C.insert]),C.insert.sort((function(C,E){return ie.isRTL?E.pos-C.pos:C.pos-E.pos})).forEach((function(C){""!==C.c&&f.call(ie,C.pos,C.c,void 0===C.strict||C.strict,void 0!==C.fromIsValid?C.fromIsValid:z)})),C.insert=void 0),C.refreshFromBuffer&&C.buffer){var E=C.refreshFromBuffer;p.call(ie,!0===E?E:E.start,E.end,C.buffer),C.refreshFromBuffer=void 0}void 0!==C.rewritePosition&&(oe=C.rewritePosition,C=!0)}return C}function w(E,I,Q){var ee=!1;return B.getTests.call(ie,E).every((function(te,oe){var ae=te.match;if(q.getBuffer.call(ie,!0),!1!==(ee=(!ae.jit||void 0!==se.validPositions[q.seekPrevious.call(ie,E)])&&(null!=ae.fn?ae.fn.test(I,se,E,Q,ne,u.call(ie,C)):(I===ae.def||I===ne.skipOptionalPartCharacter)&&""!==ae.def&&{c:B.getPlaceholder.call(ie,E,ae,!0)||ae.def,pos:E}))){var le=void 0!==ee.c?ee.c:I,ue=E;return le=le===ne.skipOptionalPartCharacter&&!0===ae.static?B.getPlaceholder.call(ie,E,ae,!0)||ae.def:le,!0!==(ee=P(ee))&&void 0!==ee.pos&&ee.pos!==E&&(ue=ee.pos),!0!==ee&&void 0===ee.pos&&void 0===ee.c||!1===m.call(ie,C,re.extend({},te,{input:l.call(ie,le,ae,ue)}),z,ue)&&(ee=!1),!1}return!0})),ee}void 0!==C.begin&&(oe=ie.isRTL?C.end:C.begin);var ae=!0,le=re.extend(!0,{},se.validPositions);if(!1===ne.keepStatic&&void 0!==se.excludes[oe]&&!0!==Q&&!0!==z)for(var ue=oe;ue<(ie.isRTL?C.begin:C.end);ue++)void 0!==se.excludes[ue]&&(se.excludes[ue]=void 0,delete se.tests[ue]);if("function"==typeof ne.preValidation&&!0!==z&&!0!==ee&&(ae=P(ae=ne.preValidation.call(ie,q.getBuffer.call(ie),oe,E,u.call(ie,C),ne,se,C,I||Q))),!0===ae){if(ae=w(oe,E,I),(!I||!0===z)&&!1===ae&&!0!==ee){var de=se.validPositions[oe];if(!de||!0!==de.match.static||de.match.def!==E&&E!==ne.skipOptionalPartCharacter){if(ne.insertMode||void 0===se.validPositions[q.seekNext.call(ie,oe)]||C.end>oe){var ce=!1;if(se.jitOffset[oe]&&void 0===se.validPositions[q.seekNext.call(ie,oe)]&&!1!==(ae=f.call(ie,oe+se.jitOffset[oe],E,!0,!0))&&(!0!==Q&&(ae.caret=oe),ce=!0),C.end>oe&&(se.validPositions[oe]=void 0),!ce&&!q.isMask.call(ie,oe,ne.keepStatic&&0===oe))for(var he=oe+1,fe=q.seekNext.call(ie,oe,!1,0!==oe);he<=fe;he++)if(!1!==(ae=w(he,E,I))){ae=h.call(ie,oe,void 0!==ae.pos?ae.pos:he)||ae,oe=he;break}}}else ae={caret:q.seekNext.call(ie,oe)}}ie.hasAlternator&&!0!==Q&&!I&&(!1===ae&&ne.keepStatic&&(c.call(ie,q.getBuffer.call(ie))||0===oe)?ae=s.call(ie,oe,E,I,z,void 0,C):(u.call(ie,C)&&se.tests[oe]&&se.tests[oe].length>1&&ne.keepStatic||1==ae&&!0!==ne.numericInput&&se.tests[oe]&&se.tests[oe].length>1&&q.getLastValidPosition.call(ie,void 0,!0)>oe)&&(ae=s.call(ie,!0))),!0===ae&&(ae={pos:oe})}if("function"==typeof ne.postValidation&&!0!==z&&!0!==ee){var pe=ne.postValidation.call(ie,q.getBuffer.call(ie,!0),void 0!==C.begin?ie.isRTL?C.end:C.begin:C,E,ae,ne,se,I,te);void 0!==pe&&(ae=!0===pe?ae:pe)}ae&&void 0===ae.pos&&(ae.pos=oe),!1===ae||!0===ee?(q.resetMaskSet.call(ie,!0),se.validPositions=re.extend(!0,[],le)):h.call(ie,void 0,oe,!0);var me=P(ae);return void 0!==ie.maxLength&&q.getBuffer.call(ie).length>ie.maxLength&&!z&&(q.resetMaskSet.call(ie,!0),se.validPositions=re.extend(!0,[],le),me=!1),me}function d(C,E,I){for(var z=this.maskset,q=!1,Q=B.getTests.call(this,C),ee=0;ee<Q.length;ee++){if(Q[ee].match&&(Q[ee].match.nativeDef===E.match[I.shiftPositions?"def":"nativeDef"]&&(!I.shiftPositions||!E.match.static)||Q[ee].match.nativeDef===E.match.nativeDef||I.regex&&!Q[ee].match.static&&Q[ee].match.fn.test(E.input,z,C,!1,I))){q=!0;break}if(Q[ee].match&&Q[ee].match.def===E.match.nativeDef){q=void 0;break}}return!1===q&&void 0!==z.jitOffset[C]&&(q=d.call(this,C+z.jitOffset[C],E,I)),q}function p(C,E,I){var B,z,ee=this,te=this.maskset,ie=this.opts,re=this.dependencyLib,ne=ie.skipOptionalPartCharacter,se=ee.isRTL?I.slice().reverse():I;if(ie.skipOptionalPartCharacter="",!0===C)q.resetMaskSet.call(ee),te.tests={},C=0,E=I.length,z=q.determineNewCaretPosition.call(ee,{begin:0,end:0},!1).begin;else{for(B=C;B<E;B++)delete te.validPositions[B];z=C}var oe=new re.Event("keypress");for(B=C;B<E;B++){oe.key=se[B].toString(),ee.ignorable=!1;var ae=Q.EventHandlers.keypressEvent.call(ee,oe,!0,!1,!1,z);!1!==ae&&void 0!==ae&&(z=ae.forwardPosition)}ie.skipOptionalPartCharacter=ne}function h(C,E,I){var z=this,Q=this.maskset,ee=this.dependencyLib;if(void 0===C)for(C=E-1;C>0&&!Q.validPositions[C];C--);for(var te=C;te<E;te++)if(void 0===Q.validPositions[te]&&!q.isMask.call(z,te,!1)&&(0==te?B.getTest.call(z,te):Q.validPositions[te-1])){var ie=B.getTests.call(z,te).slice();""===ie[ie.length-1].match.def&&ie.pop();var re,ne=B.determineTestTemplate.call(z,te,ie);if(ne&&(!0!==ne.match.jit||"master"===ne.match.newBlockMarker&&(re=Q.validPositions[te+1])&&!0===re.match.optionalQuantifier)&&((ne=ee.extend({},ne,{input:B.getPlaceholder.call(z,te,ne.match,!0)||ne.match.def})).generatedInput=!0,m.call(z,te,ne,!0),!0!==I)){var se=Q.validPositions[E].input;return Q.validPositions[E]=void 0,f.call(z,E,se,!0,!0)}}}function m(C,E,I,z){var Q=this,ee=this.maskset,te=this.opts,ie=this.dependencyLib;function u(C,E,I){var B=E[C];if(void 0!==B&&!0===B.match.static&&!0!==B.match.optionality&&(void 0===E[0]||void 0===E[0].alternation)){var z=I.begin<=C-1?E[C-1]&&!0===E[C-1].match.static&&E[C-1]:E[C-1],q=I.end>C+1?E[C+1]&&!0===E[C+1].match.static&&E[C+1]:E[C+1];return z&&q}return!1}var re=0,ne=void 0!==C.begin?C.begin:C,se=void 0!==C.end?C.end:C,oe=!0;if(C.begin>C.end&&(ne=C.end,se=C.begin),z=void 0!==z?z:ne,void 0===I&&(ne!==se||te.insertMode&&void 0!==ee.validPositions[z]||void 0===E||E.match.optionalQuantifier||E.match.optionality)){var ae,le=ie.extend(!0,{},ee.validPositions),ue=q.getLastValidPosition.call(Q,void 0,!0);for(ee.p=ne,ae=ue;ae>=ne;ae--)delete ee.validPositions[ae],void 0===E&&delete ee.tests[ae+1];var de,ce,he=z,fe=he;for(E&&(ee.validPositions[z]=ie.extend(!0,{},E),fe++,he++),ae=E?se:se-1;ae<=ue;ae++){if(void 0!==(de=le[ae])&&!0!==de.generatedInput&&(ae>=se||ae>=ne&&u(ae,le,{begin:ne,end:se}))){for(;""!==B.getTest.call(Q,fe).match.def;){if(!1!==(ce=d.call(Q,fe,de,te))||"+"===de.match.def){"+"===de.match.def&&q.getBuffer.call(Q,!0);var pe=f.call(Q,fe,de.input,"+"!==de.match.def,!0);if(oe=!1!==pe,he=(pe.pos||fe)+1,!oe&&ce)break}else oe=!1;if(oe){void 0===E&&de.match.static&&ae===C.begin&&re++;break}if(!oe&&q.getBuffer.call(Q),fe>ee.maskLength)break;fe++}""==B.getTest.call(Q,fe).match.def&&(oe=!1),fe=he}if(!oe)break}if(!oe)return ee.validPositions=ie.extend(!0,[],le),q.resetMaskSet.call(Q,!0),!1}else E&&B.getTest.call(Q,z).match.cd===E.match.cd&&(ee.validPositions[z]=ie.extend(!0,{},E));return q.resetMaskSet.call(Q,!0),re}},7957:function(C){C.exports=B}},E={};function a(I){var B=E[I];if(void 0!==B)return B.exports;var z=E[I]={exports:{}};return C[I](z,z.exports,a),z.exports}var I={};return function(){var C=I;Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var E,B=(E=a(3046))&&E.__esModule?E:{default:E};a(443);var z=B.default;C.default=z}(),I}())},4410:(C,E,I)=>{var B,z,q;z=[I(4692)],void 0===(q="function"==typeof(B=function(C){var E,I,B=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],z="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],q=Array.prototype.slice;if(C.event.fixHooks)for(var Q=B.length;Q;)C.event.fixHooks[B[--Q]]=C.event.mouseHooks;var ee=C.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var E=z.length;E;)this.addEventListener(z[--E],handler,!1);else this.onmousewheel=handler;C.data(this,"mousewheel-line-height",ee.getLineHeight(this)),C.data(this,"mousewheel-page-height",ee.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var E=z.length;E;)this.removeEventListener(z[--E],handler,!1);else this.onmousewheel=null;C.removeData(this,"mousewheel-line-height"),C.removeData(this,"mousewheel-page-height")},getLineHeight:function(E){var I=C(E),B=I["offsetParent"in C.fn?"offsetParent":"parent"]();return B.length||(B=C("body")),parseInt(B.css("fontSize"),10)||parseInt(I.css("fontSize"),10)||16},getPageHeight:function(E){return C(E).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function handler(B){var z=B||window.event,Q=q.call(arguments,1),te=0,ie=0,re=0,ne=0,se=0,oe=0;if((B=C.event.fix(z)).type="mousewheel","detail"in z&&(re=-1*z.detail),"wheelDelta"in z&&(re=z.wheelDelta),"wheelDeltaY"in z&&(re=z.wheelDeltaY),"wheelDeltaX"in z&&(ie=-1*z.wheelDeltaX),"axis"in z&&z.axis===z.HORIZONTAL_AXIS&&(ie=-1*re,re=0),te=0===re?ie:re,"deltaY"in z&&(te=re=-1*z.deltaY),"deltaX"in z&&(ie=z.deltaX,0===re&&(te=-1*ie)),0!==re||0!==ie){if(1===z.deltaMode){var ae=C.data(this,"mousewheel-line-height");te*=ae,re*=ae,ie*=ae}else if(2===z.deltaMode){var le=C.data(this,"mousewheel-page-height");te*=le,re*=le,ie*=le}if(ne=Math.max(Math.abs(re),Math.abs(ie)),(!I||ne<I)&&(I=ne,shouldAdjustOldDeltas(z,ne)&&(I/=40)),shouldAdjustOldDeltas(z,ne)&&(te/=40,ie/=40,re/=40),te=Math[te>=1?"floor":"ceil"](te/I),ie=Math[ie>=1?"floor":"ceil"](ie/I),re=Math[re>=1?"floor":"ceil"](re/I),ee.settings.normalizeOffset&&this.getBoundingClientRect){var ue=this.getBoundingClientRect();se=B.clientX-ue.left,oe=B.clientY-ue.top}return B.deltaX=ie,B.deltaY=re,B.deltaFactor=I,B.offsetX=se,B.offsetY=oe,B.deltaMode=0,Q.unshift(B,te,ie,re),E&&clearTimeout(E),E=setTimeout(nullLowestDelta,200),(C.event.dispatch||C.event.handle).apply(this,Q)}}function nullLowestDelta(){I=null}function shouldAdjustOldDeltas(C,E){return ee.settings.adjustOldDeltas&&"mousewheel"===C.type&&E%120==0}C.fn.extend({mousewheel:function(C){return C?this.bind("mousewheel",C):this.trigger("mousewheel")},unmousewheel:function(C){return this.unbind("mousewheel",C)}})})?B.apply(E,z):B)||(C.exports=q)},4910:(C,E,I)=>{var B,z,q;!function(Q){"use strict";z=[I(4692)],B=function(C){C.ui=C.ui||{};C.ui.version="1.13.2";var E=0,I=Array.prototype.hasOwnProperty,B=Array.prototype.slice;C.cleanData=(z=C.cleanData,function(E){var I,B,q;for(q=0;null!=(B=E[q]);q++)(I=C._data(B,"events"))&&I.remove&&C(B).triggerHandler("remove");z(E)}),C.widget=function(E,I,B){var z,q,Q,ee={},te=E.split(".")[0],ie=te+"-"+(E=E.split(".")[1]);return B||(B=I,I=C.Widget),Array.isArray(B)&&(B=C.extend.apply(null,[{}].concat(B))),C.expr.pseudos[ie.toLowerCase()]=function(E){return!!C.data(E,ie)},C[te]=C[te]||{},z=C[te][E],q=C[te][E]=function(C,E){if(!this||!this._createWidget)return new q(C,E);arguments.length&&this._createWidget(C,E)},C.extend(q,z,{version:B.version,_proto:C.extend({},B),_childConstructors:[]}),(Q=new I).options=C.widget.extend({},Q.options),C.each(B,(function(C,E){ee[C]="function"==typeof E?function(){function _super(){return I.prototype[C].apply(this,arguments)}function _superApply(E){return I.prototype[C].apply(this,E)}return function(){var C,I=this._super,B=this._superApply;return this._super=_super,this._superApply=_superApply,C=E.apply(this,arguments),this._super=I,this._superApply=B,C}}():E})),q.prototype=C.widget.extend(Q,{widgetEventPrefix:z&&Q.widgetEventPrefix||E},ee,{constructor:q,namespace:te,widgetName:E,widgetFullName:ie}),z?(C.each(z._childConstructors,(function(E,I){var B=I.prototype;C.widget(B.namespace+"."+B.widgetName,q,I._proto)})),delete z._childConstructors):I._childConstructors.push(q),C.widget.bridge(E,q),q},C.widget.extend=function(E){for(var z,q,Q=B.call(arguments,1),ee=0,te=Q.length;ee<te;ee++)for(z in Q[ee])q=Q[ee][z],I.call(Q[ee],z)&&void 0!==q&&(C.isPlainObject(q)?E[z]=C.isPlainObject(E[z])?C.widget.extend({},E[z],q):C.widget.extend({},q):E[z]=q);return E},C.widget.bridge=function(E,I){var z=I.prototype.widgetFullName||E;C.fn[E]=function(q){var Q="string"==typeof q,ee=B.call(arguments,1),te=this;return Q?this.length||"instance"!==q?this.each((function(){var I,B=C.data(this,z);return"instance"===q?(te=B,!1):B?"function"!=typeof B[q]||"_"===q.charAt(0)?C.error("no such method '"+q+"' for "+E+" widget instance"):(I=B[q].apply(B,ee))!==B&&void 0!==I?(te=I&&I.jquery?te.pushStack(I.get()):I,!1):void 0:C.error("cannot call methods on "+E+" prior to initialization; attempted to call method '"+q+"'")})):te=void 0:(ee.length&&(q=C.widget.extend.apply(null,[q].concat(ee))),this.each((function(){var E=C.data(this,z);E?(E.option(q||{}),E._init&&E._init()):C.data(this,z,new I(q,this))}))),te}},C.Widget=function(){},C.Widget._childConstructors=[],C.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(I,B){B=C(B||this.defaultElement||this)[0],this.element=C(B),this.uuid=E++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=C(),this.hoverable=C(),this.focusable=C(),this.classesElementLookup={},B!==this&&(C.data(B,this.widgetFullName,this),this._on(!0,this.element,{remove:function(C){C.target===B&&this.destroy()}}),this.document=C(B.style?B.ownerDocument:B.document||B),this.window=C(this.document[0].defaultView||this.document[0].parentWindow)),this.options=C.widget.extend({},this.options,this._getCreateOptions(),I),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:C.noop,_create:C.noop,_init:C.noop,destroy:function(){var E=this;this._destroy(),C.each(this.classesElementLookup,(function(C,I){E._removeClass(I,C)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:C.noop,widget:function(){return this.element},option:function(E,I){var B,z,q,Q=E;if(0===arguments.length)return C.widget.extend({},this.options);if("string"==typeof E)if(Q={},B=E.split("."),E=B.shift(),B.length){for(z=Q[E]=C.widget.extend({},this.options[E]),q=0;q<B.length-1;q++)z[B[q]]=z[B[q]]||{},z=z[B[q]];if(E=B.pop(),1===arguments.length)return void 0===z[E]?null:z[E];z[E]=I}else{if(1===arguments.length)return void 0===this.options[E]?null:this.options[E];Q[E]=I}return this._setOptions(Q),this},_setOptions:function(C){var E;for(E in C)this._setOption(E,C[E]);return this},_setOption:function(C,E){return"classes"===C&&this._setOptionClasses(E),this.options[C]=E,"disabled"===C&&this._setOptionDisabled(E),this},_setOptionClasses:function(E){var I,B,z;for(I in E)z=this.classesElementLookup[I],E[I]!==this.options.classes[I]&&z&&z.length&&(B=C(z.get()),this._removeClass(z,I),B.addClass(this._classes({element:B,keys:I,classes:E,add:!0})))},_setOptionDisabled:function(C){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!C),C&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(E){var I=[],B=this;function bindRemoveEvent(){var I=[];E.element.each((function(E,z){C.map(B.classesElementLookup,(function(C){return C})).some((function(C){return C.is(z)}))||I.push(z)})),B._on(C(I),{remove:"_untrackClassesElement"})}function processClassString(z,q){var Q,ee;for(ee=0;ee<z.length;ee++)Q=B.classesElementLookup[z[ee]]||C(),E.add?(bindRemoveEvent(),Q=C(C.uniqueSort(Q.get().concat(E.element.get())))):Q=C(Q.not(E.element).get()),B.classesElementLookup[z[ee]]=Q,I.push(z[ee]),q&&E.classes[z[ee]]&&I.push(E.classes[z[ee]])}return(E=C.extend({element:this.element,classes:this.options.classes||{}},E)).keys&&processClassString(E.keys.match(/\S+/g)||[],!0),E.extra&&processClassString(E.extra.match(/\S+/g)||[]),I.join(" ")},_untrackClassesElement:function(E){var I=this;C.each(I.classesElementLookup,(function(B,z){-1!==C.inArray(E.target,z)&&(I.classesElementLookup[B]=C(z.not(E.target).get()))})),this._off(C(E.target))},_removeClass:function(C,E,I){return this._toggleClass(C,E,I,!1)},_addClass:function(C,E,I){return this._toggleClass(C,E,I,!0)},_toggleClass:function(C,E,I,B){B="boolean"==typeof B?B:I;var z="string"==typeof C||null===C,q={extra:z?E:I,keys:z?C:E,element:z?this.element:C,add:B};return q.element.toggleClass(this._classes(q),B),this},_on:function(E,I,B){var z,q=this;"boolean"!=typeof E&&(B=I,I=E,E=!1),B?(I=z=C(I),this.bindings=this.bindings.add(I)):(B=I,I=this.element,z=this.widget()),C.each(B,(function(B,Q){function handlerProxy(){if(E||!0!==q.options.disabled&&!C(this).hasClass("ui-state-disabled"))return("string"==typeof Q?q[Q]:Q).apply(q,arguments)}"string"!=typeof Q&&(handlerProxy.guid=Q.guid=Q.guid||handlerProxy.guid||C.guid++);var ee=B.match(/^([\w:-]*)\s*(.*)$/),te=ee[1]+q.eventNamespace,ie=ee[2];ie?z.on(te,ie,handlerProxy):I.on(te,handlerProxy)}))},_off:function(E,I){I=(I||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,E.off(I),this.bindings=C(this.bindings.not(E).get()),this.focusable=C(this.focusable.not(E).get()),this.hoverable=C(this.hoverable.not(E).get())},_delay:function(C,E){function handlerProxy(){return("string"==typeof C?I[C]:C).apply(I,arguments)}var I=this;return setTimeout(handlerProxy,E||0)},_hoverable:function(E){this.hoverable=this.hoverable.add(E),this._on(E,{mouseenter:function(E){this._addClass(C(E.currentTarget),null,"ui-state-hover")},mouseleave:function(E){this._removeClass(C(E.currentTarget),null,"ui-state-hover")}})},_focusable:function(E){this.focusable=this.focusable.add(E),this._on(E,{focusin:function(E){this._addClass(C(E.currentTarget),null,"ui-state-focus")},focusout:function(E){this._removeClass(C(E.currentTarget),null,"ui-state-focus")}})},_trigger:function(E,I,B){var z,q,Q=this.options[E];if(B=B||{},(I=C.Event(I)).type=(E===this.widgetEventPrefix?E:this.widgetEventPrefix+E).toLowerCase(),I.target=this.element[0],q=I.originalEvent)for(z in q)z in I||(I[z]=q[z]);return this.element.trigger(I,B),!("function"==typeof Q&&!1===Q.apply(this.element[0],[I].concat(B))||I.isDefaultPrevented())}},C.each({show:"fadeIn",hide:"fadeOut"},(function(E,I){C.Widget.prototype["_"+E]=function(B,z,q){var Q;"string"==typeof z&&(z={effect:z});var ee=z?!0===z||"number"==typeof z?I:z.effect||I:E;"number"==typeof(z=z||{})?z={duration:z}:!0===z&&(z={}),Q=!C.isEmptyObject(z),z.complete=q,z.delay&&B.delay(z.delay),Q&&C.effects&&C.effects.effect[ee]?B[E](z):ee!==E&&B[ee]?B[ee](z.duration,z.easing,q):B.queue((function(I){C(this)[E](),q&&q.call(B[0]),I()}))}}));var z;C.widget;!function(){var E,I=Math.max,B=Math.abs,z=/left|center|right/,q=/top|center|bottom/,Q=/[\+\-]\d+(\.[\d]+)?%?/,ee=/^\w+/,te=/%$/,ie=C.fn.position;function getOffsets(C,E,I){return[parseFloat(C[0])*(te.test(C[0])?E/100:1),parseFloat(C[1])*(te.test(C[1])?I/100:1)]}function parseCss(E,I){return parseInt(C.css(E,I),10)||0}function isWindow(C){return null!=C&&C===C.window}function getDimensions(C){var E=C[0];return 9===E.nodeType?{width:C.width(),height:C.height(),offset:{top:0,left:0}}:isWindow(E)?{width:C.width(),height:C.height(),offset:{top:C.scrollTop(),left:C.scrollLeft()}}:E.preventDefault?{width:0,height:0,offset:{top:E.pageY,left:E.pageX}}:{width:C.outerWidth(),height:C.outerHeight(),offset:C.offset()}}C.position={scrollbarWidth:function(){if(void 0!==E)return E;var I,B,z=C("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),q=z.children()[0];return C("body").append(z),I=q.offsetWidth,z.css("overflow","scroll"),I===(B=q.offsetWidth)&&(B=z[0].clientWidth),z.remove(),E=I-B},getScrollInfo:function(E){var I=E.isWindow||E.isDocument?"":E.element.css("overflow-x"),B=E.isWindow||E.isDocument?"":E.element.css("overflow-y"),z="scroll"===I||"auto"===I&&E.width<E.element[0].scrollWidth;return{width:"scroll"===B||"auto"===B&&E.height<E.element[0].scrollHeight?C.position.scrollbarWidth():0,height:z?C.position.scrollbarWidth():0}},getWithinInfo:function(E){var I=C(E||window),B=isWindow(I[0]),z=!!I[0]&&9===I[0].nodeType;return{element:I,isWindow:B,isDocument:z,offset:!B&&!z?C(E).offset():{left:0,top:0},scrollLeft:I.scrollLeft(),scrollTop:I.scrollTop(),width:I.outerWidth(),height:I.outerHeight()}}},C.fn.position=function(E){if(!E||!E.of)return ie.apply(this,arguments);var te,re,ne,se,oe,ae,le="string"==typeof(E=C.extend({},E)).of?C(document).find(E.of):C(E.of),ue=C.position.getWithinInfo(E.within),de=C.position.getScrollInfo(ue),ce=(E.collision||"flip").split(" "),he={};return ae=getDimensions(le),le[0].preventDefault&&(E.at="left top"),re=ae.width,ne=ae.height,se=ae.offset,oe=C.extend({},se),C.each(["my","at"],(function(){var C,I,B=(E[this]||"").split(" ");1===B.length&&(B=z.test(B[0])?B.concat(["center"]):q.test(B[0])?["center"].concat(B):["center","center"]),B[0]=z.test(B[0])?B[0]:"center",B[1]=q.test(B[1])?B[1]:"center",C=Q.exec(B[0]),I=Q.exec(B[1]),he[this]=[C?C[0]:0,I?I[0]:0],E[this]=[ee.exec(B[0])[0],ee.exec(B[1])[0]]})),1===ce.length&&(ce[1]=ce[0]),"right"===E.at[0]?oe.left+=re:"center"===E.at[0]&&(oe.left+=re/2),"bottom"===E.at[1]?oe.top+=ne:"center"===E.at[1]&&(oe.top+=ne/2),te=getOffsets(he.at,re,ne),oe.left+=te[0],oe.top+=te[1],this.each((function(){var z,q,Q=C(this),ee=Q.outerWidth(),ie=Q.outerHeight(),ae=parseCss(this,"marginLeft"),fe=parseCss(this,"marginTop"),pe=ee+ae+parseCss(this,"marginRight")+de.width,me=ie+fe+parseCss(this,"marginBottom")+de.height,ge=C.extend({},oe),ve=getOffsets(he.my,Q.outerWidth(),Q.outerHeight());"right"===E.my[0]?ge.left-=ee:"center"===E.my[0]&&(ge.left-=ee/2),"bottom"===E.my[1]?ge.top-=ie:"center"===E.my[1]&&(ge.top-=ie/2),ge.left+=ve[0],ge.top+=ve[1],z={marginLeft:ae,marginTop:fe},C.each(["left","top"],(function(I,B){C.ui.position[ce[I]]&&C.ui.position[ce[I]][B](ge,{targetWidth:re,targetHeight:ne,elemWidth:ee,elemHeight:ie,collisionPosition:z,collisionWidth:pe,collisionHeight:me,offset:[te[0]+ve[0],te[1]+ve[1]],my:E.my,at:E.at,within:ue,elem:Q})})),E.using&&(q=function(C){var z=se.left-ge.left,q=z+re-ee,te=se.top-ge.top,oe=te+ne-ie,ae={target:{element:le,left:se.left,top:se.top,width:re,height:ne},element:{element:Q,left:ge.left,top:ge.top,width:ee,height:ie},horizontal:q<0?"left":z>0?"right":"center",vertical:oe<0?"top":te>0?"bottom":"middle"};re<ee&&B(z+q)<re&&(ae.horizontal="center"),ne<ie&&B(te+oe)<ne&&(ae.vertical="middle"),I(B(z),B(q))>I(B(te),B(oe))?ae.important="horizontal":ae.important="vertical",E.using.call(this,C,ae)}),Q.offset(C.extend(ge,{using:q}))}))},C.ui.position={fit:{left:function(C,E){var B,z=E.within,q=z.isWindow?z.scrollLeft:z.offset.left,Q=z.width,ee=C.left-E.collisionPosition.marginLeft,te=q-ee,ie=ee+E.collisionWidth-Q-q;E.collisionWidth>Q?te>0&&ie<=0?(B=C.left+te+E.collisionWidth-Q-q,C.left+=te-B):C.left=ie>0&&te<=0?q:te>ie?q+Q-E.collisionWidth:q:te>0?C.left+=te:ie>0?C.left-=ie:C.left=I(C.left-ee,C.left)},top:function(C,E){var B,z=E.within,q=z.isWindow?z.scrollTop:z.offset.top,Q=E.within.height,ee=C.top-E.collisionPosition.marginTop,te=q-ee,ie=ee+E.collisionHeight-Q-q;E.collisionHeight>Q?te>0&&ie<=0?(B=C.top+te+E.collisionHeight-Q-q,C.top+=te-B):C.top=ie>0&&te<=0?q:te>ie?q+Q-E.collisionHeight:q:te>0?C.top+=te:ie>0?C.top-=ie:C.top=I(C.top-ee,C.top)}},flip:{left:function(C,E){var I,z,q=E.within,Q=q.offset.left+q.scrollLeft,ee=q.width,te=q.isWindow?q.scrollLeft:q.offset.left,ie=C.left-E.collisionPosition.marginLeft,re=ie-te,ne=ie+E.collisionWidth-ee-te,se="left"===E.my[0]?-E.elemWidth:"right"===E.my[0]?E.elemWidth:0,oe="left"===E.at[0]?E.targetWidth:"right"===E.at[0]?-E.targetWidth:0,ae=-2*E.offset[0];re<0?((I=C.left+se+oe+ae+E.collisionWidth-ee-Q)<0||I<B(re))&&(C.left+=se+oe+ae):ne>0&&((z=C.left-E.collisionPosition.marginLeft+se+oe+ae-te)>0||B(z)<ne)&&(C.left+=se+oe+ae)},top:function(C,E){var I,z,q=E.within,Q=q.offset.top+q.scrollTop,ee=q.height,te=q.isWindow?q.scrollTop:q.offset.top,ie=C.top-E.collisionPosition.marginTop,re=ie-te,ne=ie+E.collisionHeight-ee-te,se="top"===E.my[1]?-E.elemHeight:"bottom"===E.my[1]?E.elemHeight:0,oe="top"===E.at[1]?E.targetHeight:"bottom"===E.at[1]?-E.targetHeight:0,ae=-2*E.offset[1];re<0?((z=C.top+se+oe+ae+E.collisionHeight-ee-Q)<0||z<B(re))&&(C.top+=se+oe+ae):ne>0&&((I=C.top-E.collisionPosition.marginTop+se+oe+ae-te)>0||B(I)<ne)&&(C.top+=se+oe+ae)}},flipfit:{left:function(){C.ui.position.flip.left.apply(this,arguments),C.ui.position.fit.left.apply(this,arguments)},top:function(){C.ui.position.flip.top.apply(this,arguments),C.ui.position.fit.top.apply(this,arguments)}}}}();C.ui.position,C.extend(C.expr.pseudos,{data:C.expr.createPseudo?C.expr.createPseudo((function(E){return function(I){return!!C.data(I,E)}})):function(E,I,B){return!!C.data(E,B[3])}}),C.fn.extend({disableSelection:(ce="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(ce+".ui-disableSelection",(function(C){C.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}});var q,Q=C,ee="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",te={},ie=te.toString,re=/^([\-+])=\s*(\d+\.?\d*)/,ne=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(C){return[C[1],C[2],C[3],C[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(C){return[2.55*C[1],2.55*C[2],2.55*C[3],C[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(C){return[parseInt(C[1],16),parseInt(C[2],16),parseInt(C[3],16),C[4]?(parseInt(C[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(C){return[parseInt(C[1]+C[1],16),parseInt(C[2]+C[2],16),parseInt(C[3]+C[3],16),C[4]?(parseInt(C[4]+C[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(C){return[C[1],C[2]/100,C[3]/100,C[4]]}}],se=Q.Color=function(C,E,I,B){return new Q.Color.fn.parse(C,E,I,B)},oe={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},ae={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},le=se.support={},ue=Q("<p>")[0],de=Q.each;var ce;function getType(C){return null==C?C+"":"object"==typeof C?te[ie.call(C)]||"object":typeof C}function clamp(C,E,I){var B=ae[E.type]||{};return null==C?I||!E.def?null:E.def:(C=B.floor?~~C:parseFloat(C),isNaN(C)?E.def:B.mod?(C+B.mod)%B.mod:Math.min(B.max,Math.max(0,C)))}function stringParse(C){var E=se(),I=E._rgba=[];return C=C.toLowerCase(),de(ne,(function(B,z){var q,Q=z.re.exec(C),ee=Q&&z.parse(Q),te=z.space||"rgba";if(ee)return q=E[te](ee),E[oe[te].cache]=q[oe[te].cache],I=E._rgba=q._rgba,!1})),I.length?("0,0,0,0"===I.join()&&Q.extend(I,q.transparent),E):q[C]}function hue2rgb(C,E,I){return 6*(I=(I+1)%1)<1?C+(E-C)*I*6:2*I<1?E:3*I<2?C+(E-C)*(2/3-I)*6:C}ue.style.cssText="background-color:rgba(1,1,1,.5)",le.rgba=ue.style.backgroundColor.indexOf("rgba")>-1,de(oe,(function(C,E){E.cache="_"+C,E.props.alpha={idx:3,type:"percent",def:1}})),Q.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(C,E){te["[object "+E+"]"]=E.toLowerCase()})),se.fn=Q.extend(se.prototype,{parse:function(C,E,I,B){if(void 0===C)return this._rgba=[null,null,null,null],this;(C.jquery||C.nodeType)&&(C=Q(C).css(E),E=void 0);var z=this,ee=getType(C),te=this._rgba=[];return void 0!==E&&(C=[C,E,I,B],ee="array"),"string"===ee?this.parse(stringParse(C)||q._default):"array"===ee?(de(oe.rgba.props,(function(E,I){te[I.idx]=clamp(C[I.idx],I)})),this):"object"===ee?(de(oe,C instanceof se?function(E,I){C[I.cache]&&(z[I.cache]=C[I.cache].slice())}:function(E,I){var B=I.cache;de(I.props,(function(E,q){if(!z[B]&&I.to){if("alpha"===E||null==C[E])return;z[B]=I.to(z._rgba)}z[B][q.idx]=clamp(C[E],q,!0)})),z[B]&&Q.inArray(null,z[B].slice(0,3))<0&&(null==z[B][3]&&(z[B][3]=1),I.from&&(z._rgba=I.from(z[B])))}),this):void 0},is:function(C){var E=se(C),I=!0,B=this;return de(oe,(function(C,z){var q,Q=E[z.cache];return Q&&(q=B[z.cache]||z.to&&z.to(B._rgba)||[],de(z.props,(function(C,E){if(null!=Q[E.idx])return I=Q[E.idx]===q[E.idx]}))),I})),I},_space:function(){var C=[],E=this;return de(oe,(function(I,B){E[B.cache]&&C.push(I)})),C.pop()},transition:function(C,E){var I=se(C),B=I._space(),z=oe[B],q=0===this.alpha()?se("transparent"):this,Q=q[z.cache]||z.to(q._rgba),ee=Q.slice();return I=I[z.cache],de(z.props,(function(C,B){var z=B.idx,q=Q[z],te=I[z],ie=ae[B.type]||{};null!==te&&(null===q?ee[z]=te:(ie.mod&&(te-q>ie.mod/2?q+=ie.mod:q-te>ie.mod/2&&(q-=ie.mod)),ee[z]=clamp((te-q)*E+q,B)))})),this[B](ee)},blend:function(C){if(1===this._rgba[3])return this;var E=this._rgba.slice(),I=E.pop(),B=se(C)._rgba;return se(Q.map(E,(function(C,E){return(1-I)*B[E]+I*C})))},toRgbaString:function(){var C="rgba(",E=Q.map(this._rgba,(function(C,E){return null!=C?C:E>2?1:0}));return 1===E[3]&&(E.pop(),C="rgb("),C+E.join()+")"},toHslaString:function(){var C="hsla(",E=Q.map(this.hsla(),(function(C,E){return null==C&&(C=E>2?1:0),E&&E<3&&(C=Math.round(100*C)+"%"),C}));return 1===E[3]&&(E.pop(),C="hsl("),C+E.join()+")"},toHexString:function(C){var E=this._rgba.slice(),I=E.pop();return C&&E.push(~~(255*I)),"#"+Q.map(E,(function(C){return 1===(C=(C||0).toString(16)).length?"0"+C:C})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),se.fn.parse.prototype=se.fn,oe.hsla.to=function(C){if(null==C[0]||null==C[1]||null==C[2])return[null,null,null,C[3]];var E,I,B=C[0]/255,z=C[1]/255,q=C[2]/255,Q=C[3],ee=Math.max(B,z,q),te=Math.min(B,z,q),ie=ee-te,re=ee+te,ne=.5*re;return E=te===ee?0:B===ee?60*(z-q)/ie+360:z===ee?60*(q-B)/ie+120:60*(B-z)/ie+240,I=0===ie?0:ne<=.5?ie/re:ie/(2-re),[Math.round(E)%360,I,ne,null==Q?1:Q]},oe.hsla.from=function(C){if(null==C[0]||null==C[1]||null==C[2])return[null,null,null,C[3]];var E=C[0]/360,I=C[1],B=C[2],z=C[3],q=B<=.5?B*(1+I):B+I-B*I,Q=2*B-q;return[Math.round(255*hue2rgb(Q,q,E+1/3)),Math.round(255*hue2rgb(Q,q,E)),Math.round(255*hue2rgb(Q,q,E-1/3)),z]},de(oe,(function(C,E){var I=E.props,B=E.cache,z=E.to,q=E.from;se.fn[C]=function(C){if(z&&!this[B]&&(this[B]=z(this._rgba)),void 0===C)return this[B].slice();var E,Q=getType(C),ee="array"===Q||"object"===Q?C:arguments,te=this[B].slice();return de(I,(function(C,E){var I=ee["object"===Q?C:E.idx];null==I&&(I=te[E.idx]),te[E.idx]=clamp(I,E)})),q?((E=se(q(te)))[B]=te,E):se(te)},de(I,(function(E,I){se.fn[E]||(se.fn[E]=function(B){var z,q,Q,ee,te=getType(B);return q=(z=this[ee="alpha"===E?this._hsla?"hsla":"rgba":C]())[I.idx],"undefined"===te?q:("function"===te&&(te=getType(B=B.call(this,q))),null==B&&I.empty?this:("string"===te&&(Q=re.exec(B))&&(B=q+parseFloat(Q[2])*("+"===Q[1]?1:-1)),z[I.idx]=B,this[ee](z)))})}))})),se.hook=function(C){var E=C.split(" ");de(E,(function(C,E){Q.cssHooks[E]={set:function(C,I){var B,z,q="";if("transparent"!==I&&("string"!==getType(I)||(B=stringParse(I)))){if(I=se(B||I),!le.rgba&&1!==I._rgba[3]){for(z="backgroundColor"===E?C.parentNode:C;(""===q||"transparent"===q)&&z&&z.style;)try{q=Q.css(z,"backgroundColor"),z=z.parentNode}catch(C){}I=I.blend(q&&"transparent"!==q?q:"_default")}I=I.toRgbaString()}try{C.style[E]=I}catch(C){}}},Q.fx.step[E]=function(C){C.colorInit||(C.start=se(C.elem,E),C.end=se(C.end),C.colorInit=!0),Q.cssHooks[E].set(C.elem,C.start.transition(C.end,C.pos))}}))},se.hook(ee),Q.cssHooks.borderColor={expand:function(C){var E={};return de(["Top","Right","Bottom","Left"],(function(I,B){E["border"+B+"Color"]=C})),E}},q=Q.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var he="ui-effects-",fe="ui-effects-style",pe="ui-effects-animated";C.effects={effect:{}},function(){var E=["add","remove","toggle"],I={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function camelCase(C){return C.replace(/-([\da-z])/gi,(function(C,E){return E.toUpperCase()}))}function getElementStyles(C){var E,I,B=C.ownerDocument.defaultView?C.ownerDocument.defaultView.getComputedStyle(C,null):C.currentStyle,z={};if(B&&B.length&&B[0]&&B[B[0]])for(I=B.length;I--;)"string"==typeof B[E=B[I]]&&(z[camelCase(E)]=B[E]);else for(E in B)"string"==typeof B[E]&&(z[E]=B[E]);return z}function styleDifference(E,B){var z,q,Q={};for(z in B)q=B[z],E[z]!==q&&(I[z]||!C.fx.step[z]&&isNaN(parseFloat(q))||(Q[z]=q));return Q}C.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(E,I){C.fx.step[I]=function(C){("none"!==C.end&&!C.setAttr||1===C.pos&&!C.setAttr)&&(Q.style(C.elem,I,C.end),C.setAttr=!0)}})),C.fn.addBack||(C.fn.addBack=function(C){return this.add(null==C?this.prevObject:this.prevObject.filter(C))}),C.effects.animateClass=function(I,B,z,q){var Q=C.speed(B,z,q);return this.queue((function(){var B,z=C(this),q=z.attr("class")||"",ee=Q.children?z.find("*").addBack():z;ee=ee.map((function(){return{el:C(this),start:getElementStyles(this)}})),(B=function(){C.each(E,(function(C,E){I[E]&&z[E+"Class"](I[E])}))})(),ee=ee.map((function(){return this.end=getElementStyles(this.el[0]),this.diff=styleDifference(this.start,this.end),this})),z.attr("class",q),ee=ee.map((function(){var E=this,I=C.Deferred(),B=C.extend({},Q,{queue:!1,complete:function(){I.resolve(E)}});return this.el.animate(this.diff,B),I.promise()})),C.when.apply(C,ee.get()).done((function(){B(),C.each(arguments,(function(){var E=this.el;C.each(this.diff,(function(C){E.css(C,"")}))})),Q.complete.call(z[0])}))}))},C.fn.extend({addClass:function(E){return function(I,B,z,q){return B?C.effects.animateClass.call(this,{add:I},B,z,q):E.apply(this,arguments)}}(C.fn.addClass),removeClass:function(E){return function(I,B,z,q){return arguments.length>1?C.effects.animateClass.call(this,{remove:I},B,z,q):E.apply(this,arguments)}}(C.fn.removeClass),toggleClass:function(E){return function(I,B,z,q,Q){return"boolean"==typeof B||void 0===B?z?C.effects.animateClass.call(this,B?{add:I}:{remove:I},z,q,Q):E.apply(this,arguments):C.effects.animateClass.call(this,{toggle:I},B,z,q)}}(C.fn.toggleClass),switchClass:function(E,I,B,z,q){return C.effects.animateClass.call(this,{add:I,remove:E},B,z,q)}})}(),function(){function _normalizeArguments(E,I,B,z){return C.isPlainObject(E)&&(I=E,E=E.effect),E={effect:E},null==I&&(I={}),"function"==typeof I&&(z=I,B=null,I={}),("number"==typeof I||C.fx.speeds[I])&&(z=B,B=I,I={}),"function"==typeof B&&(z=B,B=null),I&&C.extend(E,I),B=B||I.duration,E.duration=C.fx.off?0:"number"==typeof B?B:B in C.fx.speeds?C.fx.speeds[B]:C.fx.speeds._default,E.complete=z||I.complete,E}function standardAnimationOption(E){return!(E&&"number"!=typeof E&&!C.fx.speeds[E])||("string"==typeof E&&!C.effects.effect[E]||("function"==typeof E||"object"==typeof E&&!E.effect))}function parseClip(C,E){var I=E.outerWidth(),B=E.outerHeight(),z=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(C)||["",0,I,B,0];return{top:parseFloat(z[1])||0,right:"auto"===z[2]?I:parseFloat(z[2]),bottom:"auto"===z[3]?B:parseFloat(z[3]),left:parseFloat(z[4])||0}}C.expr&&C.expr.pseudos&&C.expr.pseudos.animated&&(C.expr.pseudos.animated=function(E){return function(I){return!!C(I).data(pe)||E(I)}}(C.expr.pseudos.animated)),!1!==C.uiBackCompat&&C.extend(C.effects,{save:function(C,E){for(var I=0,B=E.length;I<B;I++)null!==E[I]&&C.data(he+E[I],C[0].style[E[I]])},restore:function(C,E){for(var I,B=0,z=E.length;B<z;B++)null!==E[B]&&(I=C.data(he+E[B]),C.css(E[B],I))},setMode:function(C,E){return"toggle"===E&&(E=C.is(":hidden")?"show":"hide"),E},createWrapper:function(E){if(E.parent().is(".ui-effects-wrapper"))return E.parent();var I={width:E.outerWidth(!0),height:E.outerHeight(!0),float:E.css("float")},B=C("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),z={width:E.width(),height:E.height()},q=document.activeElement;try{q.id}catch(C){q=document.body}return E.wrap(B),(E[0]===q||C.contains(E[0],q))&&C(q).trigger("focus"),B=E.parent(),"static"===E.css("position")?(B.css({position:"relative"}),E.css({position:"relative"})):(C.extend(I,{position:E.css("position"),zIndex:E.css("z-index")}),C.each(["top","left","bottom","right"],(function(C,B){I[B]=E.css(B),isNaN(parseInt(I[B],10))&&(I[B]="auto")})),E.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),E.css(z),B.css(I).show()},removeWrapper:function(E){var I=document.activeElement;return E.parent().is(".ui-effects-wrapper")&&(E.parent().replaceWith(E),(E[0]===I||C.contains(E[0],I))&&C(I).trigger("focus")),E}}),C.extend(C.effects,{version:"1.13.2",define:function(E,I,B){return B||(B=I,I="effect"),C.effects.effect[E]=B,C.effects.effect[E].mode=I,B},scaledDimensions:function(C,E,I){if(0===E)return{height:0,width:0,outerHeight:0,outerWidth:0};var B="horizontal"!==I?(E||100)/100:1,z="vertical"!==I?(E||100)/100:1;return{height:C.height()*z,width:C.width()*B,outerHeight:C.outerHeight()*z,outerWidth:C.outerWidth()*B}},clipToBox:function(C){return{width:C.clip.right-C.clip.left,height:C.clip.bottom-C.clip.top,left:C.clip.left,top:C.clip.top}},unshift:function(C,E,I){var B=C.queue();E>1&&B.splice.apply(B,[1,0].concat(B.splice(E,I))),C.dequeue()},saveStyle:function(C){C.data(fe,C[0].style.cssText)},restoreStyle:function(C){C[0].style.cssText=C.data(fe)||"",C.removeData(fe)},mode:function(C,E){var I=C.is(":hidden");return"toggle"===E&&(E=I?"show":"hide"),(I?"hide"===E:"show"===E)&&(E="none"),E},getBaseline:function(C,E){var I,B;switch(C[0]){case"top":I=0;break;case"middle":I=.5;break;case"bottom":I=1;break;default:I=C[0]/E.height}switch(C[1]){case"left":B=0;break;case"center":B=.5;break;case"right":B=1;break;default:B=C[1]/E.width}return{x:B,y:I}},createPlaceholder:function(E){var I,B=E.css("position"),z=E.position();return E.css({marginTop:E.css("marginTop"),marginBottom:E.css("marginBottom"),marginLeft:E.css("marginLeft"),marginRight:E.css("marginRight")}).outerWidth(E.outerWidth()).outerHeight(E.outerHeight()),/^(static|relative)/.test(B)&&(B="absolute",I=C("<"+E[0].nodeName+">").insertAfter(E).css({display:/^(inline|ruby)/.test(E.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:E.css("marginTop"),marginBottom:E.css("marginBottom"),marginLeft:E.css("marginLeft"),marginRight:E.css("marginRight"),float:E.css("float")}).outerWidth(E.outerWidth()).outerHeight(E.outerHeight()).addClass("ui-effects-placeholder"),E.data(he+"placeholder",I)),E.css({position:B,left:z.left,top:z.top}),I},removePlaceholder:function(C){var E=he+"placeholder",I=C.data(E);I&&(I.remove(),C.removeData(E))},cleanUp:function(E){C.effects.restoreStyle(E),C.effects.removePlaceholder(E)},setTransition:function(E,I,B,z){return z=z||{},C.each(I,(function(C,I){var q=E.cssUnit(I);q[0]>0&&(z[I]=q[0]*B+q[1])})),z}}),C.fn.extend({effect:function(){var E=_normalizeArguments.apply(this,arguments),I=C.effects.effect[E.effect],B=I.mode,z=E.queue,q=z||"fx",Q=E.complete,ee=E.mode,te=[],prefilter=function(E){var I=C(this),z=C.effects.mode(I,ee)||B;I.data(pe,!0),te.push(z),B&&("show"===z||z===B&&"hide"===z)&&I.show(),B&&"none"===z||C.effects.saveStyle(I),"function"==typeof E&&E()};if(C.fx.off||!I)return ee?this[ee](E.duration,Q):this.each((function(){Q&&Q.call(this)}));function run(z){var q=C(this);function cleanup(){q.removeData(pe),C.effects.cleanUp(q),"hide"===E.mode&&q.hide(),done()}function done(){"function"==typeof Q&&Q.call(q[0]),"function"==typeof z&&z()}E.mode=te.shift(),!1===C.uiBackCompat||B?"none"===E.mode?(q[ee](),done()):I.call(q[0],E,cleanup):(q.is(":hidden")?"hide"===ee:"show"===ee)?(q[ee](),done()):I.call(q[0],E,done)}return!1===z?this.each(prefilter).each(run):this.queue(q,prefilter).queue(q,run)},show:function(C){return function(E){if(standardAnimationOption(E))return C.apply(this,arguments);var I=_normalizeArguments.apply(this,arguments);return I.mode="show",this.effect.call(this,I)}}(C.fn.show),hide:function(C){return function(E){if(standardAnimationOption(E))return C.apply(this,arguments);var I=_normalizeArguments.apply(this,arguments);return I.mode="hide",this.effect.call(this,I)}}(C.fn.hide),toggle:function(C){return function(E){if(standardAnimationOption(E)||"boolean"==typeof E)return C.apply(this,arguments);var I=_normalizeArguments.apply(this,arguments);return I.mode="toggle",this.effect.call(this,I)}}(C.fn.toggle),cssUnit:function(E){var I=this.css(E),B=[];return C.each(["em","px","%","pt"],(function(C,E){I.indexOf(E)>0&&(B=[parseFloat(I),E])})),B},cssClip:function(C){return C?this.css("clip","rect("+C.top+"px "+C.right+"px "+C.bottom+"px "+C.left+"px)"):parseClip(this.css("clip"),this)},transfer:function(E,I){var B=C(this),z=C(E.to),q="fixed"===z.css("position"),Q=C("body"),ee=q?Q.scrollTop():0,te=q?Q.scrollLeft():0,ie=z.offset(),re={top:ie.top-ee,left:ie.left-te,height:z.innerHeight(),width:z.innerWidth()},ne=B.offset(),se=C("<div class='ui-effects-transfer'></div>");se.appendTo("body").addClass(E.className).css({top:ne.top-ee,left:ne.left-te,height:B.innerHeight(),width:B.innerWidth(),position:q?"fixed":"absolute"}).animate(re,E.duration,E.easing,(function(){se.remove(),"function"==typeof I&&I()}))}}),C.fx.step.clip=function(E){E.clipInit||(E.start=C(E.elem).cssClip(),"string"==typeof E.end&&(E.end=parseClip(E.end,E.elem)),E.clipInit=!0),C(E.elem).cssClip({top:E.pos*(E.end.top-E.start.top)+E.start.top,right:E.pos*(E.end.right-E.start.right)+E.start.right,bottom:E.pos*(E.end.bottom-E.start.bottom)+E.start.bottom,left:E.pos*(E.end.left-E.start.left)+E.start.left})}}(),me={},C.each(["Quad","Cubic","Quart","Quint","Expo"],(function(C,E){me[E]=function(E){return Math.pow(E,C+2)}})),C.extend(me,{Sine:function(C){return 1-Math.cos(C*Math.PI/2)},Circ:function(C){return 1-Math.sqrt(1-C*C)},Elastic:function(C){return 0===C||1===C?C:-Math.pow(2,8*(C-1))*Math.sin((80*(C-1)-7.5)*Math.PI/15)},Back:function(C){return C*C*(3*C-2)},Bounce:function(C){for(var E,I=4;C<((E=Math.pow(2,--I))-1)/11;);return 1/Math.pow(4,3-I)-7.5625*Math.pow((3*E-2)/22-C,2)}}),C.each(me,(function(E,I){C.easing["easeIn"+E]=I,C.easing["easeOut"+E]=function(C){return 1-I(1-C)},C.easing["easeInOut"+E]=function(C){return C<.5?I(2*C)/2:1-I(-2*C+2)/2}}));var me;C.effects,C.effects.define("blind","hide",(function(E,I){var B={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},z=C(this),q=E.direction||"up",Q=z.cssClip(),ee={clip:C.extend({},Q)},te=C.effects.createPlaceholder(z);ee.clip[B[q][0]]=ee.clip[B[q][1]],"show"===E.mode&&(z.cssClip(ee.clip),te&&te.css(C.effects.clipToBox(ee)),ee.clip=Q),te&&te.animate(C.effects.clipToBox(ee),E.duration,E.easing),z.animate(ee,{queue:!1,duration:E.duration,easing:E.easing,complete:I})})),C.effects.define("bounce",(function(E,I){var B,z,q,Q=C(this),ee=E.mode,te="hide"===ee,ie="show"===ee,re=E.direction||"up",ne=E.distance,se=E.times||5,oe=2*se+(ie||te?1:0),ae=E.duration/oe,le=E.easing,ue="up"===re||"down"===re?"top":"left",de="up"===re||"left"===re,ce=0,he=Q.queue().length;for(C.effects.createPlaceholder(Q),q=Q.css(ue),ne||(ne=Q["top"===ue?"outerHeight":"outerWidth"]()/3),ie&&((z={opacity:1})[ue]=q,Q.css("opacity",0).css(ue,de?2*-ne:2*ne).animate(z,ae,le)),te&&(ne/=Math.pow(2,se-1)),(z={})[ue]=q;ce<se;ce++)(B={})[ue]=(de?"-=":"+=")+ne,Q.animate(B,ae,le).animate(z,ae,le),ne=te?2*ne:ne/2;te&&((B={opacity:0})[ue]=(de?"-=":"+=")+ne,Q.animate(B,ae,le)),Q.queue(I),C.effects.unshift(Q,he,oe+1)})),C.effects.define("clip","hide",(function(E,I){var B,z={},q=C(this),Q=E.direction||"vertical",ee="both"===Q,te=ee||"horizontal"===Q,ie=ee||"vertical"===Q;B=q.cssClip(),z.clip={top:ie?(B.bottom-B.top)/2:B.top,right:te?(B.right-B.left)/2:B.right,bottom:ie?(B.bottom-B.top)/2:B.bottom,left:te?(B.right-B.left)/2:B.left},C.effects.createPlaceholder(q),"show"===E.mode&&(q.cssClip(z.clip),z.clip=B),q.animate(z,{queue:!1,duration:E.duration,easing:E.easing,complete:I})})),C.effects.define("drop","hide",(function(E,I){var B,z=C(this),q="show"===E.mode,Q=E.direction||"left",ee="up"===Q||"down"===Q?"top":"left",te="up"===Q||"left"===Q?"-=":"+=",ie="+="===te?"-=":"+=",re={opacity:0};C.effects.createPlaceholder(z),B=E.distance||z["top"===ee?"outerHeight":"outerWidth"](!0)/2,re[ee]=te+B,q&&(z.css(re),re[ee]=ie+B,re.opacity=1),z.animate(re,{queue:!1,duration:E.duration,easing:E.easing,complete:I})})),C.effects.define("explode","hide",(function(E,I){var B,z,q,Q,ee,te,ie=E.pieces?Math.round(Math.sqrt(E.pieces)):3,re=ie,ne=C(this),se="show"===E.mode,oe=ne.show().css("visibility","hidden").offset(),ae=Math.ceil(ne.outerWidth()/re),le=Math.ceil(ne.outerHeight()/ie),ue=[];function childComplete(){ue.push(this),ue.length===ie*re&&animComplete()}for(B=0;B<ie;B++)for(Q=oe.top+B*le,te=B-(ie-1)/2,z=0;z<re;z++)q=oe.left+z*ae,ee=z-(re-1)/2,ne.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-z*ae,top:-B*le}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:ae,height:le,left:q+(se?ee*ae:0),top:Q+(se?te*le:0),opacity:se?0:1}).animate({left:q+(se?0:ee*ae),top:Q+(se?0:te*le),opacity:se?1:0},E.duration||500,E.easing,childComplete);function animComplete(){ne.css({visibility:"visible"}),C(ue).remove(),I()}})),C.effects.define("fade","toggle",(function(E,I){var B="show"===E.mode;C(this).css("opacity",B?0:1).animate({opacity:B?1:0},{queue:!1,duration:E.duration,easing:E.easing,complete:I})})),C.effects.define("fold","hide",(function(E,I){var B=C(this),z=E.mode,q="show"===z,Q="hide"===z,ee=E.size||15,te=/([0-9]+)%/.exec(ee),ie=!!E.horizFirst?["right","bottom"]:["bottom","right"],re=E.duration/2,ne=C.effects.createPlaceholder(B),se=B.cssClip(),oe={clip:C.extend({},se)},ae={clip:C.extend({},se)},le=[se[ie[0]],se[ie[1]]],ue=B.queue().length;te&&(ee=parseInt(te[1],10)/100*le[Q?0:1]),oe.clip[ie[0]]=ee,ae.clip[ie[0]]=ee,ae.clip[ie[1]]=0,q&&(B.cssClip(ae.clip),ne&&ne.css(C.effects.clipToBox(ae)),ae.clip=se),B.queue((function(I){ne&&ne.animate(C.effects.clipToBox(oe),re,E.easing).animate(C.effects.clipToBox(ae),re,E.easing),I()})).animate(oe,re,E.easing).animate(ae,re,E.easing).queue(I),C.effects.unshift(B,ue,4)})),C.effects.define("highlight","show",(function(E,I){var B=C(this),z={backgroundColor:B.css("backgroundColor")};"hide"===E.mode&&(z.opacity=0),C.effects.saveStyle(B),B.css({backgroundImage:"none",backgroundColor:E.color||"#ffff99"}).animate(z,{queue:!1,duration:E.duration,easing:E.easing,complete:I})})),C.effects.define("size",(function(E,I){var B,z,q,Q=C(this),ee=["fontSize"],te=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],ie=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],re=E.mode,ne="effect"!==re,se=E.scale||"both",oe=E.origin||["middle","center"],ae=Q.css("position"),le=Q.position(),ue=C.effects.scaledDimensions(Q),de=E.from||ue,ce=E.to||C.effects.scaledDimensions(Q,0);C.effects.createPlaceholder(Q),"show"===re&&(q=de,de=ce,ce=q),z={from:{y:de.height/ue.height,x:de.width/ue.width},to:{y:ce.height/ue.height,x:ce.width/ue.width}},"box"!==se&&"both"!==se||(z.from.y!==z.to.y&&(de=C.effects.setTransition(Q,te,z.from.y,de),ce=C.effects.setTransition(Q,te,z.to.y,ce)),z.from.x!==z.to.x&&(de=C.effects.setTransition(Q,ie,z.from.x,de),ce=C.effects.setTransition(Q,ie,z.to.x,ce))),"content"!==se&&"both"!==se||z.from.y!==z.to.y&&(de=C.effects.setTransition(Q,ee,z.from.y,de),ce=C.effects.setTransition(Q,ee,z.to.y,ce)),oe&&(B=C.effects.getBaseline(oe,ue),de.top=(ue.outerHeight-de.outerHeight)*B.y+le.top,de.left=(ue.outerWidth-de.outerWidth)*B.x+le.left,ce.top=(ue.outerHeight-ce.outerHeight)*B.y+le.top,ce.left=(ue.outerWidth-ce.outerWidth)*B.x+le.left),delete de.outerHeight,delete de.outerWidth,Q.css(de),"content"!==se&&"both"!==se||(te=te.concat(["marginTop","marginBottom"]).concat(ee),ie=ie.concat(["marginLeft","marginRight"]),Q.find("*[width]").each((function(){var I=C(this),B=C.effects.scaledDimensions(I),q={height:B.height*z.from.y,width:B.width*z.from.x,outerHeight:B.outerHeight*z.from.y,outerWidth:B.outerWidth*z.from.x},Q={height:B.height*z.to.y,width:B.width*z.to.x,outerHeight:B.height*z.to.y,outerWidth:B.width*z.to.x};z.from.y!==z.to.y&&(q=C.effects.setTransition(I,te,z.from.y,q),Q=C.effects.setTransition(I,te,z.to.y,Q)),z.from.x!==z.to.x&&(q=C.effects.setTransition(I,ie,z.from.x,q),Q=C.effects.setTransition(I,ie,z.to.x,Q)),ne&&C.effects.saveStyle(I),I.css(q),I.animate(Q,E.duration,E.easing,(function(){ne&&C.effects.restoreStyle(I)}))}))),Q.animate(ce,{queue:!1,duration:E.duration,easing:E.easing,complete:function(){var E=Q.offset();0===ce.opacity&&Q.css("opacity",de.opacity),ne||(Q.css("position","static"===ae?"relative":ae).offset(E),C.effects.saveStyle(Q)),I()}})})),C.effects.define("scale",(function(E,I){var B=C(this),z=E.mode,q=parseInt(E.percent,10)||(0===parseInt(E.percent,10)||"effect"!==z?0:100),Q=C.extend(!0,{from:C.effects.scaledDimensions(B),to:C.effects.scaledDimensions(B,q,E.direction||"both"),origin:E.origin||["middle","center"]},E);E.fade&&(Q.from.opacity=1,Q.to.opacity=0),C.effects.effect.size.call(this,Q,I)})),C.effects.define("puff","hide",(function(E,I){var B=C.extend(!0,{},E,{fade:!0,percent:parseInt(E.percent,10)||150});C.effects.effect.scale.call(this,B,I)})),C.effects.define("pulsate","show",(function(E,I){var B=C(this),z=E.mode,q="show"===z,Q=q||"hide"===z,ee=2*(E.times||5)+(Q?1:0),te=E.duration/ee,ie=0,re=1,ne=B.queue().length;for(!q&&B.is(":visible")||(B.css("opacity",0).show(),ie=1);re<ee;re++)B.animate({opacity:ie},te,E.easing),ie=1-ie;B.animate({opacity:ie},te,E.easing),B.queue(I),C.effects.unshift(B,ne,ee+1)})),C.effects.define("shake",(function(E,I){var B=1,z=C(this),q=E.direction||"left",Q=E.distance||20,ee=E.times||3,te=2*ee+1,ie=Math.round(E.duration/te),re="up"===q||"down"===q?"top":"left",ne="up"===q||"left"===q,se={},oe={},ae={},le=z.queue().length;for(C.effects.createPlaceholder(z),se[re]=(ne?"-=":"+=")+Q,oe[re]=(ne?"+=":"-=")+2*Q,ae[re]=(ne?"-=":"+=")+2*Q,z.animate(se,ie,E.easing);B<ee;B++)z.animate(oe,ie,E.easing).animate(ae,ie,E.easing);z.animate(oe,ie,E.easing).animate(se,ie/2,E.easing).queue(I),C.effects.unshift(z,le,te+1)})),C.effects.define("slide","show",(function(E,I){var B,z,q=C(this),Q={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},ee=E.mode,te=E.direction||"left",ie="up"===te||"down"===te?"top":"left",re="up"===te||"left"===te,ne=E.distance||q["top"===ie?"outerHeight":"outerWidth"](!0),se={};C.effects.createPlaceholder(q),B=q.cssClip(),z=q.position()[ie],se[ie]=(re?-1:1)*ne+z,se.clip=q.cssClip(),se.clip[Q[te][1]]=se.clip[Q[te][0]],"show"===ee&&(q.cssClip(se.clip),q.css(ie,se[ie]),se.clip=B,se[ie]=z),q.animate(se,{queue:!1,duration:E.duration,easing:E.easing,complete:I})}));!1!==C.uiBackCompat&&C.effects.define("transfer",(function(E,I){C(this).transfer(E,I)}));function visible(C){for(var E=C.css("visibility");"inherit"===E;)E=(C=C.parent()).css("visibility");return"visible"===E}C.ui.focusable=function(E,I){var B,z,q,Q,ee,te=E.nodeName.toLowerCase();return"area"===te?(z=(B=E.parentNode).name,!(!E.href||!z||"map"!==B.nodeName.toLowerCase())&&((q=C("img[usemap='#"+z+"']")).length>0&&q.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(te)?(Q=!E.disabled)&&(ee=C(E).closest("fieldset")[0])&&(Q=!ee.disabled):Q="a"===te&&E.href||I,Q&&C(E).is(":visible")&&visible(C(E)))},C.extend(C.expr.pseudos,{focusable:function(E){return C.ui.focusable(E,null!=C.attr(E,"tabindex"))}});C.ui.focusable,C.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):C(this[0].form)},C.ui.formResetMixin={_formResetHandler:function(){var E=C(this);setTimeout((function(){var I=E.data("ui-form-reset-instances");C.each(I,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element._form(),this.form.length){var C=this.form.data("ui-form-reset-instances")||[];C.length||this.form.on("reset.ui-form-reset",this._formResetHandler),C.push(this),this.form.data("ui-form-reset-instances",C)}},_unbindFormResetHandler:function(){if(this.form.length){var E=this.form.data("ui-form-reset-instances");E.splice(C.inArray(this,E),1),E.length?this.form.data("ui-form-reset-instances",E):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};C.expr.pseudos||(C.expr.pseudos=C.expr[":"]);C.uniqueSort||(C.uniqueSort=C.unique);if(!C.escapeSelector){var ge=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,fcssescape=function(C,E){return E?"\0"===C?"�":C.slice(0,-1)+"\\"+C.charCodeAt(C.length-1).toString(16)+" ":"\\"+C};C.escapeSelector=function(C){return(C+"").replace(ge,fcssescape)}}C.fn.even&&C.fn.odd||C.fn.extend({even:function(){return this.filter((function(C){return C%2==0}))},odd:function(){return this.filter((function(C){return C%2==1}))}});C.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},C.fn.labels=function(){var E,I,B,z,q;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(z=this.eq(0).parents("label"),(B=this.attr("id"))&&(q=(E=this.eq(0).parents().last()).add(E.length?E.siblings():this.siblings()),I="label[for='"+C.escapeSelector(B)+"']",z=z.add(q.find(I).addBack(I))),this.pushStack(z)):this.pushStack([])},C.fn.scrollParent=function(E){var I=this.css("position"),B="absolute"===I,z=E?/(auto|scroll|hidden)/:/(auto|scroll)/,q=this.parents().filter((function(){var E=C(this);return(!B||"static"!==E.css("position"))&&z.test(E.css("overflow")+E.css("overflow-y")+E.css("overflow-x"))})).eq(0);return"fixed"!==I&&q.length?q:C(this[0].ownerDocument||document)},C.extend(C.expr.pseudos,{tabbable:function(E){var I=C.attr(E,"tabindex"),B=null!=I;return(!B||I>=0)&&C.ui.focusable(E,B)}}),C.fn.extend({uniqueId:(ve=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++ve)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&C(this).removeAttr("id")}))}}),C.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(C){return C.find("> li > :first-child").add(C.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var E=this.options;this.prevShow=this.prevHide=C(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),E.collapsible||!1!==E.active&&null!=E.active||(E.active=0),this._processPanels(),E.active<0&&(E.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():C()}},_createIcons:function(){var E,I,B=this.options.icons;B&&(E=C("<span>"),this._addClass(E,"ui-accordion-header-icon","ui-icon "+B.header),E.prependTo(this.headers),I=this.active.children(".ui-accordion-header-icon"),this._removeClass(I,B.header)._addClass(I,null,B.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var C;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),C=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&C.css("height","")},_setOption:function(C,E){"active"!==C?("event"===C&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(E)),this._super(C,E),"collapsible"!==C||E||!1!==this.options.active||this._activate(0),"icons"===C&&(this._destroyIcons(),E&&this._createIcons())):this._activate(E)},_setOptionDisabled:function(C){this._super(C),this.element.attr("aria-disabled",C),this._toggleClass(null,"ui-state-disabled",!!C),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!C)},_keydown:function(E){if(!E.altKey&&!E.ctrlKey){var I=C.ui.keyCode,B=this.headers.length,z=this.headers.index(E.target),q=!1;switch(E.keyCode){case I.RIGHT:case I.DOWN:q=this.headers[(z+1)%B];break;case I.LEFT:case I.UP:q=this.headers[(z-1+B)%B];break;case I.SPACE:case I.ENTER:this._eventHandler(E);break;case I.HOME:q=this.headers[0];break;case I.END:q=this.headers[B-1]}q&&(C(E.target).attr("tabIndex",-1),C(q).attr("tabIndex",0),C(q).trigger("focus"),E.preventDefault())}},_panelKeyDown:function(E){E.keyCode===C.ui.keyCode.UP&&E.ctrlKey&&C(E.currentTarget).prev().trigger("focus")},refresh:function(){var E=this.options;this._processPanels(),!1===E.active&&!0===E.collapsible||!this.headers.length?(E.active=!1,this.active=C()):!1===E.active?this._activate(0):this.active.length&&!C.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(E.active=!1,this.active=C()):this._activate(Math.max(0,E.active-1)):E.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var C=this.headers,E=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),E&&(this._off(C.not(this.headers)),this._off(E.not(this.panels)))},_refresh:function(){var E,I=this.options,B=I.heightStyle,z=this.element.parent();this.active=this._findActive(I.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var E=C(this),I=E.uniqueId().attr("id"),B=E.next(),z=B.uniqueId().attr("id");E.attr("aria-controls",z),B.attr("aria-labelledby",I)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(I.event),"fill"===B?(E=z.height(),this.element.siblings(":visible").each((function(){var I=C(this),B=I.css("position");"absolute"!==B&&"fixed"!==B&&(E-=I.outerHeight(!0))})),this.headers.each((function(){E-=C(this).outerHeight(!0)})),this.headers.next().each((function(){C(this).height(Math.max(0,E-C(this).innerHeight()+C(this).height()))})).css("overflow","auto")):"auto"===B&&(E=0,this.headers.next().each((function(){var I=C(this).is(":visible");I||C(this).show(),E=Math.max(E,C(this).css("height","").height()),I||C(this).hide()})).height(E))},_activate:function(E){var I=this._findActive(E)[0];I!==this.active[0]&&(I=I||this.active[0],this._eventHandler({target:I,currentTarget:I,preventDefault:C.noop}))},_findActive:function(E){return"number"==typeof E?this.headers.eq(E):C()},_setupEvents:function(E){var I={keydown:"_keydown"};E&&C.each(E.split(" "),(function(C,E){I[E]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,I),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(E){var I,B,z=this.options,q=this.active,Q=C(E.currentTarget),ee=Q[0]===q[0],te=ee&&z.collapsible,ie=te?C():Q.next(),re=q.next(),ne={oldHeader:q,oldPanel:re,newHeader:te?C():Q,newPanel:ie};E.preventDefault(),ee&&!z.collapsible||!1===this._trigger("beforeActivate",E,ne)||(z.active=!te&&this.headers.index(Q),this.active=ee?C():Q,this._toggle(ne),this._removeClass(q,"ui-accordion-header-active","ui-state-active"),z.icons&&(I=q.children(".ui-accordion-header-icon"),this._removeClass(I,null,z.icons.activeHeader)._addClass(I,null,z.icons.header)),ee||(this._removeClass(Q,"ui-accordion-header-collapsed")._addClass(Q,"ui-accordion-header-active","ui-state-active"),z.icons&&(B=Q.children(".ui-accordion-header-icon"),this._removeClass(B,null,z.icons.header)._addClass(B,null,z.icons.activeHeader)),this._addClass(Q.next(),"ui-accordion-content-active")))},_toggle:function(E){var I=E.newPanel,B=this.prevShow.length?this.prevShow:E.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=I,this.prevHide=B,this.options.animate?this._animate(I,B,E):(B.hide(),I.show(),this._toggleComplete(E)),B.attr({"aria-hidden":"true"}),B.prev().attr({"aria-selected":"false","aria-expanded":"false"}),I.length&&B.length?B.prev().attr({tabIndex:-1,"aria-expanded":"false"}):I.length&&this.headers.filter((function(){return 0===parseInt(C(this).attr("tabIndex"),10)})).attr("tabIndex",-1),I.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(C,E,I){var B,z,q,Q=this,ee=0,te=C.css("box-sizing"),ie=C.length&&(!E.length||C.index()<E.index()),re=this.options.animate||{},ne=ie&&re.down||re,complete=function(){Q._toggleComplete(I)};return"number"==typeof ne&&(q=ne),"string"==typeof ne&&(z=ne),z=z||ne.easing||re.easing,q=q||ne.duration||re.duration,E.length?C.length?(B=C.show().outerHeight(),E.animate(this.hideProps,{duration:q,easing:z,step:function(C,E){E.now=Math.round(C)}}),void C.hide().animate(this.showProps,{duration:q,easing:z,complete,step:function(C,I){I.now=Math.round(C),"height"!==I.prop?"content-box"===te&&(ee+=I.now):"content"!==Q.options.heightStyle&&(I.now=Math.round(B-E.outerHeight()-ee),ee=0)}})):E.animate(this.hideProps,q,z,complete):C.animate(this.showProps,q,z,complete)},_toggleComplete:function(C){var E=C.oldPanel,I=E.prev();this._removeClass(E,"ui-accordion-content-active"),this._removeClass(I,"ui-accordion-header-active")._addClass(I,"ui-accordion-header-collapsed"),E.length&&(E.parent()[0].className=E.parent()[0].className),this._trigger("activate",null,C)}}),C.ui.safeActiveElement=function(C){var E;try{E=C.activeElement}catch(I){E=C.body}return E||(E=C.body),E.nodeName||(E=C.body),E},C.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(C){C.preventDefault(),this._activateItem(C)},"click .ui-menu-item":function(E){var I=C(E.target),B=C(C.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&I.not(".ui-state-disabled").length&&(this.select(E),E.isPropagationStopped()||(this.mouseHandled=!0),I.has(".ui-menu").length?this.expand(E):!this.element.is(":focus")&&B.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(C,E){var I=this.active||this._menuItems().first();E||this.focus(C,I)},blur:function(E){this._delay((function(){!C.contains(this.element[0],C.ui.safeActiveElement(this.document[0]))&&this.collapseAll(E)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(C){this._closeOnDocumentClick(C)&&this.collapseAll(C,!0),this.mouseHandled=!1}})},_activateItem:function(E){if(!this.previousFilter&&(E.clientX!==this.lastMousePosition.x||E.clientY!==this.lastMousePosition.y)){this.lastMousePosition={x:E.clientX,y:E.clientY};var I=C(E.target).closest(".ui-menu-item"),B=C(E.currentTarget);I[0]===B[0]&&(B.is(".ui-state-active")||(this._removeClass(B.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(E,B)))}},_destroy:function(){var E=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),E.children().each((function(){var E=C(this);E.data("ui-menu-submenu-caret")&&E.remove()}))},_keydown:function(E){var I,B,z,q,Q=!0;switch(E.keyCode){case C.ui.keyCode.PAGE_UP:this.previousPage(E);break;case C.ui.keyCode.PAGE_DOWN:this.nextPage(E);break;case C.ui.keyCode.HOME:this._move("first","first",E);break;case C.ui.keyCode.END:this._move("last","last",E);break;case C.ui.keyCode.UP:this.previous(E);break;case C.ui.keyCode.DOWN:this.next(E);break;case C.ui.keyCode.LEFT:this.collapse(E);break;case C.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(E);break;case C.ui.keyCode.ENTER:case C.ui.keyCode.SPACE:this._activate(E);break;case C.ui.keyCode.ESCAPE:this.collapse(E);break;default:Q=!1,B=this.previousFilter||"",q=!1,z=E.keyCode>=96&&E.keyCode<=105?(E.keyCode-96).toString():String.fromCharCode(E.keyCode),clearTimeout(this.filterTimer),z===B?q=!0:z=B+z,I=this._filterMenuItems(z),(I=q&&-1!==I.index(this.active.next())?this.active.nextAll(".ui-menu-item"):I).length||(z=String.fromCharCode(E.keyCode),I=this._filterMenuItems(z)),I.length?(this.focus(E,I),this.previousFilter=z,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}Q&&E.preventDefault()},_activate:function(C){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(C):this.select(C))},refresh:function(){var E,I,B,z,q=this,Q=this.options.icons.submenu,ee=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),I=ee.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var E=C(this),I=E.prev(),B=C("<span>").data("ui-menu-submenu-caret",!0);q._addClass(B,"ui-menu-icon","ui-icon "+Q),I.attr("aria-haspopup","true").prepend(B),E.attr("aria-labelledby",I.attr("id"))})),this._addClass(I,"ui-menu","ui-widget ui-widget-content ui-front"),(E=ee.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var E=C(this);q._isDivider(E)&&q._addClass(E,"ui-menu-divider","ui-widget-content")})),z=(B=E.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(B,"ui-menu-item")._addClass(z,"ui-menu-item-wrapper"),E.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!C.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(C,E){if("icons"===C){var I=this.element.find(".ui-menu-icon");this._removeClass(I,null,this.options.icons.submenu)._addClass(I,null,E.submenu)}this._super(C,E)},_setOptionDisabled:function(C){this._super(C),this.element.attr("aria-disabled",String(C)),this._toggleClass(null,"ui-state-disabled",!!C)},focus:function(C,E){var I,B,z;this.blur(C,C&&"focus"===C.type),this._scrollIntoView(E),this.active=E.first(),B=this.active.children(".ui-menu-item-wrapper"),this._addClass(B,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",B.attr("id")),z=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(z,null,"ui-state-active"),C&&"keydown"===C.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(I=E.children(".ui-menu")).length&&C&&/^mouse/.test(C.type)&&this._startOpening(I),this.activeMenu=E.parent(),this._trigger("focus",C,{item:E})},_scrollIntoView:function(E){var I,B,z,q,Q,ee;this._hasScroll()&&(I=parseFloat(C.css(this.activeMenu[0],"borderTopWidth"))||0,B=parseFloat(C.css(this.activeMenu[0],"paddingTop"))||0,z=E.offset().top-this.activeMenu.offset().top-I-B,q=this.activeMenu.scrollTop(),Q=this.activeMenu.height(),ee=E.outerHeight(),z<0?this.activeMenu.scrollTop(q+z):z+ee>Q&&this.activeMenu.scrollTop(q+z-Q+ee))},blur:function(C,E){E||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",C,{item:this.active}),this.active=null)},_startOpening:function(C){clearTimeout(this.timer),"true"===C.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(C)}),this.delay))},_open:function(E){var I=C.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(E.parents(".ui-menu")).hide().attr("aria-hidden","true"),E.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(I)},collapseAll:function(E,I){clearTimeout(this.timer),this.timer=this._delay((function(){var B=I?this.element:C(E&&E.target).closest(this.element.find(".ui-menu"));B.length||(B=this.element),this._close(B),this.blur(E),this._removeClass(B.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=B}),I?0:this.delay)},_close:function(C){C||(C=this.active?this.active.parent():this.element),C.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(E){return!C(E.target).closest(".ui-menu").length},_isDivider:function(C){return!/[^\-\u2014\u2013\s]/.test(C.text())},collapse:function(C){var E=this.active&&this.active.parent().closest(".ui-menu-item",this.element);E&&E.length&&(this._close(),this.focus(C,E))},expand:function(C){var E=this.active&&this._menuItems(this.active.children(".ui-menu")).first();E&&E.length&&(this._open(E.parent()),this._delay((function(){this.focus(C,E)})))},next:function(C){this._move("next","first",C)},previous:function(C){this._move("prev","last",C)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(C){return(C||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(C,E,I){var B;this.active&&(B="first"===C||"last"===C?this.active["first"===C?"prevAll":"nextAll"](".ui-menu-item").last():this.active[C+"All"](".ui-menu-item").first()),B&&B.length&&this.active||(B=this._menuItems(this.activeMenu)[E]()),this.focus(I,B)},nextPage:function(E){var I,B,z;this.active?this.isLastItem()||(this._hasScroll()?(B=this.active.offset().top,z=this.element.innerHeight(),0===C.fn.jquery.indexOf("3.2.")&&(z+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each((function(){return(I=C(this)).offset().top-B-z<0})),this.focus(E,I)):this.focus(E,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(E)},previousPage:function(E){var I,B,z;this.active?this.isFirstItem()||(this._hasScroll()?(B=this.active.offset().top,z=this.element.innerHeight(),0===C.fn.jquery.indexOf("3.2.")&&(z+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each((function(){return(I=C(this)).offset().top-B+z>0})),this.focus(E,I)):this.focus(E,this._menuItems(this.activeMenu).first())):this.next(E)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(E){this.active=this.active||C(E.target).closest(".ui-menu-item");var I={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(E,!0),this._trigger("select",E,I)},_filterMenuItems:function(E){var I=E.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),B=new RegExp("^"+I,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return B.test(String.prototype.trim.call(C(this).children(".ui-menu-item-wrapper").text()))}))}});var ve;C.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var E,I,B,z=this.element[0].nodeName.toLowerCase(),q="textarea"===z,Q="input"===z;this.isMultiLine=q||!Q&&this._isContentEditable(this.element),this.valueMethod=this.element[q||Q?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(z){if(this.element.prop("readOnly"))return E=!0,B=!0,void(I=!0);E=!1,B=!1,I=!1;var q=C.ui.keyCode;switch(z.keyCode){case q.PAGE_UP:E=!0,this._move("previousPage",z);break;case q.PAGE_DOWN:E=!0,this._move("nextPage",z);break;case q.UP:E=!0,this._keyEvent("previous",z);break;case q.DOWN:E=!0,this._keyEvent("next",z);break;case q.ENTER:this.menu.active&&(E=!0,z.preventDefault(),this.menu.select(z));break;case q.TAB:this.menu.active&&this.menu.select(z);break;case q.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(z),z.preventDefault());break;default:I=!0,this._searchTimeout(z)}},keypress:function(B){if(E)return E=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||B.preventDefault());if(!I){var z=C.ui.keyCode;switch(B.keyCode){case z.PAGE_UP:this._move("previousPage",B);break;case z.PAGE_DOWN:this._move("nextPage",B);break;case z.UP:this._keyEvent("previous",B);break;case z.DOWN:this._keyEvent("next",B)}}},input:function(C){if(B)return B=!1,void C.preventDefault();this._searchTimeout(C)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(C){clearTimeout(this.searching),this.close(C),this._change(C)}}),this._initSource(),this.menu=C("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(C){C.preventDefault()},menufocus:function(E,I){var B,z;if(this.isNewMenu&&(this.isNewMenu=!1,E.originalEvent&&/^mouse/.test(E.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){C(E.target).trigger(E.originalEvent)}));z=I.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",E,{item:z})&&E.originalEvent&&/^key/.test(E.originalEvent.type)&&this._value(z.value),(B=I.item.attr("aria-label")||z.value)&&String.prototype.trim.call(B).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay((function(){this.liveRegion.html(C("<div>").text(B))}),100))},menuselect:function(E,I){var B=I.item.data("ui-autocomplete-item"),z=this.previous;this.element[0]!==C.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=z,this._delay((function(){this.previous=z,this.selectedItem=B}))),!1!==this._trigger("select",E,{item:B})&&this._value(B.value),this.term=this._value(),this.close(E),this.selectedItem=B}}),this.liveRegion=C("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(C,E){this._super(C,E),"source"===C&&this._initSource(),"appendTo"===C&&this.menu.element.appendTo(this._appendTo()),"disabled"===C&&E&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(E){var I=this.menu.element[0];return E.target===this.element[0]||E.target===I||C.contains(I,E.target)},_closeOnClickOutside:function(C){this._isEventTargetInWidget(C)||this.close()},_appendTo:function(){var E=this.options.appendTo;return E&&(E=E.jquery||E.nodeType?C(E):this.document.find(E).eq(0)),E&&E[0]||(E=this.element.closest(".ui-front, dialog")),E.length||(E=this.document[0].body),E},_initSource:function(){var E,I,B=this;Array.isArray(this.options.source)?(E=this.options.source,this.source=function(I,B){B(C.ui.autocomplete.filter(E,I.term))}):"string"==typeof this.options.source?(I=this.options.source,this.source=function(E,z){B.xhr&&B.xhr.abort(),B.xhr=C.ajax({url:I,data:E,dataType:"json",success:function(C){z(C)},error:function(){z([])}})}):this.source=this.options.source},_searchTimeout:function(C){clearTimeout(this.searching),this.searching=this._delay((function(){var E=this.term===this._value(),I=this.menu.element.is(":visible"),B=C.altKey||C.ctrlKey||C.metaKey||C.shiftKey;E&&(!E||I||B)||(this.selectedItem=null,this.search(null,C))}),this.options.delay)},search:function(C,E){return C=null!=C?C:this._value(),this.term=this._value(),C.length<this.options.minLength?this.close(E):!1!==this._trigger("search",E)?this._search(C):void 0},_search:function(C){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:C},this._response())},_response:function(){var C=++this.requestIndex;return function(E){C===this.requestIndex&&this.__response(E),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(C){C&&(C=this._normalize(C)),this._trigger("response",null,{content:C}),!this.options.disabled&&C&&C.length&&!this.cancelSearch?(this._suggest(C),this._trigger("open")):this._close()},close:function(C){this.cancelSearch=!0,this._close(C)},_close:function(C){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",C))},_change:function(C){this.previous!==this._value()&&this._trigger("change",C,{item:this.selectedItem})},_normalize:function(E){return E.length&&E[0].label&&E[0].value?E:C.map(E,(function(E){return"string"==typeof E?{label:E,value:E}:C.extend({},E,{label:E.label||E.value,value:E.value||E.label})}))},_suggest:function(E){var I=this.menu.element.empty();this._renderMenu(I,E),this.isNewMenu=!0,this.menu.refresh(),I.show(),this._resizeMenu(),I.position(C.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var C=this.menu.element;C.outerWidth(Math.max(C.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(E,I){var B=this;C.each(I,(function(C,I){B._renderItemData(E,I)}))},_renderItemData:function(C,E){return this._renderItem(C,E).data("ui-autocomplete-item",E)},_renderItem:function(E,I){return C("<li>").append(C("<div>").text(I.label)).appendTo(E)},_move:function(C,E){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(C)||this.menu.isLastItem()&&/^next/.test(C)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[C](E);this.search(null,E)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(C,E){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(C,E),E.preventDefault())},_isContentEditable:function(C){if(!C.length)return!1;var E=C.prop("contentEditable");return"inherit"===E?this._isContentEditable(C.parent()):"true"===E}}),C.extend(C.ui.autocomplete,{escapeRegex:function(C){return C.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(E,I){var B=new RegExp(C.ui.autocomplete.escapeRegex(I),"i");return C.grep(E,(function(C){return B.test(C.label||C.value||C)}))}}),C.widget("ui.autocomplete",C.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(C){return C+(C>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(E){var I;this._superApply(arguments),this.options.disabled||this.cancelSearch||(I=E&&E.length?this.options.messages.results(E.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay((function(){this.liveRegion.html(C("<div>").text(I))}),100))}});C.ui.autocomplete;var ye=/ui-corner-([a-z]){2,6}/g;C.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var E=this,I=[];C.each(this.options.items,(function(B,z){var q,Q={};if(z)return"controlgroupLabel"===B?((q=E.element.find(z)).each((function(){var E=C(this);E.children(".ui-controlgroup-label-contents").length||E.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),E._addClass(q,null,"ui-widget ui-widget-content ui-state-default"),void(I=I.concat(q.get()))):void(C.fn[B]&&(Q=E["_"+B+"Options"]?E["_"+B+"Options"]("middle"):{classes:{}},E.element.find(z).each((function(){var z=C(this),q=z[B]("instance"),ee=C.widget.extend({},Q);if("button"!==B||!z.parent(".ui-spinner").length){q||(q=z[B]()[B]("instance")),q&&(ee.classes=E._resolveClassesValues(ee.classes,q)),z[B](ee);var te=z[B]("widget");C.data(te[0],"ui-controlgroup-data",q||z[B]("instance")),I.push(te[0])}}))))})),this.childWidgets=C(C.uniqueSort(I)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(E){this.childWidgets.each((function(){var I=C(this).data("ui-controlgroup-data");I&&I[E]&&I[E]()}))},_updateCornerClass:function(C,E){var I="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",B=this._buildSimpleOptions(E,"label").classes.label;this._removeClass(C,null,I),this._addClass(C,null,B)},_buildSimpleOptions:function(C,E){var I="vertical"===this.options.direction,B={classes:{}};return B.classes[E]={middle:"",first:"ui-corner-"+(I?"top":"left"),last:"ui-corner-"+(I?"bottom":"right"),only:"ui-corner-all"}[C],B},_spinnerOptions:function(C){var E=this._buildSimpleOptions(C,"ui-spinner");return E.classes["ui-spinner-up"]="",E.classes["ui-spinner-down"]="",E},_buttonOptions:function(C){return this._buildSimpleOptions(C,"ui-button")},_checkboxradioOptions:function(C){return this._buildSimpleOptions(C,"ui-checkboxradio-label")},_selectmenuOptions:function(C){var E="vertical"===this.options.direction;return{width:!!E&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(E?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(E?"top":"left")},last:{"ui-selectmenu-button-open":E?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(E?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[C]}},_resolveClassesValues:function(E,I){var B={};return C.each(E,(function(C){var z=I.options.classes[C]||"";z=String.prototype.trim.call(z.replace(ye,"")),B[C]=(z+" "+E[C]).replace(/\s+/g," ")})),B},_setOption:function(C,E){"direction"===C&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(C,E),"disabled"!==C?this.refresh():this._callChildMethod(E?"disable":"enable")},refresh:function(){var E,I=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),E=this.childWidgets,this.options.onlyVisible&&(E=E.filter(":visible")),E.length&&(C.each(["first","last"],(function(C,B){var z=E[B]().data("ui-controlgroup-data");if(z&&I["_"+z.widgetName+"Options"]){var q=I["_"+z.widgetName+"Options"](1===E.length?"only":B);q.classes=I._resolveClassesValues(q.classes,z),z.element[z.widgetName](q)}else I._updateCornerClass(E[B](),B)})),this._callChildMethod("refresh"))}});C.widget("ui.checkboxradio",[C.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var E,I,B,z=this._super()||{};return this._readType(),I=this.element.labels(),this.label=C(I[I.length-1]),this.label.length||C.error("No label found for checkboxradio widget"),this.originalLabel="",(B=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=B.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(z.label=this.originalLabel),null!=(E=this.element[0].disabled)&&(z.disabled=E),z},_create:function(){var C=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),C&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var E=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===E&&/radio|checkbox/.test(this.type)||C.error("Can't create checkboxradio on element.nodeName="+E+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var E=this.element[0].name,I="input[name='"+C.escapeSelector(E)+"']";return E?(this.form.length?C(this.form[0].elements).filter(I):C(I).filter((function(){return 0===C(this)._form().length}))).not(this.element):C([])},_toggleClasses:function(){var E=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",E),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",E)._toggleClass(this.icon,null,"ui-icon-blank",!E),"radio"===this.type&&this._getRadioGroup().each((function(){var E=C(this).checkboxradio("instance");E&&E._removeClass(E.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(C,E){if("label"!==C||E){if(this._super(C,E),"disabled"===C)return this._toggleClass(this.label,null,"ui-state-disabled",E),void(this.element[0].disabled=E);this.refresh()}},_updateIcon:function(E){var I="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=C("<span>"),this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(I+=E?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,E?"ui-icon-blank":"ui-icon-check")):I+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",I),E||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var C=this.label.contents().not(this.element[0]);this.icon&&(C=C.not(this.icon[0])),this.iconSpace&&(C=C.not(this.iconSpace[0])),C.remove(),this.label.append(this.options.label)},refresh:function(){var C=this.element[0].checked,E=this.element[0].disabled;this._updateIcon(C),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",C),null!==this.options.label&&this._updateLabel(),E!==this.options.disabled&&this._setOptions({disabled:E})}}]);C.ui.checkboxradio;C.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var C,E=this._super()||{};return this.isInput=this.element.is("input"),null!=(C=this.element[0].disabled)&&(E.disabled=C),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(E.label=this.originalLabel),E},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(E){E.keyCode===C.ui.keyCode.SPACE&&(E.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(E,I){var B="iconPosition"!==E,z=B?this.options.iconPosition:I,q="top"===z||"bottom"===z;this.icon?B&&this._removeClass(this.icon,null,this.options.icon):(this.icon=C("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),B&&this._addClass(this.icon,null,I),this._attachIcon(z),q?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=C("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(z))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(C){this.icon[/^(?:end|bottom)/.test(C)?"before":"after"](this.iconSpace)},_attachIcon:function(C){this.element[/^(?:end|bottom)/.test(C)?"append":"prepend"](this.icon)},_setOptions:function(C){var E=void 0===C.showLabel?this.options.showLabel:C.showLabel,I=void 0===C.icon?this.options.icon:C.icon;E||I||(C.showLabel=!0),this._super(C)},_setOption:function(C,E){"icon"===C&&(E?this._updateIcon(C,E):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===C&&this._updateIcon(C,E),"showLabel"===C&&(this._toggleClass("ui-button-icon-only",null,!E),this._updateTooltip()),"label"===C&&(this.isInput?this.element.val(E):(this.element.html(E),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(C,E),"disabled"===C&&(this._toggleClass(null,"ui-state-disabled",E),this.element[0].disabled=E,E&&this.element.trigger("blur"))},refresh:function(){var C=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");C!==this.options.disabled&&this._setOptions({disabled:C}),this._updateTooltip()}}),!1!==C.uiBackCompat&&(C.widget("ui.button",C.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(C,E){"text"!==C?("showLabel"===C&&(this.options.text=E),"icon"===C&&(this.options.icons.primary=E),"icons"===C&&(E.primary?(this._super("icon",E.primary),this._super("iconPosition","beginning")):E.secondary&&(this._super("icon",E.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",E)}}),C.fn.button=function(E){return function(I){var B="string"==typeof I,z=Array.prototype.slice.call(arguments,1),q=this;return B?this.length||"instance"!==I?this.each((function(){var E,B=C(this).attr("type"),Q="checkbox"!==B&&"radio"!==B?"button":"checkboxradio",ee=C.data(this,"ui-"+Q);return"instance"===I?(q=ee,!1):ee?"function"!=typeof ee[I]||"_"===I.charAt(0)?C.error("no such method '"+I+"' for button widget instance"):(E=ee[I].apply(ee,z))!==ee&&void 0!==E?(q=E&&E.jquery?q.pushStack(E.get()):E,!1):void 0:C.error("cannot call methods on button prior to initialization; attempted to call method '"+I+"'")})):q=void 0:(z.length&&(I=C.widget.extend.apply(null,[I].concat(z))),this.each((function(){var B=C(this).attr("type"),z="checkbox"!==B&&"radio"!==B?"button":"checkboxradio",q=C.data(this,"ui-"+z);if(q)q.option(I||{}),q._init&&q._init();else{if("button"===z)return void E.call(C(this),I);C(this).checkboxradio(C.extend({icon:!1},I))}}))),q}}(C.fn.button),C.fn.buttonset=function(){return C.ui.controlgroup||C.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var be;C.ui.button;function datepicker_getZindex(C){for(var E,I;C.length&&C[0]!==document;){if(("absolute"===(E=C.css("position"))||"relative"===E||"fixed"===E)&&(I=parseInt(C.css("zIndex"),10),!isNaN(I)&&0!==I))return I;C=C.parent()}return 0}function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},C.extend(this._defaults,this.regional[""]),this.regional.en=C.extend(!0,{},this.regional[""]),this.regional["en-US"]=C.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover(C("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function datepicker_bindHover(E){var I="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return E.on("mouseout",I,(function(){C(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",I,datepicker_handleMouseover)}function datepicker_handleMouseover(){C.datepicker._isDisabledDatepicker(be.inline?be.dpDiv.parent()[0]:be.input[0])||(C(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),C(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&C(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&C(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(E,I){for(var B in C.extend(E,I),I)null==I[B]&&(E[B]=I[B]);return E}C.extend(C.ui,{datepicker:{version:"1.13.2"}}),C.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(C){return datepicker_extendRemove(this._defaults,C||{}),this},_attachDatepicker:function(E,I){var B,z,q;z="div"===(B=E.nodeName.toLowerCase())||"span"===B,E.id||(this.uuid+=1,E.id="dp"+this.uuid),(q=this._newInst(C(E),z)).settings=C.extend({},I||{}),"input"===B?this._connectDatepicker(E,q):z&&this._inlineDatepicker(E,q)},_newInst:function(E,I){return{id:E[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:E,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:I,dpDiv:I?datepicker_bindHover(C("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(E,I){var B=C(E);I.append=C([]),I.trigger=C([]),B.hasClass(this.markerClassName)||(this._attachments(B,I),B.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(I),C.data(E,"datepicker",I),I.settings.disabled&&this._disableDatepicker(E))},_attachments:function(E,I){var B,z,q,Q=this._get(I,"appendText"),ee=this._get(I,"isRTL");I.append&&I.append.remove(),Q&&(I.append=C("<span>").addClass(this._appendClass).text(Q),E[ee?"before":"after"](I.append)),E.off("focus",this._showDatepicker),I.trigger&&I.trigger.remove(),"focus"!==(B=this._get(I,"showOn"))&&"both"!==B||E.on("focus",this._showDatepicker),"button"!==B&&"both"!==B||(z=this._get(I,"buttonText"),q=this._get(I,"buttonImage"),this._get(I,"buttonImageOnly")?I.trigger=C("<img>").addClass(this._triggerClass).attr({src:q,alt:z,title:z}):(I.trigger=C("<button type='button'>").addClass(this._triggerClass),q?I.trigger.html(C("<img>").attr({src:q,alt:z,title:z})):I.trigger.text(z)),E[ee?"before":"after"](I.trigger),I.trigger.on("click",(function(){return C.datepicker._datepickerShowing&&C.datepicker._lastInput===E[0]?C.datepicker._hideDatepicker():C.datepicker._datepickerShowing&&C.datepicker._lastInput!==E[0]?(C.datepicker._hideDatepicker(),C.datepicker._showDatepicker(E[0])):C.datepicker._showDatepicker(E[0]),!1})))},_autoSize:function(C){if(this._get(C,"autoSize")&&!C.inline){var E,I,B,z,q=new Date(2009,11,20),Q=this._get(C,"dateFormat");Q.match(/[DM]/)&&(E=function(C){for(I=0,B=0,z=0;z<C.length;z++)C[z].length>I&&(I=C[z].length,B=z);return B},q.setMonth(E(this._get(C,Q.match(/MM/)?"monthNames":"monthNamesShort"))),q.setDate(E(this._get(C,Q.match(/DD/)?"dayNames":"dayNamesShort"))+20-q.getDay())),C.input.attr("size",this._formatDate(C,q).length)}},_inlineDatepicker:function(E,I){var B=C(E);B.hasClass(this.markerClassName)||(B.addClass(this.markerClassName).append(I.dpDiv),C.data(E,"datepicker",I),this._setDate(I,this._getDefaultDate(I),!0),this._updateDatepicker(I),this._updateAlternate(I),I.settings.disabled&&this._disableDatepicker(E),I.dpDiv.css("display","block"))},_dialogDatepicker:function(E,I,B,z,q){var Q,ee,te,ie,re,ne=this._dialogInst;return ne||(this.uuid+=1,Q="dp"+this.uuid,this._dialogInput=C("<input type='text' id='"+Q+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),C("body").append(this._dialogInput),(ne=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},C.data(this._dialogInput[0],"datepicker",ne)),datepicker_extendRemove(ne.settings,z||{}),I=I&&I.constructor===Date?this._formatDate(ne,I):I,this._dialogInput.val(I),this._pos=q?q.length?q:[q.pageX,q.pageY]:null,this._pos||(ee=document.documentElement.clientWidth,te=document.documentElement.clientHeight,ie=document.documentElement.scrollLeft||document.body.scrollLeft,re=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[ee/2-100+ie,te/2-150+re]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),ne.settings.onSelect=B,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),C.blockUI&&C.blockUI(this.dpDiv),C.data(this._dialogInput[0],"datepicker",ne),this},_destroyDatepicker:function(E){var I,B=C(E),z=C.data(E,"datepicker");B.hasClass(this.markerClassName)&&(I=E.nodeName.toLowerCase(),C.removeData(E,"datepicker"),"input"===I?(z.append.remove(),z.trigger.remove(),B.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==I&&"span"!==I||B.removeClass(this.markerClassName).empty(),be===z&&(be=null,this._curInst=null))},_enableDatepicker:function(E){var I,B,z=C(E),q=C.data(E,"datepicker");z.hasClass(this.markerClassName)&&("input"===(I=E.nodeName.toLowerCase())?(E.disabled=!1,q.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==I&&"span"!==I||((B=z.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),B.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=C.map(this._disabledInputs,(function(C){return C===E?null:C})))},_disableDatepicker:function(E){var I,B,z=C(E),q=C.data(E,"datepicker");z.hasClass(this.markerClassName)&&("input"===(I=E.nodeName.toLowerCase())?(E.disabled=!0,q.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==I&&"span"!==I||((B=z.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),B.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=C.map(this._disabledInputs,(function(C){return C===E?null:C})),this._disabledInputs[this._disabledInputs.length]=E)},_isDisabledDatepicker:function(C){if(!C)return!1;for(var E=0;E<this._disabledInputs.length;E++)if(this._disabledInputs[E]===C)return!0;return!1},_getInst:function(E){try{return C.data(E,"datepicker")}catch(C){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(E,I,B){var z,q,Q,ee,te=this._getInst(E);if(2===arguments.length&&"string"==typeof I)return"defaults"===I?C.extend({},C.datepicker._defaults):te?"all"===I?C.extend({},te.settings):this._get(te,I):null;z=I||{},"string"==typeof I&&((z={})[I]=B),te&&(this._curInst===te&&this._hideDatepicker(),q=this._getDateDatepicker(E,!0),Q=this._getMinMaxDate(te,"min"),ee=this._getMinMaxDate(te,"max"),datepicker_extendRemove(te.settings,z),null!==Q&&void 0!==z.dateFormat&&void 0===z.minDate&&(te.settings.minDate=this._formatDate(te,Q)),null!==ee&&void 0!==z.dateFormat&&void 0===z.maxDate&&(te.settings.maxDate=this._formatDate(te,ee)),"disabled"in z&&(z.disabled?this._disableDatepicker(E):this._enableDatepicker(E)),this._attachments(C(E),te),this._autoSize(te),this._setDate(te,q),this._updateAlternate(te),this._updateDatepicker(te))},_changeDatepicker:function(C,E,I){this._optionDatepicker(C,E,I)},_refreshDatepicker:function(C){var E=this._getInst(C);E&&this._updateDatepicker(E)},_setDateDatepicker:function(C,E){var I=this._getInst(C);I&&(this._setDate(I,E),this._updateDatepicker(I),this._updateAlternate(I))},_getDateDatepicker:function(C,E){var I=this._getInst(C);return I&&!I.inline&&this._setDateFromField(I,E),I?this._getDate(I):null},_doKeyDown:function(E){var I,B,z,q=C.datepicker._getInst(E.target),Q=!0,ee=q.dpDiv.is(".ui-datepicker-rtl");if(q._keyEvent=!0,C.datepicker._datepickerShowing)switch(E.keyCode){case 9:C.datepicker._hideDatepicker(),Q=!1;break;case 13:return(z=C("td."+C.datepicker._dayOverClass+":not(."+C.datepicker._currentClass+")",q.dpDiv))[0]&&C.datepicker._selectDay(E.target,q.selectedMonth,q.selectedYear,z[0]),(I=C.datepicker._get(q,"onSelect"))?(B=C.datepicker._formatDate(q),I.apply(q.input?q.input[0]:null,[B,q])):C.datepicker._hideDatepicker(),!1;case 27:C.datepicker._hideDatepicker();break;case 33:C.datepicker._adjustDate(E.target,E.ctrlKey?-C.datepicker._get(q,"stepBigMonths"):-C.datepicker._get(q,"stepMonths"),"M");break;case 34:C.datepicker._adjustDate(E.target,E.ctrlKey?+C.datepicker._get(q,"stepBigMonths"):+C.datepicker._get(q,"stepMonths"),"M");break;case 35:(E.ctrlKey||E.metaKey)&&C.datepicker._clearDate(E.target),Q=E.ctrlKey||E.metaKey;break;case 36:(E.ctrlKey||E.metaKey)&&C.datepicker._gotoToday(E.target),Q=E.ctrlKey||E.metaKey;break;case 37:(E.ctrlKey||E.metaKey)&&C.datepicker._adjustDate(E.target,ee?1:-1,"D"),Q=E.ctrlKey||E.metaKey,E.originalEvent.altKey&&C.datepicker._adjustDate(E.target,E.ctrlKey?-C.datepicker._get(q,"stepBigMonths"):-C.datepicker._get(q,"stepMonths"),"M");break;case 38:(E.ctrlKey||E.metaKey)&&C.datepicker._adjustDate(E.target,-7,"D"),Q=E.ctrlKey||E.metaKey;break;case 39:(E.ctrlKey||E.metaKey)&&C.datepicker._adjustDate(E.target,ee?-1:1,"D"),Q=E.ctrlKey||E.metaKey,E.originalEvent.altKey&&C.datepicker._adjustDate(E.target,E.ctrlKey?+C.datepicker._get(q,"stepBigMonths"):+C.datepicker._get(q,"stepMonths"),"M");break;case 40:(E.ctrlKey||E.metaKey)&&C.datepicker._adjustDate(E.target,7,"D"),Q=E.ctrlKey||E.metaKey;break;default:Q=!1}else 36===E.keyCode&&E.ctrlKey?C.datepicker._showDatepicker(this):Q=!1;Q&&(E.preventDefault(),E.stopPropagation())},_doKeyPress:function(E){var I,B,z=C.datepicker._getInst(E.target);if(C.datepicker._get(z,"constrainInput"))return I=C.datepicker._possibleChars(C.datepicker._get(z,"dateFormat")),B=String.fromCharCode(null==E.charCode?E.keyCode:E.charCode),E.ctrlKey||E.metaKey||B<" "||!I||I.indexOf(B)>-1},_doKeyUp:function(E){var I=C.datepicker._getInst(E.target);if(I.input.val()!==I.lastVal)try{C.datepicker.parseDate(C.datepicker._get(I,"dateFormat"),I.input?I.input.val():null,C.datepicker._getFormatConfig(I))&&(C.datepicker._setDateFromField(I),C.datepicker._updateAlternate(I),C.datepicker._updateDatepicker(I))}catch(C){}return!0},_showDatepicker:function(E){var I,B,z,q,Q,ee,te;("input"!==(E=E.target||E).nodeName.toLowerCase()&&(E=C("input",E.parentNode)[0]),C.datepicker._isDisabledDatepicker(E)||C.datepicker._lastInput===E)||(I=C.datepicker._getInst(E),C.datepicker._curInst&&C.datepicker._curInst!==I&&(C.datepicker._curInst.dpDiv.stop(!0,!0),I&&C.datepicker._datepickerShowing&&C.datepicker._hideDatepicker(C.datepicker._curInst.input[0])),!1!==(z=(B=C.datepicker._get(I,"beforeShow"))?B.apply(E,[E,I]):{})&&(datepicker_extendRemove(I.settings,z),I.lastVal=null,C.datepicker._lastInput=E,C.datepicker._setDateFromField(I),C.datepicker._inDialog&&(E.value=""),C.datepicker._pos||(C.datepicker._pos=C.datepicker._findPos(E),C.datepicker._pos[1]+=E.offsetHeight),q=!1,C(E).parents().each((function(){return!(q|="fixed"===C(this).css("position"))})),Q={left:C.datepicker._pos[0],top:C.datepicker._pos[1]},C.datepicker._pos=null,I.dpDiv.empty(),I.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),C.datepicker._updateDatepicker(I),Q=C.datepicker._checkOffset(I,Q,q),I.dpDiv.css({position:C.datepicker._inDialog&&C.blockUI?"static":q?"fixed":"absolute",display:"none",left:Q.left+"px",top:Q.top+"px"}),I.inline||(ee=C.datepicker._get(I,"showAnim"),te=C.datepicker._get(I,"duration"),I.dpDiv.css("z-index",datepicker_getZindex(C(E))+1),C.datepicker._datepickerShowing=!0,C.effects&&C.effects.effect[ee]?I.dpDiv.show(ee,C.datepicker._get(I,"showOptions"),te):I.dpDiv[ee||"show"](ee?te:null),C.datepicker._shouldFocusInput(I)&&I.input.trigger("focus"),C.datepicker._curInst=I)))},_updateDatepicker:function(E){this.maxRows=4,be=E,E.dpDiv.empty().append(this._generateHTML(E)),this._attachHandlers(E);var I,B=this._getNumberOfMonths(E),z=B[1],q=17,Q=E.dpDiv.find("."+this._dayOverClass+" a"),ee=C.datepicker._get(E,"onUpdateDatepicker");Q.length>0&&datepicker_handleMouseover.apply(Q.get(0)),E.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),z>1&&E.dpDiv.addClass("ui-datepicker-multi-"+z).css("width",q*z+"em"),E.dpDiv[(1!==B[0]||1!==B[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),E.dpDiv[(this._get(E,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),E===C.datepicker._curInst&&C.datepicker._datepickerShowing&&C.datepicker._shouldFocusInput(E)&&E.input.trigger("focus"),E.yearshtml&&(I=E.yearshtml,setTimeout((function(){I===E.yearshtml&&E.yearshtml&&E.dpDiv.find("select.ui-datepicker-year").first().replaceWith(E.yearshtml),I=E.yearshtml=null}),0)),ee&&ee.apply(E.input?E.input[0]:null,[E])},_shouldFocusInput:function(C){return C.input&&C.input.is(":visible")&&!C.input.is(":disabled")&&!C.input.is(":focus")},_checkOffset:function(E,I,B){var z=E.dpDiv.outerWidth(),q=E.dpDiv.outerHeight(),Q=E.input?E.input.outerWidth():0,ee=E.input?E.input.outerHeight():0,te=document.documentElement.clientWidth+(B?0:C(document).scrollLeft()),ie=document.documentElement.clientHeight+(B?0:C(document).scrollTop());return I.left-=this._get(E,"isRTL")?z-Q:0,I.left-=B&&I.left===E.input.offset().left?C(document).scrollLeft():0,I.top-=B&&I.top===E.input.offset().top+ee?C(document).scrollTop():0,I.left-=Math.min(I.left,I.left+z>te&&te>z?Math.abs(I.left+z-te):0),I.top-=Math.min(I.top,I.top+q>ie&&ie>q?Math.abs(q+ee):0),I},_findPos:function(E){for(var I,B=this._getInst(E),z=this._get(B,"isRTL");E&&("hidden"===E.type||1!==E.nodeType||C.expr.pseudos.hidden(E));)E=E[z?"previousSibling":"nextSibling"];return[(I=C(E).offset()).left,I.top]},_hideDatepicker:function(E){var I,B,z,q,Q=this._curInst;!Q||E&&Q!==C.data(E,"datepicker")||this._datepickerShowing&&(I=this._get(Q,"showAnim"),B=this._get(Q,"duration"),z=function(){C.datepicker._tidyDialog(Q)},C.effects&&(C.effects.effect[I]||C.effects[I])?Q.dpDiv.hide(I,C.datepicker._get(Q,"showOptions"),B,z):Q.dpDiv["slideDown"===I?"slideUp":"fadeIn"===I?"fadeOut":"hide"](I?B:null,z),I||z(),this._datepickerShowing=!1,(q=this._get(Q,"onClose"))&&q.apply(Q.input?Q.input[0]:null,[Q.input?Q.input.val():"",Q]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),C.blockUI&&(C.unblockUI(),C("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(C){C.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(E){if(C.datepicker._curInst){var I=C(E.target),B=C.datepicker._getInst(I[0]);(I[0].id===C.datepicker._mainDivId||0!==I.parents("#"+C.datepicker._mainDivId).length||I.hasClass(C.datepicker.markerClassName)||I.closest("."+C.datepicker._triggerClass).length||!C.datepicker._datepickerShowing||C.datepicker._inDialog&&C.blockUI)&&(!I.hasClass(C.datepicker.markerClassName)||C.datepicker._curInst===B)||C.datepicker._hideDatepicker()}},_adjustDate:function(E,I,B){var z=C(E),q=this._getInst(z[0]);this._isDisabledDatepicker(z[0])||(this._adjustInstDate(q,I,B),this._updateDatepicker(q))},_gotoToday:function(E){var I,B=C(E),z=this._getInst(B[0]);this._get(z,"gotoCurrent")&&z.currentDay?(z.selectedDay=z.currentDay,z.drawMonth=z.selectedMonth=z.currentMonth,z.drawYear=z.selectedYear=z.currentYear):(I=new Date,z.selectedDay=I.getDate(),z.drawMonth=z.selectedMonth=I.getMonth(),z.drawYear=z.selectedYear=I.getFullYear()),this._notifyChange(z),this._adjustDate(B)},_selectMonthYear:function(E,I,B){var z=C(E),q=this._getInst(z[0]);q["selected"+("M"===B?"Month":"Year")]=q["draw"+("M"===B?"Month":"Year")]=parseInt(I.options[I.selectedIndex].value,10),this._notifyChange(q),this._adjustDate(z)},_selectDay:function(E,I,B,z){var q,Q=C(E);C(z).hasClass(this._unselectableClass)||this._isDisabledDatepicker(Q[0])||((q=this._getInst(Q[0])).selectedDay=q.currentDay=parseInt(C("a",z).attr("data-date")),q.selectedMonth=q.currentMonth=I,q.selectedYear=q.currentYear=B,this._selectDate(E,this._formatDate(q,q.currentDay,q.currentMonth,q.currentYear)))},_clearDate:function(E){var I=C(E);this._selectDate(I,"")},_selectDate:function(E,I){var B,z=C(E),q=this._getInst(z[0]);I=null!=I?I:this._formatDate(q),q.input&&q.input.val(I),this._updateAlternate(q),(B=this._get(q,"onSelect"))?B.apply(q.input?q.input[0]:null,[I,q]):q.input&&q.input.trigger("change"),q.inline?this._updateDatepicker(q):(this._hideDatepicker(),this._lastInput=q.input[0],"object"!=typeof q.input[0]&&q.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(E){var I,B,z,q=this._get(E,"altField");q&&(I=this._get(E,"altFormat")||this._get(E,"dateFormat"),B=this._getDate(E),z=this.formatDate(I,B,this._getFormatConfig(E)),C(document).find(q).val(z))},noWeekends:function(C){var E=C.getDay();return[E>0&&E<6,""]},iso8601Week:function(C){var E,I=new Date(C.getTime());return I.setDate(I.getDate()+4-(I.getDay()||7)),E=I.getTime(),I.setMonth(0),I.setDate(1),Math.floor(Math.round((E-I)/864e5)/7)+1},parseDate:function(E,I,B){if(null==E||null==I)throw"Invalid arguments";if(""===(I="object"==typeof I?I.toString():I+""))return null;var z,q,Q,ee,te=0,ie=(B?B.shortYearCutoff:null)||this._defaults.shortYearCutoff,re="string"!=typeof ie?ie:(new Date).getFullYear()%100+parseInt(ie,10),ne=(B?B.dayNamesShort:null)||this._defaults.dayNamesShort,se=(B?B.dayNames:null)||this._defaults.dayNames,oe=(B?B.monthNamesShort:null)||this._defaults.monthNamesShort,ae=(B?B.monthNames:null)||this._defaults.monthNames,le=-1,ue=-1,de=-1,ce=-1,he=!1,lookAhead=function(C){var I=z+1<E.length&&E.charAt(z+1)===C;return I&&z++,I},getNumber=function(C){var E=lookAhead(C),B="@"===C?14:"!"===C?20:"y"===C&&E?4:"o"===C?3:2,z=new RegExp("^\\d{"+("y"===C?B:1)+","+B+"}"),q=I.substring(te).match(z);if(!q)throw"Missing number at position "+te;return te+=q[0].length,parseInt(q[0],10)},getName=function(E,B,z){var q=-1,Q=C.map(lookAhead(E)?z:B,(function(C,E){return[[E,C]]})).sort((function(C,E){return-(C[1].length-E[1].length)}));if(C.each(Q,(function(C,E){var B=E[1];if(I.substr(te,B.length).toLowerCase()===B.toLowerCase())return q=E[0],te+=B.length,!1})),-1!==q)return q+1;throw"Unknown name at position "+te},checkLiteral=function(){if(I.charAt(te)!==E.charAt(z))throw"Unexpected literal at position "+te;te++};for(z=0;z<E.length;z++)if(he)"'"!==E.charAt(z)||lookAhead("'")?checkLiteral():he=!1;else switch(E.charAt(z)){case"d":de=getNumber("d");break;case"D":getName("D",ne,se);break;case"o":ce=getNumber("o");break;case"m":ue=getNumber("m");break;case"M":ue=getName("M",oe,ae);break;case"y":le=getNumber("y");break;case"@":le=(ee=new Date(getNumber("@"))).getFullYear(),ue=ee.getMonth()+1,de=ee.getDate();break;case"!":le=(ee=new Date((getNumber("!")-this._ticksTo1970)/1e4)).getFullYear(),ue=ee.getMonth()+1,de=ee.getDate();break;case"'":lookAhead("'")?checkLiteral():he=!0;break;default:checkLiteral()}if(te<I.length&&(Q=I.substr(te),!/^\s+/.test(Q)))throw"Extra/unparsed characters found in date: "+Q;if(-1===le?le=(new Date).getFullYear():le<100&&(le+=(new Date).getFullYear()-(new Date).getFullYear()%100+(le<=re?0:-100)),ce>-1)for(ue=1,de=ce;;){if(de<=(q=this._getDaysInMonth(le,ue-1)))break;ue++,de-=q}if((ee=this._daylightSavingAdjust(new Date(le,ue-1,de))).getFullYear()!==le||ee.getMonth()+1!==ue||ee.getDate()!==de)throw"Invalid date";return ee},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(C,E,I){if(!E)return"";var B,z=(I?I.dayNamesShort:null)||this._defaults.dayNamesShort,q=(I?I.dayNames:null)||this._defaults.dayNames,Q=(I?I.monthNamesShort:null)||this._defaults.monthNamesShort,ee=(I?I.monthNames:null)||this._defaults.monthNames,lookAhead=function(E){var I=B+1<C.length&&C.charAt(B+1)===E;return I&&B++,I},formatNumber=function(C,E,I){var B=""+E;if(lookAhead(C))for(;B.length<I;)B="0"+B;return B},formatName=function(C,E,I,B){return lookAhead(C)?B[E]:I[E]},te="",ie=!1;if(E)for(B=0;B<C.length;B++)if(ie)"'"!==C.charAt(B)||lookAhead("'")?te+=C.charAt(B):ie=!1;else switch(C.charAt(B)){case"d":te+=formatNumber("d",E.getDate(),2);break;case"D":te+=formatName("D",E.getDay(),z,q);break;case"o":te+=formatNumber("o",Math.round((new Date(E.getFullYear(),E.getMonth(),E.getDate()).getTime()-new Date(E.getFullYear(),0,0).getTime())/864e5),3);break;case"m":te+=formatNumber("m",E.getMonth()+1,2);break;case"M":te+=formatName("M",E.getMonth(),Q,ee);break;case"y":te+=lookAhead("y")?E.getFullYear():(E.getFullYear()%100<10?"0":"")+E.getFullYear()%100;break;case"@":te+=E.getTime();break;case"!":te+=1e4*E.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?te+="'":ie=!0;break;default:te+=C.charAt(B)}return te},_possibleChars:function(C){var E,I="",B=!1,lookAhead=function(I){var B=E+1<C.length&&C.charAt(E+1)===I;return B&&E++,B};for(E=0;E<C.length;E++)if(B)"'"!==C.charAt(E)||lookAhead("'")?I+=C.charAt(E):B=!1;else switch(C.charAt(E)){case"d":case"m":case"y":case"@":I+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?I+="'":B=!0;break;default:I+=C.charAt(E)}return I},_get:function(C,E){return void 0!==C.settings[E]?C.settings[E]:this._defaults[E]},_setDateFromField:function(C,E){if(C.input.val()!==C.lastVal){var I=this._get(C,"dateFormat"),B=C.lastVal=C.input?C.input.val():null,z=this._getDefaultDate(C),q=z,Q=this._getFormatConfig(C);try{q=this.parseDate(I,B,Q)||z}catch(C){B=E?"":B}C.selectedDay=q.getDate(),C.drawMonth=C.selectedMonth=q.getMonth(),C.drawYear=C.selectedYear=q.getFullYear(),C.currentDay=B?q.getDate():0,C.currentMonth=B?q.getMonth():0,C.currentYear=B?q.getFullYear():0,this._adjustInstDate(C)}},_getDefaultDate:function(C){return this._restrictMinMax(C,this._determineDate(C,this._get(C,"defaultDate"),new Date))},_determineDate:function(E,I,B){var offsetNumeric=function(C){var E=new Date;return E.setDate(E.getDate()+C),E},offsetString=function(I){try{return C.datepicker.parseDate(C.datepicker._get(E,"dateFormat"),I,C.datepicker._getFormatConfig(E))}catch(C){}for(var B=(I.toLowerCase().match(/^c/)?C.datepicker._getDate(E):null)||new Date,z=B.getFullYear(),q=B.getMonth(),Q=B.getDate(),ee=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,te=ee.exec(I);te;){switch(te[2]||"d"){case"d":case"D":Q+=parseInt(te[1],10);break;case"w":case"W":Q+=7*parseInt(te[1],10);break;case"m":case"M":q+=parseInt(te[1],10),Q=Math.min(Q,C.datepicker._getDaysInMonth(z,q));break;case"y":case"Y":z+=parseInt(te[1],10),Q=Math.min(Q,C.datepicker._getDaysInMonth(z,q))}te=ee.exec(I)}return new Date(z,q,Q)},z=null==I||""===I?B:"string"==typeof I?offsetString(I):"number"==typeof I?isNaN(I)?B:offsetNumeric(I):new Date(I.getTime());return(z=z&&"Invalid Date"===z.toString()?B:z)&&(z.setHours(0),z.setMinutes(0),z.setSeconds(0),z.setMilliseconds(0)),this._daylightSavingAdjust(z)},_daylightSavingAdjust:function(C){return C?(C.setHours(C.getHours()>12?C.getHours()+2:0),C):null},_setDate:function(C,E,I){var B=!E,z=C.selectedMonth,q=C.selectedYear,Q=this._restrictMinMax(C,this._determineDate(C,E,new Date));C.selectedDay=C.currentDay=Q.getDate(),C.drawMonth=C.selectedMonth=C.currentMonth=Q.getMonth(),C.drawYear=C.selectedYear=C.currentYear=Q.getFullYear(),z===C.selectedMonth&&q===C.selectedYear||I||this._notifyChange(C),this._adjustInstDate(C),C.input&&C.input.val(B?"":this._formatDate(C))},_getDate:function(C){return!C.currentYear||C.input&&""===C.input.val()?null:this._daylightSavingAdjust(new Date(C.currentYear,C.currentMonth,C.currentDay))},_attachHandlers:function(E){var I=this._get(E,"stepMonths"),B="#"+E.id.replace(/\\\\/g,"\\");E.dpDiv.find("[data-handler]").map((function(){var E={prev:function(){C.datepicker._adjustDate(B,-I,"M")},next:function(){C.datepicker._adjustDate(B,+I,"M")},hide:function(){C.datepicker._hideDatepicker()},today:function(){C.datepicker._gotoToday(B)},selectDay:function(){return C.datepicker._selectDay(B,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return C.datepicker._selectMonthYear(B,this,"M"),!1},selectYear:function(){return C.datepicker._selectMonthYear(B,this,"Y"),!1}};C(this).on(this.getAttribute("data-event"),E[this.getAttribute("data-handler")])}))},_generateHTML:function(E){var I,B,z,q,Q,ee,te,ie,re,ne,se,oe,ae,le,ue,de,ce,he,fe,pe,me,ge,ve,ye,be,Ce,we,_e,Se,xe,ke,Te,Me,Re,Ee,Pe,Ie,Ae,Ne,De=new Date,Be=this._daylightSavingAdjust(new Date(De.getFullYear(),De.getMonth(),De.getDate())),Fe=this._get(E,"isRTL"),Oe=this._get(E,"showButtonPanel"),Le=this._get(E,"hideIfNoPrevNext"),$e=this._get(E,"navigationAsDateFormat"),je=this._getNumberOfMonths(E),Ve=this._get(E,"showCurrentAtPos"),He=this._get(E,"stepMonths"),Ge=1!==je[0]||1!==je[1],Ue=this._daylightSavingAdjust(E.currentDay?new Date(E.currentYear,E.currentMonth,E.currentDay):new Date(9999,9,9)),ze=this._getMinMaxDate(E,"min"),qe=this._getMinMaxDate(E,"max"),We=E.drawMonth-Ve,Ke=E.drawYear;if(We<0&&(We+=12,Ke--),qe)for(I=this._daylightSavingAdjust(new Date(qe.getFullYear(),qe.getMonth()-je[0]*je[1]+1,qe.getDate())),I=ze&&I<ze?ze:I;this._daylightSavingAdjust(new Date(Ke,We,1))>I;)--We<0&&(We=11,Ke--);for(E.drawMonth=We,E.drawYear=Ke,B=this._get(E,"prevText"),B=$e?this.formatDate(B,this._daylightSavingAdjust(new Date(Ke,We-He,1)),this._getFormatConfig(E)):B,z=this._canAdjustMonth(E,-1,Ke,We)?C("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:B}).append(C("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Fe?"e":"w")).text(B))[0].outerHTML:Le?"":C("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:B}).append(C("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Fe?"e":"w")).text(B))[0].outerHTML,q=this._get(E,"nextText"),q=$e?this.formatDate(q,this._daylightSavingAdjust(new Date(Ke,We+He,1)),this._getFormatConfig(E)):q,Q=this._canAdjustMonth(E,1,Ke,We)?C("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:q}).append(C("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(Fe?"w":"e")).text(q))[0].outerHTML:Le?"":C("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:q}).append(C("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(Fe?"w":"e")).text(q))[0].outerHTML,ee=this._get(E,"currentText"),te=this._get(E,"gotoCurrent")&&E.currentDay?Ue:Be,ee=$e?this.formatDate(ee,te,this._getFormatConfig(E)):ee,ie="",E.inline||(ie=C("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(E,"closeText"))[0].outerHTML),re="",Oe&&(re=C("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(Fe?ie:"").append(this._isInRange(E,te)?C("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(ee):"").append(Fe?"":ie)[0].outerHTML),ne=parseInt(this._get(E,"firstDay"),10),ne=isNaN(ne)?0:ne,se=this._get(E,"showWeek"),oe=this._get(E,"dayNames"),ae=this._get(E,"dayNamesMin"),le=this._get(E,"monthNames"),ue=this._get(E,"monthNamesShort"),de=this._get(E,"beforeShowDay"),ce=this._get(E,"showOtherMonths"),he=this._get(E,"selectOtherMonths"),fe=this._getDefaultDate(E),pe="",ge=0;ge<je[0];ge++){for(ve="",this.maxRows=4,ye=0;ye<je[1];ye++){if(be=this._daylightSavingAdjust(new Date(Ke,We,E.selectedDay)),Ce=" ui-corner-all",we="",Ge){if(we+="<div class='ui-datepicker-group",je[1]>1)switch(ye){case 0:we+=" ui-datepicker-group-first",Ce=" ui-corner-"+(Fe?"right":"left");break;case je[1]-1:we+=" ui-datepicker-group-last",Ce=" ui-corner-"+(Fe?"left":"right");break;default:we+=" ui-datepicker-group-middle",Ce=""}we+="'>"}for(we+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Ce+"'>"+(/all|left/.test(Ce)&&0===ge?Fe?Q:z:"")+(/all|right/.test(Ce)&&0===ge?Fe?z:Q:"")+this._generateMonthYearHeader(E,We,Ke,ze,qe,ge>0||ye>0,le,ue)+"</div><table class='ui-datepicker-calendar'><thead><tr>",_e=se?"<th class='ui-datepicker-week-col'>"+this._get(E,"weekHeader")+"</th>":"",me=0;me<7;me++)_e+="<th scope='col'"+((me+ne+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+oe[Se=(me+ne)%7]+"'>"+ae[Se]+"</span></th>";for(we+=_e+"</tr></thead><tbody>",xe=this._getDaysInMonth(Ke,We),Ke===E.selectedYear&&We===E.selectedMonth&&(E.selectedDay=Math.min(E.selectedDay,xe)),ke=(this._getFirstDayOfMonth(Ke,We)-ne+7)%7,Te=Math.ceil((ke+xe)/7),Me=Ge&&this.maxRows>Te?this.maxRows:Te,this.maxRows=Me,Re=this._daylightSavingAdjust(new Date(Ke,We,1-ke)),Ee=0;Ee<Me;Ee++){for(we+="<tr>",Pe=se?"<td class='ui-datepicker-week-col'>"+this._get(E,"calculateWeek")(Re)+"</td>":"",me=0;me<7;me++)Ie=de?de.apply(E.input?E.input[0]:null,[Re]):[!0,""],Ne=(Ae=Re.getMonth()!==We)&&!he||!Ie[0]||ze&&Re<ze||qe&&Re>qe,Pe+="<td class='"+((me+ne+6)%7>=5?" ui-datepicker-week-end":"")+(Ae?" ui-datepicker-other-month":"")+(Re.getTime()===be.getTime()&&We===E.selectedMonth&&E._keyEvent||fe.getTime()===Re.getTime()&&fe.getTime()===be.getTime()?" "+this._dayOverClass:"")+(Ne?" "+this._unselectableClass+" ui-state-disabled":"")+(Ae&&!ce?"":" "+Ie[1]+(Re.getTime()===Ue.getTime()?" "+this._currentClass:"")+(Re.getTime()===Be.getTime()?" ui-datepicker-today":""))+"'"+(Ae&&!ce||!Ie[2]?"":" title='"+Ie[2].replace(/'/g,"&#39;")+"'")+(Ne?"":" data-handler='selectDay' data-event='click' data-month='"+Re.getMonth()+"' data-year='"+Re.getFullYear()+"'")+">"+(Ae&&!ce?"&#xa0;":Ne?"<span class='ui-state-default'>"+Re.getDate()+"</span>":"<a class='ui-state-default"+(Re.getTime()===Be.getTime()?" ui-state-highlight":"")+(Re.getTime()===Ue.getTime()?" ui-state-active":"")+(Ae?" ui-priority-secondary":"")+"' href='#' aria-current='"+(Re.getTime()===Ue.getTime()?"true":"false")+"' data-date='"+Re.getDate()+"'>"+Re.getDate()+"</a>")+"</td>",Re.setDate(Re.getDate()+1),Re=this._daylightSavingAdjust(Re);we+=Pe+"</tr>"}++We>11&&(We=0,Ke++),ve+=we+="</tbody></table>"+(Ge?"</div>"+(je[0]>0&&ye===je[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}pe+=ve}return pe+=re,E._keyEvent=!1,pe},_generateMonthYearHeader:function(C,E,I,B,z,q,Q,ee){var te,ie,re,ne,se,oe,ae,le,ue=this._get(C,"changeMonth"),de=this._get(C,"changeYear"),ce=this._get(C,"showMonthAfterYear"),he=this._get(C,"selectMonthLabel"),fe=this._get(C,"selectYearLabel"),pe="<div class='ui-datepicker-title'>",me="";if(q||!ue)me+="<span class='ui-datepicker-month'>"+Q[E]+"</span>";else{for(te=B&&B.getFullYear()===I,ie=z&&z.getFullYear()===I,me+="<select class='ui-datepicker-month' aria-label='"+he+"' data-handler='selectMonth' data-event='change'>",re=0;re<12;re++)(!te||re>=B.getMonth())&&(!ie||re<=z.getMonth())&&(me+="<option value='"+re+"'"+(re===E?" selected='selected'":"")+">"+ee[re]+"</option>");me+="</select>"}if(ce||(pe+=me+(!q&&ue&&de?"":"&#xa0;")),!C.yearshtml)if(C.yearshtml="",q||!de)pe+="<span class='ui-datepicker-year'>"+I+"</span>";else{for(ne=this._get(C,"yearRange").split(":"),se=(new Date).getFullYear(),oe=function(C){var E=C.match(/c[+\-].*/)?I+parseInt(C.substring(1),10):C.match(/[+\-].*/)?se+parseInt(C,10):parseInt(C,10);return isNaN(E)?se:E},ae=oe(ne[0]),le=Math.max(ae,oe(ne[1]||"")),ae=B?Math.max(ae,B.getFullYear()):ae,le=z?Math.min(le,z.getFullYear()):le,C.yearshtml+="<select class='ui-datepicker-year' aria-label='"+fe+"' data-handler='selectYear' data-event='change'>";ae<=le;ae++)C.yearshtml+="<option value='"+ae+"'"+(ae===I?" selected='selected'":"")+">"+ae+"</option>";C.yearshtml+="</select>",pe+=C.yearshtml,C.yearshtml=null}return pe+=this._get(C,"yearSuffix"),ce&&(pe+=(!q&&ue&&de?"":"&#xa0;")+me),pe+="</div>"},_adjustInstDate:function(C,E,I){var B=C.selectedYear+("Y"===I?E:0),z=C.selectedMonth+("M"===I?E:0),q=Math.min(C.selectedDay,this._getDaysInMonth(B,z))+("D"===I?E:0),Q=this._restrictMinMax(C,this._daylightSavingAdjust(new Date(B,z,q)));C.selectedDay=Q.getDate(),C.drawMonth=C.selectedMonth=Q.getMonth(),C.drawYear=C.selectedYear=Q.getFullYear(),"M"!==I&&"Y"!==I||this._notifyChange(C)},_restrictMinMax:function(C,E){var I=this._getMinMaxDate(C,"min"),B=this._getMinMaxDate(C,"max"),z=I&&E<I?I:E;return B&&z>B?B:z},_notifyChange:function(C){var E=this._get(C,"onChangeMonthYear");E&&E.apply(C.input?C.input[0]:null,[C.selectedYear,C.selectedMonth+1,C])},_getNumberOfMonths:function(C){var E=this._get(C,"numberOfMonths");return null==E?[1,1]:"number"==typeof E?[1,E]:E},_getMinMaxDate:function(C,E){return this._determineDate(C,this._get(C,E+"Date"),null)},_getDaysInMonth:function(C,E){return 32-this._daylightSavingAdjust(new Date(C,E,32)).getDate()},_getFirstDayOfMonth:function(C,E){return new Date(C,E,1).getDay()},_canAdjustMonth:function(C,E,I,B){var z=this._getNumberOfMonths(C),q=this._daylightSavingAdjust(new Date(I,B+(E<0?E:z[0]*z[1]),1));return E<0&&q.setDate(this._getDaysInMonth(q.getFullYear(),q.getMonth())),this._isInRange(C,q)},_isInRange:function(C,E){var I,B,z=this._getMinMaxDate(C,"min"),q=this._getMinMaxDate(C,"max"),Q=null,ee=null,te=this._get(C,"yearRange");return te&&(I=te.split(":"),B=(new Date).getFullYear(),Q=parseInt(I[0],10),ee=parseInt(I[1],10),I[0].match(/[+\-].*/)&&(Q+=B),I[1].match(/[+\-].*/)&&(ee+=B)),(!z||E.getTime()>=z.getTime())&&(!q||E.getTime()<=q.getTime())&&(!Q||E.getFullYear()>=Q)&&(!ee||E.getFullYear()<=ee)},_getFormatConfig:function(C){var E=this._get(C,"shortYearCutoff");return{shortYearCutoff:E="string"!=typeof E?E:(new Date).getFullYear()%100+parseInt(E,10),dayNamesShort:this._get(C,"dayNamesShort"),dayNames:this._get(C,"dayNames"),monthNamesShort:this._get(C,"monthNamesShort"),monthNames:this._get(C,"monthNames")}},_formatDate:function(C,E,I,B){E||(C.currentDay=C.selectedDay,C.currentMonth=C.selectedMonth,C.currentYear=C.selectedYear);var z=E?"object"==typeof E?E:this._daylightSavingAdjust(new Date(B,I,E)):this._daylightSavingAdjust(new Date(C.currentYear,C.currentMonth,C.currentDay));return this.formatDate(this._get(C,"dateFormat"),z,this._getFormatConfig(C))}}),C.fn.datepicker=function(E){if(!this.length)return this;C.datepicker.initialized||(C(document).on("mousedown",C.datepicker._checkExternalClick),C.datepicker.initialized=!0),0===C("#"+C.datepicker._mainDivId).length&&C("body").append(C.datepicker.dpDiv);var I=Array.prototype.slice.call(arguments,1);return"string"!=typeof E||"isDisabled"!==E&&"getDate"!==E&&"widget"!==E?"option"===E&&2===arguments.length&&"string"==typeof arguments[1]?C.datepicker["_"+E+"Datepicker"].apply(C.datepicker,[this[0]].concat(I)):this.each((function(){"string"==typeof E?C.datepicker["_"+E+"Datepicker"].apply(C.datepicker,[this].concat(I)):C.datepicker._attachDatepicker(this,E)})):C.datepicker["_"+E+"Datepicker"].apply(C.datepicker,[this[0]].concat(I))},C.datepicker=new Datepicker,C.datepicker.initialized=!1,C.datepicker.uuid=(new Date).getTime(),C.datepicker.version="1.13.2";C.datepicker,C.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var Ce=!1;C(document).on("mouseup",(function(){Ce=!1}));C.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var E=this;this.element.on("mousedown."+this.widgetName,(function(C){return E._mouseDown(C)})).on("click."+this.widgetName,(function(I){if(!0===C.data(I.target,E.widgetName+".preventClickEvent"))return C.removeData(I.target,E.widgetName+".preventClickEvent"),I.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(E){if(!Ce){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(E),this._mouseDownEvent=E;var I=this,B=1===E.which,z=!("string"!=typeof this.options.cancel||!E.target.nodeName)&&C(E.target).closest(this.options.cancel).length;return!(B&&!z&&this._mouseCapture(E))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){I.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(E)&&this._mouseDelayMet(E)&&(this._mouseStarted=!1!==this._mouseStart(E),!this._mouseStarted)?(E.preventDefault(),!0):(!0===C.data(E.target,this.widgetName+".preventClickEvent")&&C.removeData(E.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(C){return I._mouseMove(C)},this._mouseUpDelegate=function(C){return I._mouseUp(C)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),E.preventDefault(),Ce=!0,!0))}},_mouseMove:function(E){if(this._mouseMoved){if(C.ui.ie&&(!document.documentMode||document.documentMode<9)&&!E.button)return this._mouseUp(E);if(!E.which)if(E.originalEvent.altKey||E.originalEvent.ctrlKey||E.originalEvent.metaKey||E.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(E)}return(E.which||E.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(E),E.preventDefault()):(this._mouseDistanceMet(E)&&this._mouseDelayMet(E)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,E),this._mouseStarted?this._mouseDrag(E):this._mouseUp(E)),!this._mouseStarted)},_mouseUp:function(E){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,E.target===this._mouseDownEvent.target&&C.data(E.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(E)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,Ce=!1,E.preventDefault()},_mouseDistanceMet:function(C){return Math.max(Math.abs(this._mouseDownEvent.pageX-C.pageX),Math.abs(this._mouseDownEvent.pageY-C.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),C.ui.plugin={add:function(E,I,B){var z,q=C.ui[E].prototype;for(z in B)q.plugins[z]=q.plugins[z]||[],q.plugins[z].push([I,B[z]])},call:function(C,E,I,B){var z,q=C.plugins[E];if(q&&(B||C.element[0].parentNode&&11!==C.element[0].parentNode.nodeType))for(z=0;z<q.length;z++)C.options[q[z][0]]&&q[z][1].apply(C.element,I)}},C.ui.safeBlur=function(E){E&&"body"!==E.nodeName.toLowerCase()&&C(E).trigger("blur")};C.widget("ui.draggable",C.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(C,E){this._super(C,E),"handle"===C&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(E){var I=this.options;return!(this.helper||I.disabled||C(E.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(E),!!this.handle&&(this._blurActiveElement(E),this._blockFrames(!0===I.iframeFix?"iframe":I.iframeFix),!0))},_blockFrames:function(E){this.iframeBlocks=this.document.find(E).map((function(){var E=C(this);return C("<div>").css("position","absolute").appendTo(E.parent()).outerWidth(E.outerWidth()).outerHeight(E.outerHeight()).offset(E.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(E){var I=C.ui.safeActiveElement(this.document[0]);C(E.target).closest(I).length||C.ui.safeBlur(I)},_mouseStart:function(E){var I=this.options;return this.helper=this._createHelper(E),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),C.ui.ddmanager&&(C.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===C(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(E),this.originalPosition=this.position=this._generatePosition(E,!1),this.originalPageX=E.pageX,this.originalPageY=E.pageY,I.cursorAt&&this._adjustOffsetFromHelper(I.cursorAt),this._setContainment(),!1===this._trigger("start",E)?(this._clear(),!1):(this._cacheHelperProportions(),C.ui.ddmanager&&!I.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,E),this._mouseDrag(E,!0),C.ui.ddmanager&&C.ui.ddmanager.dragStart(this,E),!0)},_refreshOffsets:function(C){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:C.pageX-this.offset.left,top:C.pageY-this.offset.top}},_mouseDrag:function(E,I){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(E,!0),this.positionAbs=this._convertPositionTo("absolute"),!I){var B=this._uiHash();if(!1===this._trigger("drag",E,B))return this._mouseUp(new C.Event("mouseup",E)),!1;this.position=B.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",C.ui.ddmanager&&C.ui.ddmanager.drag(this,E),!1},_mouseStop:function(E){var I=this,B=!1;return C.ui.ddmanager&&!this.options.dropBehaviour&&(B=C.ui.ddmanager.drop(this,E)),this.dropped&&(B=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!B||"valid"===this.options.revert&&B||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,B)?C(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==I._trigger("stop",E)&&I._clear()})):!1!==this._trigger("stop",E)&&this._clear(),!1},_mouseUp:function(E){return this._unblockFrames(),C.ui.ddmanager&&C.ui.ddmanager.dragStop(this,E),this.handleElement.is(E.target)&&this.element.trigger("focus"),C.ui.mouse.prototype._mouseUp.call(this,E)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new C.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(E){return!this.options.handle||!!C(E.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(E){var I=this.options,B="function"==typeof I.helper,z=B?C(I.helper.apply(this.element[0],[E])):"clone"===I.helper?this.element.clone().removeAttr("id"):this.element;return z.parents("body").length||z.appendTo("parent"===I.appendTo?this.element[0].parentNode:I.appendTo),B&&z[0]===this.element[0]&&this._setPositionRelative(),z[0]===this.element[0]||/(fixed|absolute)/.test(z.css("position"))||z.css("position","absolute"),z},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(C){"string"==typeof C&&(C=C.split(" ")),Array.isArray(C)&&(C={left:+C[0],top:+C[1]||0}),"left"in C&&(this.offset.click.left=C.left+this.margins.left),"right"in C&&(this.offset.click.left=this.helperProportions.width-C.right+this.margins.left),"top"in C&&(this.offset.click.top=C.top+this.margins.top),"bottom"in C&&(this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top)},_isRootNode:function(C){return/(html|body)/i.test(C.tagName)||C===this.document[0]},_getParentOffset:function(){var E=this.offsetParent.offset(),I=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==I&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(E.left+=this.scrollParent.scrollLeft(),E.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(E={top:0,left:0}),{top:E.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:E.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var C=this.element.position(),E=this._isRootNode(this.scrollParent[0]);return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+(E?0:this.scrollParent.scrollTop()),left:C.left-(parseInt(this.helper.css("left"),10)||0)+(E?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var E,I,B,z=this.options,q=this.document[0];this.relativeContainer=null,z.containment?"window"!==z.containment?"document"!==z.containment?z.containment.constructor!==Array?("parent"===z.containment&&(z.containment=this.helper[0].parentNode),(B=(I=C(z.containment))[0])&&(E=/(scroll|auto)/.test(I.css("overflow")),this.containment=[(parseInt(I.css("borderLeftWidth"),10)||0)+(parseInt(I.css("paddingLeft"),10)||0),(parseInt(I.css("borderTopWidth"),10)||0)+(parseInt(I.css("paddingTop"),10)||0),(E?Math.max(B.scrollWidth,B.offsetWidth):B.offsetWidth)-(parseInt(I.css("borderRightWidth"),10)||0)-(parseInt(I.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(E?Math.max(B.scrollHeight,B.offsetHeight):B.offsetHeight)-(parseInt(I.css("borderBottomWidth"),10)||0)-(parseInt(I.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=I)):this.containment=z.containment:this.containment=[0,0,C(q).width()-this.helperProportions.width-this.margins.left,(C(q).height()||q.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[C(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,C(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,C(window).scrollLeft()+C(window).width()-this.helperProportions.width-this.margins.left,C(window).scrollTop()+(C(window).height()||q.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(C,E){E||(E=this.position);var I="absolute"===C?1:-1,B=this._isRootNode(this.scrollParent[0]);return{top:E.top+this.offset.relative.top*I+this.offset.parent.top*I-("fixed"===this.cssPosition?-this.offset.scroll.top:B?0:this.offset.scroll.top)*I,left:E.left+this.offset.relative.left*I+this.offset.parent.left*I-("fixed"===this.cssPosition?-this.offset.scroll.left:B?0:this.offset.scroll.left)*I}},_generatePosition:function(C,E){var I,B,z,q,Q=this.options,ee=this._isRootNode(this.scrollParent[0]),te=C.pageX,ie=C.pageY;return ee&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),E&&(this.containment&&(this.relativeContainer?(B=this.relativeContainer.offset(),I=[this.containment[0]+B.left,this.containment[1]+B.top,this.containment[2]+B.left,this.containment[3]+B.top]):I=this.containment,C.pageX-this.offset.click.left<I[0]&&(te=I[0]+this.offset.click.left),C.pageY-this.offset.click.top<I[1]&&(ie=I[1]+this.offset.click.top),C.pageX-this.offset.click.left>I[2]&&(te=I[2]+this.offset.click.left),C.pageY-this.offset.click.top>I[3]&&(ie=I[3]+this.offset.click.top)),Q.grid&&(z=Q.grid[1]?this.originalPageY+Math.round((ie-this.originalPageY)/Q.grid[1])*Q.grid[1]:this.originalPageY,ie=I?z-this.offset.click.top>=I[1]||z-this.offset.click.top>I[3]?z:z-this.offset.click.top>=I[1]?z-Q.grid[1]:z+Q.grid[1]:z,q=Q.grid[0]?this.originalPageX+Math.round((te-this.originalPageX)/Q.grid[0])*Q.grid[0]:this.originalPageX,te=I?q-this.offset.click.left>=I[0]||q-this.offset.click.left>I[2]?q:q-this.offset.click.left>=I[0]?q-Q.grid[0]:q+Q.grid[0]:q),"y"===Q.axis&&(te=this.originalPageX),"x"===Q.axis&&(ie=this.originalPageY)),{top:ie-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:ee?0:this.offset.scroll.top),left:te-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:ee?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(E,I,B){return B=B||this._uiHash(),C.ui.plugin.call(this,E,[I,B,this],!0),/^(drag|start|stop)/.test(E)&&(this.positionAbs=this._convertPositionTo("absolute"),B.offset=this.positionAbs),C.Widget.prototype._trigger.call(this,E,I,B)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),C.ui.plugin.add("draggable","connectToSortable",{start:function(E,I,B){var z=C.extend({},I,{item:B.element});B.sortables=[],C(B.options.connectToSortable).each((function(){var I=C(this).sortable("instance");I&&!I.options.disabled&&(B.sortables.push(I),I.refreshPositions(),I._trigger("activate",E,z))}))},stop:function(E,I,B){var z=C.extend({},I,{item:B.element});B.cancelHelperRemoval=!1,C.each(B.sortables,(function(){var C=this;C.isOver?(C.isOver=0,B.cancelHelperRemoval=!0,C.cancelHelperRemoval=!1,C._storedCSS={position:C.placeholder.css("position"),top:C.placeholder.css("top"),left:C.placeholder.css("left")},C._mouseStop(E),C.options.helper=C.options._helper):(C.cancelHelperRemoval=!0,C._trigger("deactivate",E,z))}))},drag:function(E,I,B){C.each(B.sortables,(function(){var z=!1,q=this;q.positionAbs=B.positionAbs,q.helperProportions=B.helperProportions,q.offset.click=B.offset.click,q._intersectsWith(q.containerCache)&&(z=!0,C.each(B.sortables,(function(){return this.positionAbs=B.positionAbs,this.helperProportions=B.helperProportions,this.offset.click=B.offset.click,this!==q&&this._intersectsWith(this.containerCache)&&C.contains(q.element[0],this.element[0])&&(z=!1),z}))),z?(q.isOver||(q.isOver=1,B._parent=I.helper.parent(),q.currentItem=I.helper.appendTo(q.element).data("ui-sortable-item",!0),q.options._helper=q.options.helper,q.options.helper=function(){return I.helper[0]},E.target=q.currentItem[0],q._mouseCapture(E,!0),q._mouseStart(E,!0,!0),q.offset.click.top=B.offset.click.top,q.offset.click.left=B.offset.click.left,q.offset.parent.left-=B.offset.parent.left-q.offset.parent.left,q.offset.parent.top-=B.offset.parent.top-q.offset.parent.top,B._trigger("toSortable",E),B.dropped=q.element,C.each(B.sortables,(function(){this.refreshPositions()})),B.currentItem=B.element,q.fromOutside=B),q.currentItem&&(q._mouseDrag(E),I.position=q.position)):q.isOver&&(q.isOver=0,q.cancelHelperRemoval=!0,q.options._revert=q.options.revert,q.options.revert=!1,q._trigger("out",E,q._uiHash(q)),q._mouseStop(E,!0),q.options.revert=q.options._revert,q.options.helper=q.options._helper,q.placeholder&&q.placeholder.remove(),I.helper.appendTo(B._parent),B._refreshOffsets(E),I.position=B._generatePosition(E,!0),B._trigger("fromSortable",E),B.dropped=!1,C.each(B.sortables,(function(){this.refreshPositions()})))}))}}),C.ui.plugin.add("draggable","cursor",{start:function(E,I,B){var z=C("body"),q=B.options;z.css("cursor")&&(q._cursor=z.css("cursor")),z.css("cursor",q.cursor)},stop:function(E,I,B){var z=B.options;z._cursor&&C("body").css("cursor",z._cursor)}}),C.ui.plugin.add("draggable","opacity",{start:function(E,I,B){var z=C(I.helper),q=B.options;z.css("opacity")&&(q._opacity=z.css("opacity")),z.css("opacity",q.opacity)},stop:function(E,I,B){var z=B.options;z._opacity&&C(I.helper).css("opacity",z._opacity)}}),C.ui.plugin.add("draggable","scroll",{start:function(C,E,I){I.scrollParentNotHidden||(I.scrollParentNotHidden=I.helper.scrollParent(!1)),I.scrollParentNotHidden[0]!==I.document[0]&&"HTML"!==I.scrollParentNotHidden[0].tagName&&(I.overflowOffset=I.scrollParentNotHidden.offset())},drag:function(E,I,B){var z=B.options,q=!1,Q=B.scrollParentNotHidden[0],ee=B.document[0];Q!==ee&&"HTML"!==Q.tagName?(z.axis&&"x"===z.axis||(B.overflowOffset.top+Q.offsetHeight-E.pageY<z.scrollSensitivity?Q.scrollTop=q=Q.scrollTop+z.scrollSpeed:E.pageY-B.overflowOffset.top<z.scrollSensitivity&&(Q.scrollTop=q=Q.scrollTop-z.scrollSpeed)),z.axis&&"y"===z.axis||(B.overflowOffset.left+Q.offsetWidth-E.pageX<z.scrollSensitivity?Q.scrollLeft=q=Q.scrollLeft+z.scrollSpeed:E.pageX-B.overflowOffset.left<z.scrollSensitivity&&(Q.scrollLeft=q=Q.scrollLeft-z.scrollSpeed))):(z.axis&&"x"===z.axis||(E.pageY-C(ee).scrollTop()<z.scrollSensitivity?q=C(ee).scrollTop(C(ee).scrollTop()-z.scrollSpeed):C(window).height()-(E.pageY-C(ee).scrollTop())<z.scrollSensitivity&&(q=C(ee).scrollTop(C(ee).scrollTop()+z.scrollSpeed))),z.axis&&"y"===z.axis||(E.pageX-C(ee).scrollLeft()<z.scrollSensitivity?q=C(ee).scrollLeft(C(ee).scrollLeft()-z.scrollSpeed):C(window).width()-(E.pageX-C(ee).scrollLeft())<z.scrollSensitivity&&(q=C(ee).scrollLeft(C(ee).scrollLeft()+z.scrollSpeed)))),!1!==q&&C.ui.ddmanager&&!z.dropBehaviour&&C.ui.ddmanager.prepareOffsets(B,E)}}),C.ui.plugin.add("draggable","snap",{start:function(E,I,B){var z=B.options;B.snapElements=[],C(z.snap.constructor!==String?z.snap.items||":data(ui-draggable)":z.snap).each((function(){var E=C(this),I=E.offset();this!==B.element[0]&&B.snapElements.push({item:this,width:E.outerWidth(),height:E.outerHeight(),top:I.top,left:I.left})}))},drag:function(E,I,B){var z,q,Q,ee,te,ie,re,ne,se,oe,ae=B.options,le=ae.snapTolerance,ue=I.offset.left,de=ue+B.helperProportions.width,ce=I.offset.top,he=ce+B.helperProportions.height;for(se=B.snapElements.length-1;se>=0;se--)ie=(te=B.snapElements[se].left-B.margins.left)+B.snapElements[se].width,ne=(re=B.snapElements[se].top-B.margins.top)+B.snapElements[se].height,de<te-le||ue>ie+le||he<re-le||ce>ne+le||!C.contains(B.snapElements[se].item.ownerDocument,B.snapElements[se].item)?(B.snapElements[se].snapping&&B.options.snap.release&&B.options.snap.release.call(B.element,E,C.extend(B._uiHash(),{snapItem:B.snapElements[se].item})),B.snapElements[se].snapping=!1):("inner"!==ae.snapMode&&(z=Math.abs(re-he)<=le,q=Math.abs(ne-ce)<=le,Q=Math.abs(te-de)<=le,ee=Math.abs(ie-ue)<=le,z&&(I.position.top=B._convertPositionTo("relative",{top:re-B.helperProportions.height,left:0}).top),q&&(I.position.top=B._convertPositionTo("relative",{top:ne,left:0}).top),Q&&(I.position.left=B._convertPositionTo("relative",{top:0,left:te-B.helperProportions.width}).left),ee&&(I.position.left=B._convertPositionTo("relative",{top:0,left:ie}).left)),oe=z||q||Q||ee,"outer"!==ae.snapMode&&(z=Math.abs(re-ce)<=le,q=Math.abs(ne-he)<=le,Q=Math.abs(te-ue)<=le,ee=Math.abs(ie-de)<=le,z&&(I.position.top=B._convertPositionTo("relative",{top:re,left:0}).top),q&&(I.position.top=B._convertPositionTo("relative",{top:ne-B.helperProportions.height,left:0}).top),Q&&(I.position.left=B._convertPositionTo("relative",{top:0,left:te}).left),ee&&(I.position.left=B._convertPositionTo("relative",{top:0,left:ie-B.helperProportions.width}).left)),!B.snapElements[se].snapping&&(z||q||Q||ee||oe)&&B.options.snap.snap&&B.options.snap.snap.call(B.element,E,C.extend(B._uiHash(),{snapItem:B.snapElements[se].item})),B.snapElements[se].snapping=z||q||Q||ee||oe)}}),C.ui.plugin.add("draggable","stack",{start:function(E,I,B){var z,q=B.options,Q=C.makeArray(C(q.stack)).sort((function(E,I){return(parseInt(C(E).css("zIndex"),10)||0)-(parseInt(C(I).css("zIndex"),10)||0)}));Q.length&&(z=parseInt(C(Q[0]).css("zIndex"),10)||0,C(Q).each((function(E){C(this).css("zIndex",z+E)})),this.css("zIndex",z+Q.length))}}),C.ui.plugin.add("draggable","zIndex",{start:function(E,I,B){var z=C(I.helper),q=B.options;z.css("zIndex")&&(q._zIndex=z.css("zIndex")),z.css("zIndex",q.zIndex)},stop:function(E,I,B){var z=B.options;z._zIndex&&C(I.helper).css("zIndex",z._zIndex)}});C.ui.draggable;C.widget("ui.resizable",C.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(C){return parseFloat(C)||0},_isNumber:function(C){return!isNaN(parseFloat(C))},_hasScroll:function(E,I){if("hidden"===C(E).css("overflow"))return!1;var B=I&&"left"===I?"scrollLeft":"scrollTop",z=!1;if(E[B]>0)return!0;try{E[B]=1,z=E[B]>0,E[B]=0}catch(C){}return z},_create:function(){var E,I=this.options,B=this;this._addClass("ui-resizable"),C.extend(this,{_aspectRatio:!!I.aspectRatio,aspectRatio:I.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:I.helper||I.ghost||I.animate?I.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(C("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,E={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(E),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(E),this._proportionallyResize()),this._setupHandles(),I.autoHide&&C(this.element).on("mouseenter",(function(){I.disabled||(B._removeClass("ui-resizable-autohide"),B._handles.show())})).on("mouseleave",(function(){I.disabled||B.resizing||(B._addClass("ui-resizable-autohide"),B._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();var E,_destroy=function(E){C(E).removeData("resizable").removeData("ui-resizable").off(".resizable")};return this.elementIsWrapper&&(_destroy(this.element),E=this.element,this.originalElement.css({position:E.css("position"),width:E.outerWidth(),height:E.outerHeight(),top:E.css("top"),left:E.css("left")}).insertAfter(E),E.remove()),this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_setOption:function(C,E){switch(this._super(C,E),C){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!E}},_setupHandles:function(){var E,I,B,z,q,Q=this.options,ee=this;if(this.handles=Q.handles||(C(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=C(),this._addedHandles=C(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),B=this.handles.split(","),this.handles={},I=0;I<B.length;I++)z="ui-resizable-"+(E=String.prototype.trim.call(B[I])),q=C("<div>"),this._addClass(q,"ui-resizable-handle "+z),q.css({zIndex:Q.zIndex}),this.handles[E]=".ui-resizable-"+E,this.element.children(this.handles[E]).length||(this.element.append(q),this._addedHandles=this._addedHandles.add(q));this._renderAxis=function(E){var I,B,z,q;for(I in E=E||this.element,this.handles)this.handles[I].constructor===String?this.handles[I]=this.element.children(this.handles[I]).first().show():(this.handles[I].jquery||this.handles[I].nodeType)&&(this.handles[I]=C(this.handles[I]),this._on(this.handles[I],{mousedown:ee._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(B=C(this.handles[I],this.element),q=/sw|ne|nw|se|n|s/.test(I)?B.outerHeight():B.outerWidth(),z=["padding",/ne|nw|n/.test(I)?"Top":/se|sw|s/.test(I)?"Bottom":/^e$/.test(I)?"Right":"Left"].join(""),E.css(z,q),this._proportionallyResize()),this._handles=this._handles.add(this.handles[I])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){ee.resizing||(this.className&&(q=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),ee.axis=q&&q[1]?q[1]:"se")})),Q.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(E){var I,B,z=!1;for(I in this.handles)((B=C(this.handles[I])[0])===E.target||C.contains(B,E.target))&&(z=!0);return!this.options.disabled&&z},_mouseStart:function(E){var I,B,z,q=this.options,Q=this.element;return this.resizing=!0,this._renderProxy(),I=this._num(this.helper.css("left")),B=this._num(this.helper.css("top")),q.containment&&(I+=C(q.containment).scrollLeft()||0,B+=C(q.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:I,top:B},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:Q.width(),height:Q.height()},this.originalSize=this._helper?{width:Q.outerWidth(),height:Q.outerHeight()}:{width:Q.width(),height:Q.height()},this.sizeDiff={width:Q.outerWidth()-Q.width(),height:Q.outerHeight()-Q.height()},this.originalPosition={left:I,top:B},this.originalMousePosition={left:E.pageX,top:E.pageY},this.aspectRatio="number"==typeof q.aspectRatio?q.aspectRatio:this.originalSize.width/this.originalSize.height||1,z=C(".ui-resizable-"+this.axis).css("cursor"),C("body").css("cursor","auto"===z?this.axis+"-resize":z),this._addClass("ui-resizable-resizing"),this._propagate("start",E),!0},_mouseDrag:function(E){var I,B,z=this.originalMousePosition,q=this.axis,Q=E.pageX-z.left||0,ee=E.pageY-z.top||0,te=this._change[q];return this._updatePrevProperties(),!!te&&(I=te.apply(this,[E,Q,ee]),this._updateVirtualBoundaries(E.shiftKey),(this._aspectRatio||E.shiftKey)&&(I=this._updateRatio(I,E)),I=this._respectSize(I,E),this._updateCache(I),this._propagate("resize",E),B=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),C.isEmptyObject(B)||(this._updatePrevProperties(),this._trigger("resize",E,this.ui()),this._applyChanges()),!1)},_mouseStop:function(E){this.resizing=!1;var I,B,z,q,Q,ee,te,ie=this.options,re=this;return this._helper&&(z=(B=(I=this._proportionallyResizeElements).length&&/textarea/i.test(I[0].nodeName))&&this._hasScroll(I[0],"left")?0:re.sizeDiff.height,q=B?0:re.sizeDiff.width,Q={width:re.helper.width()-q,height:re.helper.height()-z},ee=parseFloat(re.element.css("left"))+(re.position.left-re.originalPosition.left)||null,te=parseFloat(re.element.css("top"))+(re.position.top-re.originalPosition.top)||null,ie.animate||this.element.css(C.extend(Q,{top:te,left:ee})),re.helper.height(re.size.height),re.helper.width(re.size.width),this._helper&&!ie.animate&&this._proportionallyResize()),C("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",E),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var C={};return this.position.top!==this.prevPosition.top&&(C.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(C.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(C.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(C.height=this.size.height+"px"),this.helper.css(C),C},_updateVirtualBoundaries:function(C){var E,I,B,z,q,Q=this.options;q={minWidth:this._isNumber(Q.minWidth)?Q.minWidth:0,maxWidth:this._isNumber(Q.maxWidth)?Q.maxWidth:1/0,minHeight:this._isNumber(Q.minHeight)?Q.minHeight:0,maxHeight:this._isNumber(Q.maxHeight)?Q.maxHeight:1/0},(this._aspectRatio||C)&&(E=q.minHeight*this.aspectRatio,B=q.minWidth/this.aspectRatio,I=q.maxHeight*this.aspectRatio,z=q.maxWidth/this.aspectRatio,E>q.minWidth&&(q.minWidth=E),B>q.minHeight&&(q.minHeight=B),I<q.maxWidth&&(q.maxWidth=I),z<q.maxHeight&&(q.maxHeight=z)),this._vBoundaries=q},_updateCache:function(C){this.offset=this.helper.offset(),this._isNumber(C.left)&&(this.position.left=C.left),this._isNumber(C.top)&&(this.position.top=C.top),this._isNumber(C.height)&&(this.size.height=C.height),this._isNumber(C.width)&&(this.size.width=C.width)},_updateRatio:function(C){var E=this.position,I=this.size,B=this.axis;return this._isNumber(C.height)?C.width=C.height*this.aspectRatio:this._isNumber(C.width)&&(C.height=C.width/this.aspectRatio),"sw"===B&&(C.left=E.left+(I.width-C.width),C.top=null),"nw"===B&&(C.top=E.top+(I.height-C.height),C.left=E.left+(I.width-C.width)),C},_respectSize:function(C){var E=this._vBoundaries,I=this.axis,B=this._isNumber(C.width)&&E.maxWidth&&E.maxWidth<C.width,z=this._isNumber(C.height)&&E.maxHeight&&E.maxHeight<C.height,q=this._isNumber(C.width)&&E.minWidth&&E.minWidth>C.width,Q=this._isNumber(C.height)&&E.minHeight&&E.minHeight>C.height,ee=this.originalPosition.left+this.originalSize.width,te=this.originalPosition.top+this.originalSize.height,ie=/sw|nw|w/.test(I),re=/nw|ne|n/.test(I);return q&&(C.width=E.minWidth),Q&&(C.height=E.minHeight),B&&(C.width=E.maxWidth),z&&(C.height=E.maxHeight),q&&ie&&(C.left=ee-E.minWidth),B&&ie&&(C.left=ee-E.maxWidth),Q&&re&&(C.top=te-E.minHeight),z&&re&&(C.top=te-E.maxHeight),C.width||C.height||C.left||!C.top?C.width||C.height||C.top||!C.left||(C.left=null):C.top=null,C},_getPaddingPlusBorderDimensions:function(C){for(var E=0,I=[],B=[C.css("borderTopWidth"),C.css("borderRightWidth"),C.css("borderBottomWidth"),C.css("borderLeftWidth")],z=[C.css("paddingTop"),C.css("paddingRight"),C.css("paddingBottom"),C.css("paddingLeft")];E<4;E++)I[E]=parseFloat(B[E])||0,I[E]+=parseFloat(z[E])||0;return{height:I[0]+I[2],width:I[1]+I[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var C,E=0,I=this.helper||this.element;E<this._proportionallyResizeElements.length;E++)C=this._proportionallyResizeElements[E],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(C)),C.css({height:I.height()-this.outerDimensions.height||0,width:I.width()-this.outerDimensions.width||0})},_renderProxy:function(){var E=this.element,I=this.options;this.elementOffset=E.offset(),this._helper?(this.helper=this.helper||C("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++I.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(C,E){return{width:this.originalSize.width+E}},w:function(C,E){var I=this.originalSize;return{left:this.originalPosition.left+E,width:I.width-E}},n:function(C,E,I){var B=this.originalSize;return{top:this.originalPosition.top+I,height:B.height-I}},s:function(C,E,I){return{height:this.originalSize.height+I}},se:function(E,I,B){return C.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[E,I,B]))},sw:function(E,I,B){return C.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[E,I,B]))},ne:function(E,I,B){return C.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[E,I,B]))},nw:function(E,I,B){return C.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[E,I,B]))}},_propagate:function(E,I){C.ui.plugin.call(this,E,[I,this.ui()]),"resize"!==E&&this._trigger(E,I,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),C.ui.plugin.add("resizable","animate",{stop:function(E){var I=C(this).resizable("instance"),B=I.options,z=I._proportionallyResizeElements,q=z.length&&/textarea/i.test(z[0].nodeName),Q=q&&I._hasScroll(z[0],"left")?0:I.sizeDiff.height,ee=q?0:I.sizeDiff.width,te={width:I.size.width-ee,height:I.size.height-Q},ie=parseFloat(I.element.css("left"))+(I.position.left-I.originalPosition.left)||null,re=parseFloat(I.element.css("top"))+(I.position.top-I.originalPosition.top)||null;I.element.animate(C.extend(te,re&&ie?{top:re,left:ie}:{}),{duration:B.animateDuration,easing:B.animateEasing,step:function(){var B={width:parseFloat(I.element.css("width")),height:parseFloat(I.element.css("height")),top:parseFloat(I.element.css("top")),left:parseFloat(I.element.css("left"))};z&&z.length&&C(z[0]).css({width:B.width,height:B.height}),I._updateCache(B),I._propagate("resize",E)}})}}),C.ui.plugin.add("resizable","containment",{start:function(){var E,I,B,z,q,Q,ee,te=C(this).resizable("instance"),ie=te.options,re=te.element,ne=ie.containment,se=ne instanceof C?ne.get(0):/parent/.test(ne)?re.parent().get(0):ne;se&&(te.containerElement=C(se),/document/.test(ne)||ne===document?(te.containerOffset={left:0,top:0},te.containerPosition={left:0,top:0},te.parentData={element:C(document),left:0,top:0,width:C(document).width(),height:C(document).height()||document.body.parentNode.scrollHeight}):(E=C(se),I=[],C(["Top","Right","Left","Bottom"]).each((function(C,B){I[C]=te._num(E.css("padding"+B))})),te.containerOffset=E.offset(),te.containerPosition=E.position(),te.containerSize={height:E.innerHeight()-I[3],width:E.innerWidth()-I[1]},B=te.containerOffset,z=te.containerSize.height,q=te.containerSize.width,Q=te._hasScroll(se,"left")?se.scrollWidth:q,ee=te._hasScroll(se)?se.scrollHeight:z,te.parentData={element:se,left:B.left,top:B.top,width:Q,height:ee}))},resize:function(E){var I,B,z,q,Q=C(this).resizable("instance"),ee=Q.options,te=Q.containerOffset,ie=Q.position,re=Q._aspectRatio||E.shiftKey,ne={top:0,left:0},se=Q.containerElement,oe=!0;se[0]!==document&&/static/.test(se.css("position"))&&(ne=te),ie.left<(Q._helper?te.left:0)&&(Q.size.width=Q.size.width+(Q._helper?Q.position.left-te.left:Q.position.left-ne.left),re&&(Q.size.height=Q.size.width/Q.aspectRatio,oe=!1),Q.position.left=ee.helper?te.left:0),ie.top<(Q._helper?te.top:0)&&(Q.size.height=Q.size.height+(Q._helper?Q.position.top-te.top:Q.position.top),re&&(Q.size.width=Q.size.height*Q.aspectRatio,oe=!1),Q.position.top=Q._helper?te.top:0),z=Q.containerElement.get(0)===Q.element.parent().get(0),q=/relative|absolute/.test(Q.containerElement.css("position")),z&&q?(Q.offset.left=Q.parentData.left+Q.position.left,Q.offset.top=Q.parentData.top+Q.position.top):(Q.offset.left=Q.element.offset().left,Q.offset.top=Q.element.offset().top),I=Math.abs(Q.sizeDiff.width+(Q._helper?Q.offset.left-ne.left:Q.offset.left-te.left)),B=Math.abs(Q.sizeDiff.height+(Q._helper?Q.offset.top-ne.top:Q.offset.top-te.top)),I+Q.size.width>=Q.parentData.width&&(Q.size.width=Q.parentData.width-I,re&&(Q.size.height=Q.size.width/Q.aspectRatio,oe=!1)),B+Q.size.height>=Q.parentData.height&&(Q.size.height=Q.parentData.height-B,re&&(Q.size.width=Q.size.height*Q.aspectRatio,oe=!1)),oe||(Q.position.left=Q.prevPosition.left,Q.position.top=Q.prevPosition.top,Q.size.width=Q.prevSize.width,Q.size.height=Q.prevSize.height)},stop:function(){var E=C(this).resizable("instance"),I=E.options,B=E.containerOffset,z=E.containerPosition,q=E.containerElement,Q=C(E.helper),ee=Q.offset(),te=Q.outerWidth()-E.sizeDiff.width,ie=Q.outerHeight()-E.sizeDiff.height;E._helper&&!I.animate&&/relative/.test(q.css("position"))&&C(this).css({left:ee.left-z.left-B.left,width:te,height:ie}),E._helper&&!I.animate&&/static/.test(q.css("position"))&&C(this).css({left:ee.left-z.left-B.left,width:te,height:ie})}}),C.ui.plugin.add("resizable","alsoResize",{start:function(){var E=C(this).resizable("instance").options;C(E.alsoResize).each((function(){var E=C(this);E.data("ui-resizable-alsoresize",{width:parseFloat(E.width()),height:parseFloat(E.height()),left:parseFloat(E.css("left")),top:parseFloat(E.css("top"))})}))},resize:function(E,I){var B=C(this).resizable("instance"),z=B.options,q=B.originalSize,Q=B.originalPosition,ee={height:B.size.height-q.height||0,width:B.size.width-q.width||0,top:B.position.top-Q.top||0,left:B.position.left-Q.left||0};C(z.alsoResize).each((function(){var E=C(this),B=C(this).data("ui-resizable-alsoresize"),z={},q=E.parents(I.originalElement[0]).length?["width","height"]:["width","height","top","left"];C.each(q,(function(C,E){var I=(B[E]||0)+(ee[E]||0);I&&I>=0&&(z[E]=I||null)})),E.css(z)}))},stop:function(){C(this).removeData("ui-resizable-alsoresize")}}),C.ui.plugin.add("resizable","ghost",{start:function(){var E=C(this).resizable("instance"),I=E.size;E.ghost=E.originalElement.clone(),E.ghost.css({opacity:.25,display:"block",position:"relative",height:I.height,width:I.width,margin:0,left:0,top:0}),E._addClass(E.ghost,"ui-resizable-ghost"),!1!==C.uiBackCompat&&"string"==typeof E.options.ghost&&E.ghost.addClass(this.options.ghost),E.ghost.appendTo(E.helper)},resize:function(){var E=C(this).resizable("instance");E.ghost&&E.ghost.css({position:"relative",height:E.size.height,width:E.size.width})},stop:function(){var E=C(this).resizable("instance");E.ghost&&E.helper&&E.helper.get(0).removeChild(E.ghost.get(0))}}),C.ui.plugin.add("resizable","grid",{resize:function(){var E,I=C(this).resizable("instance"),B=I.options,z=I.size,q=I.originalSize,Q=I.originalPosition,ee=I.axis,te="number"==typeof B.grid?[B.grid,B.grid]:B.grid,ie=te[0]||1,re=te[1]||1,ne=Math.round((z.width-q.width)/ie)*ie,se=Math.round((z.height-q.height)/re)*re,oe=q.width+ne,ae=q.height+se,le=B.maxWidth&&B.maxWidth<oe,ue=B.maxHeight&&B.maxHeight<ae,de=B.minWidth&&B.minWidth>oe,ce=B.minHeight&&B.minHeight>ae;B.grid=te,de&&(oe+=ie),ce&&(ae+=re),le&&(oe-=ie),ue&&(ae-=re),/^(se|s|e)$/.test(ee)?(I.size.width=oe,I.size.height=ae):/^(ne)$/.test(ee)?(I.size.width=oe,I.size.height=ae,I.position.top=Q.top-se):/^(sw)$/.test(ee)?(I.size.width=oe,I.size.height=ae,I.position.left=Q.left-ne):((ae-re<=0||oe-ie<=0)&&(E=I._getPaddingPlusBorderDimensions(this)),ae-re>0?(I.size.height=ae,I.position.top=Q.top-se):(ae=re-E.height,I.size.height=ae,I.position.top=Q.top+q.height-ae),oe-ie>0?(I.size.width=oe,I.position.left=Q.left-ne):(oe=ie-E.width,I.size.width=oe,I.position.left=Q.left+q.width-oe))}});C.ui.resizable;C.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(E){var I=C(this).css(E).offset().top;I<0&&C(this).css("top",E.top-I)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&C.fn.draggable&&this._makeDraggable(),this.options.resizable&&C.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var E=this.options.appendTo;return E&&(E.jquery||E.nodeType)?C(E):this.document.find(E||"body").eq(0)},_destroy:function(){var C,E=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(C=E.parent.children().eq(E.index)).length&&C[0]!==this.element[0]?C.before(this.element):E.parent.append(this.element)},widget:function(){return this.uiDialog},disable:C.noop,enable:C.noop,close:function(E){var I=this;this._isOpen&&!1!==this._trigger("beforeClose",E)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||C.ui.safeBlur(C.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){I._trigger("close",E)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(E,I){var B=!1,z=this.uiDialog.siblings(".ui-front:visible").map((function(){return+C(this).css("z-index")})).get(),q=Math.max.apply(null,z);return q>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",q+1),B=!0),B&&!I&&this._trigger("focus",E),B},open:function(){var E=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=C(C.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){E._focusTabbable(),E._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var C=this._focusedElement;C||(C=this.element.find("[autofocus]")),C.length||(C=this.element.find(":tabbable")),C.length||(C=this.uiDialogButtonPane.find(":tabbable")),C.length||(C=this.uiDialogTitlebarClose.filter(":tabbable")),C.length||(C=this.uiDialog),C.eq(0).trigger("focus")},_restoreTabbableFocus:function(){var E=C.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===E||C.contains(this.uiDialog[0],E)||this._focusTabbable()},_keepFocus:function(C){C.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=C("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(E){if(this.options.closeOnEscape&&!E.isDefaultPrevented()&&E.keyCode&&E.keyCode===C.ui.keyCode.ESCAPE)return E.preventDefault(),void this.close(E);if(E.keyCode===C.ui.keyCode.TAB&&!E.isDefaultPrevented()){var I=this.uiDialog.find(":tabbable"),B=I.first(),z=I.last();E.target!==z[0]&&E.target!==this.uiDialog[0]||E.shiftKey?E.target!==B[0]&&E.target!==this.uiDialog[0]||!E.shiftKey||(this._delay((function(){z.trigger("focus")})),E.preventDefault()):(this._delay((function(){B.trigger("focus")})),E.preventDefault())}},mousedown:function(C){this._moveToTop(C)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var E;this.uiDialogTitlebar=C("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(E){C(E.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=C("<button type='button'></button>").button({label:C("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(C){C.preventDefault(),this.close(C)}}),E=C("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(E,"ui-dialog-title"),this._title(E),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":E.attr("id")})},_title:function(C){this.options.title?C.text(this.options.title):C.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=C("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=C("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var E=this,I=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),C.isEmptyObject(I)||Array.isArray(I)&&!I.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(C.each(I,(function(I,B){var z,q;B="function"==typeof B?{click:B,text:I}:B,B=C.extend({type:"button"},B),z=B.click,q={icon:B.icon,iconPosition:B.iconPosition,showLabel:B.showLabel,icons:B.icons,text:B.text},delete B.click,delete B.icon,delete B.iconPosition,delete B.showLabel,delete B.icons,"boolean"==typeof B.text&&delete B.text,C("<button></button>",B).button(q).appendTo(E.uiButtonSet).on("click",(function(){z.apply(E.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var E=this,I=this.options;function filteredUi(C){return{position:C.position,offset:C.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(I,B){E._addClass(C(this),"ui-dialog-dragging"),E._blockFrames(),E._trigger("dragStart",I,filteredUi(B))},drag:function(C,I){E._trigger("drag",C,filteredUi(I))},stop:function(B,z){var q=z.offset.left-E.document.scrollLeft(),Q=z.offset.top-E.document.scrollTop();I.position={my:"left top",at:"left"+(q>=0?"+":"")+q+" top"+(Q>=0?"+":"")+Q,of:E.window},E._removeClass(C(this),"ui-dialog-dragging"),E._unblockFrames(),E._trigger("dragStop",B,filteredUi(z))}})},_makeResizable:function(){var E=this,I=this.options,B=I.resizable,z=this.uiDialog.css("position"),q="string"==typeof B?B:"n,e,s,w,se,sw,ne,nw";function filteredUi(C){return{originalPosition:C.originalPosition,originalSize:C.originalSize,position:C.position,size:C.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:I.maxWidth,maxHeight:I.maxHeight,minWidth:I.minWidth,minHeight:this._minHeight(),handles:q,start:function(I,B){E._addClass(C(this),"ui-dialog-resizing"),E._blockFrames(),E._trigger("resizeStart",I,filteredUi(B))},resize:function(C,I){E._trigger("resize",C,filteredUi(I))},stop:function(B,z){var q=E.uiDialog.offset(),Q=q.left-E.document.scrollLeft(),ee=q.top-E.document.scrollTop();I.height=E.uiDialog.height(),I.width=E.uiDialog.width(),I.position={my:"left top",at:"left"+(Q>=0?"+":"")+Q+" top"+(ee>=0?"+":"")+ee,of:E.window},E._removeClass(C(this),"ui-dialog-resizing"),E._unblockFrames(),E._trigger("resizeStop",B,filteredUi(z))}}).css("position",z)},_trackFocus:function(){this._on(this.widget(),{focusin:function(E){this._makeFocusTarget(),this._focusedElement=C(E.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var E=this._trackingInstances(),I=C.inArray(this,E);-1!==I&&E.splice(I,1)},_trackingInstances:function(){var C=this.document.data("ui-dialog-instances");return C||(C=[],this.document.data("ui-dialog-instances",C)),C},_minHeight:function(){var C=this.options;return"auto"===C.height?C.minHeight:Math.min(C.minHeight,C.height)},_position:function(){var C=this.uiDialog.is(":visible");C||this.uiDialog.show(),this.uiDialog.position(this.options.position),C||this.uiDialog.hide()},_setOptions:function(E){var I=this,B=!1,z={};C.each(E,(function(C,E){I._setOption(C,E),C in I.sizeRelatedOptions&&(B=!0),C in I.resizableRelatedOptions&&(z[C]=E)})),B&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",z)},_setOption:function(E,I){var B,z,q=this.uiDialog;"disabled"!==E&&(this._super(E,I),"appendTo"===E&&this.uiDialog.appendTo(this._appendTo()),"buttons"===E&&this._createButtons(),"closeText"===E&&this.uiDialogTitlebarClose.button({label:C("<a>").text(""+this.options.closeText).html()}),"draggable"===E&&((B=q.is(":data(ui-draggable)"))&&!I&&q.draggable("destroy"),!B&&I&&this._makeDraggable()),"position"===E&&this._position(),"resizable"===E&&((z=q.is(":data(ui-resizable)"))&&!I&&q.resizable("destroy"),z&&"string"==typeof I&&q.resizable("option","handles",I),z||!1===I||this._makeResizable()),"title"===E&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var C,E,I,B=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),B.minWidth>B.width&&(B.width=B.minWidth),C=this.uiDialog.css({height:"auto",width:B.width}).outerHeight(),E=Math.max(0,B.minHeight-C),I="number"==typeof B.maxHeight?Math.max(0,B.maxHeight-C):"none","auto"===B.height?this.element.css({minHeight:E,maxHeight:I,height:"auto"}):this.element.height(Math.max(0,B.height-C)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var E=C(this);return C("<div>").css({position:"absolute",width:E.outerWidth(),height:E.outerHeight()}).appendTo(E.parent()).offset(E.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(E){return!!C(E.target).closest(".ui-dialog").length||!!C(E.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var E=C.fn.jquery.substring(0,4),I=!0;this._delay((function(){I=!1})),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(C){if(!I){var B=this._trackingInstances()[0];B._allowInteraction(C)||(C.preventDefault(),B._focusTabbable(),"3.4."!==E&&"3.5."!==E||B._delay(B._restoreTabbableFocus))}}.bind(this)),this.overlay=C("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var C=this.document.data("ui-dialog-overlays")-1;C?this.document.data("ui-dialog-overlays",C):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==C.uiBackCompat&&C.widget("ui.dialog",C.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(C,E){"dialogClass"===C&&this.uiDialog.removeClass(this.options.dialogClass).addClass(E),this._superApply(arguments)}});C.ui.dialog;C.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var C,E=this.options,I=E.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof I?I:function(C){return C.is(I)},this.proportions=function(){if(!arguments.length)return C||(C={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});C=arguments[0]},this._addToManager(E.scope),E.addClasses&&this._addClass("ui-droppable")},_addToManager:function(E){C.ui.ddmanager.droppables[E]=C.ui.ddmanager.droppables[E]||[],C.ui.ddmanager.droppables[E].push(this)},_splice:function(C){for(var E=0;E<C.length;E++)C[E]===this&&C.splice(E,1)},_destroy:function(){var E=C.ui.ddmanager.droppables[this.options.scope];this._splice(E)},_setOption:function(E,I){if("accept"===E)this.accept="function"==typeof I?I:function(C){return C.is(I)};else if("scope"===E){var B=C.ui.ddmanager.droppables[this.options.scope];this._splice(B),this._addToManager(I)}this._super(E,I)},_activate:function(E){var I=C.ui.ddmanager.current;this._addActiveClass(),I&&this._trigger("activate",E,this.ui(I))},_deactivate:function(E){var I=C.ui.ddmanager.current;this._removeActiveClass(),I&&this._trigger("deactivate",E,this.ui(I))},_over:function(E){var I=C.ui.ddmanager.current;I&&(I.currentItem||I.element)[0]!==this.element[0]&&this.accept.call(this.element[0],I.currentItem||I.element)&&(this._addHoverClass(),this._trigger("over",E,this.ui(I)))},_out:function(E){var I=C.ui.ddmanager.current;I&&(I.currentItem||I.element)[0]!==this.element[0]&&this.accept.call(this.element[0],I.currentItem||I.element)&&(this._removeHoverClass(),this._trigger("out",E,this.ui(I)))},_drop:function(E,I){var B=I||C.ui.ddmanager.current,z=!1;return!(!B||(B.currentItem||B.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var I=C(this).droppable("instance");if(I.options.greedy&&!I.options.disabled&&I.options.scope===B.options.scope&&I.accept.call(I.element[0],B.currentItem||B.element)&&C.ui.intersect(B,C.extend(I,{offset:I.element.offset()}),I.options.tolerance,E))return z=!0,!1})),!z&&(!!this.accept.call(this.element[0],B.currentItem||B.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",E,this.ui(B)),this.element)))},ui:function(C){return{draggable:C.currentItem||C.element,helper:C.helper,position:C.position,offset:C.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),C.ui.intersect=function(){function isOverAxis(C,E,I){return C>=E&&C<E+I}return function(C,E,I,B){if(!E.offset)return!1;var z=(C.positionAbs||C.position.absolute).left+C.margins.left,q=(C.positionAbs||C.position.absolute).top+C.margins.top,Q=z+C.helperProportions.width,ee=q+C.helperProportions.height,te=E.offset.left,ie=E.offset.top,re=te+E.proportions().width,ne=ie+E.proportions().height;switch(I){case"fit":return te<=z&&Q<=re&&ie<=q&&ee<=ne;case"intersect":return te<z+C.helperProportions.width/2&&Q-C.helperProportions.width/2<re&&ie<q+C.helperProportions.height/2&&ee-C.helperProportions.height/2<ne;case"pointer":return isOverAxis(B.pageY,ie,E.proportions().height)&&isOverAxis(B.pageX,te,E.proportions().width);case"touch":return(q>=ie&&q<=ne||ee>=ie&&ee<=ne||q<ie&&ee>ne)&&(z>=te&&z<=re||Q>=te&&Q<=re||z<te&&Q>re);default:return!1}}}(),C.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(E,I){var B,z,q=C.ui.ddmanager.droppables[E.options.scope]||[],Q=I?I.type:null,ee=(E.currentItem||E.element).find(":data(ui-droppable)").addBack();e:for(B=0;B<q.length;B++)if(!(q[B].options.disabled||E&&!q[B].accept.call(q[B].element[0],E.currentItem||E.element))){for(z=0;z<ee.length;z++)if(ee[z]===q[B].element[0]){q[B].proportions().height=0;continue e}q[B].visible="none"!==q[B].element.css("display"),q[B].visible&&("mousedown"===Q&&q[B]._activate.call(q[B],I),q[B].offset=q[B].element.offset(),q[B].proportions({width:q[B].element[0].offsetWidth,height:q[B].element[0].offsetHeight}))}},drop:function(E,I){var B=!1;return C.each((C.ui.ddmanager.droppables[E.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&C.ui.intersect(E,this,this.options.tolerance,I)&&(B=this._drop.call(this,I)||B),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],E.currentItem||E.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,I)))})),B},dragStart:function(E,I){E.element.parentsUntil("body").on("scroll.droppable",(function(){E.options.refreshPositions||C.ui.ddmanager.prepareOffsets(E,I)}))},drag:function(E,I){E.options.refreshPositions&&C.ui.ddmanager.prepareOffsets(E,I),C.each(C.ui.ddmanager.droppables[E.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var B,z,q,Q=C.ui.intersect(E,this,this.options.tolerance,I),ee=!Q&&this.isover?"isout":Q&&!this.isover?"isover":null;ee&&(this.options.greedy&&(z=this.options.scope,(q=this.element.parents(":data(ui-droppable)").filter((function(){return C(this).droppable("instance").options.scope===z}))).length&&((B=C(q[0]).droppable("instance")).greedyChild="isover"===ee)),B&&"isover"===ee&&(B.isover=!1,B.isout=!0,B._out.call(B,I)),this[ee]=!0,this["isout"===ee?"isover":"isout"]=!1,this["isover"===ee?"_over":"_out"].call(this,I),B&&"isout"===ee&&(B.isout=!1,B.isover=!0,B._over.call(B,I)))}}))},dragStop:function(E,I){E.element.parentsUntil("body").off("scroll.droppable"),E.options.refreshPositions||C.ui.ddmanager.prepareOffsets(E,I)}},!1!==C.uiBackCompat&&C.widget("ui.droppable",C.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});C.ui.droppable,C.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=C("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(C){if(void 0===C)return this.options.value;this.options.value=this._constrainedValue(C),this._refreshValue()},_constrainedValue:function(C){return void 0===C&&(C=this.options.value),this.indeterminate=!1===C,"number"!=typeof C&&(C=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,C))},_setOptions:function(C){var E=C.value;delete C.value,this._super(C),this.options.value=this._constrainedValue(E),this._refreshValue()},_setOption:function(C,E){"max"===C&&(E=Math.max(this.min,E)),this._super(C,E)},_setOptionDisabled:function(C){this._super(C),this.element.attr("aria-disabled",C),this._toggleClass(null,"ui-state-disabled",!!C)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var E=this.options.value,I=this._percentage();this.valueDiv.toggle(this.indeterminate||E>this.min).width(I.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,E===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=C("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":E}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==E&&(this.oldValue=E,this._trigger("change")),E===this.options.max&&this._trigger("complete")}}),C.widget("ui.selectable",C.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var E=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){E.elementPos=C(E.element[0]).offset(),E.selectees=C(E.options.filter,E.element[0]),E._addClass(E.selectees,"ui-selectee"),E.selectees.each((function(){var I=C(this),B=I.offset(),z={left:B.left-E.elementPos.left,top:B.top-E.elementPos.top};C.data(this,"selectable-item",{element:this,$element:I,left:z.left,top:z.top,right:z.left+I.outerWidth(),bottom:z.top+I.outerHeight(),startselected:!1,selected:I.hasClass("ui-selected"),selecting:I.hasClass("ui-selecting"),unselecting:I.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=C("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(E){var I=this,B=this.options;this.opos=[E.pageX,E.pageY],this.elementPos=C(this.element[0]).offset(),this.options.disabled||(this.selectees=C(B.filter,this.element[0]),this._trigger("start",E),C(B.appendTo).append(this.helper),this.helper.css({left:E.pageX,top:E.pageY,width:0,height:0}),B.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var B=C.data(this,"selectable-item");B.startselected=!0,E.metaKey||E.ctrlKey||(I._removeClass(B.$element,"ui-selected"),B.selected=!1,I._addClass(B.$element,"ui-unselecting"),B.unselecting=!0,I._trigger("unselecting",E,{unselecting:B.element}))})),C(E.target).parents().addBack().each((function(){var B,z=C.data(this,"selectable-item");if(z)return B=!E.metaKey&&!E.ctrlKey||!z.$element.hasClass("ui-selected"),I._removeClass(z.$element,B?"ui-unselecting":"ui-selected")._addClass(z.$element,B?"ui-selecting":"ui-unselecting"),z.unselecting=!B,z.selecting=B,z.selected=B,B?I._trigger("selecting",E,{selecting:z.element}):I._trigger("unselecting",E,{unselecting:z.element}),!1})))},_mouseDrag:function(E){if(this.dragged=!0,!this.options.disabled){var I,B=this,z=this.options,q=this.opos[0],Q=this.opos[1],ee=E.pageX,te=E.pageY;return q>ee&&(I=ee,ee=q,q=I),Q>te&&(I=te,te=Q,Q=I),this.helper.css({left:q,top:Q,width:ee-q,height:te-Q}),this.selectees.each((function(){var I=C.data(this,"selectable-item"),ie=!1,re={};I&&I.element!==B.element[0]&&(re.left=I.left+B.elementPos.left,re.right=I.right+B.elementPos.left,re.top=I.top+B.elementPos.top,re.bottom=I.bottom+B.elementPos.top,"touch"===z.tolerance?ie=!(re.left>ee||re.right<q||re.top>te||re.bottom<Q):"fit"===z.tolerance&&(ie=re.left>q&&re.right<ee&&re.top>Q&&re.bottom<te),ie?(I.selected&&(B._removeClass(I.$element,"ui-selected"),I.selected=!1),I.unselecting&&(B._removeClass(I.$element,"ui-unselecting"),I.unselecting=!1),I.selecting||(B._addClass(I.$element,"ui-selecting"),I.selecting=!0,B._trigger("selecting",E,{selecting:I.element}))):(I.selecting&&((E.metaKey||E.ctrlKey)&&I.startselected?(B._removeClass(I.$element,"ui-selecting"),I.selecting=!1,B._addClass(I.$element,"ui-selected"),I.selected=!0):(B._removeClass(I.$element,"ui-selecting"),I.selecting=!1,I.startselected&&(B._addClass(I.$element,"ui-unselecting"),I.unselecting=!0),B._trigger("unselecting",E,{unselecting:I.element}))),I.selected&&(E.metaKey||E.ctrlKey||I.startselected||(B._removeClass(I.$element,"ui-selected"),I.selected=!1,B._addClass(I.$element,"ui-unselecting"),I.unselecting=!0,B._trigger("unselecting",E,{unselecting:I.element})))))})),!1}},_mouseStop:function(E){var I=this;return this.dragged=!1,C(".ui-unselecting",this.element[0]).each((function(){var B=C.data(this,"selectable-item");I._removeClass(B.$element,"ui-unselecting"),B.unselecting=!1,B.startselected=!1,I._trigger("unselected",E,{unselected:B.element})})),C(".ui-selecting",this.element[0]).each((function(){var B=C.data(this,"selectable-item");I._removeClass(B.$element,"ui-selecting")._addClass(B.$element,"ui-selected"),B.selecting=!1,B.selected=!0,B.startselected=!0,I._trigger("selected",E,{selected:B.element})})),this._trigger("stop",E),this.helper.remove(),!1}}),C.widget("ui.selectmenu",[C.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var E=this.element.uniqueId().attr("id");this.ids={element:E,button:E+"-button",menu:E+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=C()},_drawButton:function(){var E,I=this,B=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(C){this.button.trigger("focus"),C.preventDefault()}}),this.element.hide(),this.button=C("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),E=C("<span>").appendTo(this.button),this._addClass(E,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(B).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){I._rendered||I._refreshMenu()}))},_drawMenu:function(){var E=this;this.menu=C("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=C("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(C,I){C.preventDefault(),E._setSelection(),E._select(I.item.data("ui-selectmenu-item"),C)},focus:function(C,I){var B=I.item.data("ui-selectmenu-item");null!=E.focusIndex&&B.index!==E.focusIndex&&(E._trigger("focus",C,{item:B}),E.isOpen||E._select(B,C)),E.focusIndex=B.index,E.button.attr("aria-activedescendant",E.menuItems.eq(B.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var C,E=this.element.find("option");this.menu.empty(),this._parseOptions(E),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,E.length&&(C=this._getSelectedItem(),this.menuInstance.focus(null,C),this._setAria(C.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(C){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",C)))},_position:function(){this.menuWrap.position(C.extend({of:this.button},this.options.position))},close:function(C){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",C))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(E){var I=C("<span>");return this._setText(I,E.label),this._addClass(I,"ui-selectmenu-text"),I},_renderMenu:function(E,I){var B=this,z="";C.each(I,(function(I,q){var Q;q.optgroup!==z&&(Q=C("<li>",{text:q.optgroup}),B._addClass(Q,"ui-selectmenu-optgroup","ui-menu-divider"+(q.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),Q.appendTo(E),z=q.optgroup),B._renderItemData(E,q)}))},_renderItemData:function(C,E){return this._renderItem(C,E).data("ui-selectmenu-item",E)},_renderItem:function(E,I){var B=C("<li>"),z=C("<div>",{title:I.element.attr("title")});return I.disabled&&this._addClass(B,null,"ui-state-disabled"),this._setText(z,I.label),B.append(z).appendTo(E)},_setText:function(C,E){E?C.text(E):C.html("&#160;")},_move:function(C,E){var I,B,z=".ui-menu-item";this.isOpen?I=this.menuItems.eq(this.focusIndex).parent("li"):(I=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),z+=":not(.ui-state-disabled)"),(B="first"===C||"last"===C?I["first"===C?"prevAll":"nextAll"](z).eq(-1):I[C+"All"](z).eq(0)).length&&this.menuInstance.focus(E,B)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(C){this[this.isOpen?"close":"open"](C)},_setSelection:function(){var C;this.range&&(window.getSelection?((C=window.getSelection()).removeAllRanges(),C.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(E){this.isOpen&&(C(E.target).closest(".ui-selectmenu-menu, #"+C.escapeSelector(this.ids.button)).length||this.close(E))}},_buttonEvents:{mousedown:function(){var C;window.getSelection?(C=window.getSelection()).rangeCount&&(this.range=C.getRangeAt(0)):this.range=document.selection.createRange()},click:function(C){this._setSelection(),this._toggle(C)},keydown:function(E){var I=!0;switch(E.keyCode){case C.ui.keyCode.TAB:case C.ui.keyCode.ESCAPE:this.close(E),I=!1;break;case C.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(E);break;case C.ui.keyCode.UP:E.altKey?this._toggle(E):this._move("prev",E);break;case C.ui.keyCode.DOWN:E.altKey?this._toggle(E):this._move("next",E);break;case C.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(E):this._toggle(E);break;case C.ui.keyCode.LEFT:this._move("prev",E);break;case C.ui.keyCode.RIGHT:this._move("next",E);break;case C.ui.keyCode.HOME:case C.ui.keyCode.PAGE_UP:this._move("first",E);break;case C.ui.keyCode.END:case C.ui.keyCode.PAGE_DOWN:this._move("last",E);break;default:this.menu.trigger(E),I=!1}I&&E.preventDefault()}},_selectFocusedItem:function(C){var E=this.menuItems.eq(this.focusIndex).parent("li");E.hasClass("ui-state-disabled")||this._select(E.data("ui-selectmenu-item"),C)},_select:function(C,E){var I=this.element[0].selectedIndex;this.element[0].selectedIndex=C.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(C)),this._setAria(C),this._trigger("select",E,{item:C}),C.index!==I&&this._trigger("change",E,{item:C}),this.close(E)},_setAria:function(C){var E=this.menuItems.eq(C.index).attr("id");this.button.attr({"aria-labelledby":E,"aria-activedescendant":E}),this.menu.attr("aria-activedescendant",E)},_setOption:function(C,E){if("icons"===C){var I=this.button.find("span.ui-icon");this._removeClass(I,null,this.options.icons.button)._addClass(I,null,E.button)}this._super(C,E),"appendTo"===C&&this.menuWrap.appendTo(this._appendTo()),"width"===C&&this._resizeButton()},_setOptionDisabled:function(C){this._super(C),this.menuInstance.option("disabled",C),this.button.attr("aria-disabled",C),this._toggleClass(this.button,null,"ui-state-disabled",C),this.element.prop("disabled",C),C?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var E=this.options.appendTo;return E&&(E=E.jquery||E.nodeType?C(E):this.document.find(E).eq(0)),E&&E[0]||(E=this.element.closest(".ui-front, dialog")),E.length||(E=this.document[0].body),E},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var C=this.options.width;!1!==C?(null===C&&(C=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(C)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var C=this._super();return C.disabled=this.element.prop("disabled"),C},_parseOptions:function(E){var I=this,B=[];E.each((function(E,z){z.hidden||B.push(I._parseOption(C(z),E))})),this.items=B},_parseOption:function(C,E){var I=C.parent("optgroup");return{element:C,index:E,value:C.val(),label:C.text(),optgroup:I.attr("label")||"",disabled:I.prop("disabled")||C.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),C.widget("ui.slider",C.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var E,I,B=this.options,z=this.element.find(".ui-slider-handle"),q="<span tabindex='0'></span>",Q=[];for(I=B.values&&B.values.length||1,z.length>I&&(z.slice(I).remove(),z=z.slice(0,I)),E=z.length;E<I;E++)Q.push(q);this.handles=z.add(C(Q.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(E){C(this).data("ui-slider-handle-index",E).attr("tabIndex",0)}))},_createRange:function(){var E=this.options;E.range?(!0===E.range&&(E.values?E.values.length&&2!==E.values.length?E.values=[E.values[0],E.values[0]]:Array.isArray(E.values)&&(E.values=E.values.slice(0)):E.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=C("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==E.range&&"max"!==E.range||this._addClass(this.range,"ui-slider-range-"+E.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(E){var I,B,z,q,Q,ee,te,ie=this,re=this.options;return!re.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),I={x:E.pageX,y:E.pageY},B=this._normValueFromMouse(I),z=this._valueMax()-this._valueMin()+1,this.handles.each((function(E){var I=Math.abs(B-ie.values(E));(z>I||z===I&&(E===ie._lastChangedValue||ie.values(E)===re.min))&&(z=I,q=C(this),Q=E)})),!1!==this._start(E,Q)&&(this._mouseSliding=!0,this._handleIndex=Q,this._addClass(q,null,"ui-state-active"),q.trigger("focus"),ee=q.offset(),te=!C(E.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=te?{left:0,top:0}:{left:E.pageX-ee.left-q.width()/2,top:E.pageY-ee.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(E,Q,B),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(C){var E={x:C.pageX,y:C.pageY},I=this._normValueFromMouse(E);return this._slide(C,this._handleIndex,I),!1},_mouseStop:function(C){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(C,this._handleIndex),this._change(C,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(C){var E,I,B,z,q;return"horizontal"===this.orientation?(E=this.elementSize.width,I=C.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(E=this.elementSize.height,I=C.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(B=I/E)>1&&(B=1),B<0&&(B=0),"vertical"===this.orientation&&(B=1-B),z=this._valueMax()-this._valueMin(),q=this._valueMin()+B*z,this._trimAlignValue(q)},_uiHash:function(C,E,I){var B={handle:this.handles[C],handleIndex:C,value:void 0!==E?E:this.value()};return this._hasMultipleValues()&&(B.value=void 0!==E?E:this.values(C),B.values=I||this.values()),B},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(C,E){return this._trigger("start",C,this._uiHash(E))},_slide:function(C,E,I){var B,z=this.value(),q=this.values();this._hasMultipleValues()&&(B=this.values(E?0:1),z=this.values(E),2===this.options.values.length&&!0===this.options.range&&(I=0===E?Math.min(B,I):Math.max(B,I)),q[E]=I),I!==z&&!1!==this._trigger("slide",C,this._uiHash(E,I,q))&&(this._hasMultipleValues()?this.values(E,I):this.value(I))},_stop:function(C,E){this._trigger("stop",C,this._uiHash(E))},_change:function(C,E){this._keySliding||this._mouseSliding||(this._lastChangedValue=E,this._trigger("change",C,this._uiHash(E)))},value:function(C){return arguments.length?(this.options.value=this._trimAlignValue(C),this._refreshValue(),void this._change(null,0)):this._value()},values:function(C,E){var I,B,z;if(arguments.length>1)return this.options.values[C]=this._trimAlignValue(E),this._refreshValue(),void this._change(null,C);if(!arguments.length)return this._values();if(!Array.isArray(arguments[0]))return this._hasMultipleValues()?this._values(C):this.value();for(I=this.options.values,B=arguments[0],z=0;z<I.length;z+=1)I[z]=this._trimAlignValue(B[z]),this._change(null,z);this._refreshValue()},_setOption:function(C,E){var I,B=0;switch("range"===C&&!0===this.options.range&&("min"===E?(this.options.value=this._values(0),this.options.values=null):"max"===E&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(B=this.options.values.length),this._super(C,E),C){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(E),this.handles.css("horizontal"===E?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),I=B-1;I>=0;I--)this._change(null,I);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(C){this._super(C),this._toggleClass(null,"ui-state-disabled",!!C)},_value:function(){var C=this.options.value;return C=this._trimAlignValue(C)},_values:function(C){var E,I,B;if(arguments.length)return E=this.options.values[C],E=this._trimAlignValue(E);if(this._hasMultipleValues()){for(I=this.options.values.slice(),B=0;B<I.length;B+=1)I[B]=this._trimAlignValue(I[B]);return I}return[]},_trimAlignValue:function(C){if(C<=this._valueMin())return this._valueMin();if(C>=this._valueMax())return this._valueMax();var E=this.options.step>0?this.options.step:1,I=(C-this._valueMin())%E,B=C-I;return 2*Math.abs(I)>=E&&(B+=I>0?E:-E),parseFloat(B.toFixed(5))},_calculateNewMax:function(){var C=this.options.max,E=this._valueMin(),I=this.options.step;(C=Math.round((C-E)/I)*I+E)>this.options.max&&(C-=I),this.max=parseFloat(C.toFixed(this._precision()))},_precision:function(){var C=this._precisionOf(this.options.step);return null!==this.options.min&&(C=Math.max(C,this._precisionOf(this.options.min))),C},_precisionOf:function(C){var E=C.toString(),I=E.indexOf(".");return-1===I?0:E.length-I-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(C){"vertical"===C&&this.range.css({width:"",left:""}),"horizontal"===C&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var E,I,B,z,q,Q=this.options.range,ee=this.options,te=this,ie=!this._animateOff&&ee.animate,re={};this._hasMultipleValues()?this.handles.each((function(B){I=(te.values(B)-te._valueMin())/(te._valueMax()-te._valueMin())*100,re["horizontal"===te.orientation?"left":"bottom"]=I+"%",C(this).stop(1,1)[ie?"animate":"css"](re,ee.animate),!0===te.options.range&&("horizontal"===te.orientation?(0===B&&te.range.stop(1,1)[ie?"animate":"css"]({left:I+"%"},ee.animate),1===B&&te.range[ie?"animate":"css"]({width:I-E+"%"},{queue:!1,duration:ee.animate})):(0===B&&te.range.stop(1,1)[ie?"animate":"css"]({bottom:I+"%"},ee.animate),1===B&&te.range[ie?"animate":"css"]({height:I-E+"%"},{queue:!1,duration:ee.animate}))),E=I})):(B=this.value(),z=this._valueMin(),q=this._valueMax(),I=q!==z?(B-z)/(q-z)*100:0,re["horizontal"===this.orientation?"left":"bottom"]=I+"%",this.handle.stop(1,1)[ie?"animate":"css"](re,ee.animate),"min"===Q&&"horizontal"===this.orientation&&this.range.stop(1,1)[ie?"animate":"css"]({width:I+"%"},ee.animate),"max"===Q&&"horizontal"===this.orientation&&this.range.stop(1,1)[ie?"animate":"css"]({width:100-I+"%"},ee.animate),"min"===Q&&"vertical"===this.orientation&&this.range.stop(1,1)[ie?"animate":"css"]({height:I+"%"},ee.animate),"max"===Q&&"vertical"===this.orientation&&this.range.stop(1,1)[ie?"animate":"css"]({height:100-I+"%"},ee.animate))},_handleEvents:{keydown:function(E){var I,B,z,q=C(E.target).data("ui-slider-handle-index");switch(E.keyCode){case C.ui.keyCode.HOME:case C.ui.keyCode.END:case C.ui.keyCode.PAGE_UP:case C.ui.keyCode.PAGE_DOWN:case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(E.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(C(E.target),null,"ui-state-active"),!1===this._start(E,q)))return}switch(z=this.options.step,I=B=this._hasMultipleValues()?this.values(q):this.value(),E.keyCode){case C.ui.keyCode.HOME:B=this._valueMin();break;case C.ui.keyCode.END:B=this._valueMax();break;case C.ui.keyCode.PAGE_UP:B=this._trimAlignValue(I+(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.PAGE_DOWN:B=this._trimAlignValue(I-(this._valueMax()-this._valueMin())/this.numPages);break;case C.ui.keyCode.UP:case C.ui.keyCode.RIGHT:if(I===this._valueMax())return;B=this._trimAlignValue(I+z);break;case C.ui.keyCode.DOWN:case C.ui.keyCode.LEFT:if(I===this._valueMin())return;B=this._trimAlignValue(I-z)}this._slide(E,q,B)},keyup:function(E){var I=C(E.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(E,I),this._change(E,I),this._removeClass(C(E.target),null,"ui-state-active"))}}}),C.widget("ui.sortable",C.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(C,E,I){return C>=E&&C<E+I},_isFloating:function(C){return/left|right/.test(C.css("float"))||/inline|table-cell/.test(C.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(C,E){this._super(C,E),"handle"===C&&this._setHandleClassName()},_setHandleClassName:function(){var E=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),C.each(this.items,(function(){E._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var C=this.items.length-1;C>=0;C--)this.items[C].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(E,I){var B=null,z=!1,q=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(E),C(E.target).parents().each((function(){if(C.data(this,q.widgetName+"-item")===q)return B=C(this),!1})),C.data(E.target,q.widgetName+"-item")===q&&(B=C(E.target)),!!B&&(!(this.options.handle&&!I&&(C(this.options.handle,B).find("*").addBack().each((function(){this===E.target&&(z=!0)})),!z))&&(this.currentItem=B,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(E,I,B){var z,q,Q=this.options;if(this.currentContainer=this,this.refreshPositions(),this.appendTo=C("parent"!==Q.appendTo?Q.appendTo:this.currentItem.parent()),this.helper=this._createHelper(E),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},C.extend(this.offset,{click:{left:E.pageX-this.offset.left,top:E.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),Q.cursorAt&&this._adjustOffsetFromHelper(Q.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),C.extend(this.offset,{parent:this._getParentOffset()}),Q.containment&&this._setContainment(),Q.cursor&&"auto"!==Q.cursor&&(q=this.document.find("body"),this.storedCursor=q.css("cursor"),q.css("cursor",Q.cursor),this.storedStylesheet=C("<style>*{ cursor: "+Q.cursor+" !important; }</style>").appendTo(q)),Q.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",Q.zIndex)),Q.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",Q.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",E,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!B)for(z=this.containers.length-1;z>=0;z--)this.containers[z]._trigger("activate",E,this._uiHash(this));return C.ui.ddmanager&&(C.ui.ddmanager.current=this),C.ui.ddmanager&&!Q.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,E),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(E),this.originalPageX=E.pageX,this.originalPageY=E.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(E),!0},_scroll:function(C){var E=this.options,I=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-C.pageY<E.scrollSensitivity?this.scrollParent[0].scrollTop=I=this.scrollParent[0].scrollTop+E.scrollSpeed:C.pageY-this.overflowOffset.top<E.scrollSensitivity&&(this.scrollParent[0].scrollTop=I=this.scrollParent[0].scrollTop-E.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-C.pageX<E.scrollSensitivity?this.scrollParent[0].scrollLeft=I=this.scrollParent[0].scrollLeft+E.scrollSpeed:C.pageX-this.overflowOffset.left<E.scrollSensitivity&&(this.scrollParent[0].scrollLeft=I=this.scrollParent[0].scrollLeft-E.scrollSpeed)):(C.pageY-this.document.scrollTop()<E.scrollSensitivity?I=this.document.scrollTop(this.document.scrollTop()-E.scrollSpeed):this.window.height()-(C.pageY-this.document.scrollTop())<E.scrollSensitivity&&(I=this.document.scrollTop(this.document.scrollTop()+E.scrollSpeed)),C.pageX-this.document.scrollLeft()<E.scrollSensitivity?I=this.document.scrollLeft(this.document.scrollLeft()-E.scrollSpeed):this.window.width()-(C.pageX-this.document.scrollLeft())<E.scrollSensitivity&&(I=this.document.scrollLeft(this.document.scrollLeft()+E.scrollSpeed))),I},_mouseDrag:function(E){var I,B,z,q,Q=this.options;for(this.position=this._generatePosition(E),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),Q.scroll&&!1!==this._scroll(E)&&(this._refreshItemPositions(!0),C.ui.ddmanager&&!Q.dropBehaviour&&C.ui.ddmanager.prepareOffsets(this,E)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},I=this.items.length-1;I>=0;I--)if(z=(B=this.items[I]).item[0],(q=this._intersectsWithPointer(B))&&B.instance===this.currentContainer&&!(z===this.currentItem[0]||this.placeholder[1===q?"next":"prev"]()[0]===z||C.contains(this.placeholder[0],z)||"semi-dynamic"===this.options.type&&C.contains(this.element[0],z))){if(this.direction=1===q?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(B))break;this._rearrange(E,B),this._trigger("change",E,this._uiHash());break}return this._contactContainers(E),C.ui.ddmanager&&C.ui.ddmanager.drag(this,E),this._trigger("sort",E,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(E,I){if(E){if(C.ui.ddmanager&&!this.options.dropBehaviour&&C.ui.ddmanager.drop(this,E),this.options.revert){var B=this,z=this.placeholder.offset(),q=this.options.axis,Q={};q&&"x"!==q||(Q.left=z.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),q&&"y"!==q||(Q.top=z.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,C(this.helper).animate(Q,parseInt(this.options.revert,10)||500,(function(){B._clear(E)}))}else this._clear(E,I);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new C.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var E=this.containers.length-1;E>=0;E--)this.containers[E]._trigger("deactivate",null,this._uiHash(this)),this.containers[E].containerCache.over&&(this.containers[E]._trigger("out",null,this._uiHash(this)),this.containers[E].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),C.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?C(this.domPosition.prev).after(this.currentItem):C(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(E){var I=this._getItemsAsjQuery(E&&E.connected),B=[];return E=E||{},C(I).each((function(){var I=(C(E.item||this).attr(E.attribute||"id")||"").match(E.expression||/(.+)[\-=_](.+)/);I&&B.push((E.key||I[1]+"[]")+"="+(E.key&&E.expression?I[1]:I[2]))})),!B.length&&E.key&&B.push(E.key+"="),B.join("&")},toArray:function(E){var I=this._getItemsAsjQuery(E&&E.connected),B=[];return E=E||{},I.each((function(){B.push(C(E.item||this).attr(E.attribute||"id")||"")})),B},_intersectsWith:function(C){var E=this.positionAbs.left,I=E+this.helperProportions.width,B=this.positionAbs.top,z=B+this.helperProportions.height,q=C.left,Q=q+C.width,ee=C.top,te=ee+C.height,ie=this.offset.click.top,re=this.offset.click.left,ne="x"===this.options.axis||B+ie>ee&&B+ie<te,se="y"===this.options.axis||E+re>q&&E+re<Q,oe=ne&&se;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>C[this.floating?"width":"height"]?oe:q<E+this.helperProportions.width/2&&I-this.helperProportions.width/2<Q&&ee<B+this.helperProportions.height/2&&z-this.helperProportions.height/2<te},_intersectsWithPointer:function(C){var E,I,B="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,C.top,C.height),z="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,C.left,C.width);return!(!B||!z)&&(E=this.dragDirection.vertical,I=this.dragDirection.horizontal,this.floating?"right"===I||"down"===E?2:1:E&&("down"===E?2:1))},_intersectsWithSides:function(C){var E=this._isOverAxis(this.positionAbs.top+this.offset.click.top,C.top+C.height/2,C.height),I=this._isOverAxis(this.positionAbs.left+this.offset.click.left,C.left+C.width/2,C.width),B=this.dragDirection.vertical,z=this.dragDirection.horizontal;return this.floating&&z?"right"===z&&I||"left"===z&&!I:B&&("down"===B&&E||"up"===B&&!E)},_getDragVerticalDirection:function(){var C=this.positionAbs.top-this.lastPositionAbs.top;return 0!==C&&(C>0?"down":"up")},_getDragHorizontalDirection:function(){var C=this.positionAbs.left-this.lastPositionAbs.left;return 0!==C&&(C>0?"right":"left")},refresh:function(C){return this._refreshItems(C),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var C=this.options;return C.connectWith.constructor===String?[C.connectWith]:C.connectWith},_getItemsAsjQuery:function(E){var I,B,z,q,Q=[],ee=[],te=this._connectWith();if(te&&E)for(I=te.length-1;I>=0;I--)for(B=(z=C(te[I],this.document[0])).length-1;B>=0;B--)(q=C.data(z[B],this.widgetFullName))&&q!==this&&!q.options.disabled&&ee.push(["function"==typeof q.options.items?q.options.items.call(q.element):C(q.options.items,q.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),q]);function addItems(){Q.push(this)}for(ee.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):C(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),I=ee.length-1;I>=0;I--)ee[I][0].each(addItems);return C(Q)},_removeCurrentsFromItems:function(){var E=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=C.grep(this.items,(function(C){for(var I=0;I<E.length;I++)if(E[I]===C.item[0])return!1;return!0}))},_refreshItems:function(E){this.items=[],this.containers=[this];var I,B,z,q,Q,ee,te,ie,re=this.items,ne=[["function"==typeof this.options.items?this.options.items.call(this.element[0],E,{item:this.currentItem}):C(this.options.items,this.element),this]],se=this._connectWith();if(se&&this.ready)for(I=se.length-1;I>=0;I--)for(B=(z=C(se[I],this.document[0])).length-1;B>=0;B--)(q=C.data(z[B],this.widgetFullName))&&q!==this&&!q.options.disabled&&(ne.push(["function"==typeof q.options.items?q.options.items.call(q.element[0],E,{item:this.currentItem}):C(q.options.items,q.element),q]),this.containers.push(q));for(I=ne.length-1;I>=0;I--)for(Q=ne[I][1],B=0,ie=(ee=ne[I][0]).length;B<ie;B++)(te=C(ee[B])).data(this.widgetName+"-item",Q),re.push({item:te,instance:Q,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(E){var I,B,z,q;for(I=this.items.length-1;I>=0;I--)B=this.items[I],this.currentContainer&&B.instance!==this.currentContainer&&B.item[0]!==this.currentItem[0]||(z=this.options.toleranceElement?C(this.options.toleranceElement,B.item):B.item,E||(B.width=z.outerWidth(),B.height=z.outerHeight()),q=z.offset(),B.left=q.left,B.top=q.top)},refreshPositions:function(C){var E,I;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(C),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(E=this.containers.length-1;E>=0;E--)I=this.containers[E].element.offset(),this.containers[E].containerCache.left=I.left,this.containers[E].containerCache.top=I.top,this.containers[E].containerCache.width=this.containers[E].element.outerWidth(),this.containers[E].containerCache.height=this.containers[E].element.outerHeight();return this},_createPlaceholder:function(E){var I,B,z=(E=E||this).options;z.placeholder&&z.placeholder.constructor!==String||(I=z.placeholder,B=E.currentItem[0].nodeName.toLowerCase(),z.placeholder={element:function(){var z=C("<"+B+">",E.document[0]);return E._addClass(z,"ui-sortable-placeholder",I||E.currentItem[0].className)._removeClass(z,"ui-sortable-helper"),"tbody"===B?E._createTrPlaceholder(E.currentItem.find("tr").eq(0),C("<tr>",E.document[0]).appendTo(z)):"tr"===B?E._createTrPlaceholder(E.currentItem,z):"img"===B&&z.attr("src",E.currentItem.attr("src")),I||z.css("visibility","hidden"),z},update:function(C,q){I&&!z.forcePlaceholderSize||(q.height()&&(!z.forcePlaceholderSize||"tbody"!==B&&"tr"!==B)||q.height(E.currentItem.innerHeight()-parseInt(E.currentItem.css("paddingTop")||0,10)-parseInt(E.currentItem.css("paddingBottom")||0,10)),q.width()||q.width(E.currentItem.innerWidth()-parseInt(E.currentItem.css("paddingLeft")||0,10)-parseInt(E.currentItem.css("paddingRight")||0,10)))}}),E.placeholder=C(z.placeholder.element.call(E.element,E.currentItem)),E.currentItem.after(E.placeholder),z.placeholder.update(E,E.placeholder)},_createTrPlaceholder:function(E,I){var B=this;E.children().each((function(){C("<td>&#160;</td>",B.document[0]).attr("colspan",C(this).attr("colspan")||1).appendTo(I)}))},_contactContainers:function(E){var I,B,z,q,Q,ee,te,ie,re,ne,se=null,oe=null;for(I=this.containers.length-1;I>=0;I--)if(!C.contains(this.currentItem[0],this.containers[I].element[0]))if(this._intersectsWith(this.containers[I].containerCache)){if(se&&C.contains(this.containers[I].element[0],se.element[0]))continue;se=this.containers[I],oe=I}else this.containers[I].containerCache.over&&(this.containers[I]._trigger("out",E,this._uiHash(this)),this.containers[I].containerCache.over=0);if(se)if(1===this.containers.length)this.containers[oe].containerCache.over||(this.containers[oe]._trigger("over",E,this._uiHash(this)),this.containers[oe].containerCache.over=1);else{for(z=1e4,q=null,Q=(re=se.floating||this._isFloating(this.currentItem))?"left":"top",ee=re?"width":"height",ne=re?"pageX":"pageY",B=this.items.length-1;B>=0;B--)C.contains(this.containers[oe].element[0],this.items[B].item[0])&&this.items[B].item[0]!==this.currentItem[0]&&(te=this.items[B].item.offset()[Q],ie=!1,E[ne]-te>this.items[B][ee]/2&&(ie=!0),Math.abs(E[ne]-te)<z&&(z=Math.abs(E[ne]-te),q=this.items[B],this.direction=ie?"up":"down"));if(!q&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[oe])return void(this.currentContainer.containerCache.over||(this.containers[oe]._trigger("over",E,this._uiHash()),this.currentContainer.containerCache.over=1));q?this._rearrange(E,q,null,!0):this._rearrange(E,null,this.containers[oe].element,!0),this._trigger("change",E,this._uiHash()),this.containers[oe]._trigger("change",E,this._uiHash(this)),this.currentContainer=this.containers[oe],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[oe]._trigger("over",E,this._uiHash(this)),this.containers[oe].containerCache.over=1}},_createHelper:function(E){var I=this.options,B="function"==typeof I.helper?C(I.helper.apply(this.element[0],[E,this.currentItem])):"clone"===I.helper?this.currentItem.clone():this.currentItem;return B.parents("body").length||this.appendTo[0].appendChild(B[0]),B[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),B[0].style.width&&!I.forceHelperSize||B.width(this.currentItem.width()),B[0].style.height&&!I.forceHelperSize||B.height(this.currentItem.height()),B},_adjustOffsetFromHelper:function(C){"string"==typeof C&&(C=C.split(" ")),Array.isArray(C)&&(C={left:+C[0],top:+C[1]||0}),"left"in C&&(this.offset.click.left=C.left+this.margins.left),"right"in C&&(this.offset.click.left=this.helperProportions.width-C.right+this.margins.left),"top"in C&&(this.offset.click.top=C.top+this.margins.top),"bottom"in C&&(this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var E=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])&&(E.left+=this.scrollParent.scrollLeft(),E.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&C.ui.ie)&&(E={top:0,left:0}),{top:E.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:E.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var C=this.currentItem.position();return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:C.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var E,I,B,z=this.options;"parent"===z.containment&&(z.containment=this.helper[0].parentNode),"document"!==z.containment&&"window"!==z.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===z.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===z.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(z.containment)||(E=C(z.containment)[0],I=C(z.containment).offset(),B="hidden"!==C(E).css("overflow"),this.containment=[I.left+(parseInt(C(E).css("borderLeftWidth"),10)||0)+(parseInt(C(E).css("paddingLeft"),10)||0)-this.margins.left,I.top+(parseInt(C(E).css("borderTopWidth"),10)||0)+(parseInt(C(E).css("paddingTop"),10)||0)-this.margins.top,I.left+(B?Math.max(E.scrollWidth,E.offsetWidth):E.offsetWidth)-(parseInt(C(E).css("borderLeftWidth"),10)||0)-(parseInt(C(E).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,I.top+(B?Math.max(E.scrollHeight,E.offsetHeight):E.offsetHeight)-(parseInt(C(E).css("borderTopWidth"),10)||0)-(parseInt(C(E).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(E,I){I||(I=this.position);var B="absolute"===E?1:-1,z="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,q=/(html|body)/i.test(z[0].tagName);return{top:I.top+this.offset.relative.top*B+this.offset.parent.top*B-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():q?0:z.scrollTop())*B,left:I.left+this.offset.relative.left*B+this.offset.parent.left*B-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():q?0:z.scrollLeft())*B}},_generatePosition:function(E){var I,B,z=this.options,q=E.pageX,Q=E.pageY,ee="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&C.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,te=/(html|body)/i.test(ee[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(E.pageX-this.offset.click.left<this.containment[0]&&(q=this.containment[0]+this.offset.click.left),E.pageY-this.offset.click.top<this.containment[1]&&(Q=this.containment[1]+this.offset.click.top),E.pageX-this.offset.click.left>this.containment[2]&&(q=this.containment[2]+this.offset.click.left),E.pageY-this.offset.click.top>this.containment[3]&&(Q=this.containment[3]+this.offset.click.top)),z.grid&&(I=this.originalPageY+Math.round((Q-this.originalPageY)/z.grid[1])*z.grid[1],Q=this.containment?I-this.offset.click.top>=this.containment[1]&&I-this.offset.click.top<=this.containment[3]?I:I-this.offset.click.top>=this.containment[1]?I-z.grid[1]:I+z.grid[1]:I,B=this.originalPageX+Math.round((q-this.originalPageX)/z.grid[0])*z.grid[0],q=this.containment?B-this.offset.click.left>=this.containment[0]&&B-this.offset.click.left<=this.containment[2]?B:B-this.offset.click.left>=this.containment[0]?B-z.grid[0]:B+z.grid[0]:B)),{top:Q-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():te?0:ee.scrollTop()),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():te?0:ee.scrollLeft())}},_rearrange:function(C,E,I,B){I?I[0].appendChild(this.placeholder[0]):E.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?E.item[0]:E.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var z=this.counter;this._delay((function(){z===this.counter&&this.refreshPositions(!B)}))},_clear:function(C,E){this.reverting=!1;var I,B=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(I in this._storedCSS)"auto"!==this._storedCSS[I]&&"static"!==this._storedCSS[I]||(this._storedCSS[I]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function delayEvent(C,E,I){return function(B){I._trigger(C,B,E._uiHash(E))}}for(this.fromOutside&&!E&&B.push((function(C){this._trigger("receive",C,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||E||B.push((function(C){this._trigger("update",C,this._uiHash())})),this!==this.currentContainer&&(E||(B.push((function(C){this._trigger("remove",C,this._uiHash())})),B.push(function(C){return function(E){C._trigger("receive",E,this._uiHash(this))}}.call(this,this.currentContainer)),B.push(function(C){return function(E){C._trigger("update",E,this._uiHash(this))}}.call(this,this.currentContainer)))),I=this.containers.length-1;I>=0;I--)E||B.push(delayEvent("deactivate",this,this.containers[I])),this.containers[I].containerCache.over&&(B.push(delayEvent("out",this,this.containers[I])),this.containers[I].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,E||this._trigger("beforeStop",C,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!E){for(I=0;I<B.length;I++)B[I].call(this,C);this._trigger("stop",C,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===C.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(E){var I=E||this;return{helper:I.helper,placeholder:I.placeholder||C([]),position:I.position,originalPosition:I.originalPosition,offset:I.positionAbs,item:I.currentItem,sender:E?E.element:null}}});function spinnerModifier(C){return function(){var E=this.element.val();C.apply(this,arguments),this._refresh(),E!==this.element.val()&&this._trigger("change")}}C.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var E=this._super(),I=this.element;return C.each(["min","max","step"],(function(C,B){var z=I.attr(B);null!=z&&z.length&&(E[B]=z)})),E},_events:{keydown:function(C){this._start(C)&&this._keydown(C)&&C.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(C){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",C))},mousewheel:function(E,I){var B=C.ui.safeActiveElement(this.document[0]);if(this.element[0]===B&&I){if(!this.spinning&&!this._start(E))return!1;this._spin((I>0?1:-1)*this.options.step,E),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(E)}),100),E.preventDefault()}},"mousedown .ui-spinner-button":function(E){var I;function checkFocus(){this.element[0]===C.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=I,this._delay((function(){this.previous=I})))}I=this.element[0]===C.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),E.preventDefault(),checkFocus.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,checkFocus.call(this)})),!1!==this._start(E)&&this._repeat(null,C(E.currentTarget).hasClass("ui-spinner-up")?1:-1,E)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(E){if(C(E.currentTarget).hasClass("ui-state-active"))return!1!==this._start(E)&&void this._repeat(null,C(E.currentTarget).hasClass("ui-spinner-up")?1:-1,E)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(E){var I=this.options,B=C.ui.keyCode;switch(E.keyCode){case B.UP:return this._repeat(null,1,E),!0;case B.DOWN:return this._repeat(null,-1,E),!0;case B.PAGE_UP:return this._repeat(null,I.page,E),!0;case B.PAGE_DOWN:return this._repeat(null,-I.page,E),!0}return!1},_start:function(C){return!(!this.spinning&&!1===this._trigger("start",C))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(C,E,I){C=C||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,E,I)}),C),this._spin(E*this.options.step,I)},_spin:function(C,E){var I=this.value()||0;this.counter||(this.counter=1),I=this._adjustValue(I+C*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",E,{value:I})||(this._value(I),this.counter++)},_increment:function(C){var E=this.options.incremental;return E?"function"==typeof E?E(C):Math.floor(C*C*C/5e4-C*C/500+17*C/200+1):1},_precision:function(){var C=this._precisionOf(this.options.step);return null!==this.options.min&&(C=Math.max(C,this._precisionOf(this.options.min))),C},_precisionOf:function(C){var E=C.toString(),I=E.indexOf(".");return-1===I?0:E.length-I-1},_adjustValue:function(C){var E,I,B=this.options;return I=C-(E=null!==B.min?B.min:0),C=E+(I=Math.round(I/B.step)*B.step),C=parseFloat(C.toFixed(this._precision())),null!==B.max&&C>B.max?B.max:null!==B.min&&C<B.min?B.min:C},_stop:function(C){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",C))},_setOption:function(C,E){var I,B,z;if("culture"===C||"numberFormat"===C)return I=this._parse(this.element.val()),this.options[C]=E,void this.element.val(this._format(I));"max"!==C&&"min"!==C&&"step"!==C||"string"==typeof E&&(E=this._parse(E)),"icons"===C&&(B=this.buttons.first().find(".ui-icon"),this._removeClass(B,null,this.options.icons.up),this._addClass(B,null,E.up),z=this.buttons.last().find(".ui-icon"),this._removeClass(z,null,this.options.icons.down),this._addClass(z,null,E.down)),this._super(C,E)},_setOptionDisabled:function(C){this._super(C),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!C),this.element.prop("disabled",!!C),this.buttons.button(C?"disable":"enable")},_setOptions:spinnerModifier((function(C){this._super(C)})),_parse:function(C){return"string"==typeof C&&""!==C&&(C=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(C,10,this.options.culture):+C),""===C||isNaN(C)?null:C},_format:function(C){return""===C?"":window.Globalize&&this.options.numberFormat?Globalize.format(C,this.options.numberFormat,this.options.culture):C},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var C=this.value();return null!==C&&C===this._adjustValue(C)},_value:function(C,E){var I;""!==C&&null!==(I=this._parse(C))&&(E||(I=this._adjustValue(I)),C=this._format(I)),this.element.val(C),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:spinnerModifier((function(C){this._stepUp(C)})),_stepUp:function(C){this._start()&&(this._spin((C||1)*this.options.step),this._stop())},stepDown:spinnerModifier((function(C){this._stepDown(C)})),_stepDown:function(C){this._start()&&(this._spin((C||1)*-this.options.step),this._stop())},pageUp:spinnerModifier((function(C){this._stepUp((C||1)*this.options.page)})),pageDown:spinnerModifier((function(C){this._stepDown((C||1)*this.options.page)})),value:function(C){if(!arguments.length)return this._parse(this.element.val());spinnerModifier(this._value).call(this,C)},widget:function(){return this.uiSpinner}}),!1!==C.uiBackCompat&&C.widget("ui.spinner",C.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});C.ui.spinner;C.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var C=/#.*$/;return function(E){var I,B;I=E.href.replace(C,""),B=location.href.replace(C,"");try{I=decodeURIComponent(I)}catch(C){}try{B=decodeURIComponent(B)}catch(C){}return E.hash.length>1&&I===B}}(),_create:function(){var E=this,I=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,I.collapsible),this._processTabs(),I.active=this._initialActive(),Array.isArray(I.disabled)&&(I.disabled=C.uniqueSort(I.disabled.concat(C.map(this.tabs.filter(".ui-state-disabled"),(function(C){return E.tabs.index(C)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(I.active):this.active=C(),this._refresh(),this.active.length&&this.load(I.active)},_initialActive:function(){var E=this.options.active,I=this.options.collapsible,B=location.hash.substring(1);return null===E&&(B&&this.tabs.each((function(I,z){if(C(z).attr("aria-controls")===B)return E=I,!1})),null===E&&(E=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==E&&-1!==E||(E=!!this.tabs.length&&0)),!1!==E&&-1===(E=this.tabs.index(this.tabs.eq(E)))&&(E=!I&&0),!I&&!1===E&&this.anchors.length&&(E=0),E},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):C()}},_tabKeydown:function(E){var I=C(C.ui.safeActiveElement(this.document[0])).closest("li"),B=this.tabs.index(I),z=!0;if(!this._handlePageNav(E)){switch(E.keyCode){case C.ui.keyCode.RIGHT:case C.ui.keyCode.DOWN:B++;break;case C.ui.keyCode.UP:case C.ui.keyCode.LEFT:z=!1,B--;break;case C.ui.keyCode.END:B=this.anchors.length-1;break;case C.ui.keyCode.HOME:B=0;break;case C.ui.keyCode.SPACE:return E.preventDefault(),clearTimeout(this.activating),void this._activate(B);case C.ui.keyCode.ENTER:return E.preventDefault(),clearTimeout(this.activating),void this._activate(B!==this.options.active&&B);default:return}E.preventDefault(),clearTimeout(this.activating),B=this._focusNextTab(B,z),E.ctrlKey||E.metaKey||(I.attr("aria-selected","false"),this.tabs.eq(B).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",B)}),this.delay))}},_panelKeydown:function(E){this._handlePageNav(E)||E.ctrlKey&&E.keyCode===C.ui.keyCode.UP&&(E.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(E){return E.altKey&&E.keyCode===C.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):E.altKey&&E.keyCode===C.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(E,I){var B=this.tabs.length-1;function constrain(){return E>B&&(E=0),E<0&&(E=B),E}for(;-1!==C.inArray(constrain(),this.options.disabled);)E=I?E+1:E-1;return E},_focusNextTab:function(C,E){return C=this._findNextTab(C,E),this.tabs.eq(C).trigger("focus"),C},_setOption:function(C,E){"active"!==C?(this._super(C,E),"collapsible"===C&&(this._toggleClass("ui-tabs-collapsible",null,E),E||!1!==this.options.active||this._activate(0)),"event"===C&&this._setupEvents(E),"heightStyle"===C&&this._setupHeightStyle(E)):this._activate(E)},_sanitizeSelector:function(C){return C?C.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var E=this.options,I=this.tablist.children(":has(a[href])");E.disabled=C.map(I.filter(".ui-state-disabled"),(function(C){return I.index(C)})),this._processTabs(),!1!==E.active&&this.anchors.length?this.active.length&&!C.contains(this.tablist[0],this.active[0])?this.tabs.length===E.disabled.length?(E.active=!1,this.active=C()):this._activate(this._findNextTab(Math.max(0,E.active-1),!1)):E.active=this.tabs.index(this.active):(E.active=!1,this.active=C()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var E=this,I=this.tabs,B=this.anchors,z=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(E){C(this).is(".ui-state-disabled")&&E.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){C(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return C("a",this)[0]})).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=C(),this.anchors.each((function(I,B){var z,q,Q,ee=C(B).uniqueId().attr("id"),te=C(B).closest("li"),ie=te.attr("aria-controls");E._isLocal(B)?(Q=(z=B.hash).substring(1),q=E.element.find(E._sanitizeSelector(z))):(z="#"+(Q=te.attr("aria-controls")||C({}).uniqueId()[0].id),(q=E.element.find(z)).length||(q=E._createPanel(Q)).insertAfter(E.panels[I-1]||E.tablist),q.attr("aria-live","polite")),q.length&&(E.panels=E.panels.add(q)),ie&&te.data("ui-tabs-aria-controls",ie),te.attr({"aria-controls":Q,"aria-labelledby":ee}),q.attr("aria-labelledby",ee)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),I&&(this._off(I.not(this.tabs)),this._off(B.not(this.anchors)),this._off(z.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(E){return C("<div>").attr("id",E).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(E){var I,B,z;for(Array.isArray(E)&&(E.length?E.length===this.anchors.length&&(E=!0):E=!1),z=0;B=this.tabs[z];z++)I=C(B),!0===E||-1!==C.inArray(z,E)?(I.attr("aria-disabled","true"),this._addClass(I,null,"ui-state-disabled")):(I.removeAttr("aria-disabled"),this._removeClass(I,null,"ui-state-disabled"));this.options.disabled=E,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===E)},_setupEvents:function(E){var I={};E&&C.each(E.split(" "),(function(C,E){I[E]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(C){C.preventDefault()}}),this._on(this.anchors,I),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(E){var I,B=this.element.parent();"fill"===E?(I=B.height(),I-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var E=C(this),B=E.css("position");"absolute"!==B&&"fixed"!==B&&(I-=E.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){I-=C(this).outerHeight(!0)})),this.panels.each((function(){C(this).height(Math.max(0,I-C(this).innerHeight()+C(this).height()))})).css("overflow","auto")):"auto"===E&&(I=0,this.panels.each((function(){I=Math.max(I,C(this).height("").height())})).height(I))},_eventHandler:function(E){var I=this.options,B=this.active,z=C(E.currentTarget).closest("li"),q=z[0]===B[0],Q=q&&I.collapsible,ee=Q?C():this._getPanelForTab(z),te=B.length?this._getPanelForTab(B):C(),ie={oldTab:B,oldPanel:te,newTab:Q?C():z,newPanel:ee};E.preventDefault(),z.hasClass("ui-state-disabled")||z.hasClass("ui-tabs-loading")||this.running||q&&!I.collapsible||!1===this._trigger("beforeActivate",E,ie)||(I.active=!Q&&this.tabs.index(z),this.active=q?C():z,this.xhr&&this.xhr.abort(),te.length||ee.length||C.error("jQuery UI Tabs: Mismatching fragment identifier."),ee.length&&this.load(this.tabs.index(z),E),this._toggle(E,ie))},_toggle:function(E,I){var B=this,z=I.newPanel,q=I.oldPanel;function complete(){B.running=!1,B._trigger("activate",E,I)}function show(){B._addClass(I.newTab.closest("li"),"ui-tabs-active","ui-state-active"),z.length&&B.options.show?B._show(z,B.options.show,complete):(z.show(),complete())}this.running=!0,q.length&&this.options.hide?this._hide(q,this.options.hide,(function(){B._removeClass(I.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),show()})):(this._removeClass(I.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),q.hide(),show()),q.attr("aria-hidden","true"),I.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),z.length&&q.length?I.oldTab.attr("tabIndex",-1):z.length&&this.tabs.filter((function(){return 0===C(this).attr("tabIndex")})).attr("tabIndex",-1),z.attr("aria-hidden","false"),I.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(E){var I,B=this._findActive(E);B[0]!==this.active[0]&&(B.length||(B=this.active),I=B.find(".ui-tabs-anchor")[0],this._eventHandler({target:I,currentTarget:I,preventDefault:C.noop}))},_findActive:function(E){return!1===E?C():this.tabs.eq(E)},_getIndex:function(E){return"string"==typeof E&&(E=this.anchors.index(this.anchors.filter("[href$='"+C.escapeSelector(E)+"']"))),E},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){C.data(this,"ui-tabs-destroy")?C(this).remove():C(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var E=C(this),I=E.data("ui-tabs-aria-controls");I?E.attr("aria-controls",I).removeData("ui-tabs-aria-controls"):E.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(E){var I=this.options.disabled;!1!==I&&(void 0===E?I=!1:(E=this._getIndex(E),I=Array.isArray(I)?C.map(I,(function(C){return C!==E?C:null})):C.map(this.tabs,(function(C,I){return I!==E?I:null}))),this._setOptionDisabled(I))},disable:function(E){var I=this.options.disabled;if(!0!==I){if(void 0===E)I=!0;else{if(E=this._getIndex(E),-1!==C.inArray(E,I))return;I=Array.isArray(I)?C.merge([E],I).sort():[E]}this._setOptionDisabled(I)}},load:function(E,I){E=this._getIndex(E);var B=this,z=this.tabs.eq(E),q=z.find(".ui-tabs-anchor"),Q=this._getPanelForTab(z),ee={tab:z,panel:Q},complete=function(C,E){"abort"===E&&B.panels.stop(!1,!0),B._removeClass(z,"ui-tabs-loading"),Q.removeAttr("aria-busy"),C===B.xhr&&delete B.xhr};this._isLocal(q[0])||(this.xhr=C.ajax(this._ajaxSettings(q,I,ee)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(z,"ui-tabs-loading"),Q.attr("aria-busy","true"),this.xhr.done((function(C,E,z){setTimeout((function(){Q.html(C),B._trigger("load",I,ee),complete(z,E)}),1)})).fail((function(C,E){setTimeout((function(){complete(C,E)}),1)}))))},_ajaxSettings:function(E,I,B){var z=this;return{url:E.attr("href").replace(/#.*$/,""),beforeSend:function(E,q){return z._trigger("beforeLoad",I,C.extend({jqXHR:E,ajaxSettings:q},B))}}},_getPanelForTab:function(E){var I=C(E).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+I))}}),!1!==C.uiBackCompat&&C.widget("ui.tabs",C.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});C.ui.tabs;C.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var E=C(this).attr("title");return C("<a>").text(E).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(C,E){var I=(C.attr("aria-describedby")||"").split(/\s+/);I.push(E),C.data("ui-tooltip-id",E).attr("aria-describedby",String.prototype.trim.call(I.join(" ")))},_removeDescribedBy:function(E){var I=E.data("ui-tooltip-id"),B=(E.attr("aria-describedby")||"").split(/\s+/),z=C.inArray(I,B);-1!==z&&B.splice(z,1),E.removeData("ui-tooltip-id"),(B=String.prototype.trim.call(B.join(" ")))?E.attr("aria-describedby",B):E.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=C("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=C([])},_setOption:function(E,I){var B=this;this._super(E,I),"content"===E&&C.each(this.tooltips,(function(C,E){B._updateContent(E.element)}))},_setOptionDisabled:function(C){this[C?"_disable":"_enable"]()},_disable:function(){var E=this;C.each(this.tooltips,(function(I,B){var z=C.Event("blur");z.target=z.currentTarget=B.element[0],E.close(z,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var E=C(this);if(E.is("[title]"))return E.data("ui-tooltip-title",E.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var E=C(this);E.data("ui-tooltip-title")&&E.attr("title",E.data("ui-tooltip-title"))})),this.disabledTitles=C([])},open:function(E){var I=this,B=C(E?E.target:this.element).closest(this.options.items);B.length&&!B.data("ui-tooltip-id")&&(B.attr("title")&&B.data("ui-tooltip-title",B.attr("title")),B.data("ui-tooltip-open",!0),E&&"mouseover"===E.type&&B.parents().each((function(){var E,B=C(this);B.data("ui-tooltip-open")&&((E=C.Event("blur")).target=E.currentTarget=this,I.close(E,!0)),B.attr("title")&&(B.uniqueId(),I.parents[this.id]={element:this,title:B.attr("title")},B.attr("title",""))})),this._registerCloseHandlers(E,B),this._updateContent(B,E))},_updateContent:function(C,E){var I,B=this.options.content,z=this,q=E?E.type:null;if("string"==typeof B||B.nodeType||B.jquery)return this._open(E,C,B);(I=B.call(C[0],(function(I){z._delay((function(){C.data("ui-tooltip-open")&&(E&&(E.type=q),this._open(E,C,I))}))})))&&this._open(E,C,I)},_open:function(E,I,B){var z,q,Q,ee,te=C.extend({},this.options.position);function position(C){te.of=C,q.is(":hidden")||q.position(te)}B&&((z=this._find(I))?z.tooltip.find(".ui-tooltip-content").html(B):(I.is("[title]")&&(E&&"mouseover"===E.type?I.attr("title",""):I.removeAttr("title")),z=this._tooltip(I),q=z.tooltip,this._addDescribedBy(I,q.attr("id")),q.find(".ui-tooltip-content").html(B),this.liveRegion.children().hide(),(ee=C("<div>").html(q.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),ee.removeAttr("id").find("[id]").removeAttr("id"),ee.appendTo(this.liveRegion),this.options.track&&E&&/^mouse/.test(E.type)?(this._on(this.document,{mousemove:position}),position(E)):q.position(C.extend({of:I},this.options.position)),q.hide(),this._show(q,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(Q=this.delayedShow=setInterval((function(){q.is(":visible")&&(position(te.of),clearInterval(Q))}),13)),this._trigger("open",E,{tooltip:q})))},_registerCloseHandlers:function(E,I){var B={keyup:function(E){if(E.keyCode===C.ui.keyCode.ESCAPE){var B=C.Event(E);B.currentTarget=I[0],this.close(B,!0)}}};I[0]!==this.element[0]&&(B.remove=function(){var C=this._find(I);C&&this._removeTooltip(C.tooltip)}),E&&"mouseover"!==E.type||(B.mouseleave="close"),E&&"focusin"!==E.type||(B.focusout="close"),this._on(!0,I,B)},close:function(E){var I,B=this,z=C(E?E.currentTarget:this.element),q=this._find(z);q?(I=q.tooltip,q.closing||(clearInterval(this.delayedShow),z.data("ui-tooltip-title")&&!z.attr("title")&&z.attr("title",z.data("ui-tooltip-title")),this._removeDescribedBy(z),q.hiding=!0,I.stop(!0),this._hide(I,this.options.hide,(function(){B._removeTooltip(C(this))})),z.removeData("ui-tooltip-open"),this._off(z,"mouseleave focusout keyup"),z[0]!==this.element[0]&&this._off(z,"remove"),this._off(this.document,"mousemove"),E&&"mouseleave"===E.type&&C.each(this.parents,(function(E,I){C(I.element).attr("title",I.title),delete B.parents[E]})),q.closing=!0,this._trigger("close",E,{tooltip:I}),q.hiding||(q.closing=!1))):z.removeData("ui-tooltip-open")},_tooltip:function(E){var I=C("<div>").attr("role","tooltip"),B=C("<div>").appendTo(I),z=I.uniqueId().attr("id");return this._addClass(B,"ui-tooltip-content"),this._addClass(I,"ui-tooltip","ui-widget ui-widget-content"),I.appendTo(this._appendTo(E)),this.tooltips[z]={element:E,tooltip:I}},_find:function(C){var E=C.data("ui-tooltip-id");return E?this.tooltips[E]:null},_removeTooltip:function(C){clearInterval(this.delayedShow),C.remove(),delete this.tooltips[C.attr("id")]},_appendTo:function(C){var E=C.closest(".ui-front, dialog");return E.length||(E=this.document[0].body),E},_destroy:function(){var E=this;C.each(this.tooltips,(function(I,B){var z=C.Event("blur"),q=B.element;z.target=z.currentTarget=q[0],E.close(z,!0),C("#"+I).remove(),q.data("ui-tooltip-title")&&(q.attr("title")||q.attr("title",q.data("ui-tooltip-title")),q.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==C.uiBackCompat&&C.widget("ui.tooltip",C.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var C=this._superApply(arguments);return this.options.tooltipClass&&C.tooltip.addClass(this.options.tooltipClass),C}});C.ui.tooltip},void 0===(q="function"==typeof B?B.apply(E,z):B)||(C.exports=q)}()},4692:function(C,E){var I;!function(E,I){"use strict";"object"==typeof C.exports?C.exports=E.document?I(E,!0):function(C){if(!C.document)throw new Error("jQuery requires a window with a document");return I(C)}:I(E)}("undefined"!=typeof window?window:this,(function(B,z){"use strict";var q=[],Q=Object.getPrototypeOf,ee=q.slice,te=q.flat?function(C){return q.flat.call(C)}:function(C){return q.concat.apply([],C)},ie=q.push,re=q.indexOf,ne={},se=ne.toString,oe=ne.hasOwnProperty,ae=oe.toString,le=ae.call(Object),ue={},de=function isFunction(C){return"function"==typeof C&&"number"!=typeof C.nodeType&&"function"!=typeof C.item},ce=function isWindow(C){return null!=C&&C===C.window},he=B.document,fe={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(C,E,I){var B,z,q=(I=I||he).createElement("script");if(q.text=C,E)for(B in fe)(z=E[B]||E.getAttribute&&E.getAttribute(B))&&q.setAttribute(B,z);I.head.appendChild(q).parentNode.removeChild(q)}function toType(C){return null==C?C+"":"object"==typeof C||"function"==typeof C?ne[se.call(C)]||"object":typeof C}var pe="3.7.1",me=/HTML$/i,jQuery=function(C,E){return new jQuery.fn.init(C,E)};function isArrayLike(C){var E=!!C&&"length"in C&&C.length,I=toType(C);return!de(C)&&!ce(C)&&("array"===I||0===E||"number"==typeof E&&E>0&&E-1 in C)}function nodeName(C,E){return C.nodeName&&C.nodeName.toLowerCase()===E.toLowerCase()}jQuery.fn=jQuery.prototype={jquery:pe,constructor:jQuery,length:0,toArray:function(){return ee.call(this)},get:function(C){return null==C?ee.call(this):C<0?this[C+this.length]:this[C]},pushStack:function(C){var E=jQuery.merge(this.constructor(),C);return E.prevObject=this,E},each:function(C){return jQuery.each(this,C)},map:function(C){return this.pushStack(jQuery.map(this,(function(E,I){return C.call(E,I,E)})))},slice:function(){return this.pushStack(ee.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,(function(C,E){return(E+1)%2})))},odd:function(){return this.pushStack(jQuery.grep(this,(function(C,E){return E%2})))},eq:function(C){var E=this.length,I=+C+(C<0?E:0);return this.pushStack(I>=0&&I<E?[this[I]]:[])},end:function(){return this.prevObject||this.constructor()},push:ie,sort:q.sort,splice:q.splice},jQuery.extend=jQuery.fn.extend=function(){var C,E,I,B,z,q,Q=arguments[0]||{},ee=1,te=arguments.length,ie=!1;for("boolean"==typeof Q&&(ie=Q,Q=arguments[ee]||{},ee++),"object"==typeof Q||de(Q)||(Q={}),ee===te&&(Q=this,ee--);ee<te;ee++)if(null!=(C=arguments[ee]))for(E in C)B=C[E],"__proto__"!==E&&Q!==B&&(ie&&B&&(jQuery.isPlainObject(B)||(z=Array.isArray(B)))?(I=Q[E],q=z&&!Array.isArray(I)?[]:z||jQuery.isPlainObject(I)?I:{},z=!1,Q[E]=jQuery.extend(ie,q,B)):void 0!==B&&(Q[E]=B));return Q},jQuery.extend({expando:"jQuery"+(pe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(C){throw new Error(C)},noop:function(){},isPlainObject:function(C){var E,I;return!(!C||"[object Object]"!==se.call(C))&&(!(E=Q(C))||"function"==typeof(I=oe.call(E,"constructor")&&E.constructor)&&ae.call(I)===le)},isEmptyObject:function(C){var E;for(E in C)return!1;return!0},globalEval:function(C,E,I){DOMEval(C,{nonce:E&&E.nonce},I)},each:function(C,E){var I,B=0;if(isArrayLike(C))for(I=C.length;B<I&&!1!==E.call(C[B],B,C[B]);B++);else for(B in C)if(!1===E.call(C[B],B,C[B]))break;return C},text:function(C){var E,I="",B=0,z=C.nodeType;if(!z)for(;E=C[B++];)I+=jQuery.text(E);return 1===z||11===z?C.textContent:9===z?C.documentElement.textContent:3===z||4===z?C.nodeValue:I},makeArray:function(C,E){var I=E||[];return null!=C&&(isArrayLike(Object(C))?jQuery.merge(I,"string"==typeof C?[C]:C):ie.call(I,C)),I},inArray:function(C,E,I){return null==E?-1:re.call(E,C,I)},isXMLDoc:function(C){var E=C&&C.namespaceURI,I=C&&(C.ownerDocument||C).documentElement;return!me.test(E||I&&I.nodeName||"HTML")},merge:function(C,E){for(var I=+E.length,B=0,z=C.length;B<I;B++)C[z++]=E[B];return C.length=z,C},grep:function(C,E,I){for(var B=[],z=0,q=C.length,Q=!I;z<q;z++)!E(C[z],z)!==Q&&B.push(C[z]);return B},map:function(C,E,I){var B,z,q=0,Q=[];if(isArrayLike(C))for(B=C.length;q<B;q++)null!=(z=E(C[q],q,I))&&Q.push(z);else for(q in C)null!=(z=E(C[q],q,I))&&Q.push(z);return te(Q)},guid:1,support:ue}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=q[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(C,E){ne["[object "+E+"]"]=E.toLowerCase()}));var ge=q.pop,ve=q.sort,ye=q.splice,be="[\\x20\\t\\r\\n\\f]",Ce=new RegExp("^"+be+"+|((?:^|[^\\\\])(?:\\\\.)*)"+be+"+$","g");jQuery.contains=function(C,E){var I=E&&E.parentNode;return C===I||!(!I||1!==I.nodeType||!(C.contains?C.contains(I):C.compareDocumentPosition&&16&C.compareDocumentPosition(I)))};var we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function fcssescape(C,E){return E?"\0"===C?"�":C.slice(0,-1)+"\\"+C.charCodeAt(C.length-1).toString(16)+" ":"\\"+C}jQuery.escapeSelector=function(C){return(C+"").replace(we,fcssescape)};var _e=he,Se=ie;!function(){var C,E,I,z,Q,te,ie,ne,se,ae,le=Se,de=jQuery.expando,ce=0,he=0,fe=createCache(),pe=createCache(),me=createCache(),we=createCache(),sortOrder=function(C,E){return C===E&&(Q=!0),0},xe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ke="(?:\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Te="\\["+be+"*("+ke+")(?:"+be+"*([*^$|!~]?=)"+be+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ke+"))|)"+be+"*\\]",Me=":("+ke+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Te+")*)|.*)\\)|)",Re=new RegExp(be+"+","g"),Ee=new RegExp("^"+be+"*,"+be+"*"),Pe=new RegExp("^"+be+"*([>+~]|"+be+")"+be+"*"),Ie=new RegExp(be+"|>"),Ae=new RegExp(Me),Ne=new RegExp("^"+ke+"$"),De={ID:new RegExp("^#("+ke+")"),CLASS:new RegExp("^\\.("+ke+")"),TAG:new RegExp("^("+ke+"|[*])"),ATTR:new RegExp("^"+Te),PSEUDO:new RegExp("^"+Me),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+be+"*(even|odd|(([+-]|)(\\d*)n|)"+be+"*(?:([+-]|)"+be+"*(\\d+)|))"+be+"*\\)|)","i"),bool:new RegExp("^(?:"+xe+")$","i"),needsContext:new RegExp("^"+be+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+be+"*((?:-\\d)?\\d*)"+be+"*\\)|)(?=[^-]|$)","i")},Be=/^(?:input|select|textarea|button)$/i,Fe=/^h\d$/i,Oe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Le=/[+~]/,$e=new RegExp("\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(C,E){var I="0x"+C.slice(1)-65536;return E||(I<0?String.fromCharCode(I+65536):String.fromCharCode(I>>10|55296,1023&I|56320))},unloadHandler=function(){setDocument()},je=addCombinator((function(C){return!0===C.disabled&&nodeName(C,"fieldset")}),{dir:"parentNode",next:"legend"});try{le.apply(q=ee.call(_e.childNodes),_e.childNodes),q[_e.childNodes.length].nodeType}catch(C){le={apply:function(C,E){Se.apply(C,ee.call(E))},call:function(C){Se.apply(C,ee.call(arguments,1))}}}function find(C,E,I,B){var z,q,Q,ee,ie,re,oe,ae=E&&E.ownerDocument,ce=E?E.nodeType:9;if(I=I||[],"string"!=typeof C||!C||1!==ce&&9!==ce&&11!==ce)return I;if(!B&&(setDocument(E),E=E||te,ne)){if(11!==ce&&(ie=Oe.exec(C)))if(z=ie[1]){if(9===ce){if(!(Q=E.getElementById(z)))return I;if(Q.id===z)return le.call(I,Q),I}else if(ae&&(Q=ae.getElementById(z))&&find.contains(E,Q)&&Q.id===z)return le.call(I,Q),I}else{if(ie[2])return le.apply(I,E.getElementsByTagName(C)),I;if((z=ie[3])&&E.getElementsByClassName)return le.apply(I,E.getElementsByClassName(z)),I}if(!(we[C+" "]||se&&se.test(C))){if(oe=C,ae=E,1===ce&&(Ie.test(C)||Pe.test(C))){for((ae=Le.test(C)&&testContext(E.parentNode)||E)==E&&ue.scope||((ee=E.getAttribute("id"))?ee=jQuery.escapeSelector(ee):E.setAttribute("id",ee=de)),q=(re=tokenize(C)).length;q--;)re[q]=(ee?"#"+ee:":scope")+" "+toSelector(re[q]);oe=re.join(",")}try{return le.apply(I,ae.querySelectorAll(oe)),I}catch(E){we(C,!0)}finally{ee===de&&E.removeAttribute("id")}}}return select(C.replace(Ce,"$1"),E,I,B)}function createCache(){var C=[];return function cache(I,B){return C.push(I+" ")>E.cacheLength&&delete cache[C.shift()],cache[I+" "]=B}}function markFunction(C){return C[de]=!0,C}function assert(C){var E=te.createElement("fieldset");try{return!!C(E)}catch(C){return!1}finally{E.parentNode&&E.parentNode.removeChild(E),E=null}}function createInputPseudo(C){return function(E){return nodeName(E,"input")&&E.type===C}}function createButtonPseudo(C){return function(E){return(nodeName(E,"input")||nodeName(E,"button"))&&E.type===C}}function createDisabledPseudo(C){return function(E){return"form"in E?E.parentNode&&!1===E.disabled?"label"in E?"label"in E.parentNode?E.parentNode.disabled===C:E.disabled===C:E.isDisabled===C||E.isDisabled!==!C&&je(E)===C:E.disabled===C:"label"in E&&E.disabled===C}}function createPositionalPseudo(C){return markFunction((function(E){return E=+E,markFunction((function(I,B){for(var z,q=C([],I.length,E),Q=q.length;Q--;)I[z=q[Q]]&&(I[z]=!(B[z]=I[z]))}))}))}function testContext(C){return C&&void 0!==C.getElementsByTagName&&C}function setDocument(C){var I,B=C?C.ownerDocument||C:_e;return B!=te&&9===B.nodeType&&B.documentElement?(ie=(te=B).documentElement,ne=!jQuery.isXMLDoc(te),ae=ie.matches||ie.webkitMatchesSelector||ie.msMatchesSelector,ie.msMatchesSelector&&_e!=te&&(I=te.defaultView)&&I.top!==I&&I.addEventListener("unload",unloadHandler),ue.getById=assert((function(C){return ie.appendChild(C).id=jQuery.expando,!te.getElementsByName||!te.getElementsByName(jQuery.expando).length})),ue.disconnectedMatch=assert((function(C){return ae.call(C,"*")})),ue.scope=assert((function(){return te.querySelectorAll(":scope")})),ue.cssHas=assert((function(){try{return te.querySelector(":has(*,:jqfake)"),!1}catch(C){return!0}})),ue.getById?(E.filter.ID=function(C){var E=C.replace($e,funescape);return function(C){return C.getAttribute("id")===E}},E.find.ID=function(C,E){if(void 0!==E.getElementById&&ne){var I=E.getElementById(C);return I?[I]:[]}}):(E.filter.ID=function(C){var E=C.replace($e,funescape);return function(C){var I=void 0!==C.getAttributeNode&&C.getAttributeNode("id");return I&&I.value===E}},E.find.ID=function(C,E){if(void 0!==E.getElementById&&ne){var I,B,z,q=E.getElementById(C);if(q){if((I=q.getAttributeNode("id"))&&I.value===C)return[q];for(z=E.getElementsByName(C),B=0;q=z[B++];)if((I=q.getAttributeNode("id"))&&I.value===C)return[q]}return[]}}),E.find.TAG=function(C,E){return void 0!==E.getElementsByTagName?E.getElementsByTagName(C):E.querySelectorAll(C)},E.find.CLASS=function(C,E){if(void 0!==E.getElementsByClassName&&ne)return E.getElementsByClassName(C)},se=[],assert((function(C){var E;ie.appendChild(C).innerHTML="<a id='"+de+"' href='' disabled='disabled'></a><select id='"+de+"-\r\\' disabled='disabled'><option selected=''></option></select>",C.querySelectorAll("[selected]").length||se.push("\\["+be+"*(?:value|"+xe+")"),C.querySelectorAll("[id~="+de+"-]").length||se.push("~="),C.querySelectorAll("a#"+de+"+*").length||se.push(".#.+[+~]"),C.querySelectorAll(":checked").length||se.push(":checked"),(E=te.createElement("input")).setAttribute("type","hidden"),C.appendChild(E).setAttribute("name","D"),ie.appendChild(C).disabled=!0,2!==C.querySelectorAll(":disabled").length&&se.push(":enabled",":disabled"),(E=te.createElement("input")).setAttribute("name",""),C.appendChild(E),C.querySelectorAll("[name='']").length||se.push("\\["+be+"*name"+be+"*="+be+"*(?:''|\"\")")})),ue.cssHas||se.push(":has"),se=se.length&&new RegExp(se.join("|")),sortOrder=function(C,E){if(C===E)return Q=!0,0;var I=!C.compareDocumentPosition-!E.compareDocumentPosition;return I||(1&(I=(C.ownerDocument||C)==(E.ownerDocument||E)?C.compareDocumentPosition(E):1)||!ue.sortDetached&&E.compareDocumentPosition(C)===I?C===te||C.ownerDocument==_e&&find.contains(_e,C)?-1:E===te||E.ownerDocument==_e&&find.contains(_e,E)?1:z?re.call(z,C)-re.call(z,E):0:4&I?-1:1)},te):te}for(C in find.matches=function(C,E){return find(C,null,null,E)},find.matchesSelector=function(C,E){if(setDocument(C),ne&&!we[E+" "]&&(!se||!se.test(E)))try{var I=ae.call(C,E);if(I||ue.disconnectedMatch||C.document&&11!==C.document.nodeType)return I}catch(C){we(E,!0)}return find(E,te,null,[C]).length>0},find.contains=function(C,E){return(C.ownerDocument||C)!=te&&setDocument(C),jQuery.contains(C,E)},find.attr=function(C,I){(C.ownerDocument||C)!=te&&setDocument(C);var B=E.attrHandle[I.toLowerCase()],z=B&&oe.call(E.attrHandle,I.toLowerCase())?B(C,I,!ne):void 0;return void 0!==z?z:C.getAttribute(I)},find.error=function(C){throw new Error("Syntax error, unrecognized expression: "+C)},jQuery.uniqueSort=function(C){var E,I=[],B=0,q=0;if(Q=!ue.sortStable,z=!ue.sortStable&&ee.call(C,0),ve.call(C,sortOrder),Q){for(;E=C[q++];)E===C[q]&&(B=I.push(q));for(;B--;)ye.call(C,I[B],1)}return z=null,C},jQuery.fn.uniqueSort=function(){return this.pushStack(jQuery.uniqueSort(ee.apply(this)))},E=jQuery.expr={cacheLength:50,createPseudo:markFunction,match:De,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(C){return C[1]=C[1].replace($e,funescape),C[3]=(C[3]||C[4]||C[5]||"").replace($e,funescape),"~="===C[2]&&(C[3]=" "+C[3]+" "),C.slice(0,4)},CHILD:function(C){return C[1]=C[1].toLowerCase(),"nth"===C[1].slice(0,3)?(C[3]||find.error(C[0]),C[4]=+(C[4]?C[5]+(C[6]||1):2*("even"===C[3]||"odd"===C[3])),C[5]=+(C[7]+C[8]||"odd"===C[3])):C[3]&&find.error(C[0]),C},PSEUDO:function(C){var E,I=!C[6]&&C[2];return De.CHILD.test(C[0])?null:(C[3]?C[2]=C[4]||C[5]||"":I&&Ae.test(I)&&(E=tokenize(I,!0))&&(E=I.indexOf(")",I.length-E)-I.length)&&(C[0]=C[0].slice(0,E),C[2]=I.slice(0,E)),C.slice(0,3))}},filter:{TAG:function(C){var E=C.replace($e,funescape).toLowerCase();return"*"===C?function(){return!0}:function(C){return nodeName(C,E)}},CLASS:function(C){var E=fe[C+" "];return E||(E=new RegExp("(^|"+be+")"+C+"("+be+"|$)"))&&fe(C,(function(C){return E.test("string"==typeof C.className&&C.className||void 0!==C.getAttribute&&C.getAttribute("class")||"")}))},ATTR:function(C,E,I){return function(B){var z=find.attr(B,C);return null==z?"!="===E:!E||(z+="","="===E?z===I:"!="===E?z!==I:"^="===E?I&&0===z.indexOf(I):"*="===E?I&&z.indexOf(I)>-1:"$="===E?I&&z.slice(-I.length)===I:"~="===E?(" "+z.replace(Re," ")+" ").indexOf(I)>-1:"|="===E&&(z===I||z.slice(0,I.length+1)===I+"-"))}},CHILD:function(C,E,I,B,z){var q="nth"!==C.slice(0,3),Q="last"!==C.slice(-4),ee="of-type"===E;return 1===B&&0===z?function(C){return!!C.parentNode}:function(E,I,te){var ie,re,ne,se,oe,ae=q!==Q?"nextSibling":"previousSibling",le=E.parentNode,ue=ee&&E.nodeName.toLowerCase(),he=!te&&!ee,fe=!1;if(le){if(q){for(;ae;){for(ne=E;ne=ne[ae];)if(ee?nodeName(ne,ue):1===ne.nodeType)return!1;oe=ae="only"===C&&!oe&&"nextSibling"}return!0}if(oe=[Q?le.firstChild:le.lastChild],Q&&he){for(fe=(se=(ie=(re=le[de]||(le[de]={}))[C]||[])[0]===ce&&ie[1])&&ie[2],ne=se&&le.childNodes[se];ne=++se&&ne&&ne[ae]||(fe=se=0)||oe.pop();)if(1===ne.nodeType&&++fe&&ne===E){re[C]=[ce,se,fe];break}}else if(he&&(fe=se=(ie=(re=E[de]||(E[de]={}))[C]||[])[0]===ce&&ie[1]),!1===fe)for(;(ne=++se&&ne&&ne[ae]||(fe=se=0)||oe.pop())&&(!(ee?nodeName(ne,ue):1===ne.nodeType)||!++fe||(he&&((re=ne[de]||(ne[de]={}))[C]=[ce,fe]),ne!==E)););return(fe-=z)===B||fe%B==0&&fe/B>=0}}},PSEUDO:function(C,I){var B,z=E.pseudos[C]||E.setFilters[C.toLowerCase()]||find.error("unsupported pseudo: "+C);return z[de]?z(I):z.length>1?(B=[C,C,"",I],E.setFilters.hasOwnProperty(C.toLowerCase())?markFunction((function(C,E){for(var B,q=z(C,I),Q=q.length;Q--;)C[B=re.call(C,q[Q])]=!(E[B]=q[Q])})):function(C){return z(C,0,B)}):z}},pseudos:{not:markFunction((function(C){var E=[],I=[],B=compile(C.replace(Ce,"$1"));return B[de]?markFunction((function(C,E,I,z){for(var q,Q=B(C,null,z,[]),ee=C.length;ee--;)(q=Q[ee])&&(C[ee]=!(E[ee]=q))})):function(C,z,q){return E[0]=C,B(E,null,q,I),E[0]=null,!I.pop()}})),has:markFunction((function(C){return function(E){return find(C,E).length>0}})),contains:markFunction((function(C){return C=C.replace($e,funescape),function(E){return(E.textContent||jQuery.text(E)).indexOf(C)>-1}})),lang:markFunction((function(C){return Ne.test(C||"")||find.error("unsupported lang: "+C),C=C.replace($e,funescape).toLowerCase(),function(E){var I;do{if(I=ne?E.lang:E.getAttribute("xml:lang")||E.getAttribute("lang"))return(I=I.toLowerCase())===C||0===I.indexOf(C+"-")}while((E=E.parentNode)&&1===E.nodeType);return!1}})),target:function(C){var E=B.location&&B.location.hash;return E&&E.slice(1)===C.id},root:function(C){return C===ie},focus:function(C){return C===function safeActiveElement(){try{return te.activeElement}catch(C){}}()&&te.hasFocus()&&!!(C.type||C.href||~C.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(C){return nodeName(C,"input")&&!!C.checked||nodeName(C,"option")&&!!C.selected},selected:function(C){return C.parentNode&&C.parentNode.selectedIndex,!0===C.selected},empty:function(C){for(C=C.firstChild;C;C=C.nextSibling)if(C.nodeType<6)return!1;return!0},parent:function(C){return!E.pseudos.empty(C)},header:function(C){return Fe.test(C.nodeName)},input:function(C){return Be.test(C.nodeName)},button:function(C){return nodeName(C,"input")&&"button"===C.type||nodeName(C,"button")},text:function(C){var E;return nodeName(C,"input")&&"text"===C.type&&(null==(E=C.getAttribute("type"))||"text"===E.toLowerCase())},first:createPositionalPseudo((function(){return[0]})),last:createPositionalPseudo((function(C,E){return[E-1]})),eq:createPositionalPseudo((function(C,E,I){return[I<0?I+E:I]})),even:createPositionalPseudo((function(C,E){for(var I=0;I<E;I+=2)C.push(I);return C})),odd:createPositionalPseudo((function(C,E){for(var I=1;I<E;I+=2)C.push(I);return C})),lt:createPositionalPseudo((function(C,E,I){var B;for(B=I<0?I+E:I>E?E:I;--B>=0;)C.push(B);return C})),gt:createPositionalPseudo((function(C,E,I){for(var B=I<0?I+E:I;++B<E;)C.push(B);return C}))}},E.pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[C]=createInputPseudo(C);for(C in{submit:!0,reset:!0})E.pseudos[C]=createButtonPseudo(C);function setFilters(){}function tokenize(C,I){var B,z,q,Q,ee,te,ie,re=pe[C+" "];if(re)return I?0:re.slice(0);for(ee=C,te=[],ie=E.preFilter;ee;){for(Q in B&&!(z=Ee.exec(ee))||(z&&(ee=ee.slice(z[0].length)||ee),te.push(q=[])),B=!1,(z=Pe.exec(ee))&&(B=z.shift(),q.push({value:B,type:z[0].replace(Ce," ")}),ee=ee.slice(B.length)),E.filter)!(z=De[Q].exec(ee))||ie[Q]&&!(z=ie[Q](z))||(B=z.shift(),q.push({value:B,type:Q,matches:z}),ee=ee.slice(B.length));if(!B)break}return I?ee.length:ee?find.error(C):pe(C,te).slice(0)}function toSelector(C){for(var E=0,I=C.length,B="";E<I;E++)B+=C[E].value;return B}function addCombinator(C,E,I){var B=E.dir,z=E.next,q=z||B,Q=I&&"parentNode"===q,ee=he++;return E.first?function(E,I,z){for(;E=E[B];)if(1===E.nodeType||Q)return C(E,I,z);return!1}:function(E,I,te){var ie,re,ne=[ce,ee];if(te){for(;E=E[B];)if((1===E.nodeType||Q)&&C(E,I,te))return!0}else for(;E=E[B];)if(1===E.nodeType||Q)if(re=E[de]||(E[de]={}),z&&nodeName(E,z))E=E[B]||E;else{if((ie=re[q])&&ie[0]===ce&&ie[1]===ee)return ne[2]=ie[2];if(re[q]=ne,ne[2]=C(E,I,te))return!0}return!1}}function elementMatcher(C){return C.length>1?function(E,I,B){for(var z=C.length;z--;)if(!C[z](E,I,B))return!1;return!0}:C[0]}function condense(C,E,I,B,z){for(var q,Q=[],ee=0,te=C.length,ie=null!=E;ee<te;ee++)(q=C[ee])&&(I&&!I(q,B,z)||(Q.push(q),ie&&E.push(ee)));return Q}function setMatcher(C,E,I,B,z,q){return B&&!B[de]&&(B=setMatcher(B)),z&&!z[de]&&(z=setMatcher(z,q)),markFunction((function(q,Q,ee,te){var ie,ne,se,oe,ae=[],ue=[],de=Q.length,ce=q||function multipleContexts(C,E,I){for(var B=0,z=E.length;B<z;B++)find(C,E[B],I);return I}(E||"*",ee.nodeType?[ee]:ee,[]),he=!C||!q&&E?ce:condense(ce,ae,C,ee,te);if(I?I(he,oe=z||(q?C:de||B)?[]:Q,ee,te):oe=he,B)for(ie=condense(oe,ue),B(ie,[],ee,te),ne=ie.length;ne--;)(se=ie[ne])&&(oe[ue[ne]]=!(he[ue[ne]]=se));if(q){if(z||C){if(z){for(ie=[],ne=oe.length;ne--;)(se=oe[ne])&&ie.push(he[ne]=se);z(null,oe=[],ie,te)}for(ne=oe.length;ne--;)(se=oe[ne])&&(ie=z?re.call(q,se):ae[ne])>-1&&(q[ie]=!(Q[ie]=se))}}else oe=condense(oe===Q?oe.splice(de,oe.length):oe),z?z(null,Q,oe,te):le.apply(Q,oe)}))}function matcherFromTokens(C){for(var B,z,q,Q=C.length,ee=E.relative[C[0].type],te=ee||E.relative[" "],ie=ee?1:0,ne=addCombinator((function(C){return C===B}),te,!0),se=addCombinator((function(C){return re.call(B,C)>-1}),te,!0),oe=[function(C,E,z){var q=!ee&&(z||E!=I)||((B=E).nodeType?ne(C,E,z):se(C,E,z));return B=null,q}];ie<Q;ie++)if(z=E.relative[C[ie].type])oe=[addCombinator(elementMatcher(oe),z)];else{if((z=E.filter[C[ie].type].apply(null,C[ie].matches))[de]){for(q=++ie;q<Q&&!E.relative[C[q].type];q++);return setMatcher(ie>1&&elementMatcher(oe),ie>1&&toSelector(C.slice(0,ie-1).concat({value:" "===C[ie-2].type?"*":""})).replace(Ce,"$1"),z,ie<q&&matcherFromTokens(C.slice(ie,q)),q<Q&&matcherFromTokens(C=C.slice(q)),q<Q&&toSelector(C))}oe.push(z)}return elementMatcher(oe)}function compile(C,B){var z,q=[],Q=[],ee=me[C+" "];if(!ee){for(B||(B=tokenize(C)),z=B.length;z--;)(ee=matcherFromTokens(B[z]))[de]?q.push(ee):Q.push(ee);ee=me(C,function matcherFromGroupMatchers(C,B){var z=B.length>0,q=C.length>0,superMatcher=function(Q,ee,ie,re,se){var oe,ae,ue,de=0,he="0",fe=Q&&[],pe=[],me=I,ve=Q||q&&E.find.TAG("*",se),ye=ce+=null==me?1:Math.random()||.1,be=ve.length;for(se&&(I=ee==te||ee||se);he!==be&&null!=(oe=ve[he]);he++){if(q&&oe){for(ae=0,ee||oe.ownerDocument==te||(setDocument(oe),ie=!ne);ue=C[ae++];)if(ue(oe,ee||te,ie)){le.call(re,oe);break}se&&(ce=ye)}z&&((oe=!ue&&oe)&&de--,Q&&fe.push(oe))}if(de+=he,z&&he!==de){for(ae=0;ue=B[ae++];)ue(fe,pe,ee,ie);if(Q){if(de>0)for(;he--;)fe[he]||pe[he]||(pe[he]=ge.call(re));pe=condense(pe)}le.apply(re,pe),se&&!Q&&pe.length>0&&de+B.length>1&&jQuery.uniqueSort(re)}return se&&(ce=ye,I=me),fe};return z?markFunction(superMatcher):superMatcher}(Q,q)),ee.selector=C}return ee}function select(C,I,B,z){var q,Q,ee,te,ie,re="function"==typeof C&&C,se=!z&&tokenize(C=re.selector||C);if(B=B||[],1===se.length){if((Q=se[0]=se[0].slice(0)).length>2&&"ID"===(ee=Q[0]).type&&9===I.nodeType&&ne&&E.relative[Q[1].type]){if(!(I=(E.find.ID(ee.matches[0].replace($e,funescape),I)||[])[0]))return B;re&&(I=I.parentNode),C=C.slice(Q.shift().value.length)}for(q=De.needsContext.test(C)?0:Q.length;q--&&(ee=Q[q],!E.relative[te=ee.type]);)if((ie=E.find[te])&&(z=ie(ee.matches[0].replace($e,funescape),Le.test(Q[0].type)&&testContext(I.parentNode)||I))){if(Q.splice(q,1),!(C=z.length&&toSelector(Q)))return le.apply(B,z),B;break}}return(re||compile(C,se))(z,I,!ne,B,!I||Le.test(C)&&testContext(I.parentNode)||I),B}setFilters.prototype=E.filters=E.pseudos,E.setFilters=new setFilters,ue.sortStable=de.split("").sort(sortOrder).join("")===de,setDocument(),ue.sortDetached=assert((function(C){return 1&C.compareDocumentPosition(te.createElement("fieldset"))})),jQuery.find=find,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=jQuery.uniqueSort,find.compile=compile,find.select=select,find.setDocument=setDocument,find.tokenize=tokenize,find.escape=jQuery.escapeSelector,find.getText=jQuery.text,find.isXML=jQuery.isXMLDoc,find.selectors=jQuery.expr,find.support=jQuery.support,find.uniqueSort=jQuery.uniqueSort}();var dir=function(C,E,I){for(var B=[],z=void 0!==I;(C=C[E])&&9!==C.nodeType;)if(1===C.nodeType){if(z&&jQuery(C).is(I))break;B.push(C)}return B},siblings=function(C,E){for(var I=[];C;C=C.nextSibling)1===C.nodeType&&C!==E&&I.push(C);return I},xe=jQuery.expr.match.needsContext,ke=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(C,E,I){return de(E)?jQuery.grep(C,(function(C,B){return!!E.call(C,B,C)!==I})):E.nodeType?jQuery.grep(C,(function(C){return C===E!==I})):"string"!=typeof E?jQuery.grep(C,(function(C){return re.call(E,C)>-1!==I})):jQuery.filter(E,C,I)}jQuery.filter=function(C,E,I){var B=E[0];return I&&(C=":not("+C+")"),1===E.length&&1===B.nodeType?jQuery.find.matchesSelector(B,C)?[B]:[]:jQuery.find.matches(C,jQuery.grep(E,(function(C){return 1===C.nodeType})))},jQuery.fn.extend({find:function(C){var E,I,B=this.length,z=this;if("string"!=typeof C)return this.pushStack(jQuery(C).filter((function(){for(E=0;E<B;E++)if(jQuery.contains(z[E],this))return!0})));for(I=this.pushStack([]),E=0;E<B;E++)jQuery.find(C,z[E],I);return B>1?jQuery.uniqueSort(I):I},filter:function(C){return this.pushStack(winnow(this,C||[],!1))},not:function(C){return this.pushStack(winnow(this,C||[],!0))},is:function(C){return!!winnow(this,"string"==typeof C&&xe.test(C)?jQuery(C):C||[],!1).length}});var Te,Me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(jQuery.fn.init=function(C,E,I){var B,z;if(!C)return this;if(I=I||Te,"string"==typeof C){if(!(B="<"===C[0]&&">"===C[C.length-1]&&C.length>=3?[null,C,null]:Me.exec(C))||!B[1]&&E)return!E||E.jquery?(E||I).find(C):this.constructor(E).find(C);if(B[1]){if(E=E instanceof jQuery?E[0]:E,jQuery.merge(this,jQuery.parseHTML(B[1],E&&E.nodeType?E.ownerDocument||E:he,!0)),ke.test(B[1])&&jQuery.isPlainObject(E))for(B in E)de(this[B])?this[B](E[B]):this.attr(B,E[B]);return this}return(z=he.getElementById(B[2]))&&(this[0]=z,this.length=1),this}return C.nodeType?(this[0]=C,this.length=1,this):de(C)?void 0!==I.ready?I.ready(C):C(jQuery):jQuery.makeArray(C,this)}).prototype=jQuery.fn,Te=jQuery(he);var Re=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};function sibling(C,E){for(;(C=C[E])&&1!==C.nodeType;);return C}jQuery.fn.extend({has:function(C){var E=jQuery(C,this),I=E.length;return this.filter((function(){for(var C=0;C<I;C++)if(jQuery.contains(this,E[C]))return!0}))},closest:function(C,E){var I,B=0,z=this.length,q=[],Q="string"!=typeof C&&jQuery(C);if(!xe.test(C))for(;B<z;B++)for(I=this[B];I&&I!==E;I=I.parentNode)if(I.nodeType<11&&(Q?Q.index(I)>-1:1===I.nodeType&&jQuery.find.matchesSelector(I,C))){q.push(I);break}return this.pushStack(q.length>1?jQuery.uniqueSort(q):q)},index:function(C){return C?"string"==typeof C?re.call(jQuery(C),this[0]):re.call(this,C.jquery?C[0]:C):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(C,E){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(C,E))))},addBack:function(C){return this.add(null==C?this.prevObject:this.prevObject.filter(C))}}),jQuery.each({parent:function(C){var E=C.parentNode;return E&&11!==E.nodeType?E:null},parents:function(C){return dir(C,"parentNode")},parentsUntil:function(C,E,I){return dir(C,"parentNode",I)},next:function(C){return sibling(C,"nextSibling")},prev:function(C){return sibling(C,"previousSibling")},nextAll:function(C){return dir(C,"nextSibling")},prevAll:function(C){return dir(C,"previousSibling")},nextUntil:function(C,E,I){return dir(C,"nextSibling",I)},prevUntil:function(C,E,I){return dir(C,"previousSibling",I)},siblings:function(C){return siblings((C.parentNode||{}).firstChild,C)},children:function(C){return siblings(C.firstChild)},contents:function(C){return null!=C.contentDocument&&Q(C.contentDocument)?C.contentDocument:(nodeName(C,"template")&&(C=C.content||C),jQuery.merge([],C.childNodes))}},(function(C,E){jQuery.fn[C]=function(I,B){var z=jQuery.map(this,E,I);return"Until"!==C.slice(-5)&&(B=I),B&&"string"==typeof B&&(z=jQuery.filter(B,z)),this.length>1&&(Ee[C]||jQuery.uniqueSort(z),Re.test(C)&&z.reverse()),this.pushStack(z)}}));var Pe=/[^\x20\t\r\n\f]+/g;function Identity(C){return C}function Thrower(C){throw C}function adoptValue(C,E,I,B){var z;try{C&&de(z=C.promise)?z.call(C).done(E).fail(I):C&&de(z=C.then)?z.call(C,E,I):E.apply(void 0,[C].slice(B))}catch(C){I.apply(void 0,[C])}}jQuery.Callbacks=function(C){C="string"==typeof C?function createOptions(C){var E={};return jQuery.each(C.match(Pe)||[],(function(C,I){E[I]=!0})),E}(C):jQuery.extend({},C);var E,I,B,z,q=[],Q=[],ee=-1,fire=function(){for(z=z||C.once,B=E=!0;Q.length;ee=-1)for(I=Q.shift();++ee<q.length;)!1===q[ee].apply(I[0],I[1])&&C.stopOnFalse&&(ee=q.length,I=!1);C.memory||(I=!1),E=!1,z&&(q=I?[]:"")},te={add:function(){return q&&(I&&!E&&(ee=q.length-1,Q.push(I)),function add(E){jQuery.each(E,(function(E,I){de(I)?C.unique&&te.has(I)||q.push(I):I&&I.length&&"string"!==toType(I)&&add(I)}))}(arguments),I&&!E&&fire()),this},remove:function(){return jQuery.each(arguments,(function(C,E){for(var I;(I=jQuery.inArray(E,q,I))>-1;)q.splice(I,1),I<=ee&&ee--})),this},has:function(C){return C?jQuery.inArray(C,q)>-1:q.length>0},empty:function(){return q&&(q=[]),this},disable:function(){return z=Q=[],q=I="",this},disabled:function(){return!q},lock:function(){return z=Q=[],I||E||(q=I=""),this},locked:function(){return!!z},fireWith:function(C,I){return z||(I=[C,(I=I||[]).slice?I.slice():I],Q.push(I),E||fire()),this},fire:function(){return te.fireWith(this,arguments),this},fired:function(){return!!B}};return te},jQuery.extend({Deferred:function(C){var E=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],I="pending",z={state:function(){return I},always:function(){return q.done(arguments).fail(arguments),this},catch:function(C){return z.then(null,C)},pipe:function(){var C=arguments;return jQuery.Deferred((function(I){jQuery.each(E,(function(E,B){var z=de(C[B[4]])&&C[B[4]];q[B[1]]((function(){var C=z&&z.apply(this,arguments);C&&de(C.promise)?C.promise().progress(I.notify).done(I.resolve).fail(I.reject):I[B[0]+"With"](this,z?[C]:arguments)}))})),C=null})).promise()},then:function(C,I,z){var q=0;function resolve(C,E,I,z){return function(){var Q=this,ee=arguments,mightThrow=function(){var B,te;if(!(C<q)){if((B=I.apply(Q,ee))===E.promise())throw new TypeError("Thenable self-resolution");te=B&&("object"==typeof B||"function"==typeof B)&&B.then,de(te)?z?te.call(B,resolve(q,E,Identity,z),resolve(q,E,Thrower,z)):(q++,te.call(B,resolve(q,E,Identity,z),resolve(q,E,Thrower,z),resolve(q,E,Identity,E.notifyWith))):(I!==Identity&&(Q=void 0,ee=[B]),(z||E.resolveWith)(Q,ee))}},te=z?mightThrow:function(){try{mightThrow()}catch(B){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(B,te.error),C+1>=q&&(I!==Thrower&&(Q=void 0,ee=[B]),E.rejectWith(Q,ee))}};C?te():(jQuery.Deferred.getErrorHook?te.error=jQuery.Deferred.getErrorHook():jQuery.Deferred.getStackHook&&(te.error=jQuery.Deferred.getStackHook()),B.setTimeout(te))}}return jQuery.Deferred((function(B){E[0][3].add(resolve(0,B,de(z)?z:Identity,B.notifyWith)),E[1][3].add(resolve(0,B,de(C)?C:Identity)),E[2][3].add(resolve(0,B,de(I)?I:Thrower))})).promise()},promise:function(C){return null!=C?jQuery.extend(C,z):z}},q={};return jQuery.each(E,(function(C,B){var Q=B[2],ee=B[5];z[B[1]]=Q.add,ee&&Q.add((function(){I=ee}),E[3-C][2].disable,E[3-C][3].disable,E[0][2].lock,E[0][3].lock),Q.add(B[3].fire),q[B[0]]=function(){return q[B[0]+"With"](this===q?void 0:this,arguments),this},q[B[0]+"With"]=Q.fireWith})),z.promise(q),C&&C.call(q,q),q},when:function(C){var E=arguments.length,I=E,B=Array(I),z=ee.call(arguments),q=jQuery.Deferred(),updateFunc=function(C){return function(I){B[C]=this,z[C]=arguments.length>1?ee.call(arguments):I,--E||q.resolveWith(B,z)}};if(E<=1&&(adoptValue(C,q.done(updateFunc(I)).resolve,q.reject,!E),"pending"===q.state()||de(z[I]&&z[I].then)))return q.then();for(;I--;)adoptValue(z[I],updateFunc(I),q.reject);return q.promise()}});var Ie=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(C,E){B.console&&B.console.warn&&C&&Ie.test(C.name)&&B.console.warn("jQuery.Deferred exception: "+C.message,C.stack,E)},jQuery.readyException=function(C){B.setTimeout((function(){throw C}))};var Ae=jQuery.Deferred();function completed(){he.removeEventListener("DOMContentLoaded",completed),B.removeEventListener("load",completed),jQuery.ready()}jQuery.fn.ready=function(C){return Ae.then(C).catch((function(C){jQuery.readyException(C)})),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(C){(!0===C?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==C&&--jQuery.readyWait>0||Ae.resolveWith(he,[jQuery]))}}),jQuery.ready.then=Ae.then,"complete"===he.readyState||"loading"!==he.readyState&&!he.documentElement.doScroll?B.setTimeout(jQuery.ready):(he.addEventListener("DOMContentLoaded",completed),B.addEventListener("load",completed));var access=function(C,E,I,B,z,q,Q){var ee=0,te=C.length,ie=null==I;if("object"===toType(I))for(ee in z=!0,I)access(C,E,ee,I[ee],!0,q,Q);else if(void 0!==B&&(z=!0,de(B)||(Q=!0),ie&&(Q?(E.call(C,B),E=null):(ie=E,E=function(C,E,I){return ie.call(jQuery(C),I)})),E))for(;ee<te;ee++)E(C[ee],I,Q?B:B.call(C[ee],ee,E(C[ee],I)));return z?C:ie?E.call(C):te?E(C[0],I):q},Ne=/^-ms-/,De=/-([a-z])/g;function fcamelCase(C,E){return E.toUpperCase()}function camelCase(C){return C.replace(Ne,"ms-").replace(De,fcamelCase)}var acceptData=function(C){return 1===C.nodeType||9===C.nodeType||!+C.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(C){var E=C[this.expando];return E||(E={},acceptData(C)&&(C.nodeType?C[this.expando]=E:Object.defineProperty(C,this.expando,{value:E,configurable:!0}))),E},set:function(C,E,I){var B,z=this.cache(C);if("string"==typeof E)z[camelCase(E)]=I;else for(B in E)z[camelCase(B)]=E[B];return z},get:function(C,E){return void 0===E?this.cache(C):C[this.expando]&&C[this.expando][camelCase(E)]},access:function(C,E,I){return void 0===E||E&&"string"==typeof E&&void 0===I?this.get(C,E):(this.set(C,E,I),void 0!==I?I:E)},remove:function(C,E){var I,B=C[this.expando];if(void 0!==B){if(void 0!==E){I=(E=Array.isArray(E)?E.map(camelCase):(E=camelCase(E))in B?[E]:E.match(Pe)||[]).length;for(;I--;)delete B[E[I]]}(void 0===E||jQuery.isEmptyObject(B))&&(C.nodeType?C[this.expando]=void 0:delete C[this.expando])}},hasData:function(C){var E=C[this.expando];return void 0!==E&&!jQuery.isEmptyObject(E)}};var Be=new Data,Fe=new Data,Oe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/[A-Z]/g;function dataAttr(C,E,I){var B;if(void 0===I&&1===C.nodeType)if(B="data-"+E.replace(Le,"-$&").toLowerCase(),"string"==typeof(I=C.getAttribute(B))){try{I=function getData(C){return"true"===C||"false"!==C&&("null"===C?null:C===+C+""?+C:Oe.test(C)?JSON.parse(C):C)}(I)}catch(C){}Fe.set(C,E,I)}else I=void 0;return I}jQuery.extend({hasData:function(C){return Fe.hasData(C)||Be.hasData(C)},data:function(C,E,I){return Fe.access(C,E,I)},removeData:function(C,E){Fe.remove(C,E)},_data:function(C,E,I){return Be.access(C,E,I)},_removeData:function(C,E){Be.remove(C,E)}}),jQuery.fn.extend({data:function(C,E){var I,B,z,q=this[0],Q=q&&q.attributes;if(void 0===C){if(this.length&&(z=Fe.get(q),1===q.nodeType&&!Be.get(q,"hasDataAttrs"))){for(I=Q.length;I--;)Q[I]&&0===(B=Q[I].name).indexOf("data-")&&(B=camelCase(B.slice(5)),dataAttr(q,B,z[B]));Be.set(q,"hasDataAttrs",!0)}return z}return"object"==typeof C?this.each((function(){Fe.set(this,C)})):access(this,(function(E){var I;if(q&&void 0===E)return void 0!==(I=Fe.get(q,C))||void 0!==(I=dataAttr(q,C))?I:void 0;this.each((function(){Fe.set(this,C,E)}))}),null,E,arguments.length>1,null,!0)},removeData:function(C){return this.each((function(){Fe.remove(this,C)}))}}),jQuery.extend({queue:function(C,E,I){var B;if(C)return E=(E||"fx")+"queue",B=Be.get(C,E),I&&(!B||Array.isArray(I)?B=Be.access(C,E,jQuery.makeArray(I)):B.push(I)),B||[]},dequeue:function(C,E){E=E||"fx";var I=jQuery.queue(C,E),B=I.length,z=I.shift(),q=jQuery._queueHooks(C,E);"inprogress"===z&&(z=I.shift(),B--),z&&("fx"===E&&I.unshift("inprogress"),delete q.stop,z.call(C,(function(){jQuery.dequeue(C,E)}),q)),!B&&q&&q.empty.fire()},_queueHooks:function(C,E){var I=E+"queueHooks";return Be.get(C,I)||Be.access(C,I,{empty:jQuery.Callbacks("once memory").add((function(){Be.remove(C,[E+"queue",I])}))})}}),jQuery.fn.extend({queue:function(C,E){var I=2;return"string"!=typeof C&&(E=C,C="fx",I--),arguments.length<I?jQuery.queue(this[0],C):void 0===E?this:this.each((function(){var I=jQuery.queue(this,C,E);jQuery._queueHooks(this,C),"fx"===C&&"inprogress"!==I[0]&&jQuery.dequeue(this,C)}))},dequeue:function(C){return this.each((function(){jQuery.dequeue(this,C)}))},clearQueue:function(C){return this.queue(C||"fx",[])},promise:function(C,E){var I,B=1,z=jQuery.Deferred(),q=this,Q=this.length,resolve=function(){--B||z.resolveWith(q,[q])};for("string"!=typeof C&&(E=C,C=void 0),C=C||"fx";Q--;)(I=Be.get(q[Q],C+"queueHooks"))&&I.empty&&(B++,I.empty.add(resolve));return resolve(),z.promise(E)}});var $e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,je=new RegExp("^(?:([+-])=|)("+$e+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],He=he.documentElement,isAttached=function(C){return jQuery.contains(C.ownerDocument,C)},Ge={composed:!0};He.getRootNode&&(isAttached=function(C){return jQuery.contains(C.ownerDocument,C)||C.getRootNode(Ge)===C.ownerDocument});var isHiddenWithinTree=function(C,E){return"none"===(C=E||C).style.display||""===C.style.display&&isAttached(C)&&"none"===jQuery.css(C,"display")};function adjustCSS(C,E,I,B){var z,q,Q=20,ee=B?function(){return B.cur()}:function(){return jQuery.css(C,E,"")},te=ee(),ie=I&&I[3]||(jQuery.cssNumber[E]?"":"px"),re=C.nodeType&&(jQuery.cssNumber[E]||"px"!==ie&&+te)&&je.exec(jQuery.css(C,E));if(re&&re[3]!==ie){for(te/=2,ie=ie||re[3],re=+te||1;Q--;)jQuery.style(C,E,re+ie),(1-q)*(1-(q=ee()/te||.5))<=0&&(Q=0),re/=q;re*=2,jQuery.style(C,E,re+ie),I=I||[]}return I&&(re=+re||+te||0,z=I[1]?re+(I[1]+1)*I[2]:+I[2],B&&(B.unit=ie,B.start=re,B.end=z)),z}var Ue={};function getDefaultDisplay(C){var E,I=C.ownerDocument,B=C.nodeName,z=Ue[B];return z||(E=I.body.appendChild(I.createElement(B)),z=jQuery.css(E,"display"),E.parentNode.removeChild(E),"none"===z&&(z="block"),Ue[B]=z,z)}function showHide(C,E){for(var I,B,z=[],q=0,Q=C.length;q<Q;q++)(B=C[q]).style&&(I=B.style.display,E?("none"===I&&(z[q]=Be.get(B,"display")||null,z[q]||(B.style.display="")),""===B.style.display&&isHiddenWithinTree(B)&&(z[q]=getDefaultDisplay(B))):"none"!==I&&(z[q]="none",Be.set(B,"display",I)));for(q=0;q<Q;q++)null!=z[q]&&(C[q].style.display=z[q]);return C}jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(C){return"boolean"==typeof C?C?this.show():this.hide():this.each((function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()}))}});var ze,qe,We=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Xe=/^$|^module$|\/(?:java|ecma)script/i;ze=he.createDocumentFragment().appendChild(he.createElement("div")),(qe=he.createElement("input")).setAttribute("type","radio"),qe.setAttribute("checked","checked"),qe.setAttribute("name","t"),ze.appendChild(qe),ue.checkClone=ze.cloneNode(!0).cloneNode(!0).lastChild.checked,ze.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!ze.cloneNode(!0).lastChild.defaultValue,ze.innerHTML="<option></option>",ue.option=!!ze.lastChild;var Je={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(C,E){var I;return I=void 0!==C.getElementsByTagName?C.getElementsByTagName(E||"*"):void 0!==C.querySelectorAll?C.querySelectorAll(E||"*"):[],void 0===E||E&&nodeName(C,E)?jQuery.merge([C],I):I}function setGlobalEval(C,E){for(var I=0,B=C.length;I<B;I++)Be.set(C[I],"globalEval",!E||Be.get(E[I],"globalEval"))}Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,ue.option||(Je.optgroup=Je.option=[1,"<select multiple='multiple'>","</select>"]);var Ye=/<|&#?\w+;/;function buildFragment(C,E,I,B,z){for(var q,Q,ee,te,ie,re,ne=E.createDocumentFragment(),se=[],oe=0,ae=C.length;oe<ae;oe++)if((q=C[oe])||0===q)if("object"===toType(q))jQuery.merge(se,q.nodeType?[q]:q);else if(Ye.test(q)){for(Q=Q||ne.appendChild(E.createElement("div")),ee=(Ke.exec(q)||["",""])[1].toLowerCase(),te=Je[ee]||Je._default,Q.innerHTML=te[1]+jQuery.htmlPrefilter(q)+te[2],re=te[0];re--;)Q=Q.lastChild;jQuery.merge(se,Q.childNodes),(Q=ne.firstChild).textContent=""}else se.push(E.createTextNode(q));for(ne.textContent="",oe=0;q=se[oe++];)if(B&&jQuery.inArray(q,B)>-1)z&&z.push(q);else if(ie=isAttached(q),Q=getAll(ne.appendChild(q),"script"),ie&&setGlobalEval(Q),I)for(re=0;q=Q[re++];)Xe.test(q.type||"")&&I.push(q);return ne}var Ze=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function on(C,E,I,B,z,q){var Q,ee;if("object"==typeof E){for(ee in"string"!=typeof I&&(B=B||I,I=void 0),E)on(C,ee,I,B,E[ee],q);return C}if(null==B&&null==z?(z=I,B=I=void 0):null==z&&("string"==typeof I?(z=B,B=void 0):(z=B,B=I,I=void 0)),!1===z)z=returnFalse;else if(!z)return C;return 1===q&&(Q=z,z=function(C){return jQuery().off(C),Q.apply(this,arguments)},z.guid=Q.guid||(Q.guid=jQuery.guid++)),C.each((function(){jQuery.event.add(this,E,z,B,I)}))}function leverageNative(C,E,I){I?(Be.set(C,E,!1),jQuery.event.add(C,E,{namespace:!1,handler:function(C){var I,B=Be.get(this,E);if(1&C.isTrigger&&this[E]){if(B)(jQuery.event.special[E]||{}).delegateType&&C.stopPropagation();else if(B=ee.call(arguments),Be.set(this,E,B),this[E](),I=Be.get(this,E),Be.set(this,E,!1),B!==I)return C.stopImmediatePropagation(),C.preventDefault(),I}else B&&(Be.set(this,E,jQuery.event.trigger(B[0],B.slice(1),this)),C.stopPropagation(),C.isImmediatePropagationStopped=returnTrue)}})):void 0===Be.get(C,E)&&jQuery.event.add(C,E,returnTrue)}jQuery.event={global:{},add:function(C,E,I,B,z){var q,Q,ee,te,ie,re,ne,se,oe,ae,le,ue=Be.get(C);if(acceptData(C))for(I.handler&&(I=(q=I).handler,z=q.selector),z&&jQuery.find.matchesSelector(He,z),I.guid||(I.guid=jQuery.guid++),(te=ue.events)||(te=ue.events=Object.create(null)),(Q=ue.handle)||(Q=ue.handle=function(E){return void 0!==jQuery&&jQuery.event.triggered!==E.type?jQuery.event.dispatch.apply(C,arguments):void 0}),ie=(E=(E||"").match(Pe)||[""]).length;ie--;)oe=le=(ee=Ze.exec(E[ie])||[])[1],ae=(ee[2]||"").split(".").sort(),oe&&(ne=jQuery.event.special[oe]||{},oe=(z?ne.delegateType:ne.bindType)||oe,ne=jQuery.event.special[oe]||{},re=jQuery.extend({type:oe,origType:le,data:B,handler:I,guid:I.guid,selector:z,needsContext:z&&jQuery.expr.match.needsContext.test(z),namespace:ae.join(".")},q),(se=te[oe])||((se=te[oe]=[]).delegateCount=0,ne.setup&&!1!==ne.setup.call(C,B,ae,Q)||C.addEventListener&&C.addEventListener(oe,Q)),ne.add&&(ne.add.call(C,re),re.handler.guid||(re.handler.guid=I.guid)),z?se.splice(se.delegateCount++,0,re):se.push(re),jQuery.event.global[oe]=!0)},remove:function(C,E,I,B,z){var q,Q,ee,te,ie,re,ne,se,oe,ae,le,ue=Be.hasData(C)&&Be.get(C);if(ue&&(te=ue.events)){for(ie=(E=(E||"").match(Pe)||[""]).length;ie--;)if(oe=le=(ee=Ze.exec(E[ie])||[])[1],ae=(ee[2]||"").split(".").sort(),oe){for(ne=jQuery.event.special[oe]||{},se=te[oe=(B?ne.delegateType:ne.bindType)||oe]||[],ee=ee[2]&&new RegExp("(^|\\.)"+ae.join("\\.(?:.*\\.|)")+"(\\.|$)"),Q=q=se.length;q--;)re=se[q],!z&&le!==re.origType||I&&I.guid!==re.guid||ee&&!ee.test(re.namespace)||B&&B!==re.selector&&("**"!==B||!re.selector)||(se.splice(q,1),re.selector&&se.delegateCount--,ne.remove&&ne.remove.call(C,re));Q&&!se.length&&(ne.teardown&&!1!==ne.teardown.call(C,ae,ue.handle)||jQuery.removeEvent(C,oe,ue.handle),delete te[oe])}else for(oe in te)jQuery.event.remove(C,oe+E[ie],I,B,!0);jQuery.isEmptyObject(te)&&Be.remove(C,"handle events")}},dispatch:function(C){var E,I,B,z,q,Q,ee=new Array(arguments.length),te=jQuery.event.fix(C),ie=(Be.get(this,"events")||Object.create(null))[te.type]||[],re=jQuery.event.special[te.type]||{};for(ee[0]=te,E=1;E<arguments.length;E++)ee[E]=arguments[E];if(te.delegateTarget=this,!re.preDispatch||!1!==re.preDispatch.call(this,te)){for(Q=jQuery.event.handlers.call(this,te,ie),E=0;(z=Q[E++])&&!te.isPropagationStopped();)for(te.currentTarget=z.elem,I=0;(q=z.handlers[I++])&&!te.isImmediatePropagationStopped();)te.rnamespace&&!1!==q.namespace&&!te.rnamespace.test(q.namespace)||(te.handleObj=q,te.data=q.data,void 0!==(B=((jQuery.event.special[q.origType]||{}).handle||q.handler).apply(z.elem,ee))&&!1===(te.result=B)&&(te.preventDefault(),te.stopPropagation()));return re.postDispatch&&re.postDispatch.call(this,te),te.result}},handlers:function(C,E){var I,B,z,q,Q,ee=[],te=E.delegateCount,ie=C.target;if(te&&ie.nodeType&&!("click"===C.type&&C.button>=1))for(;ie!==this;ie=ie.parentNode||this)if(1===ie.nodeType&&("click"!==C.type||!0!==ie.disabled)){for(q=[],Q={},I=0;I<te;I++)void 0===Q[z=(B=E[I]).selector+" "]&&(Q[z]=B.needsContext?jQuery(z,this).index(ie)>-1:jQuery.find(z,this,null,[ie]).length),Q[z]&&q.push(B);q.length&&ee.push({elem:ie,handlers:q})}return ie=this,te<E.length&&ee.push({elem:ie,handlers:E.slice(te)}),ee},addProp:function(C,E){Object.defineProperty(jQuery.Event.prototype,C,{enumerable:!0,configurable:!0,get:de(E)?function(){if(this.originalEvent)return E(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[C]},set:function(E){Object.defineProperty(this,C,{enumerable:!0,configurable:!0,writable:!0,value:E})}})},fix:function(C){return C[jQuery.expando]?C:new jQuery.Event(C)},special:{load:{noBubble:!0},click:{setup:function(C){var E=this||C;return We.test(E.type)&&E.click&&nodeName(E,"input")&&leverageNative(E,"click",!0),!1},trigger:function(C){var E=this||C;return We.test(E.type)&&E.click&&nodeName(E,"input")&&leverageNative(E,"click"),!0},_default:function(C){var E=C.target;return We.test(E.type)&&E.click&&nodeName(E,"input")&&Be.get(E,"click")||nodeName(E,"a")}},beforeunload:{postDispatch:function(C){void 0!==C.result&&C.originalEvent&&(C.originalEvent.returnValue=C.result)}}}},jQuery.removeEvent=function(C,E,I){C.removeEventListener&&C.removeEventListener(E,I)},jQuery.Event=function(C,E){if(!(this instanceof jQuery.Event))return new jQuery.Event(C,E);C&&C.type?(this.originalEvent=C,this.type=C.type,this.isDefaultPrevented=C.defaultPrevented||void 0===C.defaultPrevented&&!1===C.returnValue?returnTrue:returnFalse,this.target=C.target&&3===C.target.nodeType?C.target.parentNode:C.target,this.currentTarget=C.currentTarget,this.relatedTarget=C.relatedTarget):this.type=C,E&&jQuery.extend(this,E),this.timeStamp=C&&C.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var C=this.originalEvent;this.isDefaultPrevented=returnTrue,C&&!this.isSimulated&&C.preventDefault()},stopPropagation:function(){var C=this.originalEvent;this.isPropagationStopped=returnTrue,C&&!this.isSimulated&&C.stopPropagation()},stopImmediatePropagation:function(){var C=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,C&&!this.isSimulated&&C.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},(function(C,E){function focusMappedHandler(C){if(he.documentMode){var I=Be.get(this,"handle"),B=jQuery.event.fix(C);B.type="focusin"===C.type?"focus":"blur",B.isSimulated=!0,I(C),B.target===B.currentTarget&&I(B)}else jQuery.event.simulate(E,C.target,jQuery.event.fix(C))}jQuery.event.special[C]={setup:function(){var I;if(leverageNative(this,C,!0),!he.documentMode)return!1;(I=Be.get(this,E))||this.addEventListener(E,focusMappedHandler),Be.set(this,E,(I||0)+1)},trigger:function(){return leverageNative(this,C),!0},teardown:function(){var C;if(!he.documentMode)return!1;(C=Be.get(this,E)-1)?Be.set(this,E,C):(this.removeEventListener(E,focusMappedHandler),Be.remove(this,E))},_default:function(E){return Be.get(E.target,C)},delegateType:E},jQuery.event.special[E]={setup:function(){var I=this.ownerDocument||this.document||this,B=he.documentMode?this:I,z=Be.get(B,E);z||(he.documentMode?this.addEventListener(E,focusMappedHandler):I.addEventListener(C,focusMappedHandler,!0)),Be.set(B,E,(z||0)+1)},teardown:function(){var I=this.ownerDocument||this.document||this,B=he.documentMode?this:I,z=Be.get(B,E)-1;z?Be.set(B,E,z):(he.documentMode?this.removeEventListener(E,focusMappedHandler):I.removeEventListener(C,focusMappedHandler,!0),Be.remove(B,E))}}})),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(C,E){jQuery.event.special[C]={delegateType:E,bindType:E,handle:function(C){var I,B=C.relatedTarget,z=C.handleObj;return B&&(B===this||jQuery.contains(this,B))||(C.type=z.origType,I=z.handler.apply(this,arguments),C.type=E),I}}})),jQuery.fn.extend({on:function(C,E,I,B){return on(this,C,E,I,B)},one:function(C,E,I,B){return on(this,C,E,I,B,1)},off:function(C,E,I){var B,z;if(C&&C.preventDefault&&C.handleObj)return B=C.handleObj,jQuery(C.delegateTarget).off(B.namespace?B.origType+"."+B.namespace:B.origType,B.selector,B.handler),this;if("object"==typeof C){for(z in C)this.off(z,E,C[z]);return this}return!1!==E&&"function"!=typeof E||(I=E,E=void 0),!1===I&&(I=returnFalse),this.each((function(){jQuery.event.remove(this,C,I,E)}))}});var Qe=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function manipulationTarget(C,E){return nodeName(C,"table")&&nodeName(11!==E.nodeType?E:E.firstChild,"tr")&&jQuery(C).children("tbody")[0]||C}function disableScript(C){return C.type=(null!==C.getAttribute("type"))+"/"+C.type,C}function restoreScript(C){return"true/"===(C.type||"").slice(0,5)?C.type=C.type.slice(5):C.removeAttribute("type"),C}function cloneCopyEvent(C,E){var I,B,z,q,Q,ee;if(1===E.nodeType){if(Be.hasData(C)&&(ee=Be.get(C).events))for(z in Be.remove(E,"handle events"),ee)for(I=0,B=ee[z].length;I<B;I++)jQuery.event.add(E,z,ee[z][I]);Fe.hasData(C)&&(q=Fe.access(C),Q=jQuery.extend({},q),Fe.set(E,Q))}}function fixInput(C,E){var I=E.nodeName.toLowerCase();"input"===I&&We.test(C.type)?E.checked=C.checked:"input"!==I&&"textarea"!==I||(E.defaultValue=C.defaultValue)}function domManip(C,E,I,B){E=te(E);var z,q,Q,ee,ie,re,ne=0,se=C.length,oe=se-1,ae=E[0],le=de(ae);if(le||se>1&&"string"==typeof ae&&!ue.checkClone&&et.test(ae))return C.each((function(z){var q=C.eq(z);le&&(E[0]=ae.call(this,z,q.html())),domManip(q,E,I,B)}));if(se&&(q=(z=buildFragment(E,C[0].ownerDocument,!1,C,B)).firstChild,1===z.childNodes.length&&(z=q),q||B)){for(ee=(Q=jQuery.map(getAll(z,"script"),disableScript)).length;ne<se;ne++)ie=z,ne!==oe&&(ie=jQuery.clone(ie,!0,!0),ee&&jQuery.merge(Q,getAll(ie,"script"))),I.call(C[ne],ie,ne);if(ee)for(re=Q[Q.length-1].ownerDocument,jQuery.map(Q,restoreScript),ne=0;ne<ee;ne++)ie=Q[ne],Xe.test(ie.type||"")&&!Be.access(ie,"globalEval")&&jQuery.contains(re,ie)&&(ie.src&&"module"!==(ie.type||"").toLowerCase()?jQuery._evalUrl&&!ie.noModule&&jQuery._evalUrl(ie.src,{nonce:ie.nonce||ie.getAttribute("nonce")},re):DOMEval(ie.textContent.replace(tt,""),ie,re))}return C}function remove(C,E,I){for(var B,z=E?jQuery.filter(E,C):C,q=0;null!=(B=z[q]);q++)I||1!==B.nodeType||jQuery.cleanData(getAll(B)),B.parentNode&&(I&&isAttached(B)&&setGlobalEval(getAll(B,"script")),B.parentNode.removeChild(B));return C}jQuery.extend({htmlPrefilter:function(C){return C},clone:function(C,E,I){var B,z,q,Q,ee=C.cloneNode(!0),te=isAttached(C);if(!(ue.noCloneChecked||1!==C.nodeType&&11!==C.nodeType||jQuery.isXMLDoc(C)))for(Q=getAll(ee),B=0,z=(q=getAll(C)).length;B<z;B++)fixInput(q[B],Q[B]);if(E)if(I)for(q=q||getAll(C),Q=Q||getAll(ee),B=0,z=q.length;B<z;B++)cloneCopyEvent(q[B],Q[B]);else cloneCopyEvent(C,ee);return(Q=getAll(ee,"script")).length>0&&setGlobalEval(Q,!te&&getAll(C,"script")),ee},cleanData:function(C){for(var E,I,B,z=jQuery.event.special,q=0;void 0!==(I=C[q]);q++)if(acceptData(I)){if(E=I[Be.expando]){if(E.events)for(B in E.events)z[B]?jQuery.event.remove(I,B):jQuery.removeEvent(I,B,E.handle);I[Be.expando]=void 0}I[Fe.expando]&&(I[Fe.expando]=void 0)}}}),jQuery.fn.extend({detach:function(C){return remove(this,C,!0)},remove:function(C){return remove(this,C)},text:function(C){return access(this,(function(C){return void 0===C?jQuery.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=C)}))}),null,C,arguments.length)},append:function(){return domManip(this,arguments,(function(C){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,C).appendChild(C)}))},prepend:function(){return domManip(this,arguments,(function(C){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var E=manipulationTarget(this,C);E.insertBefore(C,E.firstChild)}}))},before:function(){return domManip(this,arguments,(function(C){this.parentNode&&this.parentNode.insertBefore(C,this)}))},after:function(){return domManip(this,arguments,(function(C){this.parentNode&&this.parentNode.insertBefore(C,this.nextSibling)}))},empty:function(){for(var C,E=0;null!=(C=this[E]);E++)1===C.nodeType&&(jQuery.cleanData(getAll(C,!1)),C.textContent="");return this},clone:function(C,E){return C=null!=C&&C,E=null==E?C:E,this.map((function(){return jQuery.clone(this,C,E)}))},html:function(C){return access(this,(function(C){var E=this[0]||{},I=0,B=this.length;if(void 0===C&&1===E.nodeType)return E.innerHTML;if("string"==typeof C&&!Qe.test(C)&&!Je[(Ke.exec(C)||["",""])[1].toLowerCase()]){C=jQuery.htmlPrefilter(C);try{for(;I<B;I++)1===(E=this[I]||{}).nodeType&&(jQuery.cleanData(getAll(E,!1)),E.innerHTML=C);E=0}catch(C){}}E&&this.empty().append(C)}),null,C,arguments.length)},replaceWith:function(){var C=[];return domManip(this,arguments,(function(E){var I=this.parentNode;jQuery.inArray(this,C)<0&&(jQuery.cleanData(getAll(this)),I&&I.replaceChild(E,this))}),C)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(C,E){jQuery.fn[C]=function(C){for(var I,B=[],z=jQuery(C),q=z.length-1,Q=0;Q<=q;Q++)I=Q===q?this:this.clone(!0),jQuery(z[Q])[E](I),ie.apply(B,I.get());return this.pushStack(B)}}));var it=new RegExp("^("+$e+")(?!px)[a-z%]+$","i"),rt=/^--/,getStyles=function(C){var E=C.ownerDocument.defaultView;return E&&E.opener||(E=B),E.getComputedStyle(C)},swap=function(C,E,I){var B,z,q={};for(z in E)q[z]=C.style[z],C.style[z]=E[z];for(z in B=I.call(C),E)C.style[z]=q[z];return B},nt=new RegExp(Ve.join("|"),"i");function curCSS(C,E,I){var B,z,q,Q,ee=rt.test(E),te=C.style;return(I=I||getStyles(C))&&(Q=I.getPropertyValue(E)||I[E],ee&&Q&&(Q=Q.replace(Ce,"$1")||void 0),""!==Q||isAttached(C)||(Q=jQuery.style(C,E)),!ue.pixelBoxStyles()&&it.test(Q)&&nt.test(E)&&(B=te.width,z=te.minWidth,q=te.maxWidth,te.minWidth=te.maxWidth=te.width=Q,Q=I.width,te.width=B,te.minWidth=z,te.maxWidth=q)),void 0!==Q?Q+"":Q}function addGetHookIf(C,E){return{get:function(){if(!C())return(this.get=E).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(te){ee.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",te.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",He.appendChild(ee).appendChild(te);var q=B.getComputedStyle(te);C="1%"!==q.top,Q=12===roundPixelMeasures(q.marginLeft),te.style.right="60%",z=36===roundPixelMeasures(q.right),E=36===roundPixelMeasures(q.width),te.style.position="absolute",I=12===roundPixelMeasures(te.offsetWidth/3),He.removeChild(ee),te=null}}function roundPixelMeasures(C){return Math.round(parseFloat(C))}var C,E,I,z,q,Q,ee=he.createElement("div"),te=he.createElement("div");te.style&&(te.style.backgroundClip="content-box",te.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===te.style.backgroundClip,jQuery.extend(ue,{boxSizingReliable:function(){return computeStyleTests(),E},pixelBoxStyles:function(){return computeStyleTests(),z},pixelPosition:function(){return computeStyleTests(),C},reliableMarginLeft:function(){return computeStyleTests(),Q},scrollboxSize:function(){return computeStyleTests(),I},reliableTrDimensions:function(){var C,E,I,z;return null==q&&(C=he.createElement("table"),E=he.createElement("tr"),I=he.createElement("div"),C.style.cssText="position:absolute;left:-11111px;border-collapse:separate",E.style.cssText="box-sizing:content-box;border:1px solid",E.style.height="1px",I.style.height="9px",I.style.display="block",He.appendChild(C).appendChild(E).appendChild(I),z=B.getComputedStyle(E),q=parseInt(z.height,10)+parseInt(z.borderTopWidth,10)+parseInt(z.borderBottomWidth,10)===E.offsetHeight,He.removeChild(C)),q}}))}();var st=["Webkit","Moz","ms"],ot=he.createElement("div").style,at={};function finalPropName(C){var E=jQuery.cssProps[C]||at[C];return E||(C in ot?C:at[C]=function vendorPropName(C){for(var E=C[0].toUpperCase()+C.slice(1),I=st.length;I--;)if((C=st[I]+E)in ot)return C}(C)||C)}var ut=/^(none|table(?!-c[ea]).+)/,dt={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(C,E,I){var B=je.exec(E);return B?Math.max(0,B[2]-(I||0))+(B[3]||"px"):E}function boxModelAdjustment(C,E,I,B,z,q){var Q="width"===E?1:0,ee=0,te=0,ie=0;if(I===(B?"border":"content"))return 0;for(;Q<4;Q+=2)"margin"===I&&(ie+=jQuery.css(C,I+Ve[Q],!0,z)),B?("content"===I&&(te-=jQuery.css(C,"padding"+Ve[Q],!0,z)),"margin"!==I&&(te-=jQuery.css(C,"border"+Ve[Q]+"Width",!0,z))):(te+=jQuery.css(C,"padding"+Ve[Q],!0,z),"padding"!==I?te+=jQuery.css(C,"border"+Ve[Q]+"Width",!0,z):ee+=jQuery.css(C,"border"+Ve[Q]+"Width",!0,z));return!B&&q>=0&&(te+=Math.max(0,Math.ceil(C["offset"+E[0].toUpperCase()+E.slice(1)]-q-te-ee-.5))||0),te+ie}function getWidthOrHeight(C,E,I){var B=getStyles(C),z=(!ue.boxSizingReliable()||I)&&"border-box"===jQuery.css(C,"boxSizing",!1,B),q=z,Q=curCSS(C,E,B),ee="offset"+E[0].toUpperCase()+E.slice(1);if(it.test(Q)){if(!I)return Q;Q="auto"}return(!ue.boxSizingReliable()&&z||!ue.reliableTrDimensions()&&nodeName(C,"tr")||"auto"===Q||!parseFloat(Q)&&"inline"===jQuery.css(C,"display",!1,B))&&C.getClientRects().length&&(z="border-box"===jQuery.css(C,"boxSizing",!1,B),(q=ee in C)&&(Q=C[ee])),(Q=parseFloat(Q)||0)+boxModelAdjustment(C,E,I||(z?"border":"content"),q,B,Q)+"px"}function Tween(C,E,I,B,z){return new Tween.prototype.init(C,E,I,B,z)}jQuery.extend({cssHooks:{opacity:{get:function(C,E){if(E){var I=curCSS(C,"opacity");return""===I?"1":I}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(C,E,I,B){if(C&&3!==C.nodeType&&8!==C.nodeType&&C.style){var z,q,Q,ee=camelCase(E),te=rt.test(E),ie=C.style;if(te||(E=finalPropName(ee)),Q=jQuery.cssHooks[E]||jQuery.cssHooks[ee],void 0===I)return Q&&"get"in Q&&void 0!==(z=Q.get(C,!1,B))?z:ie[E];"string"===(q=typeof I)&&(z=je.exec(I))&&z[1]&&(I=adjustCSS(C,E,z),q="number"),null!=I&&I==I&&("number"!==q||te||(I+=z&&z[3]||(jQuery.cssNumber[ee]?"":"px")),ue.clearCloneStyle||""!==I||0!==E.indexOf("background")||(ie[E]="inherit"),Q&&"set"in Q&&void 0===(I=Q.set(C,I,B))||(te?ie.setProperty(E,I):ie[E]=I))}},css:function(C,E,I,B){var z,q,Q,ee=camelCase(E);return rt.test(E)||(E=finalPropName(ee)),(Q=jQuery.cssHooks[E]||jQuery.cssHooks[ee])&&"get"in Q&&(z=Q.get(C,!0,I)),void 0===z&&(z=curCSS(C,E,B)),"normal"===z&&E in ct&&(z=ct[E]),""===I||I?(q=parseFloat(z),!0===I||isFinite(q)?q||0:z):z}}),jQuery.each(["height","width"],(function(C,E){jQuery.cssHooks[E]={get:function(C,I,B){if(I)return!ut.test(jQuery.css(C,"display"))||C.getClientRects().length&&C.getBoundingClientRect().width?getWidthOrHeight(C,E,B):swap(C,dt,(function(){return getWidthOrHeight(C,E,B)}))},set:function(C,I,B){var z,q=getStyles(C),Q=!ue.scrollboxSize()&&"absolute"===q.position,ee=(Q||B)&&"border-box"===jQuery.css(C,"boxSizing",!1,q),te=B?boxModelAdjustment(C,E,B,ee,q):0;return ee&&Q&&(te-=Math.ceil(C["offset"+E[0].toUpperCase()+E.slice(1)]-parseFloat(q[E])-boxModelAdjustment(C,E,"border",!1,q)-.5)),te&&(z=je.exec(I))&&"px"!==(z[3]||"px")&&(C.style[E]=I,I=jQuery.css(C,E)),setPositiveNumber(0,I,te)}}})),jQuery.cssHooks.marginLeft=addGetHookIf(ue.reliableMarginLeft,(function(C,E){if(E)return(parseFloat(curCSS(C,"marginLeft"))||C.getBoundingClientRect().left-swap(C,{marginLeft:0},(function(){return C.getBoundingClientRect().left})))+"px"})),jQuery.each({margin:"",padding:"",border:"Width"},(function(C,E){jQuery.cssHooks[C+E]={expand:function(I){for(var B=0,z={},q="string"==typeof I?I.split(" "):[I];B<4;B++)z[C+Ve[B]+E]=q[B]||q[B-2]||q[0];return z}},"margin"!==C&&(jQuery.cssHooks[C+E].set=setPositiveNumber)})),jQuery.fn.extend({css:function(C,E){return access(this,(function(C,E,I){var B,z,q={},Q=0;if(Array.isArray(E)){for(B=getStyles(C),z=E.length;Q<z;Q++)q[E[Q]]=jQuery.css(C,E[Q],!1,B);return q}return void 0!==I?jQuery.style(C,E,I):jQuery.css(C,E)}),C,E,arguments.length>1)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(C,E,I,B,z,q){this.elem=C,this.prop=I,this.easing=z||jQuery.easing._default,this.options=E,this.start=this.now=this.cur(),this.end=B,this.unit=q||(jQuery.cssNumber[I]?"":"px")},cur:function(){var C=Tween.propHooks[this.prop];return C&&C.get?C.get(this):Tween.propHooks._default.get(this)},run:function(C){var E,I=Tween.propHooks[this.prop];return this.options.duration?this.pos=E=jQuery.easing[this.easing](C,this.options.duration*C,0,1,this.options.duration):this.pos=E=C,this.now=(this.end-this.start)*E+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(C){var E;return 1!==C.elem.nodeType||null!=C.elem[C.prop]&&null==C.elem.style[C.prop]?C.elem[C.prop]:(E=jQuery.css(C.elem,C.prop,""))&&"auto"!==E?E:0},set:function(C){jQuery.fx.step[C.prop]?jQuery.fx.step[C.prop](C):1!==C.elem.nodeType||!jQuery.cssHooks[C.prop]&&null==C.elem.style[finalPropName(C.prop)]?C.elem[C.prop]=C.now:jQuery.style(C.elem,C.prop,C.now+C.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(C){C.elem.nodeType&&C.elem.parentNode&&(C.elem[C.prop]=C.now)}},jQuery.easing={linear:function(C){return C},swing:function(C){return.5-Math.cos(C*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var ht,pt,mt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;function schedule(){pt&&(!1===he.hidden&&B.requestAnimationFrame?B.requestAnimationFrame(schedule):B.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return B.setTimeout((function(){ht=void 0})),ht=Date.now()}function genFx(C,E){var I,B=0,z={height:C};for(E=E?1:0;B<4;B+=2-E)z["margin"+(I=Ve[B])]=z["padding"+I]=C;return E&&(z.opacity=z.width=C),z}function createTween(C,E,I){for(var B,z=(Animation.tweeners[E]||[]).concat(Animation.tweeners["*"]),q=0,Q=z.length;q<Q;q++)if(B=z[q].call(I,E,C))return B}function Animation(C,E,I){var B,z,q=0,Q=Animation.prefilters.length,ee=jQuery.Deferred().always((function(){delete tick.elem})),tick=function(){if(z)return!1;for(var E=ht||createFxNow(),I=Math.max(0,te.startTime+te.duration-E),B=1-(I/te.duration||0),q=0,Q=te.tweens.length;q<Q;q++)te.tweens[q].run(B);return ee.notifyWith(C,[te,B,I]),B<1&&Q?I:(Q||ee.notifyWith(C,[te,1,0]),ee.resolveWith(C,[te]),!1)},te=ee.promise({elem:C,props:jQuery.extend({},E),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},I),originalProperties:E,originalOptions:I,startTime:ht||createFxNow(),duration:I.duration,tweens:[],createTween:function(E,I){var B=jQuery.Tween(C,te.opts,E,I,te.opts.specialEasing[E]||te.opts.easing);return te.tweens.push(B),B},stop:function(E){var I=0,B=E?te.tweens.length:0;if(z)return this;for(z=!0;I<B;I++)te.tweens[I].run(1);return E?(ee.notifyWith(C,[te,1,0]),ee.resolveWith(C,[te,E])):ee.rejectWith(C,[te,E]),this}}),ie=te.props;for(!function propFilter(C,E){var I,B,z,q,Q;for(I in C)if(z=E[B=camelCase(I)],q=C[I],Array.isArray(q)&&(z=q[1],q=C[I]=q[0]),I!==B&&(C[B]=q,delete C[I]),(Q=jQuery.cssHooks[B])&&"expand"in Q)for(I in q=Q.expand(q),delete C[B],q)I in C||(C[I]=q[I],E[I]=z);else E[B]=z}(ie,te.opts.specialEasing);q<Q;q++)if(B=Animation.prefilters[q].call(te,C,ie,te.opts))return de(B.stop)&&(jQuery._queueHooks(te.elem,te.opts.queue).stop=B.stop.bind(B)),B;return jQuery.map(ie,createTween,te),de(te.opts.start)&&te.opts.start.call(C,te),te.progress(te.opts.progress).done(te.opts.done,te.opts.complete).fail(te.opts.fail).always(te.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:C,anim:te,queue:te.opts.queue})),te}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(C,E){var I=this.createTween(C,E);return adjustCSS(I.elem,C,je.exec(E),I),I}]},tweener:function(C,E){de(C)?(E=C,C=["*"]):C=C.match(Pe);for(var I,B=0,z=C.length;B<z;B++)I=C[B],Animation.tweeners[I]=Animation.tweeners[I]||[],Animation.tweeners[I].unshift(E)},prefilters:[function defaultPrefilter(C,E,I){var B,z,q,Q,ee,te,ie,re,ne="width"in E||"height"in E,se=this,oe={},ae=C.style,le=C.nodeType&&isHiddenWithinTree(C),ue=Be.get(C,"fxshow");for(B in I.queue||(null==(Q=jQuery._queueHooks(C,"fx")).unqueued&&(Q.unqueued=0,ee=Q.empty.fire,Q.empty.fire=function(){Q.unqueued||ee()}),Q.unqueued++,se.always((function(){se.always((function(){Q.unqueued--,jQuery.queue(C,"fx").length||Q.empty.fire()}))}))),E)if(z=E[B],mt.test(z)){if(delete E[B],q=q||"toggle"===z,z===(le?"hide":"show")){if("show"!==z||!ue||void 0===ue[B])continue;le=!0}oe[B]=ue&&ue[B]||jQuery.style(C,B)}if((te=!jQuery.isEmptyObject(E))||!jQuery.isEmptyObject(oe))for(B in ne&&1===C.nodeType&&(I.overflow=[ae.overflow,ae.overflowX,ae.overflowY],null==(ie=ue&&ue.display)&&(ie=Be.get(C,"display")),"none"===(re=jQuery.css(C,"display"))&&(ie?re=ie:(showHide([C],!0),ie=C.style.display||ie,re=jQuery.css(C,"display"),showHide([C]))),("inline"===re||"inline-block"===re&&null!=ie)&&"none"===jQuery.css(C,"float")&&(te||(se.done((function(){ae.display=ie})),null==ie&&(re=ae.display,ie="none"===re?"":re)),ae.display="inline-block")),I.overflow&&(ae.overflow="hidden",se.always((function(){ae.overflow=I.overflow[0],ae.overflowX=I.overflow[1],ae.overflowY=I.overflow[2]}))),te=!1,oe)te||(ue?"hidden"in ue&&(le=ue.hidden):ue=Be.access(C,"fxshow",{display:ie}),q&&(ue.hidden=!le),le&&showHide([C],!0),se.done((function(){for(B in le||showHide([C]),Be.remove(C,"fxshow"),oe)jQuery.style(C,B,oe[B])}))),te=createTween(le?ue[B]:0,B,se),B in ue||(ue[B]=te.start,le&&(te.end=te.start,te.start=0))}],prefilter:function(C,E){E?Animation.prefilters.unshift(C):Animation.prefilters.push(C)}}),jQuery.speed=function(C,E,I){var B=C&&"object"==typeof C?jQuery.extend({},C):{complete:I||!I&&E||de(C)&&C,duration:C,easing:I&&E||E&&!de(E)&&E};return jQuery.fx.off?B.duration=0:"number"!=typeof B.duration&&(B.duration in jQuery.fx.speeds?B.duration=jQuery.fx.speeds[B.duration]:B.duration=jQuery.fx.speeds._default),null!=B.queue&&!0!==B.queue||(B.queue="fx"),B.old=B.complete,B.complete=function(){de(B.old)&&B.old.call(this),B.queue&&jQuery.dequeue(this,B.queue)},B},jQuery.fn.extend({fadeTo:function(C,E,I,B){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:E},C,I,B)},animate:function(C,E,I,B){var z=jQuery.isEmptyObject(C),q=jQuery.speed(E,I,B),doAnimation=function(){var E=Animation(this,jQuery.extend({},C),q);(z||Be.get(this,"finish"))&&E.stop(!0)};return doAnimation.finish=doAnimation,z||!1===q.queue?this.each(doAnimation):this.queue(q.queue,doAnimation)},stop:function(C,E,I){var stopQueue=function(C){var E=C.stop;delete C.stop,E(I)};return"string"!=typeof C&&(I=E,E=C,C=void 0),E&&this.queue(C||"fx",[]),this.each((function(){var E=!0,B=null!=C&&C+"queueHooks",z=jQuery.timers,q=Be.get(this);if(B)q[B]&&q[B].stop&&stopQueue(q[B]);else for(B in q)q[B]&&q[B].stop&&vt.test(B)&&stopQueue(q[B]);for(B=z.length;B--;)z[B].elem!==this||null!=C&&z[B].queue!==C||(z[B].anim.stop(I),E=!1,z.splice(B,1));!E&&I||jQuery.dequeue(this,C)}))},finish:function(C){return!1!==C&&(C=C||"fx"),this.each((function(){var E,I=Be.get(this),B=I[C+"queue"],z=I[C+"queueHooks"],q=jQuery.timers,Q=B?B.length:0;for(I.finish=!0,jQuery.queue(this,C,[]),z&&z.stop&&z.stop.call(this,!0),E=q.length;E--;)q[E].elem===this&&q[E].queue===C&&(q[E].anim.stop(!0),q.splice(E,1));for(E=0;E<Q;E++)B[E]&&B[E].finish&&B[E].finish.call(this);delete I.finish}))}}),jQuery.each(["toggle","show","hide"],(function(C,E){var I=jQuery.fn[E];jQuery.fn[E]=function(C,B,z){return null==C||"boolean"==typeof C?I.apply(this,arguments):this.animate(genFx(E,!0),C,B,z)}})),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(C,E){jQuery.fn[C]=function(C,I,B){return this.animate(E,C,I,B)}})),jQuery.timers=[],jQuery.fx.tick=function(){var C,E=0,I=jQuery.timers;for(ht=Date.now();E<I.length;E++)(C=I[E])()||I[E]!==C||I.splice(E--,1);I.length||jQuery.fx.stop(),ht=void 0},jQuery.fx.timer=function(C){jQuery.timers.push(C),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){pt||(pt=!0,schedule())},jQuery.fx.stop=function(){pt=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(C,E){return C=jQuery.fx&&jQuery.fx.speeds[C]||C,E=E||"fx",this.queue(E,(function(E,I){var z=B.setTimeout(E,C);I.stop=function(){B.clearTimeout(z)}}))},function(){var C=he.createElement("input"),E=he.createElement("select").appendChild(he.createElement("option"));C.type="checkbox",ue.checkOn=""!==C.value,ue.optSelected=E.selected,(C=he.createElement("input")).value="t",C.type="radio",ue.radioValue="t"===C.value}();var yt,bt=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(C,E){return access(this,jQuery.attr,C,E,arguments.length>1)},removeAttr:function(C){return this.each((function(){jQuery.removeAttr(this,C)}))}}),jQuery.extend({attr:function(C,E,I){var B,z,q=C.nodeType;if(3!==q&&8!==q&&2!==q)return void 0===C.getAttribute?jQuery.prop(C,E,I):(1===q&&jQuery.isXMLDoc(C)||(z=jQuery.attrHooks[E.toLowerCase()]||(jQuery.expr.match.bool.test(E)?yt:void 0)),void 0!==I?null===I?void jQuery.removeAttr(C,E):z&&"set"in z&&void 0!==(B=z.set(C,I,E))?B:(C.setAttribute(E,I+""),I):z&&"get"in z&&null!==(B=z.get(C,E))?B:null==(B=jQuery.find.attr(C,E))?void 0:B)},attrHooks:{type:{set:function(C,E){if(!ue.radioValue&&"radio"===E&&nodeName(C,"input")){var I=C.value;return C.setAttribute("type",E),I&&(C.value=I),E}}}},removeAttr:function(C,E){var I,B=0,z=E&&E.match(Pe);if(z&&1===C.nodeType)for(;I=z[B++];)C.removeAttribute(I)}}),yt={set:function(C,E,I){return!1===E?jQuery.removeAttr(C,I):C.setAttribute(I,I),I}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),(function(C,E){var I=bt[E]||jQuery.find.attr;bt[E]=function(C,E,B){var z,q,Q=E.toLowerCase();return B||(q=bt[Q],bt[Q]=z,z=null!=I(C,E,B)?Q:null,bt[Q]=q),z}}));var Ct=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function stripAndCollapse(C){return(C.match(Pe)||[]).join(" ")}function getClass(C){return C.getAttribute&&C.getAttribute("class")||""}function classesToArray(C){return Array.isArray(C)?C:"string"==typeof C&&C.match(Pe)||[]}jQuery.fn.extend({prop:function(C,E){return access(this,jQuery.prop,C,E,arguments.length>1)},removeProp:function(C){return this.each((function(){delete this[jQuery.propFix[C]||C]}))}}),jQuery.extend({prop:function(C,E,I){var B,z,q=C.nodeType;if(3!==q&&8!==q&&2!==q)return 1===q&&jQuery.isXMLDoc(C)||(E=jQuery.propFix[E]||E,z=jQuery.propHooks[E]),void 0!==I?z&&"set"in z&&void 0!==(B=z.set(C,I,E))?B:C[E]=I:z&&"get"in z&&null!==(B=z.get(C,E))?B:C[E]},propHooks:{tabIndex:{get:function(C){var E=jQuery.find.attr(C,"tabindex");return E?parseInt(E,10):Ct.test(C.nodeName)||wt.test(C.nodeName)&&C.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ue.optSelected||(jQuery.propHooks.selected={get:function(C){var E=C.parentNode;return E&&E.parentNode&&E.parentNode.selectedIndex,null},set:function(C){var E=C.parentNode;E&&(E.selectedIndex,E.parentNode&&E.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){jQuery.propFix[this.toLowerCase()]=this})),jQuery.fn.extend({addClass:function(C){var E,I,B,z,q,Q;return de(C)?this.each((function(E){jQuery(this).addClass(C.call(this,E,getClass(this)))})):(E=classesToArray(C)).length?this.each((function(){if(B=getClass(this),I=1===this.nodeType&&" "+stripAndCollapse(B)+" "){for(q=0;q<E.length;q++)z=E[q],I.indexOf(" "+z+" ")<0&&(I+=z+" ");Q=stripAndCollapse(I),B!==Q&&this.setAttribute("class",Q)}})):this},removeClass:function(C){var E,I,B,z,q,Q;return de(C)?this.each((function(E){jQuery(this).removeClass(C.call(this,E,getClass(this)))})):arguments.length?(E=classesToArray(C)).length?this.each((function(){if(B=getClass(this),I=1===this.nodeType&&" "+stripAndCollapse(B)+" "){for(q=0;q<E.length;q++)for(z=E[q];I.indexOf(" "+z+" ")>-1;)I=I.replace(" "+z+" "," ");Q=stripAndCollapse(I),B!==Q&&this.setAttribute("class",Q)}})):this:this.attr("class","")},toggleClass:function(C,E){var I,B,z,q,Q=typeof C,ee="string"===Q||Array.isArray(C);return de(C)?this.each((function(I){jQuery(this).toggleClass(C.call(this,I,getClass(this),E),E)})):"boolean"==typeof E&&ee?E?this.addClass(C):this.removeClass(C):(I=classesToArray(C),this.each((function(){if(ee)for(q=jQuery(this),z=0;z<I.length;z++)B=I[z],q.hasClass(B)?q.removeClass(B):q.addClass(B);else void 0!==C&&"boolean"!==Q||((B=getClass(this))&&Be.set(this,"__className__",B),this.setAttribute&&this.setAttribute("class",B||!1===C?"":Be.get(this,"__className__")||""))})))},hasClass:function(C){var E,I,B=0;for(E=" "+C+" ";I=this[B++];)if(1===I.nodeType&&(" "+stripAndCollapse(getClass(I))+" ").indexOf(E)>-1)return!0;return!1}});var _t=/\r/g;jQuery.fn.extend({val:function(C){var E,I,B,z=this[0];return arguments.length?(B=de(C),this.each((function(I){var z;1===this.nodeType&&(null==(z=B?C.call(this,I,jQuery(this).val()):C)?z="":"number"==typeof z?z+="":Array.isArray(z)&&(z=jQuery.map(z,(function(C){return null==C?"":C+""}))),(E=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in E&&void 0!==E.set(this,z,"value")||(this.value=z))}))):z?(E=jQuery.valHooks[z.type]||jQuery.valHooks[z.nodeName.toLowerCase()])&&"get"in E&&void 0!==(I=E.get(z,"value"))?I:"string"==typeof(I=z.value)?I.replace(_t,""):null==I?"":I:void 0}}),jQuery.extend({valHooks:{option:{get:function(C){var E=jQuery.find.attr(C,"value");return null!=E?E:stripAndCollapse(jQuery.text(C))}},select:{get:function(C){var E,I,B,z=C.options,q=C.selectedIndex,Q="select-one"===C.type,ee=Q?null:[],te=Q?q+1:z.length;for(B=q<0?te:Q?q:0;B<te;B++)if(((I=z[B]).selected||B===q)&&!I.disabled&&(!I.parentNode.disabled||!nodeName(I.parentNode,"optgroup"))){if(E=jQuery(I).val(),Q)return E;ee.push(E)}return ee},set:function(C,E){for(var I,B,z=C.options,q=jQuery.makeArray(E),Q=z.length;Q--;)((B=z[Q]).selected=jQuery.inArray(jQuery.valHooks.option.get(B),q)>-1)&&(I=!0);return I||(C.selectedIndex=-1),q}}}}),jQuery.each(["radio","checkbox"],(function(){jQuery.valHooks[this]={set:function(C,E){if(Array.isArray(E))return C.checked=jQuery.inArray(jQuery(C).val(),E)>-1}},ue.checkOn||(jQuery.valHooks[this].get=function(C){return null===C.getAttribute("value")?"on":C.value})}));var St=B.location,xt={guid:Date.now()},kt=/\?/;jQuery.parseXML=function(C){var E,I;if(!C||"string"!=typeof C)return null;try{E=(new B.DOMParser).parseFromString(C,"text/xml")}catch(C){}return I=E&&E.getElementsByTagName("parsererror")[0],E&&!I||jQuery.error("Invalid XML: "+(I?jQuery.map(I.childNodes,(function(C){return C.textContent})).join("\n"):C)),E};var Tt=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(C){C.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(C,E,I,z){var q,Q,ee,te,ie,re,ne,se,ae=[I||he],le=oe.call(C,"type")?C.type:C,ue=oe.call(C,"namespace")?C.namespace.split("."):[];if(Q=se=ee=I=I||he,3!==I.nodeType&&8!==I.nodeType&&!Tt.test(le+jQuery.event.triggered)&&(le.indexOf(".")>-1&&(ue=le.split("."),le=ue.shift(),ue.sort()),ie=le.indexOf(":")<0&&"on"+le,(C=C[jQuery.expando]?C:new jQuery.Event(le,"object"==typeof C&&C)).isTrigger=z?2:3,C.namespace=ue.join("."),C.rnamespace=C.namespace?new RegExp("(^|\\.)"+ue.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,C.result=void 0,C.target||(C.target=I),E=null==E?[C]:jQuery.makeArray(E,[C]),ne=jQuery.event.special[le]||{},z||!ne.trigger||!1!==ne.trigger.apply(I,E))){if(!z&&!ne.noBubble&&!ce(I)){for(te=ne.delegateType||le,Tt.test(te+le)||(Q=Q.parentNode);Q;Q=Q.parentNode)ae.push(Q),ee=Q;ee===(I.ownerDocument||he)&&ae.push(ee.defaultView||ee.parentWindow||B)}for(q=0;(Q=ae[q++])&&!C.isPropagationStopped();)se=Q,C.type=q>1?te:ne.bindType||le,(re=(Be.get(Q,"events")||Object.create(null))[C.type]&&Be.get(Q,"handle"))&&re.apply(Q,E),(re=ie&&Q[ie])&&re.apply&&acceptData(Q)&&(C.result=re.apply(Q,E),!1===C.result&&C.preventDefault());return C.type=le,z||C.isDefaultPrevented()||ne._default&&!1!==ne._default.apply(ae.pop(),E)||!acceptData(I)||ie&&de(I[le])&&!ce(I)&&((ee=I[ie])&&(I[ie]=null),jQuery.event.triggered=le,C.isPropagationStopped()&&se.addEventListener(le,stopPropagationCallback),I[le](),C.isPropagationStopped()&&se.removeEventListener(le,stopPropagationCallback),jQuery.event.triggered=void 0,ee&&(I[ie]=ee)),C.result}},simulate:function(C,E,I){var B=jQuery.extend(new jQuery.Event,I,{type:C,isSimulated:!0});jQuery.event.trigger(B,null,E)}}),jQuery.fn.extend({trigger:function(C,E){return this.each((function(){jQuery.event.trigger(C,E,this)}))},triggerHandler:function(C,E){var I=this[0];if(I)return jQuery.event.trigger(C,E,I,!0)}});var Mt=/\[\]$/,Rt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function buildParams(C,E,I,B){var z;if(Array.isArray(E))jQuery.each(E,(function(E,z){I||Mt.test(C)?B(C,z):buildParams(C+"["+("object"==typeof z&&null!=z?E:"")+"]",z,I,B)}));else if(I||"object"!==toType(E))B(C,E);else for(z in E)buildParams(C+"["+z+"]",E[z],I,B)}jQuery.param=function(C,E){var I,B=[],add=function(C,E){var I=de(E)?E():E;B[B.length]=encodeURIComponent(C)+"="+encodeURIComponent(null==I?"":I)};if(null==C)return"";if(Array.isArray(C)||C.jquery&&!jQuery.isPlainObject(C))jQuery.each(C,(function(){add(this.name,this.value)}));else for(I in C)buildParams(I,C[I],E,add);return B.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var C=jQuery.prop(this,"elements");return C?jQuery.makeArray(C):this})).filter((function(){var C=this.type;return this.name&&!jQuery(this).is(":disabled")&&Pt.test(this.nodeName)&&!Et.test(C)&&(this.checked||!We.test(C))})).map((function(C,E){var I=jQuery(this).val();return null==I?null:Array.isArray(I)?jQuery.map(I,(function(C){return{name:E.name,value:C.replace(Rt,"\r\n")}})):{name:E.name,value:I.replace(Rt,"\r\n")}})).get()}});var It=/%20/g,At=/#.*$/,Nt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Ot={},Lt={},$t="*/".concat("*"),jt=he.createElement("a");function addToPrefiltersOrTransports(C){return function(E,I){"string"!=typeof E&&(I=E,E="*");var B,z=0,q=E.toLowerCase().match(Pe)||[];if(de(I))for(;B=q[z++];)"+"===B[0]?(B=B.slice(1)||"*",(C[B]=C[B]||[]).unshift(I)):(C[B]=C[B]||[]).push(I)}}function inspectPrefiltersOrTransports(C,E,I,B){var z={},q=C===Lt;function inspect(Q){var ee;return z[Q]=!0,jQuery.each(C[Q]||[],(function(C,Q){var te=Q(E,I,B);return"string"!=typeof te||q||z[te]?q?!(ee=te):void 0:(E.dataTypes.unshift(te),inspect(te),!1)})),ee}return inspect(E.dataTypes[0])||!z["*"]&&inspect("*")}function ajaxExtend(C,E){var I,B,z=jQuery.ajaxSettings.flatOptions||{};for(I in E)void 0!==E[I]&&((z[I]?C:B||(B={}))[I]=E[I]);return B&&jQuery.extend(!0,C,B),C}jt.href=St.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(C,E){return E?ajaxExtend(ajaxExtend(C,jQuery.ajaxSettings),E):ajaxExtend(jQuery.ajaxSettings,C)},ajaxPrefilter:addToPrefiltersOrTransports(Ot),ajaxTransport:addToPrefiltersOrTransports(Lt),ajax:function(C,E){"object"==typeof C&&(E=C,C=void 0),E=E||{};var I,z,q,Q,ee,te,ie,re,ne,se,oe=jQuery.ajaxSetup({},E),ae=oe.context||oe,le=oe.context&&(ae.nodeType||ae.jquery)?jQuery(ae):jQuery.event,ue=jQuery.Deferred(),de=jQuery.Callbacks("once memory"),ce=oe.statusCode||{},fe={},pe={},me="canceled",ge={readyState:0,getResponseHeader:function(C){var E;if(ie){if(!Q)for(Q={};E=Dt.exec(q);)Q[E[1].toLowerCase()+" "]=(Q[E[1].toLowerCase()+" "]||[]).concat(E[2]);E=Q[C.toLowerCase()+" "]}return null==E?null:E.join(", ")},getAllResponseHeaders:function(){return ie?q:null},setRequestHeader:function(C,E){return null==ie&&(C=pe[C.toLowerCase()]=pe[C.toLowerCase()]||C,fe[C]=E),this},overrideMimeType:function(C){return null==ie&&(oe.mimeType=C),this},statusCode:function(C){var E;if(C)if(ie)ge.always(C[ge.status]);else for(E in C)ce[E]=[ce[E],C[E]];return this},abort:function(C){var E=C||me;return I&&I.abort(E),done(0,E),this}};if(ue.promise(ge),oe.url=((C||oe.url||St.href)+"").replace(Ft,St.protocol+"//"),oe.type=E.method||E.type||oe.method||oe.type,oe.dataTypes=(oe.dataType||"*").toLowerCase().match(Pe)||[""],null==oe.crossDomain){te=he.createElement("a");try{te.href=oe.url,te.href=te.href,oe.crossDomain=jt.protocol+"//"+jt.host!=te.protocol+"//"+te.host}catch(C){oe.crossDomain=!0}}if(oe.data&&oe.processData&&"string"!=typeof oe.data&&(oe.data=jQuery.param(oe.data,oe.traditional)),inspectPrefiltersOrTransports(Ot,oe,E,ge),ie)return ge;for(ne in(re=jQuery.event&&oe.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),oe.type=oe.type.toUpperCase(),oe.hasContent=!Bt.test(oe.type),z=oe.url.replace(At,""),oe.hasContent?oe.data&&oe.processData&&0===(oe.contentType||"").indexOf("application/x-www-form-urlencoded")&&(oe.data=oe.data.replace(It,"+")):(se=oe.url.slice(z.length),oe.data&&(oe.processData||"string"==typeof oe.data)&&(z+=(kt.test(z)?"&":"?")+oe.data,delete oe.data),!1===oe.cache&&(z=z.replace(Nt,"$1"),se=(kt.test(z)?"&":"?")+"_="+xt.guid+++se),oe.url=z+se),oe.ifModified&&(jQuery.lastModified[z]&&ge.setRequestHeader("If-Modified-Since",jQuery.lastModified[z]),jQuery.etag[z]&&ge.setRequestHeader("If-None-Match",jQuery.etag[z])),(oe.data&&oe.hasContent&&!1!==oe.contentType||E.contentType)&&ge.setRequestHeader("Content-Type",oe.contentType),ge.setRequestHeader("Accept",oe.dataTypes[0]&&oe.accepts[oe.dataTypes[0]]?oe.accepts[oe.dataTypes[0]]+("*"!==oe.dataTypes[0]?", "+$t+"; q=0.01":""):oe.accepts["*"]),oe.headers)ge.setRequestHeader(ne,oe.headers[ne]);if(oe.beforeSend&&(!1===oe.beforeSend.call(ae,ge,oe)||ie))return ge.abort();if(me="abort",de.add(oe.complete),ge.done(oe.success),ge.fail(oe.error),I=inspectPrefiltersOrTransports(Lt,oe,E,ge)){if(ge.readyState=1,re&&le.trigger("ajaxSend",[ge,oe]),ie)return ge;oe.async&&oe.timeout>0&&(ee=B.setTimeout((function(){ge.abort("timeout")}),oe.timeout));try{ie=!1,I.send(fe,done)}catch(C){if(ie)throw C;done(-1,C)}}else done(-1,"No Transport");function done(C,E,Q,te){var ne,se,he,fe,pe,me=E;ie||(ie=!0,ee&&B.clearTimeout(ee),I=void 0,q=te||"",ge.readyState=C>0?4:0,ne=C>=200&&C<300||304===C,Q&&(fe=function ajaxHandleResponses(C,E,I){for(var B,z,q,Q,ee=C.contents,te=C.dataTypes;"*"===te[0];)te.shift(),void 0===B&&(B=C.mimeType||E.getResponseHeader("Content-Type"));if(B)for(z in ee)if(ee[z]&&ee[z].test(B)){te.unshift(z);break}if(te[0]in I)q=te[0];else{for(z in I){if(!te[0]||C.converters[z+" "+te[0]]){q=z;break}Q||(Q=z)}q=q||Q}if(q)return q!==te[0]&&te.unshift(q),I[q]}(oe,ge,Q)),!ne&&jQuery.inArray("script",oe.dataTypes)>-1&&jQuery.inArray("json",oe.dataTypes)<0&&(oe.converters["text script"]=function(){}),fe=function ajaxConvert(C,E,I,B){var z,q,Q,ee,te,ie={},re=C.dataTypes.slice();if(re[1])for(Q in C.converters)ie[Q.toLowerCase()]=C.converters[Q];for(q=re.shift();q;)if(C.responseFields[q]&&(I[C.responseFields[q]]=E),!te&&B&&C.dataFilter&&(E=C.dataFilter(E,C.dataType)),te=q,q=re.shift())if("*"===q)q=te;else if("*"!==te&&te!==q){if(!(Q=ie[te+" "+q]||ie["* "+q]))for(z in ie)if((ee=z.split(" "))[1]===q&&(Q=ie[te+" "+ee[0]]||ie["* "+ee[0]])){!0===Q?Q=ie[z]:!0!==ie[z]&&(q=ee[0],re.unshift(ee[1]));break}if(!0!==Q)if(Q&&C.throws)E=Q(E);else try{E=Q(E)}catch(C){return{state:"parsererror",error:Q?C:"No conversion from "+te+" to "+q}}}return{state:"success",data:E}}(oe,fe,ge,ne),ne?(oe.ifModified&&((pe=ge.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[z]=pe),(pe=ge.getResponseHeader("etag"))&&(jQuery.etag[z]=pe)),204===C||"HEAD"===oe.type?me="nocontent":304===C?me="notmodified":(me=fe.state,se=fe.data,ne=!(he=fe.error))):(he=me,!C&&me||(me="error",C<0&&(C=0))),ge.status=C,ge.statusText=(E||me)+"",ne?ue.resolveWith(ae,[se,me,ge]):ue.rejectWith(ae,[ge,me,he]),ge.statusCode(ce),ce=void 0,re&&le.trigger(ne?"ajaxSuccess":"ajaxError",[ge,oe,ne?se:he]),de.fireWith(ae,[ge,me]),re&&(le.trigger("ajaxComplete",[ge,oe]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return ge},getJSON:function(C,E,I){return jQuery.get(C,E,I,"json")},getScript:function(C,E){return jQuery.get(C,void 0,E,"script")}}),jQuery.each(["get","post"],(function(C,E){jQuery[E]=function(C,I,B,z){return de(I)&&(z=z||B,B=I,I=void 0),jQuery.ajax(jQuery.extend({url:C,type:E,dataType:z,data:I,success:B},jQuery.isPlainObject(C)&&C))}})),jQuery.ajaxPrefilter((function(C){var E;for(E in C.headers)"content-type"===E.toLowerCase()&&(C.contentType=C.headers[E]||"")})),jQuery._evalUrl=function(C,E,I){return jQuery.ajax({url:C,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){jQuery.globalEval(C,E,I)}})},jQuery.fn.extend({wrapAll:function(C){var E;return this[0]&&(de(C)&&(C=C.call(this[0])),E=jQuery(C,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&E.insertBefore(this[0]),E.map((function(){for(var C=this;C.firstElementChild;)C=C.firstElementChild;return C})).append(this)),this},wrapInner:function(C){return de(C)?this.each((function(E){jQuery(this).wrapInner(C.call(this,E))})):this.each((function(){var E=jQuery(this),I=E.contents();I.length?I.wrapAll(C):E.append(C)}))},wrap:function(C){var E=de(C);return this.each((function(I){jQuery(this).wrapAll(E?C.call(this,I):C)}))},unwrap:function(C){return this.parent(C).not("body").each((function(){jQuery(this).replaceWith(this.childNodes)})),this}}),jQuery.expr.pseudos.hidden=function(C){return!jQuery.expr.pseudos.visible(C)},jQuery.expr.pseudos.visible=function(C){return!!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new B.XMLHttpRequest}catch(C){}};var Vt={0:200,1223:204},Ht=jQuery.ajaxSettings.xhr();ue.cors=!!Ht&&"withCredentials"in Ht,ue.ajax=Ht=!!Ht,jQuery.ajaxTransport((function(C){var E,I;if(ue.cors||Ht&&!C.crossDomain)return{send:function(z,q){var Q,ee=C.xhr();if(ee.open(C.type,C.url,C.async,C.username,C.password),C.xhrFields)for(Q in C.xhrFields)ee[Q]=C.xhrFields[Q];for(Q in C.mimeType&&ee.overrideMimeType&&ee.overrideMimeType(C.mimeType),C.crossDomain||z["X-Requested-With"]||(z["X-Requested-With"]="XMLHttpRequest"),z)ee.setRequestHeader(Q,z[Q]);E=function(C){return function(){E&&(E=I=ee.onload=ee.onerror=ee.onabort=ee.ontimeout=ee.onreadystatechange=null,"abort"===C?ee.abort():"error"===C?"number"!=typeof ee.status?q(0,"error"):q(ee.status,ee.statusText):q(Vt[ee.status]||ee.status,ee.statusText,"text"!==(ee.responseType||"text")||"string"!=typeof ee.responseText?{binary:ee.response}:{text:ee.responseText},ee.getAllResponseHeaders()))}},ee.onload=E(),I=ee.onerror=ee.ontimeout=E("error"),void 0!==ee.onabort?ee.onabort=I:ee.onreadystatechange=function(){4===ee.readyState&&B.setTimeout((function(){E&&I()}))},E=E("abort");try{ee.send(C.hasContent&&C.data||null)}catch(C){if(E)throw C}},abort:function(){E&&E()}}})),jQuery.ajaxPrefilter((function(C){C.crossDomain&&(C.contents.script=!1)})),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(C){return jQuery.globalEval(C),C}}}),jQuery.ajaxPrefilter("script",(function(C){void 0===C.cache&&(C.cache=!1),C.crossDomain&&(C.type="GET")})),jQuery.ajaxTransport("script",(function(C){var E,I;if(C.crossDomain||C.scriptAttrs)return{send:function(B,z){E=jQuery("<script>").attr(C.scriptAttrs||{}).prop({charset:C.scriptCharset,src:C.url}).on("load error",I=function(C){E.remove(),I=null,C&&z("error"===C.type?404:200,C.type)}),he.head.appendChild(E[0])},abort:function(){I&&I()}}}));var Gt,Ut=[],zt=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var C=Ut.pop()||jQuery.expando+"_"+xt.guid++;return this[C]=!0,C}}),jQuery.ajaxPrefilter("json jsonp",(function(C,E,I){var z,q,Q,ee=!1!==C.jsonp&&(zt.test(C.url)?"url":"string"==typeof C.data&&0===(C.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(C.data)&&"data");if(ee||"jsonp"===C.dataTypes[0])return z=C.jsonpCallback=de(C.jsonpCallback)?C.jsonpCallback():C.jsonpCallback,ee?C[ee]=C[ee].replace(zt,"$1"+z):!1!==C.jsonp&&(C.url+=(kt.test(C.url)?"&":"?")+C.jsonp+"="+z),C.converters["script json"]=function(){return Q||jQuery.error(z+" was not called"),Q[0]},C.dataTypes[0]="json",q=B[z],B[z]=function(){Q=arguments},I.always((function(){void 0===q?jQuery(B).removeProp(z):B[z]=q,C[z]&&(C.jsonpCallback=E.jsonpCallback,Ut.push(z)),Q&&de(q)&&q(Q[0]),Q=q=void 0})),"script"})),ue.createHTMLDocument=((Gt=he.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),jQuery.parseHTML=function(C,E,I){return"string"!=typeof C?[]:("boolean"==typeof E&&(I=E,E=!1),E||(ue.createHTMLDocument?((B=(E=he.implementation.createHTMLDocument("")).createElement("base")).href=he.location.href,E.head.appendChild(B)):E=he),q=!I&&[],(z=ke.exec(C))?[E.createElement(z[1])]:(z=buildFragment([C],E,q),q&&q.length&&jQuery(q).remove(),jQuery.merge([],z.childNodes)));var B,z,q},jQuery.fn.load=function(C,E,I){var B,z,q,Q=this,ee=C.indexOf(" ");return ee>-1&&(B=stripAndCollapse(C.slice(ee)),C=C.slice(0,ee)),de(E)?(I=E,E=void 0):E&&"object"==typeof E&&(z="POST"),Q.length>0&&jQuery.ajax({url:C,type:z||"GET",dataType:"html",data:E}).done((function(C){q=arguments,Q.html(B?jQuery("<div>").append(jQuery.parseHTML(C)).find(B):C)})).always(I&&function(C,E){Q.each((function(){I.apply(this,q||[C.responseText,E,C])}))}),this},jQuery.expr.pseudos.animated=function(C){return jQuery.grep(jQuery.timers,(function(E){return C===E.elem})).length},jQuery.offset={setOffset:function(C,E,I){var B,z,q,Q,ee,te,ie=jQuery.css(C,"position"),re=jQuery(C),ne={};"static"===ie&&(C.style.position="relative"),ee=re.offset(),q=jQuery.css(C,"top"),te=jQuery.css(C,"left"),("absolute"===ie||"fixed"===ie)&&(q+te).indexOf("auto")>-1?(Q=(B=re.position()).top,z=B.left):(Q=parseFloat(q)||0,z=parseFloat(te)||0),de(E)&&(E=E.call(C,I,jQuery.extend({},ee))),null!=E.top&&(ne.top=E.top-ee.top+Q),null!=E.left&&(ne.left=E.left-ee.left+z),"using"in E?E.using.call(C,ne):re.css(ne)}},jQuery.fn.extend({offset:function(C){if(arguments.length)return void 0===C?this:this.each((function(E){jQuery.offset.setOffset(this,C,E)}));var E,I,B=this[0];return B?B.getClientRects().length?(E=B.getBoundingClientRect(),I=B.ownerDocument.defaultView,{top:E.top+I.pageYOffset,left:E.left+I.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var C,E,I,B=this[0],z={top:0,left:0};if("fixed"===jQuery.css(B,"position"))E=B.getBoundingClientRect();else{for(E=this.offset(),I=B.ownerDocument,C=B.offsetParent||I.documentElement;C&&(C===I.body||C===I.documentElement)&&"static"===jQuery.css(C,"position");)C=C.parentNode;C&&C!==B&&1===C.nodeType&&((z=jQuery(C).offset()).top+=jQuery.css(C,"borderTopWidth",!0),z.left+=jQuery.css(C,"borderLeftWidth",!0))}return{top:E.top-z.top-jQuery.css(B,"marginTop",!0),left:E.left-z.left-jQuery.css(B,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var C=this.offsetParent;C&&"static"===jQuery.css(C,"position");)C=C.offsetParent;return C||He}))}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(C,E){var I="pageYOffset"===E;jQuery.fn[C]=function(B){return access(this,(function(C,B,z){var q;if(ce(C)?q=C:9===C.nodeType&&(q=C.defaultView),void 0===z)return q?q[E]:C[B];q?q.scrollTo(I?q.pageXOffset:z,I?z:q.pageYOffset):C[B]=z}),C,B,arguments.length)}})),jQuery.each(["top","left"],(function(C,E){jQuery.cssHooks[E]=addGetHookIf(ue.pixelPosition,(function(C,I){if(I)return I=curCSS(C,E),it.test(I)?jQuery(C).position()[E]+"px":I}))})),jQuery.each({Height:"height",Width:"width"},(function(C,E){jQuery.each({padding:"inner"+C,content:E,"":"outer"+C},(function(I,B){jQuery.fn[B]=function(z,q){var Q=arguments.length&&(I||"boolean"!=typeof z),ee=I||(!0===z||!0===q?"margin":"border");return access(this,(function(E,I,z){var q;return ce(E)?0===B.indexOf("outer")?E["inner"+C]:E.document.documentElement["client"+C]:9===E.nodeType?(q=E.documentElement,Math.max(E.body["scroll"+C],q["scroll"+C],E.body["offset"+C],q["offset"+C],q["client"+C])):void 0===z?jQuery.css(E,I,ee):jQuery.style(E,I,z,ee)}),E,Q?z:void 0,Q)}}))})),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(C,E){jQuery.fn[E]=function(C){return this.on(E,C)}})),jQuery.fn.extend({bind:function(C,E,I){return this.on(C,null,E,I)},unbind:function(C,E){return this.off(C,null,E)},delegate:function(C,E,I,B){return this.on(E,C,I,B)},undelegate:function(C,E,I){return 1===arguments.length?this.off(C,"**"):this.off(E,C||"**",I)},hover:function(C,E){return this.on("mouseenter",C).on("mouseleave",E||C)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(C,E){jQuery.fn[E]=function(C,I){return arguments.length>0?this.on(E,null,C,I):this.trigger(E)}}));var qt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(C,E){var I,B,z;if("string"==typeof E&&(I=C[E],E=C,C=I),de(C))return B=ee.call(arguments,2),z=function(){return C.apply(E||this,B.concat(ee.call(arguments)))},z.guid=C.guid=C.guid||jQuery.guid++,z},jQuery.holdReady=function(C){C?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=de,jQuery.isWindow=ce,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(C){var E=jQuery.type(C);return("number"===E||"string"===E)&&!isNaN(C-parseFloat(C))},jQuery.trim=function(C){return null==C?"":(C+"").replace(qt,"$1")},void 0===(I=function(){return jQuery}.apply(E,[]))||(C.exports=I);var Wt=B.jQuery,Kt=B.$;return jQuery.noConflict=function(C){return B.$===jQuery&&(B.$=Kt),C&&B.jQuery===jQuery&&(B.jQuery=Wt),jQuery},void 0===z&&(B.jQuery=B.$=jQuery),jQuery}))},2908:(C,E,I)=>{var B,z,q;z=[I(4692)],void 0===(q="function"==typeof(B=function(E){var B,z,q,Q,ee;B=function(){var C,I="mCustomScrollbar",B="mCS",z=".mCustomScrollbar",q={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},Q=0,ee={},te=window.attachEvent&&!window.addEventListener?1:0,ie=!1,re=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],ne={init:function(C){C=E.extend(!0,{},q,C);var I=_selector.call(this);if(C.live){var te=C.liveSelector||this.selector||z,ie=E(te);if("off"===C.live)return void removeLiveTimers(te);ee[te]=setTimeout((function(){ie.mCustomScrollbar(C),"once"===C.live&&ie.length&&removeLiveTimers(te)}),500)}else removeLiveTimers(te);return C.setWidth=C.set_width?C.set_width:C.setWidth,C.setHeight=C.set_height?C.set_height:C.setHeight,C.axis=C.horizontalScroll?"x":_findAxis(C.axis),C.scrollInertia=C.scrollInertia>0&&C.scrollInertia<17?17:C.scrollInertia,"object"!=typeof C.mouseWheel&&1==C.mouseWheel&&(C.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),C.mouseWheel.scrollAmount=C.mouseWheelPixels?C.mouseWheelPixels:C.mouseWheel.scrollAmount,C.mouseWheel.normalizeDelta=C.advanced.normalizeMouseWheelDelta?C.advanced.normalizeMouseWheelDelta:C.mouseWheel.normalizeDelta,C.scrollButtons.scrollType=_findScrollButtonsType(C.scrollButtons.scrollType),_theme(C),E(I).each((function(){var I=E(this);if(!I.data(B)){I.data(B,{idx:++Q,opt:C,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:I.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var z=I.data(B),q=z.opt,ee=I.data("mcs-axis"),te=I.data("mcs-scrollbar-position"),ie=I.data("mcs-theme");ee&&(q.axis=ee),te&&(q.scrollbarPosition=te),ie&&(q.theme=ie,_theme(q)),_pluginMarkup.call(this),z&&q.callbacks.onCreate&&"function"==typeof q.callbacks.onCreate&&q.callbacks.onCreate.call(this),E("#mCSB_"+z.idx+"_container img:not(."+re[2]+")").addClass(re[2]),ne.update.call(null,I)}}))},update:function(C,I){var z=C||_selector.call(this);return E(z).each((function(){var C=E(this);if(C.data(B)){var z=C.data(B),q=z.opt,Q=E("#mCSB_"+z.idx+"_container"),ee=E("#mCSB_"+z.idx),te=[E("#mCSB_"+z.idx+"_dragger_vertical"),E("#mCSB_"+z.idx+"_dragger_horizontal")];if(!Q.length)return;z.tweenRunning&&_stop(C),I&&z&&q.callbacks.onBeforeUpdate&&"function"==typeof q.callbacks.onBeforeUpdate&&q.callbacks.onBeforeUpdate.call(this),C.hasClass(re[3])&&C.removeClass(re[3]),C.hasClass(re[4])&&C.removeClass(re[4]),ee.css("max-height","none"),ee.height()!==C.height()&&ee.css("max-height",C.height()),_expandContentHorizontally.call(this),"y"===q.axis||q.advanced.autoExpandHorizontalScroll||Q.css("width",_contentWidth(Q)),z.overflowed=_overflowed.call(this),_scrollbarVisibility.call(this),q.autoDraggerLength&&_setDraggerLength.call(this),_scrollRatio.call(this),_bindEvents.call(this);var ie=[Math.abs(Q[0].offsetTop),Math.abs(Q[0].offsetLeft)];"x"!==q.axis&&(z.overflowed[0]?te[0].height()>te[0].parent().height()?_resetContentPosition.call(this):(_scrollTo(C,ie[0].toString(),{dir:"y",dur:0,overwrite:"none"}),z.contentReset.y=null):(_resetContentPosition.call(this),"y"===q.axis?_unbindEvents.call(this):"yx"===q.axis&&z.overflowed[1]&&_scrollTo(C,ie[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==q.axis&&(z.overflowed[1]?te[1].width()>te[1].parent().width()?_resetContentPosition.call(this):(_scrollTo(C,ie[1].toString(),{dir:"x",dur:0,overwrite:"none"}),z.contentReset.x=null):(_resetContentPosition.call(this),"x"===q.axis?_unbindEvents.call(this):"yx"===q.axis&&z.overflowed[0]&&_scrollTo(C,ie[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),I&&z&&(2===I&&q.callbacks.onImageLoad&&"function"==typeof q.callbacks.onImageLoad?q.callbacks.onImageLoad.call(this):3===I&&q.callbacks.onSelectorChange&&"function"==typeof q.callbacks.onSelectorChange?q.callbacks.onSelectorChange.call(this):q.callbacks.onUpdate&&"function"==typeof q.callbacks.onUpdate&&q.callbacks.onUpdate.call(this)),_autoUpdate.call(this)}}))},scrollTo:function(C,I){if(void 0!==C&&null!=C){var z=_selector.call(this);return E(z).each((function(){var z=E(this);if(z.data(B)){var q=z.data(B),Q=q.opt,ee={trigger:"external",scrollInertia:Q.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},te=E.extend(!0,{},ee,I),ie=_arr.call(this,C),re=te.scrollInertia>0&&te.scrollInertia<17?17:te.scrollInertia;ie[0]=_to.call(this,ie[0],"y"),ie[1]=_to.call(this,ie[1],"x"),te.moveDragger&&(ie[0]*=q.scrollRatio.y,ie[1]*=q.scrollRatio.x),te.dur=_isTabHidden()?0:re,setTimeout((function(){null!==ie[0]&&void 0!==ie[0]&&"x"!==Q.axis&&q.overflowed[0]&&(te.dir="y",te.overwrite="all",_scrollTo(z,ie[0].toString(),te)),null!==ie[1]&&void 0!==ie[1]&&"y"!==Q.axis&&q.overflowed[1]&&(te.dir="x",te.overwrite="none",_scrollTo(z,ie[1].toString(),te))}),te.timeout)}}))}},stop:function(){var C=_selector.call(this);return E(C).each((function(){var C=E(this);C.data(B)&&_stop(C)}))},disable:function(C){var I=_selector.call(this);return E(I).each((function(){var I=E(this);I.data(B)&&(I.data(B),_autoUpdate.call(this,"remove"),_unbindEvents.call(this),C&&_resetContentPosition.call(this),_scrollbarVisibility.call(this,!0),I.addClass(re[3]))}))},destroy:function(){var C=_selector.call(this);return E(C).each((function(){var z=E(this);if(z.data(B)){var q=z.data(B),Q=q.opt,ee=E("#mCSB_"+q.idx),te=E("#mCSB_"+q.idx+"_container"),ie=E(".mCSB_"+q.idx+"_scrollbar");Q.live&&removeLiveTimers(Q.liveSelector||E(C).selector),_autoUpdate.call(this,"remove"),_unbindEvents.call(this),_resetContentPosition.call(this),z.removeData(B),_delete(this,"mcs"),ie.remove(),te.find("img."+re[2]).removeClass(re[2]),ee.replaceWith(te.contents()),z.removeClass(I+" _"+B+"_"+q.idx+" "+re[6]+" "+re[7]+" "+re[5]+" "+re[3]).addClass(re[4])}}))}},_selector=function(){return"object"!=typeof E(this)||E(this).length<1?z:this},_theme=function(C){var I=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],B=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],z=["minimal","minimal-dark"],q=["minimal","minimal-dark"],Q=["minimal","minimal-dark"];C.autoDraggerLength=!(E.inArray(C.theme,I)>-1)&&C.autoDraggerLength,C.autoExpandScrollbar=!(E.inArray(C.theme,B)>-1)&&C.autoExpandScrollbar,C.scrollButtons.enable=!(E.inArray(C.theme,z)>-1)&&C.scrollButtons.enable,C.autoHideScrollbar=E.inArray(C.theme,q)>-1||C.autoHideScrollbar,C.scrollbarPosition=E.inArray(C.theme,Q)>-1?"outside":C.scrollbarPosition},removeLiveTimers=function(C){ee[C]&&(clearTimeout(ee[C]),_delete(ee,C))},_findAxis=function(C){return"yx"===C||"xy"===C||"auto"===C?"yx":"x"===C||"horizontal"===C?"x":"y"},_findScrollButtonsType=function(C){return"stepped"===C||"pixels"===C||"step"===C||"click"===C?"stepped":"stepless"},_pluginMarkup=function(){var C=E(this),z=C.data(B),q=z.opt,Q=q.autoExpandScrollbar?" "+re[1]+"_expand":"",ee=["<div id='mCSB_"+z.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+z.idx+"_scrollbar mCS-"+q.theme+" mCSB_scrollTools_vertical"+Q+"'><div class='"+re[12]+"'><div id='mCSB_"+z.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+z.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+z.idx+"_scrollbar mCS-"+q.theme+" mCSB_scrollTools_horizontal"+Q+"'><div class='"+re[12]+"'><div id='mCSB_"+z.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],te="yx"===q.axis?"mCSB_vertical_horizontal":"x"===q.axis?"mCSB_horizontal":"mCSB_vertical",ie="yx"===q.axis?ee[0]+ee[1]:"x"===q.axis?ee[1]:ee[0],ne="yx"===q.axis?"<div id='mCSB_"+z.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",se=q.autoHideScrollbar?" "+re[6]:"",oe="x"!==q.axis&&"rtl"===z.langDir?" "+re[7]:"";q.setWidth&&C.css("width",q.setWidth),q.setHeight&&C.css("height",q.setHeight),q.setLeft="y"!==q.axis&&"rtl"===z.langDir?"989999px":q.setLeft,C.addClass(I+" _"+B+"_"+z.idx+se+oe).wrapInner("<div id='mCSB_"+z.idx+"' class='mCustomScrollBox mCS-"+q.theme+" "+te+"'><div id='mCSB_"+z.idx+"_container' class='mCSB_container' style='position:relative; top:"+q.setTop+"; left:"+q.setLeft+";' dir='"+z.langDir+"' /></div>");var ae=E("#mCSB_"+z.idx),le=E("#mCSB_"+z.idx+"_container");"y"===q.axis||q.advanced.autoExpandHorizontalScroll||le.css("width",_contentWidth(le)),"outside"===q.scrollbarPosition?("static"===C.css("position")&&C.css("position","relative"),C.css("overflow","visible"),ae.addClass("mCSB_outside").after(ie)):(ae.addClass("mCSB_inside").append(ie),le.wrap(ne)),_scrollButtons.call(this);var ue=[E("#mCSB_"+z.idx+"_dragger_vertical"),E("#mCSB_"+z.idx+"_dragger_horizontal")];ue[0].css("min-height",ue[0].height()),ue[1].css("min-width",ue[1].width())},_contentWidth=function(C){var I=[C[0].scrollWidth,Math.max.apply(Math,C.children().map((function(){return E(this).outerWidth(!0)})).get())],B=C.parent().width();return I[0]>B?I[0]:I[1]>B?I[1]:"100%"},_expandContentHorizontally=function(){var C=E(this).data(B),I=C.opt,z=E("#mCSB_"+C.idx+"_container");if(I.advanced.autoExpandHorizontalScroll&&"y"!==I.axis){z.css({width:"auto","min-width":0,"overflow-x":"scroll"});var q=Math.ceil(z[0].scrollWidth);3===I.advanced.autoExpandHorizontalScroll||2!==I.advanced.autoExpandHorizontalScroll&&q>z.parent().width()?z.css({width:q,"min-width":"100%","overflow-x":"inherit"}):z.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(z[0].getBoundingClientRect().right+.4)-Math.floor(z[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},_scrollButtons=function(){var C=E(this).data(B),I=C.opt,z=E(".mCSB_"+C.idx+"_scrollbar:first"),q=_isNumeric(I.scrollButtons.tabindex)?"tabindex='"+I.scrollButtons.tabindex+"'":"",Q=["<a href='#' class='"+re[13]+"' "+q+" />","<a href='#' class='"+re[14]+"' "+q+" />","<a href='#' class='"+re[15]+"' "+q+" />","<a href='#' class='"+re[16]+"' "+q+" />"],ee=["x"===I.axis?Q[2]:Q[0],"x"===I.axis?Q[3]:Q[1],Q[2],Q[3]];I.scrollButtons.enable&&z.prepend(ee[0]).append(ee[1]).next(".mCSB_scrollTools").prepend(ee[2]).append(ee[3])},_setDraggerLength=function(){var C=E(this).data(B),I=E("#mCSB_"+C.idx),z=E("#mCSB_"+C.idx+"_container"),q=[E("#mCSB_"+C.idx+"_dragger_vertical"),E("#mCSB_"+C.idx+"_dragger_horizontal")],Q=[I.height()/z.outerHeight(!1),I.width()/z.outerWidth(!1)],ee=[parseInt(q[0].css("min-height")),Math.round(Q[0]*q[0].parent().height()),parseInt(q[1].css("min-width")),Math.round(Q[1]*q[1].parent().width())],ie=te&&ee[1]<ee[0]?ee[0]:ee[1],re=te&&ee[3]<ee[2]?ee[2]:ee[3];q[0].css({height:ie,"max-height":q[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":ee[0]+"px"}),q[1].css({width:re,"max-width":q[1].parent().width()-10})},_scrollRatio=function(){var C=E(this).data(B),I=E("#mCSB_"+C.idx),z=E("#mCSB_"+C.idx+"_container"),q=[E("#mCSB_"+C.idx+"_dragger_vertical"),E("#mCSB_"+C.idx+"_dragger_horizontal")],Q=[z.outerHeight(!1)-I.height(),z.outerWidth(!1)-I.width()],ee=[Q[0]/(q[0].parent().height()-q[0].height()),Q[1]/(q[1].parent().width()-q[1].width())];C.scrollRatio={y:ee[0],x:ee[1]}},_onDragClasses=function(C,E,I){var B=I?re[0]+"_expanded":"",z=C.closest(".mCSB_scrollTools");"active"===E?(C.toggleClass(re[0]+" "+B),z.toggleClass(re[1]),C[0]._draggable=C[0]._draggable?0:1):C[0]._draggable||("hide"===E?(C.removeClass(re[0]),z.removeClass(re[1])):(C.addClass(re[0]),z.addClass(re[1])))},_overflowed=function(){var C=E(this).data(B),I=E("#mCSB_"+C.idx),z=E("#mCSB_"+C.idx+"_container"),q=null==C.overflowed?z.height():z.outerHeight(!1),Q=null==C.overflowed?z.width():z.outerWidth(!1),ee=z[0].scrollHeight,te=z[0].scrollWidth;return ee>q&&(q=ee),te>Q&&(Q=te),[q>I.height(),Q>I.width()]},_resetContentPosition=function(){var C=E(this),I=C.data(B),z=I.opt,q=E("#mCSB_"+I.idx),Q=E("#mCSB_"+I.idx+"_container"),ee=[E("#mCSB_"+I.idx+"_dragger_vertical"),E("#mCSB_"+I.idx+"_dragger_horizontal")];if(_stop(C),("x"!==z.axis&&!I.overflowed[0]||"y"===z.axis&&I.overflowed[0])&&(ee[0].add(Q).css("top",0),_scrollTo(C,"_resetY")),"y"!==z.axis&&!I.overflowed[1]||"x"===z.axis&&I.overflowed[1]){var te=dx=0;"rtl"===I.langDir&&(te=q.width()-Q.outerWidth(!1),dx=Math.abs(te/I.scrollRatio.x)),Q.css("left",te),ee[1].css("left",dx),_scrollTo(C,"_resetX")}},_bindEvents=function(){var C=E(this),I=C.data(B),z=I.opt;if(!I.bindEvents){if(_draggable.call(this),z.contentTouchScroll&&_contentDraggable.call(this),_selectable.call(this),z.mouseWheel.enable){function _mwt(){q=setTimeout((function(){E.event.special.mousewheel?(clearTimeout(q),_mousewheel.call(C[0])):_mwt()}),100)}var q;_mwt()}_draggerRail.call(this),_wrapperScroll.call(this),z.advanced.autoScrollOnFocus&&_focus.call(this),z.scrollButtons.enable&&_buttons.call(this),z.keyboard.enable&&_keyboard.call(this),I.bindEvents=!0}},_unbindEvents=function(){var C=E(this),I=C.data(B),z=I.opt,q=B+"_"+I.idx,Q=".mCSB_"+I.idx+"_scrollbar",ee=E("#mCSB_"+I.idx+",#mCSB_"+I.idx+"_container,#mCSB_"+I.idx+"_container_wrapper,"+Q+" ."+re[12]+",#mCSB_"+I.idx+"_dragger_vertical,#mCSB_"+I.idx+"_dragger_horizontal,"+Q+">a"),te=E("#mCSB_"+I.idx+"_container");z.advanced.releaseDraggableSelectors&&ee.add(E(z.advanced.releaseDraggableSelectors)),z.advanced.extraDraggableSelectors&&ee.add(E(z.advanced.extraDraggableSelectors)),I.bindEvents&&(E(document).add(E(!_canAccessIFrame()||top.document)).unbind("."+q),ee.each((function(){E(this).unbind("."+q)})),clearTimeout(C[0]._focusTimeout),_delete(C[0],"_focusTimeout"),clearTimeout(I.sequential.step),_delete(I.sequential,"step"),clearTimeout(te[0].onCompleteTimeout),_delete(te[0],"onCompleteTimeout"),I.bindEvents=!1)},_scrollbarVisibility=function(C){var I=E(this),z=I.data(B),q=z.opt,Q=E("#mCSB_"+z.idx+"_container_wrapper"),ee=Q.length?Q:E("#mCSB_"+z.idx+"_container"),te=[E("#mCSB_"+z.idx+"_scrollbar_vertical"),E("#mCSB_"+z.idx+"_scrollbar_horizontal")],ie=[te[0].find(".mCSB_dragger"),te[1].find(".mCSB_dragger")];"x"!==q.axis&&(z.overflowed[0]&&!C?(te[0].add(ie[0]).add(te[0].children("a")).css("display","block"),ee.removeClass(re[8]+" "+re[10])):(q.alwaysShowScrollbar?(2!==q.alwaysShowScrollbar&&ie[0].css("display","none"),ee.removeClass(re[10])):(te[0].css("display","none"),ee.addClass(re[10])),ee.addClass(re[8]))),"y"!==q.axis&&(z.overflowed[1]&&!C?(te[1].add(ie[1]).add(te[1].children("a")).css("display","block"),ee.removeClass(re[9]+" "+re[11])):(q.alwaysShowScrollbar?(2!==q.alwaysShowScrollbar&&ie[1].css("display","none"),ee.removeClass(re[11])):(te[1].css("display","none"),ee.addClass(re[11])),ee.addClass(re[9]))),z.overflowed[0]||z.overflowed[1]?I.removeClass(re[5]):I.addClass(re[5])},_coordinates=function(C){var I=C.type,B=C.target.ownerDocument!==document&&null!==frameElement?[E(frameElement).offset().top,E(frameElement).offset().left]:null,z=_canAccessIFrame()&&C.target.ownerDocument!==top.document&&null!==frameElement?[E(C.view.frameElement).offset().top,E(C.view.frameElement).offset().left]:[0,0];switch(I){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return B?[C.originalEvent.pageY-B[0]+z[0],C.originalEvent.pageX-B[1]+z[1],!1]:[C.originalEvent.pageY,C.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var q=C.originalEvent.touches[0]||C.originalEvent.changedTouches[0],Q=C.originalEvent.touches.length||C.originalEvent.changedTouches.length;return C.target.ownerDocument!==document?[q.screenY,q.screenX,Q>1]:[q.pageY,q.pageX,Q>1];default:return B?[C.pageY-B[0]+z[0],C.pageX-B[1]+z[1],!1]:[C.pageY,C.pageX,!1]}},_draggable=function(){var C,I,z,q=E(this),Q=q.data(B),ee=Q.opt,re=B+"_"+Q.idx,ne=["mCSB_"+Q.idx+"_dragger_vertical","mCSB_"+Q.idx+"_dragger_horizontal"],se=E("#mCSB_"+Q.idx+"_container"),oe=E("#"+ne[0]+",#"+ne[1]),ae=ee.advanced.releaseDraggableSelectors?oe.add(E(ee.advanced.releaseDraggableSelectors)):oe,le=ee.advanced.extraDraggableSelectors?E(!_canAccessIFrame()||top.document).add(E(ee.advanced.extraDraggableSelectors)):E(!_canAccessIFrame()||top.document);function _drag(E,I,B,z){if(se[0].idleTimer=ee.scrollInertia<233?250:0,C.attr("id")===ne[1])var te="x",ie=(C[0].offsetLeft-I+z)*Q.scrollRatio.x;else te="y",ie=(C[0].offsetTop-E+B)*Q.scrollRatio.y;_scrollTo(q,ie.toString(),{dir:te,drag:!0})}oe.bind("contextmenu."+re,(function(C){C.preventDefault()})).bind("mousedown."+re+" touchstart."+re+" pointerdown."+re+" MSPointerDown."+re,(function(B){if(B.stopImmediatePropagation(),B.preventDefault(),_mouseBtnLeft(B)){ie=!0,te&&(document.onselectstart=function(){return!1}),_iframe.call(se,!1),_stop(q);var Q=(C=E(this)).offset(),re=_coordinates(B)[0]-Q.top,ne=_coordinates(B)[1]-Q.left,oe=C.height()+Q.top,ae=C.width()+Q.left;re<oe&&re>0&&ne<ae&&ne>0&&(I=re,z=ne),_onDragClasses(C,"active",ee.autoExpandScrollbar)}})).bind("touchmove."+re,(function(E){E.stopImmediatePropagation(),E.preventDefault();var B=C.offset(),q=_coordinates(E)[0]-B.top,Q=_coordinates(E)[1]-B.left;_drag(I,z,q,Q)})),E(document).add(le).bind("mousemove."+re+" pointermove."+re+" MSPointerMove."+re,(function(E){if(C){var B=C.offset(),q=_coordinates(E)[0]-B.top,Q=_coordinates(E)[1]-B.left;if(I===q&&z===Q)return;_drag(I,z,q,Q)}})).add(ae).bind("mouseup."+re+" touchend."+re+" pointerup."+re+" MSPointerUp."+re,(function(E){C&&(_onDragClasses(C,"active",ee.autoExpandScrollbar),C=null),ie=!1,te&&(document.onselectstart=null),_iframe.call(se,!0)}))},_contentDraggable=function(){var I,z,q,Q,ee,te,re,ne,se,oe,ae,le,ue,de,ce=E(this),he=ce.data(B),fe=he.opt,pe=B+"_"+he.idx,me=E("#mCSB_"+he.idx),ge=E("#mCSB_"+he.idx+"_container"),ve=[E("#mCSB_"+he.idx+"_dragger_vertical"),E("#mCSB_"+he.idx+"_dragger_horizontal")],ye=[],be=[],Ce=0,we="yx"===fe.axis?"none":"all",_e=[],Se=ge.find("iframe"),xe=["touchstart."+pe+" pointerdown."+pe+" MSPointerDown."+pe,"touchmove."+pe+" pointermove."+pe+" MSPointerMove."+pe,"touchend."+pe+" pointerup."+pe+" MSPointerUp."+pe],ke=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;function _onTouchstart(E){if(!_pointerTouch(E)||ie||_coordinates(E)[2])C=0;else{C=1,ue=0,de=0,I=1,ce.removeClass("mCS_touch_action");var B=ge.offset();z=_coordinates(E)[0]-B.top,q=_coordinates(E)[1]-B.left,_e=[_coordinates(E)[0],_coordinates(E)[1]]}}function _onTouchmove(C){if(_pointerTouch(C)&&!ie&&!_coordinates(C)[2]&&(fe.documentTouchScroll||C.preventDefault(),C.stopImmediatePropagation(),(!de||ue)&&I)){re=_getTime();var E=me.offset(),B=_coordinates(C)[0]-E.top,Q=_coordinates(C)[1]-E.left,ee="mcsLinearOut";if(ye.push(B),be.push(Q),_e[2]=Math.abs(_coordinates(C)[0]-_e[0]),_e[3]=Math.abs(_coordinates(C)[1]-_e[1]),he.overflowed[0])var te=ve[0].parent().height()-ve[0].height(),ne=z-B>0&&B-z>-te*he.scrollRatio.y&&(2*_e[3]<_e[2]||"yx"===fe.axis);if(he.overflowed[1])var se=ve[1].parent().width()-ve[1].width(),oe=q-Q>0&&Q-q>-se*he.scrollRatio.x&&(2*_e[2]<_e[3]||"yx"===fe.axis);ne||oe?(ke||C.preventDefault(),ue=1):(de=1,ce.addClass("mCS_touch_action")),ke&&C.preventDefault(),ae="yx"===fe.axis?[z-B,q-Q]:"x"===fe.axis?[null,q-Q]:[z-B,null],ge[0].idleTimer=250,he.overflowed[0]&&_drag(ae[0],Ce,ee,"y","all",!0),he.overflowed[1]&&_drag(ae[1],Ce,ee,"x",we,!0)}}function _onTouchstart2(E){if(!_pointerTouch(E)||ie||_coordinates(E)[2])C=0;else{C=1,E.stopImmediatePropagation(),_stop(ce),te=_getTime();var I=me.offset();Q=_coordinates(E)[0]-I.top,ee=_coordinates(E)[1]-I.left,ye=[],be=[]}}function _onTouchend(C){if(_pointerTouch(C)&&!ie&&!_coordinates(C)[2]){I=0,C.stopImmediatePropagation(),ue=0,de=0,ne=_getTime();var E=me.offset(),B=_coordinates(C)[0]-E.top,z=_coordinates(C)[1]-E.left;if(!(ne-re>30)){var q="mcsEaseOut",ce=(oe=1e3/(ne-te))<2.5,pe=ce?[ye[ye.length-2],be[be.length-2]]:[0,0];se=ce?[B-pe[0],z-pe[1]]:[B-Q,z-ee];var ve=[Math.abs(se[0]),Math.abs(se[1])];oe=ce?[Math.abs(se[0]/4),Math.abs(se[1]/4)]:[oe,oe];var Ce=[Math.abs(ge[0].offsetTop)-se[0]*_m(ve[0]/oe[0],oe[0]),Math.abs(ge[0].offsetLeft)-se[1]*_m(ve[1]/oe[1],oe[1])];ae="yx"===fe.axis?[Ce[0],Ce[1]]:"x"===fe.axis?[null,Ce[1]]:[Ce[0],null],le=[4*ve[0]+fe.scrollInertia,4*ve[1]+fe.scrollInertia];var _e=parseInt(fe.contentTouchScroll)||0;ae[0]=ve[0]>_e?ae[0]:0,ae[1]=ve[1]>_e?ae[1]:0,he.overflowed[0]&&_drag(ae[0],le[0],q,"y",we,!1),he.overflowed[1]&&_drag(ae[1],le[1],q,"x",we,!1)}}}function _m(C,E){var I=[1.5*E,2*E,E/1.5,E/2];return C>90?E>4?I[0]:I[3]:C>60?E>3?I[3]:I[2]:C>30?E>8?I[1]:E>6?I[0]:E>4?E:I[2]:E>8?E:I[3]}function _drag(C,E,I,B,z,q){C&&_scrollTo(ce,C.toString(),{dur:E,scrollEasing:I,dir:B,overwrite:z,drag:q})}ge.bind(xe[0],(function(C){_onTouchstart(C)})).bind(xe[1],(function(C){_onTouchmove(C)})),me.bind(xe[0],(function(C){_onTouchstart2(C)})).bind(xe[2],(function(C){_onTouchend(C)})),Se.length&&Se.each((function(){E(this).bind("load",(function(){_canAccessIFrame(this)&&E(this.contentDocument||this.contentWindow.document).bind(xe[0],(function(C){_onTouchstart(C),_onTouchstart2(C)})).bind(xe[1],(function(C){_onTouchmove(C)})).bind(xe[2],(function(C){_onTouchend(C)}))}))}))},_selectable=function(){var I,z=E(this),q=z.data(B),Q=q.opt,ee=q.sequential,te=B+"_"+q.idx,re=E("#mCSB_"+q.idx+"_container"),ne=re.parent();function _sel(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function _seq(C,E,B){ee.type=B&&I?"stepped":"stepless",ee.scrollAmount=10,_sequentialScroll(z,C,E,"mcsLinearOut",B?60:null)}re.bind("mousedown."+te,(function(E){C||I||(I=1,ie=!0)})).add(document).bind("mousemove."+te,(function(E){if(!C&&I&&_sel()){var B=re.offset(),z=_coordinates(E)[0]-B.top+re[0].offsetTop,te=_coordinates(E)[1]-B.left+re[0].offsetLeft;z>0&&z<ne.height()&&te>0&&te<ne.width()?ee.step&&_seq("off",null,"stepped"):("x"!==Q.axis&&q.overflowed[0]&&(z<0?_seq("on",38):z>ne.height()&&_seq("on",40)),"y"!==Q.axis&&q.overflowed[1]&&(te<0?_seq("on",37):te>ne.width()&&_seq("on",39)))}})).bind("mouseup."+te+" dragend."+te,(function(E){C||(I&&(I=0,_seq("off",null)),ie=!1)}))},_mousewheel=function(){if(E(this).data(B)){var C=E(this),I=C.data(B),z=I.opt,q=B+"_"+I.idx,Q=E("#mCSB_"+I.idx),ee=[E("#mCSB_"+I.idx+"_dragger_vertical"),E("#mCSB_"+I.idx+"_dragger_horizontal")],ie=E("#mCSB_"+I.idx+"_container").find("iframe");ie.length&&ie.each((function(){E(this).bind("load",(function(){_canAccessIFrame(this)&&E(this.contentDocument||this.contentWindow.document).bind("mousewheel."+q,(function(C,E){_onMousewheel(C,E)}))}))})),Q.bind("mousewheel."+q,(function(C,E){_onMousewheel(C,E)}))}function _onMousewheel(B,q){if(_stop(C),!_disableMousewheel(C,B.target)){var ie="auto"!==z.mouseWheel.deltaFactor?parseInt(z.mouseWheel.deltaFactor):te&&B.deltaFactor<100?100:B.deltaFactor||100,re=z.scrollInertia;if("x"===z.axis||"x"===z.mouseWheel.axis)var ne="x",se=[Math.round(ie*I.scrollRatio.x),parseInt(z.mouseWheel.scrollAmount)],oe="auto"!==z.mouseWheel.scrollAmount?se[1]:se[0]>=Q.width()?.9*Q.width():se[0],ae=Math.abs(E("#mCSB_"+I.idx+"_container")[0].offsetLeft),le=ee[1][0].offsetLeft,ue=ee[1].parent().width()-ee[1].width(),de="y"===z.mouseWheel.axis?B.deltaY||q:B.deltaX;else ne="y",se=[Math.round(ie*I.scrollRatio.y),parseInt(z.mouseWheel.scrollAmount)],oe="auto"!==z.mouseWheel.scrollAmount?se[1]:se[0]>=Q.height()?.9*Q.height():se[0],ae=Math.abs(E("#mCSB_"+I.idx+"_container")[0].offsetTop),le=ee[0][0].offsetTop,ue=ee[0].parent().height()-ee[0].height(),de=B.deltaY||q;"y"===ne&&!I.overflowed[0]||"x"===ne&&!I.overflowed[1]||((z.mouseWheel.invert||B.webkitDirectionInvertedFromDevice)&&(de=-de),z.mouseWheel.normalizeDelta&&(de=de<0?-1:1),(de>0&&0!==le||de<0&&le!==ue||z.mouseWheel.preventDefault)&&(B.stopImmediatePropagation(),B.preventDefault()),B.deltaFactor<5&&!z.mouseWheel.normalizeDelta&&(oe=B.deltaFactor,re=17),_scrollTo(C,(ae-de*oe).toString(),{dir:ne,dur:re}))}}},se=new Object,_canAccessIFrame=function(C){var I=!1,B=!1,z=null;if(void 0===C?B="#empty":void 0!==E(C).attr("id")&&(B=E(C).attr("id")),!1!==B&&void 0!==se[B])return se[B];if(C){try{z=(C.contentDocument||C.contentWindow.document).body.innerHTML}catch(C){}I=null!==z}else{try{z=top.document.body.innerHTML}catch(C){}I=null!==z}return!1!==B&&(se[B]=I),I},_iframe=function(C){var E=this.find("iframe");if(E.length){var I=C?"auto":"none";E.css("pointer-events",I)}},_disableMousewheel=function(C,I){var z=I.nodeName.toLowerCase(),q=C.data(B).opt.mouseWheel.disableOver,Q=["select","textarea"];return E.inArray(z,q)>-1&&!(E.inArray(z,Q)>-1&&!E(I).is(":focus"))},_draggerRail=function(){var C,I=E(this),z=I.data(B),q=B+"_"+z.idx,Q=E("#mCSB_"+z.idx+"_container"),ee=Q.parent();E(".mCSB_"+z.idx+"_scrollbar ."+re[12]).bind("mousedown."+q+" touchstart."+q+" pointerdown."+q+" MSPointerDown."+q,(function(I){ie=!0,E(I.target).hasClass("mCSB_dragger")||(C=1)})).bind("touchend."+q+" pointerup."+q+" MSPointerUp."+q,(function(C){ie=!1})).bind("click."+q,(function(B){if(C&&(C=0,E(B.target).hasClass(re[12])||E(B.target).hasClass("mCSB_draggerRail"))){_stop(I);var q=E(this),te=q.find(".mCSB_dragger");if(q.parent(".mCSB_scrollTools_horizontal").length>0){if(!z.overflowed[1])return;var ie="x",ne=B.pageX>te.offset().left?-1:1,se=Math.abs(Q[0].offsetLeft)-ne*(.9*ee.width())}else{if(!z.overflowed[0])return;ie="y",ne=B.pageY>te.offset().top?-1:1,se=Math.abs(Q[0].offsetTop)-ne*(.9*ee.height())}_scrollTo(I,se.toString(),{dir:ie,scrollEasing:"mcsEaseInOut"})}}))},_focus=function(){var C=E(this),I=C.data(B),z=I.opt,q=B+"_"+I.idx,Q=E("#mCSB_"+I.idx+"_container"),ee=Q.parent();Q.bind("focusin."+q,(function(I){var B=E(document.activeElement),q=Q.find(".mCustomScrollBox").length,te=0;B.is(z.advanced.autoScrollOnFocus)&&(_stop(C),clearTimeout(C[0]._focusTimeout),C[0]._focusTimer=q?(te+17)*q:0,C[0]._focusTimeout=setTimeout((function(){var E=[_childPos(B)[0],_childPos(B)[1]],I=[Q[0].offsetTop,Q[0].offsetLeft],q=[I[0]+E[0]>=0&&I[0]+E[0]<ee.height()-B.outerHeight(!1),I[1]+E[1]>=0&&I[0]+E[1]<ee.width()-B.outerWidth(!1)],ie="yx"!==z.axis||q[0]||q[1]?"all":"none";"x"===z.axis||q[0]||_scrollTo(C,E[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:ie,dur:te}),"y"===z.axis||q[1]||_scrollTo(C,E[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:ie,dur:te})}),C[0]._focusTimer))}))},_wrapperScroll=function(){var C=E(this).data(B),I=B+"_"+C.idx,z=E("#mCSB_"+C.idx+"_container").parent();z.bind("scroll."+I,(function(I){0===z.scrollTop()&&0===z.scrollLeft()||E(".mCSB_"+C.idx+"_scrollbar").css("visibility","hidden")}))},_buttons=function(){var C=E(this),I=C.data(B),z=I.opt,q=I.sequential,Q=B+"_"+I.idx,ee=".mCSB_"+I.idx+"_scrollbar";E(ee+">a").bind("contextmenu."+Q,(function(C){C.preventDefault()})).bind("mousedown."+Q+" touchstart."+Q+" pointerdown."+Q+" MSPointerDown."+Q+" mouseup."+Q+" touchend."+Q+" pointerup."+Q+" MSPointerUp."+Q+" mouseout."+Q+" pointerout."+Q+" MSPointerOut."+Q+" click."+Q,(function(B){if(B.preventDefault(),_mouseBtnLeft(B)){var Q=E(this).attr("class");switch(q.type=z.scrollButtons.scrollType,B.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===q.type)return;ie=!0,I.tweenRunning=!1,_seq("on",Q);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===q.type)return;ie=!1,q.dir&&_seq("off",Q);break;case"click":if("stepped"!==q.type||I.tweenRunning)return;_seq("on",Q)}}function _seq(E,I){q.scrollAmount=z.scrollButtons.scrollAmount,_sequentialScroll(C,E,I)}}))},_keyboard=function(){var C=E(this),I=C.data(B),z=I.opt,q=I.sequential,Q=B+"_"+I.idx,ee=E("#mCSB_"+I.idx),te=E("#mCSB_"+I.idx+"_container"),ie=te.parent(),re="input,textarea,select,datalist,keygen,[contenteditable='true']",ne=te.find("iframe"),se=["blur."+Q+" keydown."+Q+" keyup."+Q];function _onKeyboard(B){switch(B.type){case"blur":I.tweenRunning&&q.dir&&_seq("off",null);break;case"keydown":case"keyup":var Q=B.keyCode?B.keyCode:B.which,ee="on";if("x"!==z.axis&&(38===Q||40===Q)||"y"!==z.axis&&(37===Q||39===Q)){if((38===Q||40===Q)&&!I.overflowed[0]||(37===Q||39===Q)&&!I.overflowed[1])return;"keyup"===B.type&&(ee="off"),E(document.activeElement).is(re)||(B.preventDefault(),B.stopImmediatePropagation(),_seq(ee,Q))}else if(33===Q||34===Q){if((I.overflowed[0]||I.overflowed[1])&&(B.preventDefault(),B.stopImmediatePropagation()),"keyup"===B.type){_stop(C);var ne=34===Q?-1:1;if("x"===z.axis||"yx"===z.axis&&I.overflowed[1]&&!I.overflowed[0])var se="x",oe=Math.abs(te[0].offsetLeft)-ne*(.9*ie.width());else se="y",oe=Math.abs(te[0].offsetTop)-ne*(.9*ie.height());_scrollTo(C,oe.toString(),{dir:se,scrollEasing:"mcsEaseInOut"})}}else 35!==Q&&36!==Q||E(document.activeElement).is(re)||((I.overflowed[0]||I.overflowed[1])&&(B.preventDefault(),B.stopImmediatePropagation()),"keyup"!==B.type)||("x"===z.axis||"yx"===z.axis&&I.overflowed[1]&&!I.overflowed[0]?(se="x",oe=35===Q?Math.abs(ie.width()-te.outerWidth(!1)):0):(se="y",oe=35===Q?Math.abs(ie.height()-te.outerHeight(!1)):0),_scrollTo(C,oe.toString(),{dir:se,scrollEasing:"mcsEaseInOut"}))}function _seq(E,B){q.type=z.keyboard.scrollType,q.scrollAmount=z.keyboard.scrollAmount,"stepped"===q.type&&I.tweenRunning||_sequentialScroll(C,E,B)}}ne.length&&ne.each((function(){E(this).bind("load",(function(){_canAccessIFrame(this)&&E(this.contentDocument||this.contentWindow.document).bind(se[0],(function(C){_onKeyboard(C)}))}))})),ee.attr("tabindex","0").bind(se[0],(function(C){_onKeyboard(C)}))},_sequentialScroll=function(C,I,z,q,Q){var ee=C.data(B),te=ee.opt,ie=ee.sequential,ne=E("#mCSB_"+ee.idx+"_container"),se="stepped"===ie.type,oe=te.scrollInertia<26?26:te.scrollInertia,ae=te.scrollInertia<1?17:te.scrollInertia;switch(I){case"on":if(ie.dir=[z===re[16]||z===re[15]||39===z||37===z?"x":"y",z===re[13]||z===re[15]||38===z||37===z?-1:1],_stop(C),_isNumeric(z)&&"stepped"===ie.type)return;_on(se);break;case"off":_off(),(se||ee.tweenRunning&&ie.dir)&&_on(!0)}function _on(E){te.snapAmount&&(ie.scrollAmount=te.snapAmount instanceof Array?"x"===ie.dir[0]?te.snapAmount[1]:te.snapAmount[0]:te.snapAmount);var I="stepped"!==ie.type,B=Q||(E?I?oe/1.5:ae:1e3/60),z=E?I?7.5:40:2.5,re=[Math.abs(ne[0].offsetTop),Math.abs(ne[0].offsetLeft)],se=[ee.scrollRatio.y>10?10:ee.scrollRatio.y,ee.scrollRatio.x>10?10:ee.scrollRatio.x],le="x"===ie.dir[0]?re[1]+ie.dir[1]*(se[1]*z):re[0]+ie.dir[1]*(se[0]*z),ue="x"===ie.dir[0]?re[1]+ie.dir[1]*parseInt(ie.scrollAmount):re[0]+ie.dir[1]*parseInt(ie.scrollAmount),de="auto"!==ie.scrollAmount?ue:le,ce=q||(E?I?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),he=!!E;E&&B<17&&(de="x"===ie.dir[0]?re[1]:re[0]),_scrollTo(C,de.toString(),{dir:ie.dir[0],scrollEasing:ce,dur:B,onComplete:he}),E?ie.dir=!1:(clearTimeout(ie.step),ie.step=setTimeout((function(){_on()}),B))}function _off(){clearTimeout(ie.step),_delete(ie,"step"),_stop(C)}},_arr=function(C){var I=E(this).data(B).opt,z=[];return"function"==typeof C&&(C=C()),C instanceof Array?z=C.length>1?[C[0],C[1]]:"x"===I.axis?[null,C[0]]:[C[0],null]:(z[0]=C.y?C.y:C.x||"x"===I.axis?null:C,z[1]=C.x?C.x:C.y||"y"===I.axis?null:C),"function"==typeof z[0]&&(z[0]=z[0]()),"function"==typeof z[1]&&(z[1]=z[1]()),z},_to=function(C,I){if(null!=C&&void 0!==C){var z=E(this),q=z.data(B),Q=q.opt,ee=E("#mCSB_"+q.idx+"_container"),te=ee.parent(),ie=typeof C;I||(I="x"===Q.axis?"x":"y");var re="x"===I?ee.outerWidth(!1)-te.width():ee.outerHeight(!1)-te.height(),se="x"===I?ee[0].offsetLeft:ee[0].offsetTop,oe="x"===I?"left":"top";switch(ie){case"function":return C();case"object":if(!(le=C.jquery?C:E(C)).length)return;return"x"===I?_childPos(le)[1]:_childPos(le)[0];case"string":case"number":if(_isNumeric(C))return Math.abs(C);if(-1!==C.indexOf("%"))return Math.abs(re*parseInt(C)/100);if(-1!==C.indexOf("-="))return Math.abs(se-parseInt(C.split("-=")[1]));if(-1!==C.indexOf("+=")){var ae=se+parseInt(C.split("+=")[1]);return ae>=0?0:Math.abs(ae)}if(-1!==C.indexOf("px")&&_isNumeric(C.split("px")[0]))return Math.abs(C.split("px")[0]);if("top"===C||"left"===C)return 0;if("bottom"===C)return Math.abs(te.height()-ee.outerHeight(!1));if("right"===C)return Math.abs(te.width()-ee.outerWidth(!1));if("first"===C||"last"===C){var le=ee.find(":"+C);return"x"===I?_childPos(le)[1]:_childPos(le)[0]}return E(C).length?"x"===I?_childPos(E(C))[1]:_childPos(E(C))[0]:(ee.css(oe,C),void ne.update.call(null,z[0]))}}},_autoUpdate=function(C){var I=E(this),z=I.data(B),q=z.opt,Q=E("#mCSB_"+z.idx+"_container");if(C)return clearTimeout(Q[0].autoUpdate),void _delete(Q[0],"autoUpdate");function upd(){clearTimeout(Q[0].autoUpdate),0!==I.parents("html").length?Q[0].autoUpdate=setTimeout((function(){return q.advanced.updateOnSelectorChange&&(z.poll.change.n=sizesSum(),z.poll.change.n!==z.poll.change.o)?(z.poll.change.o=z.poll.change.n,void doUpd(3)):q.advanced.updateOnContentResize&&(z.poll.size.n=I[0].scrollHeight+I[0].scrollWidth+Q[0].offsetHeight+I[0].offsetHeight+I[0].offsetWidth,z.poll.size.n!==z.poll.size.o)?(z.poll.size.o=z.poll.size.n,void doUpd(1)):!q.advanced.updateOnImageLoad||"auto"===q.advanced.updateOnImageLoad&&"y"===q.axis||(z.poll.img.n=Q.find("img").length,z.poll.img.n===z.poll.img.o)?void((q.advanced.updateOnSelectorChange||q.advanced.updateOnContentResize||q.advanced.updateOnImageLoad)&&upd()):(z.poll.img.o=z.poll.img.n,void Q.find("img").each((function(){imgLoader(this)})))}),q.advanced.autoUpdateTimeout):I=null}function imgLoader(C){if(E(C).hasClass(re[2]))doUpd();else{var I=new Image;I.onload=createDelegate(I,imgOnLoad),I.src=C.src}function createDelegate(C,E){return function(){return E.apply(C,arguments)}}function imgOnLoad(){this.onload=null,E(C).addClass(re[2]),doUpd(2)}}function sizesSum(){!0===q.advanced.updateOnSelectorChange&&(q.advanced.updateOnSelectorChange="*");var C=0,E=Q.find(q.advanced.updateOnSelectorChange);return q.advanced.updateOnSelectorChange&&E.length>0&&E.each((function(){C+=this.offsetHeight+this.offsetWidth})),C}function doUpd(C){clearTimeout(Q[0].autoUpdate),ne.update.call(null,I[0],C)}upd()},_snapAmount=function(C,E,I){return Math.round(C/E)*E-I},_stop=function(C){var I=C.data(B);E("#mCSB_"+I.idx+"_container,#mCSB_"+I.idx+"_container_wrapper,#mCSB_"+I.idx+"_dragger_vertical,#mCSB_"+I.idx+"_dragger_horizontal").each((function(){_stopTween.call(this)}))},_scrollTo=function(C,I,z){var q=C.data(B),Q=q.opt,ee={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:Q.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},te=[(z=E.extend(ee,z)).dur,z.drag?0:z.dur],ie=E("#mCSB_"+q.idx),re=E("#mCSB_"+q.idx+"_container"),ne=re.parent(),se=Q.callbacks.onTotalScrollOffset?_arr.call(C,Q.callbacks.onTotalScrollOffset):[0,0],oe=Q.callbacks.onTotalScrollBackOffset?_arr.call(C,Q.callbacks.onTotalScrollBackOffset):[0,0];if(q.trigger=z.trigger,0===ne.scrollTop()&&0===ne.scrollLeft()||(E(".mCSB_"+q.idx+"_scrollbar").css("visibility","visible"),ne.scrollTop(0).scrollLeft(0)),"_resetY"!==I||q.contentReset.y||(_cb("onOverflowYNone")&&Q.callbacks.onOverflowYNone.call(C[0]),q.contentReset.y=1),"_resetX"!==I||q.contentReset.x||(_cb("onOverflowXNone")&&Q.callbacks.onOverflowXNone.call(C[0]),q.contentReset.x=1),"_resetY"!==I&&"_resetX"!==I){if(!q.contentReset.y&&C[0].mcs||!q.overflowed[0]||(_cb("onOverflowY")&&Q.callbacks.onOverflowY.call(C[0]),q.contentReset.x=null),!q.contentReset.x&&C[0].mcs||!q.overflowed[1]||(_cb("onOverflowX")&&Q.callbacks.onOverflowX.call(C[0]),q.contentReset.x=null),Q.snapAmount){var ae=Q.snapAmount instanceof Array?"x"===z.dir?Q.snapAmount[1]:Q.snapAmount[0]:Q.snapAmount;I=_snapAmount(I,ae,Q.snapOffset)}switch(z.dir){case"x":var le=E("#mCSB_"+q.idx+"_dragger_horizontal"),ue="left",de=re[0].offsetLeft,ce=[ie.width()-re.outerWidth(!1),le.parent().width()-le.width()],he=[I,0===I?0:I/q.scrollRatio.x],fe=se[1],pe=oe[1],me=fe>0?fe/q.scrollRatio.x:0,ge=pe>0?pe/q.scrollRatio.x:0;break;case"y":le=E("#mCSB_"+q.idx+"_dragger_vertical"),ue="top",de=re[0].offsetTop,ce=[ie.height()-re.outerHeight(!1),le.parent().height()-le.height()],he=[I,0===I?0:I/q.scrollRatio.y],fe=se[0],pe=oe[0],me=fe>0?fe/q.scrollRatio.y:0,ge=pe>0?pe/q.scrollRatio.y:0}he[1]<0||0===he[0]&&0===he[1]?he=[0,0]:he[1]>=ce[1]?he=[ce[0],ce[1]]:he[0]=-he[0],C[0].mcs||(_mcs(),_cb("onInit")&&Q.callbacks.onInit.call(C[0])),clearTimeout(re[0].onCompleteTimeout),_tweenTo(le[0],ue,Math.round(he[1]),te[1],z.scrollEasing),!q.tweenRunning&&(0===de&&he[0]>=0||de===ce[0]&&he[0]<=ce[0])||_tweenTo(re[0],ue,Math.round(he[0]),te[0],z.scrollEasing,z.overwrite,{onStart:function(){z.callbacks&&z.onStart&&!q.tweenRunning&&(_cb("onScrollStart")&&(_mcs(),Q.callbacks.onScrollStart.call(C[0])),q.tweenRunning=!0,_onDragClasses(le),q.cbOffsets=_cbOffsets())},onUpdate:function(){z.callbacks&&z.onUpdate&&_cb("whileScrolling")&&(_mcs(),Q.callbacks.whileScrolling.call(C[0]))},onComplete:function(){if(z.callbacks&&z.onComplete){"yx"===Q.axis&&clearTimeout(re[0].onCompleteTimeout);var E=re[0].idleTimer||0;re[0].onCompleteTimeout=setTimeout((function(){_cb("onScroll")&&(_mcs(),Q.callbacks.onScroll.call(C[0])),_cb("onTotalScroll")&&he[1]>=ce[1]-me&&q.cbOffsets[0]&&(_mcs(),Q.callbacks.onTotalScroll.call(C[0])),_cb("onTotalScrollBack")&&he[1]<=ge&&q.cbOffsets[1]&&(_mcs(),Q.callbacks.onTotalScrollBack.call(C[0])),q.tweenRunning=!1,re[0].idleTimer=0,_onDragClasses(le,"hide")}),E)}}})}function _cb(C){return q&&Q.callbacks[C]&&"function"==typeof Q.callbacks[C]}function _cbOffsets(){return[Q.callbacks.alwaysTriggerOffsets||de>=ce[0]+fe,Q.callbacks.alwaysTriggerOffsets||de<=-pe]}function _mcs(){var E=[re[0].offsetTop,re[0].offsetLeft],I=[le[0].offsetTop,le[0].offsetLeft],B=[re.outerHeight(!1),re.outerWidth(!1)],q=[ie.height(),ie.width()];C[0].mcs={content:re,top:E[0],left:E[1],draggerTop:I[0],draggerLeft:I[1],topPct:Math.round(100*Math.abs(E[0])/(Math.abs(B[0])-q[0])),leftPct:Math.round(100*Math.abs(E[1])/(Math.abs(B[1])-q[1])),direction:z.dir}}},_tweenTo=function(C,E,I,B,z,q,Q){C._mTween||(C._mTween={top:{},left:{}});var ee,te,ie=(Q=Q||{}).onStart||function(){},re=Q.onUpdate||function(){},ne=Q.onComplete||function(){},se=_getTime(),oe=0,ae=C.offsetTop,le=C.style,ue=C._mTween[E];"left"===E&&(ae=C.offsetLeft);var de=I-ae;function _step(){ue.stop||(oe||ie.call(),oe=_getTime()-se,_tween(),oe>=ue.time&&(ue.time=oe>ue.time?oe+ee-(oe-ue.time):oe+ee-1,ue.time<oe+1&&(ue.time=oe+1)),ue.time<B?ue.id=te(_step):ne.call())}function _tween(){B>0?(ue.currVal=_ease(ue.time,ae,de,B,z),le[E]=Math.round(ue.currVal)+"px"):le[E]=I+"px",re.call()}function _startTween(){ee=1e3/60,ue.time=oe+ee,te=window.requestAnimationFrame?window.requestAnimationFrame:function(C){return _tween(),setTimeout(C,.01)},ue.id=te(_step)}function _cancelTween(){null!=ue.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(ue.id):clearTimeout(ue.id),ue.id=null)}function _ease(C,E,I,B,z){switch(z){case"linear":case"mcsLinear":return I*C/B+E;case"mcsLinearOut":return C/=B,C--,I*Math.sqrt(1-C*C)+E;case"easeInOutSmooth":return(C/=B/2)<1?I/2*C*C+E:-I/2*(--C*(C-2)-1)+E;case"easeInOutStrong":return(C/=B/2)<1?I/2*Math.pow(2,10*(C-1))+E:(C--,I/2*(2-Math.pow(2,-10*C))+E);case"easeInOut":case"mcsEaseInOut":return(C/=B/2)<1?I/2*C*C*C+E:I/2*((C-=2)*C*C+2)+E;case"easeOutSmooth":return C/=B,-I*(--C*C*C*C-1)+E;case"easeOutStrong":return I*(1-Math.pow(2,-10*C/B))+E;default:var q=(C/=B)*C,Q=q*C;return E+I*(.499999999999997*Q*q+-2.5*q*q+5.5*Q+-6.5*q+4*C)}}ue.stop=0,"none"!==q&&_cancelTween(),_startTween()},_getTime=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},_stopTween=function(){var C=this;C._mTween||(C._mTween={top:{},left:{}});for(var E=["top","left"],I=0;I<E.length;I++){var B=E[I];C._mTween[B].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(C._mTween[B].id):clearTimeout(C._mTween[B].id),C._mTween[B].id=null,C._mTween[B].stop=1)}},_delete=function(C,E){try{delete C[E]}catch(I){C[E]=null}},_mouseBtnLeft=function(C){return!(C.which&&1!==C.which)},_pointerTouch=function(C){var E=C.originalEvent.pointerType;return!(E&&"touch"!==E&&2!==E)},_isNumeric=function(C){return!isNaN(parseFloat(C))&&isFinite(C)},_childPos=function(C){var E=C.parents(".mCSB_container");return[C.offset().top-E.offset().top,C.offset().left-E.offset().left]},_isTabHidden=function(){var C=_getHiddenProp();return!!C&&document[C];function _getHiddenProp(){var C=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var E=0;E<C.length;E++)if(C[E]+"Hidden"in document)return C[E]+"Hidden";return null}};E.fn[I]=function(C){return ne[C]?ne[C].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof C&&C?void E.error("Method "+C+" does not exist"):ne.init.apply(this,arguments)},E[I]=function(C){return ne[C]?ne[C].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof C&&C?void E.error("Method "+C+" does not exist"):ne.init.apply(this,arguments)},E[I].defaults=q,window[I]=!0,E(window).bind("load",(function(){E(z)[I](),E.extend(E.expr[":"],{mcsInView:E.expr[":"].mcsInView||function(C){var I,B,z=E(C),q=z.parents(".mCSB_container");if(q.length)return I=q.parent(),(B=[q[0].offsetTop,q[0].offsetLeft])[0]+_childPos(z)[0]>=0&&B[0]+_childPos(z)[0]<I.height()-z.outerHeight(!1)&&B[1]+_childPos(z)[1]>=0&&B[1]+_childPos(z)[1]<I.width()-z.outerWidth(!1)},mcsInSight:E.expr[":"].mcsInSight||function(C,I,B){var z,q,Q,ee,te=E(C),ie=te.parents(".mCSB_container"),re="exact"===B[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(ie.length)return z=[te.outerHeight(!1),te.outerWidth(!1)],Q=[ie[0].offsetTop+_childPos(te)[0],ie[0].offsetLeft+_childPos(te)[1]],q=[ie.parent()[0].offsetHeight,ie.parent()[0].offsetWidth],ee=[z[0]<q[0]?re[0]:re[1],z[1]<q[1]?re[0]:re[1]],Q[0]-q[0]*ee[0][0]<0&&Q[0]+z[0]-q[0]*ee[0][1]>=0&&Q[1]-q[1]*ee[1][0]<0&&Q[1]+z[1]-q[1]*ee[1][1]>=0},mcsOverflow:E.expr[":"].mcsOverflow||function(C){var I=E(C).data(B);if(I)return I.overflowed[0]||I.overflowed[1]}})}))},z=I.amdO,q=C.exports,Q="https:"==document.location.protocol?"https:":"http:",ee="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js",z||(q?I(4410)(E):E.event.special.mousewheel||E("head").append(decodeURI("%3Cscript src="+Q+"//"+ee+"%3E%3C/script%3E"))),B()})?B.apply(E,z):B)||(C.exports=q)},4199:function(C,E,I){var B,z,q;z=[],B=function moduleFactory(){"use strict";var C="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==C?C:{};function getWorkerBlob(){var E=C.URL||C.webkitURL||null,I=moduleFactory.toString();return Q.BLOB_URL||(Q.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))}var E=!C.document&&!!C.postMessage,B=C.IS_PAPA_WORKER||!1,z={},q=0,Q={};if(Q.parse=CsvToJson,Q.unparse=JsonToCsv,Q.RECORD_SEP=String.fromCharCode(30),Q.UNIT_SEP=String.fromCharCode(31),Q.BYTE_ORDER_MARK="\ufeff",Q.BAD_DELIMITERS=["\r","\n",'"',Q.BYTE_ORDER_MARK],Q.WORKERS_SUPPORTED=!E&&!!C.Worker,Q.NODE_STREAM_INPUT=1,Q.LocalChunkSize=10485760,Q.RemoteChunkSize=5242880,Q.DefaultDelimiter=",",Q.Parser=Parser,Q.ParserHandle=ParserHandle,Q.NetworkStreamer=NetworkStreamer,Q.FileStreamer=FileStreamer,Q.StringStreamer=StringStreamer,Q.ReadableStreamStreamer=ReadableStreamStreamer,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(Q.DuplexStreamStreamer=DuplexStreamStreamer),C.jQuery){var ee=C.jQuery;ee.fn.parse=function(E){var I=E.config||{},B=[];return this.each((function(E){if("INPUT"!==ee(this).prop("tagName").toUpperCase()||"file"!==ee(this).attr("type").toLowerCase()||!C.FileReader||!this.files||0===this.files.length)return!0;for(var z=0;z<this.files.length;z++)B.push({file:this.files[z],inputElem:this,instanceConfig:ee.extend({},I)})})),parseNextFile(),this;function parseNextFile(){if(0!==B.length){var C=B[0];if(isFunction(E.before)){var I=E.before(C.file,C.inputElem);if("object"==typeof I){if("abort"===I.action)return void error("AbortError",C.file,C.inputElem,I.reason);if("skip"===I.action)return void fileComplete();"object"==typeof I.config&&(C.instanceConfig=ee.extend(C.instanceConfig,I.config))}else if("skip"===I)return void fileComplete()}var z=C.instanceConfig.complete;C.instanceConfig.complete=function(E){isFunction(z)&&z(E,C.file,C.inputElem),fileComplete()},Q.parse(C.file,C.instanceConfig)}else isFunction(E.complete)&&E.complete()}function error(C,I,B,z){isFunction(E.error)&&E.error({name:C},I,B,z)}function fileComplete(){B.splice(0,1),parseNextFile()}}}function CsvToJson(E,I){var B=(I=I||{}).dynamicTyping||!1;if(isFunction(B)&&(I.dynamicTypingFunction=B,B={}),I.dynamicTyping=B,I.transform=!!isFunction(I.transform)&&I.transform,I.worker&&Q.WORKERS_SUPPORTED){var z=newWorker();return z.userStep=I.step,z.userChunk=I.chunk,z.userComplete=I.complete,z.userError=I.error,I.step=isFunction(I.step),I.chunk=isFunction(I.chunk),I.complete=isFunction(I.complete),I.error=isFunction(I.error),delete I.worker,void z.postMessage({input:E,config:I,workerId:z.id})}var q=null;return E===Q.NODE_STREAM_INPUT&&"undefined"==typeof PAPA_BROWSER_CONTEXT?(q=new DuplexStreamStreamer(I)).getStream():("string"==typeof E?(E=stripBom(E),q=I.download?new NetworkStreamer(I):new StringStreamer(I)):!0===E.readable&&isFunction(E.read)&&isFunction(E.on)?q=new ReadableStreamStreamer(I):(C.File&&E instanceof File||E instanceof Object)&&(q=new FileStreamer(I)),q.stream(E));function stripBom(C){return 65279===C.charCodeAt(0)?C.slice(1):C}}function JsonToCsv(C,E){var I=!1,B=!0,z=",",q="\r\n",ee='"',te=ee+ee,ie=!1,re=null,ne=!1;unpackConfig();var se=new RegExp(escapeRegExp(ee),"g");if("string"==typeof C&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return serialize(null,C,ie);if("object"==typeof C[0])return serialize(re||Object.keys(C[0]),C,ie)}else if("object"==typeof C)return"string"==typeof C.data&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||re),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:"object"==typeof C.data[0]?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||"object"==typeof C.data[0]||(C.data=[C.data])),serialize(C.fields||[],C.data||[],ie);throw new Error("Unable to serialize unrecognized input");function unpackConfig(){if("object"==typeof E){if("string"!=typeof E.delimiter||Q.BAD_DELIMITERS.filter((function(C){return-1!==E.delimiter.indexOf(C)})).length||(z=E.delimiter),("boolean"==typeof E.quotes||"function"==typeof E.quotes||Array.isArray(E.quotes))&&(I=E.quotes),"boolean"!=typeof E.skipEmptyLines&&"string"!=typeof E.skipEmptyLines||(ie=E.skipEmptyLines),"string"==typeof E.newline&&(q=E.newline),"string"==typeof E.quoteChar&&(ee=E.quoteChar),"boolean"==typeof E.header&&(B=E.header),Array.isArray(E.columns)){if(0===E.columns.length)throw new Error("Option columns is empty");re=E.columns}void 0!==E.escapeChar&&(te=E.escapeChar+ee),("boolean"==typeof E.escapeFormulae||E.escapeFormulae instanceof RegExp)&&(ne=E.escapeFormulae instanceof RegExp?E.escapeFormulae:/^[=+\-@\t\r].*$/)}}function serialize(C,E,I){var Q="";"string"==typeof C&&(C=JSON.parse(C)),"string"==typeof E&&(E=JSON.parse(E));var ee=Array.isArray(C)&&C.length>0,te=!Array.isArray(E[0]);if(ee&&B){for(var ie=0;ie<C.length;ie++)ie>0&&(Q+=z),Q+=safe(C[ie],ie);E.length>0&&(Q+=q)}for(var re=0;re<E.length;re++){var ne=ee?C.length:E[re].length,se=!1,oe=ee?0===Object.keys(E[re]).length:0===E[re].length;if(I&&!ee&&(se="greedy"===I?""===E[re].join("").trim():1===E[re].length&&0===E[re][0].length),"greedy"===I&&ee){for(var ae=[],le=0;le<ne;le++){var ue=te?C[le]:le;ae.push(E[re][ue])}se=""===ae.join("").trim()}if(!se){for(var de=0;de<ne;de++){de>0&&!oe&&(Q+=z);var ce=ee&&te?C[de]:de;Q+=safe(E[re][ce],de)}re<E.length-1&&(!I||ne>0&&!oe)&&(Q+=q)}}return Q}function safe(C,E){if(null==C)return"";if(C.constructor===Date)return JSON.stringify(C).slice(1,25);var B=!1;ne&&"string"==typeof C&&ne.test(C)&&(C="'"+C,B=!0);var q=C.toString().replace(se,te);return(B=B||!0===I||"function"==typeof I&&I(C,E)||Array.isArray(I)&&I[E]||hasAny(q,Q.BAD_DELIMITERS)||q.indexOf(z)>-1||" "===q.charAt(0)||" "===q.charAt(q.length-1))?ee+q+ee:q}function hasAny(C,E){for(var I=0;I<E.length;I++)if(C.indexOf(E[I])>-1)return!0;return!1}}function ChunkStreamer(E){function replaceConfig(C){var E=copy(C);E.chunkSize=parseInt(E.chunkSize),C.step||C.chunk||(E.chunkSize=null),this._handle=new ParserHandle(E),this._handle.streamer=this,this._config=E}this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},replaceConfig.call(this,E),this.parseChunk=function(E,I){if(this.isFirstChunk&&isFunction(this._config.beforeFirstChunk)){var z=this._config.beforeFirstChunk(E);void 0!==z&&(E=z)}this.isFirstChunk=!1,this._halted=!1;var q=this._partialLine+E;this._partialLine="";var ee=this._handle.parse(q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var te=ee.meta.cursor;this._finished||(this._partialLine=q.substring(te-this._baseIndex),this._baseIndex=te),ee&&ee.data&&(this._rowCount+=ee.data.length);var ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(B)C.postMessage({results:ee,workerId:Q.WORKER_ID,finished:ie});else if(isFunction(this._config.chunk)&&!I){if(this._config.chunk(ee,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ee=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ee.data),this._completeResults.errors=this._completeResults.errors.concat(ee.errors),this._completeResults.meta=ee.meta),this._completed||!ie||!isFunction(this._config.complete)||ee&&ee.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ie||ee&&ee.meta.paused||this._nextChunk(),ee}this._halted=!0},this._sendError=function(E){isFunction(this._config.error)?this._config.error(E):B&&this._config.error&&C.postMessage({workerId:Q.WORKER_ID,error:E,finished:!1})}}function NetworkStreamer(C){var I;function getFileSize(C){var E=C.getResponseHeader("Content-Range");return null===E?-1:parseInt(E.substring(E.lastIndexOf("/")+1))}(C=C||{}).chunkSize||(C.chunkSize=Q.RemoteChunkSize),ChunkStreamer.call(this,C),this._nextChunk=E?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(C){this._input=C,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(I=new XMLHttpRequest,this._config.withCredentials&&(I.withCredentials=this._config.withCredentials),E||(I.onload=bindFunction(this._chunkLoaded,this),I.onerror=bindFunction(this._chunkError,this)),I.open(this._config.downloadRequestBody?"POST":"GET",this._input,!E),this._config.downloadRequestHeaders){var C=this._config.downloadRequestHeaders;for(var B in C)I.setRequestHeader(B,C[B])}if(this._config.chunkSize){var z=this._start+this._config.chunkSize-1;I.setRequestHeader("Range","bytes="+this._start+"-"+z)}try{I.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}E&&0===I.status&&this._chunkError()}},this._chunkLoaded=function(){4===I.readyState&&(I.status<200||I.status>=400?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:I.responseText.length,this._finished=!this._config.chunkSize||this._start>=getFileSize(I),this.parseChunk(I.responseText)))},this._chunkError=function(C){var E=I.statusText||C;this._sendError(new Error(E))}}function FileStreamer(C){var E,I;(C=C||{}).chunkSize||(C.chunkSize=Q.LocalChunkSize),ChunkStreamer.call(this,C);var B="undefined"!=typeof FileReader;this.stream=function(C){this._input=C,I=C.slice||C.webkitSlice||C.mozSlice,B?((E=new FileReader).onload=bindFunction(this._chunkLoaded,this),E.onerror=bindFunction(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input;if(this._config.chunkSize){var z=Math.min(this._start+this._config.chunkSize,this._input.size);C=I.call(C,this._start,z)}var q=E.readAsText(C,this._config.encoding);B||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(E.error)}}function StringStreamer(C){var E;C=C||{},ChunkStreamer.call(this,C),this.stream=function(C){return E=C,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var C,I=this._config.chunkSize;return I?(C=E.substring(0,I),E=E.substring(I)):(C=E,E=""),this._finished=!E,this.parseChunk(C)}}}function ReadableStreamStreamer(C){C=C||{},ChunkStreamer.call(this,C);var E=[],I=!0,B=!1;this.pause=function(){ChunkStreamer.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){ChunkStreamer.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&1===E.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):I=!0},this._streamData=bindFunction((function(C){try{E.push("string"==typeof C?C:C.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(C){this._streamError(C)}}),this),this._streamError=bindFunction((function(C){this._streamCleanUp(),this._sendError(C)}),this),this._streamEnd=bindFunction((function(){this._streamCleanUp(),B=!0,this._streamData("")}),this),this._streamCleanUp=bindFunction((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function DuplexStreamStreamer(C){var E=I(6266).Duplex,B=copy(C),z=!0,q=!1,Q=[],ee=null;this._onCsvData=function(C){var E=C.data;ee.push(E)||this._handle.paused()||this._handle.pause()},this._onCsvComplete=function(){ee.push(null)},B.step=bindFunction(this._onCsvData,this),B.complete=bindFunction(this._onCsvComplete,this),ChunkStreamer.call(this,B),this._nextChunk=function(){q&&1===Q.length&&(this._finished=!0),Q.length?Q.shift()():z=!0},this._addToParseQueue=function(C,E){Q.push(bindFunction((function(){if(this.parseChunk("string"==typeof C?C:C.toString(B.encoding)),isFunction(E))return E()}),this)),z&&(z=!1,this._nextChunk())},this._onRead=function(){this._handle.paused()&&this._handle.resume()},this._onWrite=function(C,E,I){this._addToParseQueue(C,I)},this._onWriteComplete=function(){q=!0,this._addToParseQueue("")},this.getStream=function(){return ee},(ee=new E({readableObjectMode:!0,decodeStrings:!1,read:bindFunction(this._onRead,this),write:bindFunction(this._onWrite,this)})).once("finish",bindFunction(this._onWriteComplete,this))}function ParserHandle(C){var E,I,B,z=Math.pow(2,53),q=-z,ee=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,te=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ie=this,re=0,ne=0,se=!1,oe=!1,ae=[],le={data:[],errors:[],meta:{}};if(isFunction(C.step)){var ue=C.step;C.step=function(E){if(le=E,needsHeaderRow())processResults();else{if(processResults(),0===le.data.length)return;re+=E.data.length,C.preview&&re>C.preview?I.abort():(le.data=le.data[0],ue(le,ie))}}}function testEmptyLine(E){return"greedy"===C.skipEmptyLines?""===E.join("").trim():1===E.length&&0===E[0].length}function testFloat(C){if(ee.test(C)){var E=parseFloat(C);if(E>q&&E<z)return!0}return!1}function processResults(){return le&&B&&(addError("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Q.DefaultDelimiter+"'"),B=!1),C.skipEmptyLines&&(le.data=le.data.filter((function(C){return!testEmptyLine(C)}))),needsHeaderRow()&&fillHeaderFields(),applyHeaderAndDynamicTypingAndTransformation()}function needsHeaderRow(){return C.header&&0===ae.length}function fillHeaderFields(){if(le)if(Array.isArray(le.data[0])){for(var E=0;needsHeaderRow()&&E<le.data.length;E++)le.data[E].forEach(addHeader);le.data.splice(0,1)}else le.data.forEach(addHeader);function addHeader(E,I){isFunction(C.transformHeader)&&(E=C.transformHeader(E,I)),ae.push(E)}}function shouldApplyDynamicTyping(E){return C.dynamicTypingFunction&&void 0===C.dynamicTyping[E]&&(C.dynamicTyping[E]=C.dynamicTypingFunction(E)),!0===(C.dynamicTyping[E]||C.dynamicTyping)}function parseDynamic(C,E){return shouldApplyDynamicTyping(C)?"true"===E||"TRUE"===E||"false"!==E&&"FALSE"!==E&&(testFloat(E)?parseFloat(E):te.test(E)?new Date(E):""===E?null:E):E}function applyHeaderAndDynamicTypingAndTransformation(){if(!le||!C.header&&!C.dynamicTyping&&!C.transform)return le;function processRow(E,I){var B,z=C.header?{}:[];for(B=0;B<E.length;B++){var q=B,Q=E[B];C.header&&(q=B>=ae.length?"__parsed_extra":ae[B]),C.transform&&(Q=C.transform(Q,q)),Q=parseDynamic(q,Q),"__parsed_extra"===q?(z[q]=z[q]||[],z[q].push(Q)):z[q]=Q}return C.header&&(B>ae.length?addError("FieldMismatch","TooManyFields","Too many fields: expected "+ae.length+" fields but parsed "+B,ne+I):B<ae.length&&addError("FieldMismatch","TooFewFields","Too few fields: expected "+ae.length+" fields but parsed "+B,ne+I)),z}var E=1;return!le.data.length||Array.isArray(le.data[0])?(le.data=le.data.map(processRow),E=le.data.length):le.data=processRow(le.data,0),C.header&&le.meta&&(le.meta.fields=ae),ne+=E,le}function guessDelimiter(E,I,B,z,q){var ee,te,ie,re;q=q||[",","\t","|",";",Q.RECORD_SEP,Q.UNIT_SEP];for(var ne=0;ne<q.length;ne++){var se=q[ne],oe=0,ae=0,le=0;ie=void 0;for(var ue=new Parser({comments:z,delimiter:se,newline:I,preview:10}).parse(E),de=0;de<ue.data.length;de++)if(B&&testEmptyLine(ue.data[de]))le++;else{var ce=ue.data[de].length;ae+=ce,void 0!==ie?ce>0&&(oe+=Math.abs(ce-ie),ie=ce):ie=ce}ue.data.length>0&&(ae/=ue.data.length-le),(void 0===te||oe<=te)&&(void 0===re||ae>re)&&ae>1.99&&(te=oe,ee=se,re=ae)}return C.delimiter=ee,{successful:!!ee,bestDelimiter:ee}}function guessLineEndings(C,E){C=C.substring(0,1048576);var I=new RegExp(escapeRegExp(E)+"([^]*?)"+escapeRegExp(E),"gm"),B=(C=C.replace(I,"")).split("\r"),z=C.split("\n"),q=z.length>1&&z[0].length<B[0].length;if(1===B.length||q)return"\n";for(var Q=0,ee=0;ee<B.length;ee++)"\n"===B[ee][0]&&Q++;return Q>=B.length/2?"\r\n":"\r"}function addError(C,E,I,B){var z={type:C,code:E,message:I};void 0!==B&&(z.row=B),le.errors.push(z)}this.parse=function(z,q,ee){var te=C.quoteChar||'"';if(C.newline||(C.newline=guessLineEndings(z,te)),B=!1,C.delimiter)isFunction(C.delimiter)&&(C.delimiter=C.delimiter(z),le.meta.delimiter=C.delimiter);else{var ie=guessDelimiter(z,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess);ie.successful?C.delimiter=ie.bestDelimiter:(B=!0,C.delimiter=Q.DefaultDelimiter),le.meta.delimiter=C.delimiter}var re=copy(C);return C.preview&&C.header&&re.preview++,E=z,I=new Parser(re),le=I.parse(E,q,ee),processResults(),se?{meta:{paused:!0}}:le||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,I.abort(),E=isFunction(C.chunk)?"":E.substring(I.getCharIndex())},this.resume=function(){ie.streamer._halted?(se=!1,ie.streamer.parseChunk(E,!0)):setTimeout(ie.resume,3)},this.aborted=function(){return oe},this.abort=function(){oe=!0,I.abort(),le.meta.aborted=!0,isFunction(C.complete)&&C.complete(le),E=""}}function escapeRegExp(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Parser(C){var E,I=(C=C||{}).delimiter,B=C.newline,z=C.comments,q=C.step,ee=C.preview,te=C.fastMode,ie=E=void 0===C.quoteChar||null===C.quoteChar?'"':C.quoteChar;if(void 0!==C.escapeChar&&(ie=C.escapeChar),("string"!=typeof I||Q.BAD_DELIMITERS.indexOf(I)>-1)&&(I=","),z===I)throw new Error("Comment character same as delimiter");!0===z?z="#":("string"!=typeof z||Q.BAD_DELIMITERS.indexOf(z)>-1)&&(z=!1),"\n"!==B&&"\r"!==B&&"\r\n"!==B&&(B="\n");var re=0,ne=!1;this.parse=function(Q,se,oe){if("string"!=typeof Q)throw new Error("Input must be a string");var ae=Q.length,le=I.length,ue=B.length,de=z.length,ce=isFunction(q);re=0;var he=[],fe=[],pe=[],me=0;if(!Q)return returnable();if(C.header&&!se){var ge=Q.split(B)[0].split(I),ve="_",ye=[],be={},Ce=!1;for(var we in ge){var _e=ge[we];isFunction(C.transformHeader)&&(_e=C.transformHeader(_e,we));var Se=_e,xe=be[_e]||0;for(xe>0&&(Ce=!0,Se=_e+ve+xe),be[_e]=xe+1;ye.includes(Se);)Se=Se+ve+xe;ye.push(Se)}if(Ce){var ke=Q.split(B);ke[0]=ye.join(I),Q=ke.join(B)}}if(te||!1!==te&&-1===Q.indexOf(E)){for(var Te=Q.split(B),Me=0;Me<Te.length;Me++){if(pe=Te[Me],re+=pe.length,Me!==Te.length-1)re+=B.length;else if(oe)return returnable();if(!z||pe.substring(0,de)!==z){if(ce){if(he=[],pushRow(pe.split(I)),doStep(),ne)return returnable()}else pushRow(pe.split(I));if(ee&&Me>=ee)return he=he.slice(0,ee),returnable(!0)}}return returnable()}for(var Re=Q.indexOf(I,re),Ee=Q.indexOf(B,re),Pe=new RegExp(escapeRegExp(ie)+escapeRegExp(E),"g"),Ie=Q.indexOf(E,re);;)if(Q[re]!==E)if(z&&0===pe.length&&Q.substring(re,re+de)===z){if(-1===Ee)return returnable();re=Ee+ue,Ee=Q.indexOf(B,re),Re=Q.indexOf(I,re)}else if(-1!==Re&&(Re<Ee||-1===Ee))pe.push(Q.substring(re,Re)),re=Re+le,Re=Q.indexOf(I,re);else{if(-1===Ee)break;if(pe.push(Q.substring(re,Ee)),saveRow(Ee+ue),ce&&(doStep(),ne))return returnable();if(ee&&he.length>=ee)return returnable(!0)}else for(Ie=re,re++;;){if(-1===(Ie=Q.indexOf(E,Ie+1)))return oe||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:he.length,index:re}),finish();if(Ie===ae-1)return finish(Q.substring(re,Ie).replace(Pe,E));if(E!==ie||Q[Ie+1]!==ie){if(E===ie||0===Ie||Q[Ie-1]!==ie){-1!==Re&&Re<Ie+1&&(Re=Q.indexOf(I,Ie+1)),-1!==Ee&&Ee<Ie+1&&(Ee=Q.indexOf(B,Ie+1));var Ae=extraSpaces(-1===Ee?Re:Math.min(Re,Ee));if(Q.substr(Ie+1+Ae,le)===I){pe.push(Q.substring(re,Ie).replace(Pe,E)),re=Ie+1+Ae+le,Q[Ie+1+Ae+le]!==E&&(Ie=Q.indexOf(E,re)),Re=Q.indexOf(I,re),Ee=Q.indexOf(B,re);break}var Ne=extraSpaces(Ee);if(Q.substring(Ie+1+Ne,Ie+1+Ne+ue)===B){if(pe.push(Q.substring(re,Ie).replace(Pe,E)),saveRow(Ie+1+Ne+ue),Re=Q.indexOf(I,re),Ie=Q.indexOf(E,re),ce&&(doStep(),ne))return returnable();if(ee&&he.length>=ee)return returnable(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:he.length,index:re}),Ie++}}else Ie++}return finish();function pushRow(C){he.push(C),me=re}function extraSpaces(C){var E=0;if(-1!==C){var I=Q.substring(Ie+1,C);I&&""===I.trim()&&(E=I.length)}return E}function finish(C){return oe||(void 0===C&&(C=Q.substring(re)),pe.push(C),re=ae,pushRow(pe),ce&&doStep()),returnable()}function saveRow(C){re=C,pushRow(pe),pe=[],Ee=Q.indexOf(B,re)}function returnable(C){return{data:he,errors:fe,meta:{delimiter:I,linebreak:B,aborted:ne,truncated:!!C,cursor:me+(se||0)}}}function doStep(){q(returnable()),he=[],fe=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return re}}function newWorker(){if(!Q.WORKERS_SUPPORTED)return!1;var E=getWorkerBlob(),I=new C.Worker(E);return I.onmessage=mainThreadReceivedMessage,I.id=q++,z[I.id]=I,I}function mainThreadReceivedMessage(C){var E=C.data,I=z[E.workerId],B=!1;if(E.error)I.userError(E.error,E.file);else if(E.results&&E.results.data){var q={abort:function(){B=!0,completeWorker(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:notImplemented,resume:notImplemented};if(isFunction(I.userStep)){for(var Q=0;Q<E.results.data.length&&(I.userStep({data:E.results.data[Q],errors:E.results.errors,meta:E.results.meta},q),!B);Q++);delete E.results}else isFunction(I.userChunk)&&(I.userChunk(E.results,q,E.file),delete E.results)}E.finished&&!B&&completeWorker(E.workerId,E.results)}function completeWorker(C,E){var I=z[C];isFunction(I.userComplete)&&I.userComplete(E),I.terminate(),delete z[C]}function notImplemented(){throw new Error("Not implemented.")}function workerThreadReceivedMessage(E){var I=E.data;if(void 0===Q.WORKER_ID&&I&&(Q.WORKER_ID=I.workerId),"string"==typeof I.input)C.postMessage({workerId:Q.WORKER_ID,results:Q.parse(I.input,I.config),finished:!0});else if(C.File&&I.input instanceof File||I.input instanceof Object){var B=Q.parse(I.input,I.config);B&&C.postMessage({workerId:Q.WORKER_ID,results:B,finished:!0})}}function copy(C){if("object"!=typeof C||null===C)return C;var E=Array.isArray(C)?[]:{};for(var I in C)E[I]=copy(C[I]);return E}function bindFunction(C,E){return function(){C.apply(E,arguments)}}function isFunction(C){return"function"==typeof C}return B&&(C.onmessage=workerThreadReceivedMessage),NetworkStreamer.prototype=Object.create(ChunkStreamer.prototype),NetworkStreamer.prototype.constructor=NetworkStreamer,FileStreamer.prototype=Object.create(ChunkStreamer.prototype),FileStreamer.prototype.constructor=FileStreamer,StringStreamer.prototype=Object.create(StringStreamer.prototype),StringStreamer.prototype.constructor=StringStreamer,ReadableStreamStreamer.prototype=Object.create(ChunkStreamer.prototype),ReadableStreamStreamer.prototype.constructor=ReadableStreamStreamer,"undefined"==typeof PAPA_BROWSER_CONTEXT&&(DuplexStreamStreamer.prototype=Object.create(ChunkStreamer.prototype),DuplexStreamStreamer.prototype.constructor=DuplexStreamStreamer),Q},void 0===(q="function"==typeof B?B.apply(E,z):B)||(C.exports=q)},6266:()=>{}},E={};function __webpack_require__(I){var B=E[I];if(void 0!==B)return B.exports;var z=E[I]={exports:{}};return C[I].call(z.exports,z,z.exports,__webpack_require__),z.exports}return __webpack_require__.amdO={},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(C){if("object"==typeof window)return window}}(),__webpack_require__(6312)})()));